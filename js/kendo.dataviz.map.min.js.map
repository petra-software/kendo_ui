{"version":3,"sources":["kendo.dataviz.map.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","isUnicodeLetter","ch","RX_UNICODE_LETTER","test","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","RegExp","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","Extent","abs","atan","atan2","cos","sin","tan","Location","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","toArray","equals","loc","clone","wrap","distanceTo","dest","datum","greatCircleTo","distance","destination","bearing","fromLat","fromLng","dToR","datums","WGS84","asin","L","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","prevLambda","converged","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","sinA","C","u2","A","B","deltao","azimuthFrom","azimuthTo","sqrt","fn","toString","format","fromLngLat","ll","fromLatLng","nw","se","contains","center","containsAny","locs","include","includeAll","edges","ne","sw","overlaps","extent","World","Widget","ui","Attribution","call","items","addClass","separator","itemTemplate","filter","zoom","_extent","_zoom","_render","add","item","remove","clear","empty","_itemText","show","hide","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","area","plugin","button","dir","keys","proxy","NS","BUTTONS","Navigator","on","parentElement","parent","closest","attr","_keyroot","_tabindex","_keydown","panStep","events","dispose","off","_pan","y","_click","currentTarget","is","preventDefault","which","UP","DOWN","RIGHT","LEFT","symbol","PLUS","MINUS","FF_PLUS","FF_MINUS","ZoomControl","zoomStep","_change","delta","NUMPAD_PLUS","NUMPAD_MINUS","exp","log","g","geometry","Point","limit","PI_DIV_2","PI_DIV_4","Mercator","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","centralMeridian","forward","clamp","proj","lng0","_projectLat","ecc","ts","con","inverse","point","_inverseY","dphi","ecch","phi","SphericalMercator","Equirectangular","EPSG3857","crs","_proj","_tm","transform","translate","scale","_itm","toPoint","toLocation","EPSG3395","EPSG4326","projections","Layer","css","zIndex","opacity","appendTo","scrollElement","_beforeReset","_reset","_resize","_panEnd","_activate","_updateAttribution","destroy","_deactivate","reset","_applyExtent","_setVisibility","noop","matchMinZoom","matchMaxZoom","inside","visible","bind","unbind","attribution","layers","DataSource","data","Group","ShapeLayer","surface","Surface","_initRoot","movable","Movable","_markers","_handler","_mouseenter","_mouseleave","_initDataSource","autoBind","dataSource","_dataChange","setDataSource","fetch","_translateSurface","_data","_load","_root","draw","dsOptions","sender","view","container","shape","_clearMarkers","_loader","GeoJSONLoader","parse","shapeCreated","args","cancelled","Circle","_createMarker","layer","featureCreated","marker","markers","location","dataItem","_panning","suspendTracking","resumeTracking","locationToView","moveTo","originalEvent","locator","defaultStyle","root","unwrap","type","_loadGeometryTo","_featureCreated","children","_shapeCreated","group","properties","path","coords","coordinates","_loadPolygon","_setLineFill","_loadPoint","segments","anchor","fill","_loadShape","rings","_buildPolygon","j","MultiPath","Path","lineTo","circle","schemas","geojson","features","geometries","transports","read","dataType","getter","BubbleLayer","locationField","valueField","minSize","maxSize","opt","getValue","scaleType","_scaleType","_createSymbol","_drawSymbol","isFunction","scales","symbols","SqrtScale","domain","range","domainRange","outputRange","_domain","_range","_ratio","rel","Symbols","geo","square","halfSize","close","bubble","roundPoint","TileLayer","subdomains","viewType","_viewType","_view","origin","locationToLayer","viewOrigin","_updateView","TileView","support","mobileOS","throttle","extentToPoint","render","pool","TilePool","tileSize","urlTemplate","_center","_viewOrigin","pointToTileIndex","tileCount","firstTileIndex","indexToPoint","ceil","diff","subdomainText","subdomainIndex","tile","createTile","currentIndex","tileOptions","wrapIndex","offset","subdomain","errorUrlTemplate","boundary","wrapValue","remainder","ImageTile","createElement","errorUrl","target","setAttribute","removeAttribute","url","top","visibility","urlResult","urlOptions","z","s","quadkey","q","culture","_items","_remove","_create","dist","maxDist","BingLayer","baseUrl","_scheme","_onMetadata","_fetchMetadata","imagerySet","Error","ajax","uriScheme","jsonp","success","proto","protocol","replace","resource","resourceSets","resources","imageUrl","imageUrlSubdomains","zoomMin","zoomMax","_addAttribution","BingView","imageryProviders","coverageAreas","bbox","tileQuadKey","digit","mask","quadKey","bing","indexOf","Tooltip","MarkerLayer","_markerClick","titleField","arg","isArray","_addOne","update","showAt","Marker","addTo","getLocation","getTitle","title","tooltip","popup","_position","attributes","renderTooltip","contentTemplate","content","contentUrl","defaults","CSS_PREFIX","FRICTION","FRICTION_MOBILE","MOUSEWHEEL","VELOCITY_MULTIPLIER","Map","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","_mousewheel","controls","navigator","layerDefaults","stroke","position","markerDefaults","wraparound","scroller","zoomControl","level","_setExtent","_getExtent","setOptions","_layerSize","layerToLocation","translateWith","viewToLocation","eventOffset","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","exportVisual","_setOrigin","topLeft","_origin","invalidate","layerWidth","layerHeight","bottomRight","_zoomAround","pivot","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPos","posSelector","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","one","_scrollEnd","scrollTo","_zoomControlChange","friction","zoomable","mobile","Scroller","velocityMultiplier","mousewheelScrolling","_scroll","userEvents","_scaleStart","_scale","impl","defs","_scrollOffset","_panComplete","_panEndTS","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","centerPoint","originPoint","scaleDelta","tiles","_resetScroller","xBounds","yBounds","dimensions","forcedMinScale","maxScale","pannable","makeVirtual","virtualSize","_renderLayers","scrollWrap","fromZoom","toZoom","postZoom","mwDelta"],"mappings":"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","file":"kendo.dataviz.map.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        function isUnicodeLetter(ch) {\n            return RX_UNICODE_LETTER.test(ch);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort,\n                isUnicodeLetter: isUnicodeLetter\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n        var RX_UNICODE_LETTER = new RegExp('[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]');\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/location', ['kendo.drawing'], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, abs = math.abs, atan = math.atan, atan2 = math.atan2, cos = math.cos, max = math.max, min = math.min, sin = math.sin, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, deg = util.deg, rad = util.rad, round = util.round, sqr = util.sqr, valueOrDefault = util.valueOrDefault;\n        var Location = Class.extend({\n            init: function (lat, lng) {\n                if (arguments.length === 1) {\n                    this.lat = lat[0];\n                    this.lng = lat[1];\n                } else {\n                    this.lat = lat;\n                    this.lng = lng;\n                }\n            },\n            DISTANCE_ITERATIONS: 100,\n            DISTANCE_CONVERGENCE: 1e-12,\n            DISTANCE_PRECISION: 2,\n            FORMAT: '{0:N6},{1:N6}',\n            toArray: function () {\n                return [\n                    this.lat,\n                    this.lng\n                ];\n            },\n            equals: function (loc) {\n                return loc && loc.lat === this.lat && loc.lng === this.lng;\n            },\n            clone: function () {\n                return new Location(this.lat, this.lng);\n            },\n            round: function (precision) {\n                this.lng = round(this.lng, precision);\n                this.lat = round(this.lat, precision);\n                return this;\n            },\n            wrap: function () {\n                this.lng = this.lng % 180;\n                this.lat = this.lat % 90;\n                return this;\n            },\n            distanceTo: function (dest, datum) {\n                return this.greatCircleTo(dest, datum).distance;\n            },\n            destination: function (distance, bearing, datum) {\n                bearing = rad(bearing);\n                datum = datum || dataviz.map.datums.WGS84;\n                var fromLat = rad(this.lat);\n                var fromLng = rad(this.lng);\n                var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\n                var lat = math.asin(sin(fromLat) * cos(dToR) + cos(fromLat) * sin(dToR) * cos(bearing));\n                var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat), cos(dToR) - sin(fromLat) * sin(lat));\n                return new Location(deg(lat), deg(lng));\n            },\n            greatCircleTo: function (dest, datum) {\n                dest = Location.create(dest);\n                datum = datum || dataviz.map.datums.WGS84;\n                if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n                    return {\n                        distance: 0,\n                        azimuthFrom: 0,\n                        azimuthTo: 0\n                    };\n                }\n                var a = datum.a;\n                var b = datum.b;\n                var f = datum.f;\n                var L = rad(dest.lng - this.lng);\n                var U1 = atan((1 - f) * tan(rad(this.lat)));\n                var sinU1 = sin(U1);\n                var cosU1 = cos(U1);\n                var U2 = atan((1 - f) * tan(rad(dest.lat)));\n                var sinU2 = sin(U2);\n                var cosU2 = cos(U2);\n                var lambda = L;\n                var prevLambda;\n                var i = this.DISTANCE_ITERATIONS;\n                var converged = false;\n                var sinLambda;\n                var cosLambda;\n                var sino;\n                var cosA2;\n                var coso;\n                var cos2om;\n                var sigma;\n                while (!converged && i-- > 0) {\n                    sinLambda = sin(lambda);\n                    cosLambda = cos(lambda);\n                    sino = math.sqrt(sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n                    coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n                    sigma = atan2(sino, coso);\n                    var sinA = cosU1 * cosU2 * sinLambda / sino;\n                    cosA2 = 1 - sqr(sinA);\n                    cos2om = 0;\n                    if (cosA2 !== 0) {\n                        cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n                    }\n                    prevLambda = lambda;\n                    var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n                    lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om))));\n                    converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\n                }\n                var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\n                var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n                var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n                var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))));\n                var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n                var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n                return {\n                    distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n                    azimuthFrom: deg(azimuthFrom),\n                    azimuthTo: deg(azimuthTo)\n                };\n            }\n        });\n        Location.fn.toString = function () {\n            return kendo.format(this.FORMAT, this.lat, this.lng);\n        };\n        Location.fromLngLat = function (ll) {\n            return new Location(ll[1], ll[0]);\n        };\n        Location.fromLatLng = function (ll) {\n            return new Location(ll[0], ll[1]);\n        };\n        Location.create = function (a, b) {\n            if (defined(a)) {\n                if (a instanceof Location) {\n                    return a.clone();\n                } else if (arguments.length === 1 && a.length === 2) {\n                    return Location.fromLatLng(a);\n                } else {\n                    return new Location(a, b);\n                }\n            }\n        };\n        var Extent = Class.extend({\n            init: function (nw, se) {\n                nw = Location.create(nw);\n                se = Location.create(se);\n                if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {\n                    this.se = nw;\n                    this.nw = se;\n                } else {\n                    this.se = se;\n                    this.nw = nw;\n                }\n            },\n            contains: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                return loc && lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 && lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;\n            },\n            center: function () {\n                var nw = this.nw;\n                var se = this.se;\n                var lng = nw.lng + (se.lng - nw.lng) / 2;\n                var lat = nw.lat + (se.lat - nw.lat) / 2;\n                return new Location(lat, lng);\n            },\n            containsAny: function (locs) {\n                var result = false;\n                for (var i = 0; i < locs.length; i++) {\n                    result = result || this.contains(locs[i]);\n                }\n                return result;\n            },\n            include: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                nw.lng = min(nw.lng, lng);\n                nw.lat = max(nw.lat, lat);\n                se.lng = max(se.lng, lng);\n                se.lat = min(se.lat, lat);\n            },\n            includeAll: function (locs) {\n                for (var i = 0; i < locs.length; i++) {\n                    this.include(locs[i]);\n                }\n            },\n            edges: function () {\n                var nw = this.nw, se = this.se;\n                return {\n                    nw: this.nw,\n                    ne: new Location(nw.lat, se.lng),\n                    se: this.se,\n                    sw: new Location(se.lat, nw.lng)\n                };\n            },\n            toArray: function () {\n                var nw = this.nw, se = this.se;\n                return [\n                    nw,\n                    new Location(nw.lat, se.lng),\n                    se,\n                    new Location(se.lat, nw.lng)\n                ];\n            },\n            overlaps: function (extent) {\n                return this.containsAny(extent.toArray()) || extent.containsAny(this.toArray());\n            }\n        });\n        Extent.World = new Extent([\n            90,\n            -180\n        ], [\n            -90,\n            180\n        ]);\n        Extent.create = function (a, b) {\n            if (a instanceof Extent) {\n                return a;\n            } else if (a && b) {\n                return new Extent(a, b);\n            } else if (a && a.length === 4 && !b) {\n                return new Extent([\n                    a[0],\n                    a[1]\n                ], [\n                    a[2],\n                    a[3]\n                ]);\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                Extent: Extent,\n                Location: Location\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/attribution', ['kendo.drawing'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, Widget = kendo.ui.Widget, template = kendo.template, valueOrDefault = kendo.util.valueOrDefault, defined = kendo.util.defined;\n        var Attribution = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.items = [];\n                this.element.addClass('k-widget k-attribution');\n            },\n            options: {\n                name: 'Attribution',\n                separator: '&nbsp;|&nbsp;',\n                itemTemplate: '#= text #'\n            },\n            filter: function (extent, zoom) {\n                this._extent = extent;\n                this._zoom = zoom;\n                this._render();\n            },\n            add: function (item) {\n                if (defined(item)) {\n                    if (typeof item === 'string') {\n                        item = { text: item };\n                    }\n                    this.items.push(item);\n                    this._render();\n                }\n            },\n            remove: function (text) {\n                var result = [];\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    if (item.text !== text) {\n                        result.push(item);\n                    }\n                }\n                this.items = result;\n                this._render();\n            },\n            clear: function () {\n                this.items = [];\n                this.element.empty();\n            },\n            _render: function () {\n                var result = [];\n                var itemTemplate = template(this.options.itemTemplate);\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    var text = this._itemText(item);\n                    if (text !== '') {\n                        result.push(itemTemplate({ text: text }));\n                    }\n                }\n                if (result.length > 0) {\n                    this.element.empty().append(result.join(this.options.separator)).show();\n                } else {\n                    this.element.hide();\n                }\n            },\n            _itemText: function (item) {\n                var text = '';\n                var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n                var inArea = this._inArea(item.extent);\n                if (inZoomLevel && inArea) {\n                    text += item.text;\n                }\n                return text;\n            },\n            _inZoomLevel: function (min, max) {\n                var result = true;\n                min = valueOrDefault(min, -Number.MAX_VALUE);\n                max = valueOrDefault(max, Number.MAX_VALUE);\n                result = this._zoom > min && this._zoom < max;\n                return result;\n            },\n            _inArea: function (area) {\n                var result = true;\n                if (area) {\n                    result = area.contains(this._extent);\n                }\n                return result;\n            }\n        });\n        kendo.dataviz.ui.plugin(Attribution);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/navigator', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        var NS = '.kendoNavigator';\n        function button(dir) {\n            return kendo.format('<button class=\"k-button k-navigator-{0}\">' + '<span class=\"k-icon k-i-arrow-{0}\"/>' + '</button>', dir);\n        }\n        var BUTTONS = button('n') + button('e') + button('s') + button('w');\n        var Navigator = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-header k-shadow k-navigator').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'Navigator',\n                panStep: 1\n            },\n            events: ['pan'],\n            dispose: function () {\n                this._keyroot.off('keydown', this._keydown);\n            },\n            _pan: function (x, y) {\n                var panStep = this.options.panStep;\n                this.trigger('pan', {\n                    x: x * panStep,\n                    y: y * panStep\n                });\n            },\n            _click: function (e) {\n                var x = 0;\n                var y = 0;\n                var button = $(e.currentTarget);\n                if (button.is('.k-navigator-n')) {\n                    y = 1;\n                } else if (button.is('.k-navigator-s')) {\n                    y = -1;\n                } else if (button.is('.k-navigator-e')) {\n                    x = 1;\n                } else if (button.is('.k-navigator-w')) {\n                    x = -1;\n                }\n                this._pan(x, y);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.UP:\n                    this._pan(0, 1);\n                    e.preventDefault();\n                    break;\n                case keys.DOWN:\n                    this._pan(0, -1);\n                    e.preventDefault();\n                    break;\n                case keys.RIGHT:\n                    this._pan(1, 0);\n                    e.preventDefault();\n                    break;\n                case keys.LEFT:\n                    this._pan(-1, 0);\n                    e.preventDefault();\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(Navigator);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/zoom', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        function button(dir, symbol) {\n            return kendo.format('<button class=\"k-button k-zoom-{0}\" title=\"zoom-{0}\">{1}</button>', dir, symbol);\n        }\n        var NS = '.kendoZoomControl';\n        var BUTTONS = button('in', '+') + button('out', '-');\n        var PLUS = 187;\n        var MINUS = 189;\n        var FF_PLUS = 61;\n        var FF_MINUS = 173;\n        var ZoomControl = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-zoom-control k-button-wrap k-buttons-horizontal').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'ZoomControl',\n                zoomStep: 1\n            },\n            events: ['change'],\n            _change: function (dir) {\n                var zoomStep = this.options.zoomStep;\n                this.trigger('change', { delta: dir * zoomStep });\n            },\n            _click: function (e) {\n                var button = $(e.currentTarget);\n                var dir = 1;\n                if (button.is('.k-zoom-out')) {\n                    dir = -1;\n                }\n                this._change(dir);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.NUMPAD_PLUS:\n                case PLUS:\n                case FF_PLUS:\n                    this._change(1);\n                    break;\n                case keys.NUMPAD_MINUS:\n                case MINUS:\n                case FF_MINUS:\n                    this._change(-1);\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(ZoomControl);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/crs', [\n        'dataviz/map/location',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, atan = math.atan, exp = math.exp, pow = math.pow, sin = math.sin, log = math.log, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, map = dataviz.map, Location = map.Location, util = kendo.util, rad = util.rad, deg = util.deg, limit = util.limitValue;\n        var PI = math.PI, PI_DIV_2 = PI / 2, PI_DIV_4 = PI / 4, DEG_TO_RAD = PI / 180;\n        var WGS84 = {\n            a: 6378137,\n            b: 6356752.314245179,\n            f: 0.0033528106647474805,\n            e: 0.08181919084262149\n        };\n        var Mercator = Class.extend({\n            init: function (options) {\n                this._initOptions(options);\n            },\n            MAX_LNG: 180,\n            MAX_LAT: 85.0840590501,\n            INVERSE_ITERATIONS: 15,\n            INVERSE_CONVERGENCE: 1e-12,\n            options: {\n                centralMeridian: 0,\n                datum: WGS84\n            },\n            forward: function (loc, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT), lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng, x = rad(lng - lng0) * r, y = proj._projectLat(lat);\n                return new Point(x, y);\n            },\n            _projectLat: function (lat) {\n                var datum = this.options.datum, ecc = datum.e, r = datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2), con = ecc * sin(y), p = pow((1 - con) / (1 + con), ecc / 2);\n                return r * log(ts * p);\n            },\n            inverse: function (point, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lng = point.x / (DEG_TO_RAD * r) + lng0, lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n                if (clamp) {\n                    lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\n                }\n                return new Location(lat, lng);\n            },\n            _inverseY: function (y) {\n                var proj = this, datum = proj.options.datum, r = datum.a, ecc = datum.e, ecch = ecc / 2, ts = exp(-y / r), phi = PI_DIV_2 - 2 * atan(ts), i;\n                for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n                    var con = ecc * sin(phi), p = pow((1 - con) / (1 + con), ecch), dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n                    phi += dphi;\n                    if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                        break;\n                    }\n                }\n                return deg(phi);\n            }\n        });\n        var SphericalMercator = Mercator.extend({\n            MAX_LAT: 85.0511287798,\n            _projectLat: function (lat) {\n                var r = this.options.datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2);\n                return r * log(ts);\n            },\n            _inverseY: function (y) {\n                var r = this.options.datum.a, ts = exp(-y / r);\n                return deg(PI_DIV_2 - 2 * atan(ts));\n            }\n        });\n        var Equirectangular = Class.extend({\n            forward: function (loc) {\n                return new Point(loc.lng, loc.lat);\n            },\n            inverse: function (point) {\n                return new Location(point.y, point.x);\n            }\n        });\n        var EPSG3857 = Class.extend({\n            init: function () {\n                var crs = this, proj = crs._proj = new SphericalMercator();\n                var c = this.c = 2 * PI * proj.options.datum.a;\n                this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n                this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\n            },\n            toPoint: function (loc, scale, clamp) {\n                var point = this._proj.forward(loc, clamp);\n                return point.transform(this._tm).scale(scale || 1);\n            },\n            toLocation: function (point, scale, clamp) {\n                point = point.clone().scale(1 / (scale || 1)).transform(this._itm);\n                return this._proj.inverse(point, clamp);\n            }\n        });\n        var EPSG3395 = Class.extend({\n            init: function () {\n                this._proj = new Mercator();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        var EPSG4326 = Class.extend({\n            init: function () {\n                this._proj = new Equirectangular();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                crs: {\n                    EPSG3395: EPSG3395,\n                    EPSG3857: EPSG3857,\n                    EPSG4326: EPSG4326\n                },\n                datums: { WGS84: WGS84 },\n                projections: {\n                    Equirectangular: Equirectangular,\n                    Mercator: Mercator,\n                    SphericalMercator: SphericalMercator\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/base', [\n        'kendo.core',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, Extent = dataviz.map.Extent, util = kendo.util, defined = util.defined;\n        var Layer = Class.extend({\n            init: function (map, options) {\n                this._initOptions(options);\n                this.map = map;\n                this.element = $('<div class=\\'k-layer\\'></div>').css({\n                    'zIndex': this.options.zIndex,\n                    'opacity': this.options.opacity\n                }).appendTo(map.scrollElement);\n                this._beforeReset = proxy(this._beforeReset, this);\n                this._reset = proxy(this._reset, this);\n                this._resize = proxy(this._resize, this);\n                this._panEnd = proxy(this._panEnd, this);\n                this._activate();\n                this._updateAttribution();\n            },\n            destroy: function () {\n                this._deactivate();\n            },\n            show: function () {\n                this.reset();\n                this._activate();\n                this._applyExtent(true);\n            },\n            hide: function () {\n                this._deactivate();\n                this._setVisibility(false);\n            },\n            reset: function () {\n                this._beforeReset();\n                this._reset();\n            },\n            _reset: function () {\n                this._applyExtent();\n            },\n            _beforeReset: $.noop,\n            _resize: $.noop,\n            _panEnd: function () {\n                this._applyExtent();\n            },\n            _applyExtent: function () {\n                var options = this.options;\n                var zoom = this.map.zoom();\n                var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n                var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n                var extent = Extent.create(options.extent);\n                var inside = !extent || extent.overlaps(this.map.extent());\n                this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n            },\n            _setVisibility: function (visible) {\n                this.element.css('display', visible ? '' : 'none');\n            },\n            _activate: function () {\n                var map = this.map;\n                map.bind('beforeReset', this._beforeReset);\n                map.bind('reset', this._reset);\n                map.bind('resize', this._resize);\n                map.bind('panEnd', this._panEnd);\n            },\n            _deactivate: function () {\n                var map = this.map;\n                map.unbind('beforeReset', this._beforeReset);\n                map.unbind('reset', this._reset);\n                map.unbind('resize', this._resize);\n                map.unbind('panEnd', this._panEnd);\n            },\n            _updateAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    attr.add(this.options.attribution);\n                }\n            }\n        });\n        deepExtend(dataviz, { map: { layers: { Layer: Layer } } });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/shape', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, last = kendo.util.last, defined = kendo.util.defined, g = kendo.geometry, d = kendo.drawing, Group = d.Group, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var ShapeLayer = Layer.extend({\n            init: function (map, options) {\n                this._pan = proxy(this._pan, this);\n                Layer.fn.init.call(this, map, options);\n                this.surface = d.Surface.create(this.element, {\n                    width: map.scrollElement.width(),\n                    height: map.scrollElement.height()\n                });\n                this._initRoot();\n                this.movable = new kendo.ui.Movable(this.surface.element);\n                this._markers = [];\n                this._click = this._handler('shapeClick');\n                this.surface.bind('click', this._click);\n                this._mouseenter = this._handler('shapeMouseEnter');\n                this.surface.bind('mouseenter', this._mouseenter);\n                this._mouseleave = this._handler('shapeMouseLeave');\n                this.surface.bind('mouseleave', this._mouseleave);\n                this._initDataSource();\n            },\n            options: { autoBind: true },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.surface.destroy();\n                this.dataSource.unbind('change', this._dataChange);\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._translateSurface();\n                if (this._data) {\n                    this._load(this._data);\n                }\n            },\n            _initRoot: function () {\n                this._root = new Group();\n                this.surface.draw(this._root);\n            },\n            _beforeReset: function () {\n                this.surface.clear();\n                this._initRoot();\n            },\n            _resize: function () {\n                this.surface.size(this.map.size());\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._data = e.sender.view();\n                this._load(this._data);\n            },\n            _load: function (data) {\n                this._clearMarkers();\n                if (!this._loader) {\n                    this._loader = new GeoJSONLoader(this.map, this.options.style, this);\n                }\n                var container = new Group();\n                for (var i = 0; i < data.length; i++) {\n                    var shape = this._loader.parse(data[i]);\n                    if (shape) {\n                        container.append(shape);\n                    }\n                }\n                this._root.clear();\n                this._root.append(container);\n            },\n            shapeCreated: function (shape) {\n                var cancelled = false;\n                if (shape instanceof d.Circle) {\n                    cancelled = defined(this._createMarker(shape));\n                }\n                if (!cancelled) {\n                    var args = {\n                        layer: this,\n                        shape: shape\n                    };\n                    cancelled = this.map.trigger('shapeCreated', args);\n                }\n                return cancelled;\n            },\n            featureCreated: function (e) {\n                e.layer = this;\n                this.map.trigger('shapeFeatureCreated', e);\n            },\n            _createMarker: function (shape) {\n                var marker = this.map.markers.bind({ location: shape.location }, shape.dataItem);\n                if (marker) {\n                    this._markers.push(marker);\n                }\n                return marker;\n            },\n            _clearMarkers: function () {\n                for (var i = 0; i < this._markers.length; i++) {\n                    this.map.markers.remove(this._markers[i]);\n                }\n                this._markers = [];\n            },\n            _pan: function () {\n                if (!this._panning) {\n                    this._panning = true;\n                    this.surface.suspendTracking();\n                }\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._translateSurface();\n                this.surface.resumeTracking();\n                this._panning = false;\n            },\n            _translateSurface: function () {\n                var map = this.map;\n                var nw = map.locationToView(map.extent().nw);\n                if (this.surface.translate) {\n                    this.surface.translate(nw);\n                    this.movable.moveTo({\n                        x: nw.x,\n                        y: nw.y\n                    });\n                }\n            },\n            _handler: function (event) {\n                var layer = this;\n                return function (e) {\n                    if (e.element) {\n                        var args = {\n                            layer: layer,\n                            shape: e.element,\n                            originalEvent: e.originalEvent\n                        };\n                        layer.map.trigger(event, args);\n                    }\n                };\n            },\n            _activate: function () {\n                Layer.fn._activate.call(this);\n                this.map.bind('pan', this._pan);\n            },\n            _deactivate: function () {\n                Layer.fn._deactivate.call(this);\n                this.map.unbind('pan', this._pan);\n            }\n        });\n        var GeoJSONLoader = Class.extend({\n            init: function (locator, defaultStyle, observer) {\n                this.observer = observer;\n                this.locator = locator;\n                this.style = defaultStyle;\n            },\n            parse: function (item) {\n                var root = new Group();\n                var unwrap = true;\n                if (item.type === 'Feature') {\n                    unwrap = false;\n                    this._loadGeometryTo(root, item.geometry, item);\n                    this._featureCreated(root, item);\n                } else {\n                    this._loadGeometryTo(root, item, item);\n                }\n                if (unwrap && root.children.length < 2) {\n                    root = root.children[0];\n                }\n                return root;\n            },\n            _shapeCreated: function (shape) {\n                var cancelled = false;\n                if (this.observer && this.observer.shapeCreated) {\n                    cancelled = this.observer.shapeCreated(shape);\n                }\n                return cancelled;\n            },\n            _featureCreated: function (group, dataItem) {\n                if (this.observer && this.observer.featureCreated) {\n                    this.observer.featureCreated({\n                        group: group,\n                        dataItem: dataItem,\n                        properties: dataItem.properties\n                    });\n                }\n            },\n            _loadGeometryTo: function (container, geometry, dataItem) {\n                var coords = geometry.coordinates;\n                var i;\n                var path;\n                switch (geometry.type) {\n                case 'LineString':\n                    path = this._loadPolygon(container, [coords], dataItem);\n                    this._setLineFill(path);\n                    break;\n                case 'MultiLineString':\n                    for (i = 0; i < coords.length; i++) {\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\n                        this._setLineFill(path);\n                    }\n                    break;\n                case 'Polygon':\n                    this._loadPolygon(container, coords, dataItem);\n                    break;\n                case 'MultiPolygon':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPolygon(container, coords[i], dataItem);\n                    }\n                    break;\n                case 'Point':\n                    this._loadPoint(container, coords, dataItem);\n                    break;\n                case 'MultiPoint':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPoint(container, coords[i], dataItem);\n                    }\n                    break;\n                }\n            },\n            _setLineFill: function (path) {\n                var segments = path.segments;\n                if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n                    path.options.fill = null;\n                }\n            },\n            _loadShape: function (container, shape) {\n                if (!this._shapeCreated(shape)) {\n                    container.append(shape);\n                }\n                return shape;\n            },\n            _loadPolygon: function (container, rings, dataItem) {\n                var shape = this._buildPolygon(rings);\n                shape.dataItem = dataItem;\n                return this._loadShape(container, shape);\n            },\n            _buildPolygon: function (rings) {\n                var type = rings.length > 1 ? d.MultiPath : d.Path;\n                var path = new type(this.style);\n                for (var i = 0; i < rings.length; i++) {\n                    for (var j = 0; j < rings[i].length; j++) {\n                        var point = this.locator.locationToView(Location.fromLngLat(rings[i][j]));\n                        if (j === 0) {\n                            path.moveTo(point.x, point.y);\n                        } else {\n                            path.lineTo(point.x, point.y);\n                        }\n                    }\n                }\n                return path;\n            },\n            _loadPoint: function (container, coords, dataItem) {\n                var location = Location.fromLngLat(coords);\n                var point = this.locator.locationToView(location);\n                var circle = new g.Circle(point, 10);\n                var shape = new d.Circle(circle, this.style);\n                shape.dataItem = dataItem;\n                shape.location = location;\n                return this._loadShape(container, shape);\n            }\n        });\n        deepExtend(kendo.data, {\n            schemas: {\n                geojson: {\n                    type: 'json',\n                    data: function (data) {\n                        if (data.type === 'FeatureCollection') {\n                            return data.features;\n                        }\n                        if (data.type === 'GeometryCollection') {\n                            return data.geometries;\n                        }\n                        return data;\n                    }\n                }\n            },\n            transports: { geojson: { read: { dataType: 'json' } } }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    shape: ShapeLayer,\n                    ShapeLayer: ShapeLayer\n                },\n                GeoJSONLoader: GeoJSONLoader\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bubble', ['dataviz/map/layers/shape'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, getter = kendo.getter, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, g = kendo.geometry, d = kendo.drawing, map = dataviz.map, Location = map.Location, ShapeLayer = map.layers.ShapeLayer;\n        var BubbleLayer = ShapeLayer.extend({\n            options: {\n                autoBind: true,\n                locationField: 'location',\n                valueField: 'value',\n                minSize: 0,\n                maxSize: 100,\n                scale: 'sqrt',\n                symbol: 'circle'\n            },\n            _load: function (data) {\n                this.surface.clear();\n                if (data.length === 0) {\n                    return;\n                }\n                var opt = this.options;\n                var getValue = getter(opt.valueField);\n                data = data.slice(0);\n                data.sort(function (a, b) {\n                    return getValue(b) - getValue(a);\n                });\n                var scaleType = this._scaleType();\n                var scale;\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    var location = getter(opt.locationField)(dataItem);\n                    var value = getter(opt.valueField)(dataItem);\n                    if (defined(location) && defined(value)) {\n                        if (!scale) {\n                            scale = new scaleType([\n                                0,\n                                value\n                            ], [\n                                opt.minSize,\n                                opt.maxSize\n                            ]);\n                        }\n                        location = Location.create(location);\n                        var center = this.map.locationToView(location);\n                        var size = scale.map(value);\n                        var symbol = this._createSymbol({\n                            center: center,\n                            size: size,\n                            style: opt.style,\n                            dataItem: dataItem,\n                            location: location\n                        });\n                        symbol.dataItem = dataItem;\n                        symbol.location = location;\n                        symbol.value = value;\n                        this._drawSymbol(symbol);\n                    }\n                }\n            },\n            _scaleType: function () {\n                var scale = this.options.scale;\n                if (kendo.isFunction(scale)) {\n                    return scale;\n                }\n                return dataviz.map.scales[scale];\n            },\n            _createSymbol: function (args) {\n                var symbol = this.options.symbol;\n                if (!kendo.isFunction(symbol)) {\n                    symbol = dataviz.map.symbols[symbol];\n                }\n                return symbol(args);\n            },\n            _drawSymbol: function (shape) {\n                var args = {\n                    layer: this,\n                    shape: shape\n                };\n                var cancelled = this.map.trigger('shapeCreated', args);\n                if (!cancelled) {\n                    this.surface.draw(shape);\n                }\n            }\n        });\n        var SqrtScale = kendo.Class.extend({\n            init: function (domain, range) {\n                this._domain = domain;\n                this._range = range;\n                var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n                var outputRange = range[1] - range[0];\n                this._ratio = outputRange / domainRange;\n            },\n            map: function (value) {\n                var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n                return this._range[0] + rel;\n            }\n        });\n        var Symbols = {\n            circle: function (args) {\n                var geo = new g.Circle(args.center, args.size / 2);\n                return new d.Circle(geo, args.style);\n            },\n            square: function (args) {\n                var path = new d.Path(args.style);\n                var halfSize = args.size / 2;\n                var center = args.center;\n                path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();\n                return path;\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bubble: BubbleLayer,\n                    BubbleLayer: BubbleLayer\n                },\n                scales: { sqrt: SqrtScale },\n                symbols: Symbols\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/tile', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, template = kendo.template, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Layer = dataviz.map.layers.Layer, util = kendo.util, round = util.round, renderSize = util.renderSize, limit = util.limitValue;\n        var TileLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                if (typeof this.options.subdomains === 'string') {\n                    this.options.subdomains = this.options.subdomains.split('');\n                }\n                var viewType = this._viewType();\n                this._view = new viewType(this.element, this.options);\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this._view.destroy();\n                this._view = null;\n            },\n            _beforeReset: function () {\n                var map = this.map;\n                var origin = map.locationToLayer(map.extent().nw).round();\n                this._view.viewOrigin(origin);\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._updateView();\n                this._view.reset();\n            },\n            _viewType: function () {\n                return TileView;\n            },\n            _activate: function () {\n                Layer.fn._activate.call(this);\n                if (!kendo.support.mobileOS) {\n                    if (!this._pan) {\n                        this._pan = kendo.throttle(proxy(this._render, this), 100);\n                    }\n                    this.map.bind('pan', this._pan);\n                }\n            },\n            _deactivate: function () {\n                Layer.fn._deactivate.call(this);\n                if (this._pan) {\n                    this.map.unbind('pan', this._pan);\n                }\n            },\n            _updateView: function () {\n                var view = this._view, map = this.map, extent = map.extent(), extentToPoint = {\n                        nw: map.locationToLayer(extent.nw).round(),\n                        se: map.locationToLayer(extent.se).round()\n                    };\n                view.center(map.locationToLayer(map.center()));\n                view.extent(extentToPoint);\n                view.zoom(map.zoom());\n            },\n            _resize: function () {\n                this._render();\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._render();\n            },\n            _render: function () {\n                this._updateView();\n                this._view.render();\n            }\n        });\n        var TileView = Class.extend({\n            init: function (element, options) {\n                this.element = element;\n                this._initOptions(options);\n                this.pool = new TilePool();\n            },\n            options: {\n                tileSize: 256,\n                subdomains: [\n                    'a',\n                    'b',\n                    'c'\n                ],\n                urlTemplate: ''\n            },\n            center: function (center) {\n                this._center = center;\n            },\n            extent: function (extent) {\n                this._extent = extent;\n            },\n            viewOrigin: function (origin) {\n                this._viewOrigin = origin;\n            },\n            zoom: function (zoom) {\n                this._zoom = zoom;\n            },\n            pointToTileIndex: function (point) {\n                return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\n            },\n            tileCount: function () {\n                var size = this.size(), firstTileIndex = this.pointToTileIndex(this._extent.nw), nw = this._extent.nw, point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n                return {\n                    x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n                    y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n                };\n            },\n            size: function () {\n                var nw = this._extent.nw, se = this._extent.se, diff = se.clone().translate(-nw.x, -nw.y);\n                return {\n                    width: diff.x,\n                    height: diff.y\n                };\n            },\n            indexToPoint: function (index) {\n                var x = index.x, y = index.y;\n                return new Point(x * this.options.tileSize, y * this.options.tileSize);\n            },\n            subdomainText: function () {\n                var subdomains = this.options.subdomains;\n                return subdomains[this.subdomainIndex++ % subdomains.length];\n            },\n            destroy: function () {\n                this.element.empty();\n                this.pool.empty();\n            },\n            reset: function () {\n                this.pool.reset();\n                this.subdomainIndex = 0;\n                this.render();\n            },\n            render: function () {\n                var size = this.tileCount(), firstTileIndex = this.pointToTileIndex(this._extent.nw), tile, x, y;\n                for (x = 0; x < size.x; x++) {\n                    for (y = 0; y < size.y; y++) {\n                        tile = this.createTile({\n                            x: firstTileIndex.x + x,\n                            y: firstTileIndex.y + y\n                        });\n                        if (!tile.visible) {\n                            tile.show();\n                        }\n                    }\n                }\n            },\n            createTile: function (currentIndex) {\n                var options = this.tileOptions(currentIndex);\n                var tile = this.pool.get(this._center, options);\n                if (tile.element.parent().length === 0) {\n                    this.element.append(tile.element);\n                }\n                return tile;\n            },\n            tileOptions: function (currentIndex) {\n                var index = this.wrapIndex(currentIndex), point = this.indexToPoint(currentIndex), origin = this._viewOrigin, offset = point.clone().translate(-origin.x, -origin.y);\n                return {\n                    index: index,\n                    currentIndex: currentIndex,\n                    point: point,\n                    offset: roundPoint(offset),\n                    zoom: this._zoom,\n                    size: this.options.tileSize,\n                    subdomain: this.subdomainText(),\n                    urlTemplate: this.options.urlTemplate,\n                    errorUrlTemplate: this.options.errorUrlTemplate\n                };\n            },\n            wrapIndex: function (index) {\n                var boundary = math.pow(2, this._zoom);\n                return {\n                    x: this.wrapValue(index.x, boundary),\n                    y: limit(index.y, 0, boundary - 1)\n                };\n            },\n            wrapValue: function (value, boundary) {\n                var remainder = math.abs(value) % boundary;\n                if (value >= 0) {\n                    value = remainder;\n                } else {\n                    value = boundary - (remainder === 0 ? boundary : remainder);\n                }\n                return value;\n            }\n        });\n        var ImageTile = Class.extend({\n            init: function (id, options) {\n                this.id = id;\n                this.visible = true;\n                this._initOptions(options);\n                this.createElement();\n                this.show();\n            },\n            options: {\n                urlTemplate: '',\n                errorUrlTemplate: ''\n            },\n            createElement: function () {\n                this.element = $('<img style=\\'position: absolute; display: block;\\' />').css({\n                    width: this.options.size,\n                    height: this.options.size\n                }).on('error', proxy(function (e) {\n                    if (this.errorUrl()) {\n                        e.target.setAttribute('src', this.errorUrl());\n                    } else {\n                        e.target.removeAttribute('src');\n                    }\n                }, this));\n            },\n            show: function () {\n                var element = this.element[0];\n                element.style.top = renderSize(this.options.offset.y);\n                element.style.left = renderSize(this.options.offset.x);\n                var url = this.url();\n                if (url) {\n                    element.setAttribute('src', url);\n                }\n                element.style.visibility = 'visible';\n                this.visible = true;\n            },\n            hide: function () {\n                this.element[0].style.visibility = 'hidden';\n                this.visible = false;\n            },\n            url: function () {\n                var urlResult = template(this.options.urlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            errorUrl: function () {\n                var urlResult = template(this.options.errorUrlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            urlOptions: function () {\n                var options = this.options;\n                return {\n                    zoom: options.zoom,\n                    subdomain: options.subdomain,\n                    z: options.zoom,\n                    x: options.index.x,\n                    y: options.index.y,\n                    s: options.subdomain,\n                    quadkey: options.quadkey,\n                    q: options.quadkey,\n                    culture: options.culture,\n                    c: options.culture\n                };\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n            }\n        });\n        var TilePool = Class.extend({\n            init: function () {\n                this._items = [];\n            },\n            options: { maxSize: 100 },\n            get: function (center, options) {\n                if (this._items.length >= this.options.maxSize) {\n                    this._remove(center);\n                }\n                return this._create(options);\n            },\n            empty: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].destroy();\n                }\n                this._items = [];\n            },\n            reset: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].hide();\n                }\n            },\n            _create: function (options) {\n                var items = this._items;\n                var tile;\n                var id = util.hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].id === id) {\n                        tile = items[i];\n                        break;\n                    }\n                }\n                if (tile) {\n                    tile.show();\n                } else {\n                    tile = new ImageTile(id, options);\n                    this._items.push(tile);\n                }\n                return tile;\n            },\n            _remove: function (center) {\n                var items = this._items;\n                var maxDist = -1;\n                var index = -1;\n                for (var i = 0; i < items.length; i++) {\n                    var dist = items[i].options.point.distanceTo(center);\n                    if (dist > maxDist && !items[i].visible) {\n                        index = i;\n                        maxDist = dist;\n                    }\n                }\n                if (index !== -1) {\n                    items[index].destroy();\n                    items.splice(index, 1);\n                }\n            }\n        });\n        function roundPoint(point) {\n            return new Point(round(point.x), round(point.y));\n        }\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    tile: TileLayer,\n                    TileLayer: TileLayer,\n                    ImageTile: ImageTile,\n                    TilePool: TilePool,\n                    TileView: TileView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bing', ['dataviz/map/layers/tile'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, defined = kendo.util.defined, Extent = dataviz.map.Extent, Location = dataviz.map.Location, TileLayer = dataviz.map.layers.TileLayer, TileView = dataviz.map.layers.TileView;\n        var BingLayer = TileLayer.extend({\n            init: function (map, options) {\n                this.options.baseUrl = this._scheme() + '://dev.virtualearth.net/REST/v1/Imagery/Metadata/';\n                TileLayer.fn.init.call(this, map, options);\n                this._onMetadata = $.proxy(this._onMetadata, this);\n                this._fetchMetadata();\n            },\n            options: { imagerySet: 'road' },\n            _fetchMetadata: function () {\n                var options = this.options;\n                if (!options.key) {\n                    throw new Error('Bing tile layer: API key is required');\n                }\n                $.ajax({\n                    url: options.baseUrl + options.imagerySet,\n                    data: {\n                        output: 'json',\n                        include: 'ImageryProviders',\n                        key: options.key,\n                        uriScheme: this._scheme()\n                    },\n                    type: 'get',\n                    dataType: 'jsonp',\n                    jsonp: 'jsonp',\n                    success: this._onMetadata\n                });\n            },\n            _scheme: function (proto) {\n                proto = proto || window.location.protocol;\n                return proto.replace(':', '') === 'https' ? 'https' : 'http';\n            },\n            _onMetadata: function (data) {\n                if (data && data.resourceSets.length) {\n                    var resource = this.resource = data.resourceSets[0].resources[0];\n                    deepExtend(this._view.options, {\n                        urlTemplate: resource.imageUrl.replace('{subdomain}', '#= subdomain #').replace('{quadkey}', '#= quadkey #').replace('{culture}', '#= culture #'),\n                        subdomains: resource.imageUrlSubdomains\n                    });\n                    var options = this.options;\n                    if (!defined(options.minZoom)) {\n                        options.minZoom = resource.zoomMin;\n                    }\n                    if (!defined(options.maxZoom)) {\n                        options.maxZoom = resource.zoomMax;\n                    }\n                    this._addAttribution();\n                    if (this.element.css('display') !== 'none') {\n                        this._reset();\n                    }\n                }\n            },\n            _viewType: function () {\n                return BingView;\n            },\n            _addAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    var items = this.resource.imageryProviders;\n                    if (items) {\n                        for (var i = 0; i < items.length; i++) {\n                            var item = items[i];\n                            for (var y = 0; y < item.coverageAreas.length; y++) {\n                                var area = item.coverageAreas[y];\n                                attr.add({\n                                    text: item.attribution,\n                                    minZoom: area.zoomMin,\n                                    maxZoom: area.zoomMax,\n                                    extent: new Extent(new Location(area.bbox[2], area.bbox[1]), new Location(area.bbox[0], area.bbox[3]))\n                                });\n                            }\n                        }\n                    }\n                }\n            },\n            imagerySet: function (value) {\n                if (value) {\n                    this.options.imagerySet = value;\n                    this.map.attribution.clear();\n                    this._fetchMetadata();\n                } else {\n                    return this.options.imagerySet;\n                }\n            }\n        });\n        var BingView = TileView.extend({\n            options: { culture: 'en-US' },\n            tileOptions: function (currentIndex) {\n                var options = TileView.fn.tileOptions.call(this, currentIndex);\n                options.culture = this.options.culture;\n                options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\n                return options;\n            },\n            tileQuadKey: function (index) {\n                var quadKey = '', digit, mask, i;\n                for (i = this._zoom; i > 0; i--) {\n                    digit = 0;\n                    mask = 1 << i - 1;\n                    if ((index.x & mask) !== 0) {\n                        digit++;\n                    }\n                    if ((index.y & mask) !== 0) {\n                        digit += 2;\n                    }\n                    quadKey += digit;\n                }\n                return quadKey;\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bing: BingLayer,\n                    BingLayer: BingLayer,\n                    BingView: BingView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/marker', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location',\n        'kendo.data',\n        'kendo.tooltip'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, indexOf = $.inArray, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, Tooltip = kendo.ui.Tooltip, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var MarkerLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                this._markerClick = proxy(this._markerClick, this);\n                this.element.on('click', '.k-marker', this._markerClick);\n                this.items = [];\n                this._initDataSource();\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.element.off('click', '.k-marker', this._markerClick);\n                this.dataSource.unbind('change', this._dataChange);\n                this.clear();\n            },\n            options: {\n                zIndex: 1000,\n                autoBind: true,\n                dataSource: {},\n                locationField: 'location',\n                titleField: 'title'\n            },\n            add: function (arg) {\n                if ($.isArray(arg)) {\n                    for (var i = 0; i < arg.length; i++) {\n                        this._addOne(arg[i]);\n                    }\n                } else {\n                    return this._addOne(arg);\n                }\n            },\n            remove: function (marker) {\n                marker.destroy();\n                var index = indexOf(marker, this.items);\n                if (index > -1) {\n                    this.items.splice(index, 1);\n                }\n            },\n            clear: function () {\n                for (var i = 0; i < this.items.length; i++) {\n                    this.items[i].destroy();\n                }\n                this.items = [];\n            },\n            update: function (marker) {\n                var loc = marker.location();\n                if (loc) {\n                    marker.showAt(this.map.locationToView(loc));\n                    var args = {\n                        marker: marker,\n                        layer: this\n                    };\n                    this.map.trigger('markerActivate', args);\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                var items = this.items;\n                for (var i = 0; i < items.length; i++) {\n                    this.update(items[i]);\n                }\n            },\n            bind: function (options, dataItem) {\n                var marker = map.Marker.create(options, this.options);\n                marker.dataItem = dataItem;\n                var args = {\n                    marker: marker,\n                    layer: this\n                };\n                var cancelled = this.map.trigger('markerCreated', args);\n                if (!cancelled) {\n                    this.add(marker);\n                    return marker;\n                }\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _addOne: function (arg) {\n                var marker = Marker.create(arg, this.options);\n                marker.addTo(this);\n                return marker;\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._load(e.sender.view());\n            },\n            _load: function (data) {\n                this._data = data;\n                this.clear();\n                var getLocation = kendo.getter(this.options.locationField);\n                var getTitle = kendo.getter(this.options.titleField);\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    this.bind({\n                        location: getLocation(dataItem),\n                        title: getTitle(dataItem)\n                    }, dataItem);\n                }\n            },\n            _markerClick: function (e) {\n                var args = {\n                    marker: $(e.target).data('kendoMarker'),\n                    layer: this\n                };\n                this.map.trigger('markerClick', args);\n            }\n        });\n        var Marker = Class.extend({\n            init: function (options) {\n                this.options = options || {};\n            },\n            addTo: function (parent) {\n                this.layer = parent.markers || parent;\n                this.layer.items.push(this);\n                this.layer.update(this);\n            },\n            location: function (value) {\n                if (value) {\n                    this.options.location = Location.create(value).toArray();\n                    if (this.layer) {\n                        this.layer.update(this);\n                    }\n                    return this;\n                } else {\n                    return Location.create(this.options.location);\n                }\n            },\n            showAt: function (point) {\n                this.render();\n                this.element.css({\n                    left: math.round(point.x),\n                    top: math.round(point.y)\n                });\n                if (this.tooltip && this.tooltip.popup) {\n                    this.tooltip.popup._position();\n                }\n            },\n            hide: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n                if (this.tooltip) {\n                    this.tooltip.destroy();\n                    this.tooltip = null;\n                }\n            },\n            destroy: function () {\n                this.layer = null;\n                this.hide();\n            },\n            render: function () {\n                if (!this.element) {\n                    var options = this.options;\n                    var layer = this.layer;\n                    this.element = $(doc.createElement('span')).addClass('k-marker k-marker-' + kendo.toHyphens(options.shape || 'pin')).attr('title', options.title).attr(options.attributes || {}).data('kendoMarker', this).css('zIndex', options.zIndex);\n                    if (layer) {\n                        layer.element.append(this.element);\n                    }\n                    this.renderTooltip();\n                }\n            },\n            renderTooltip: function () {\n                var marker = this;\n                var title = marker.options.title;\n                var options = marker.options.tooltip || {};\n                if (options && Tooltip) {\n                    var template = options.template;\n                    if (template) {\n                        var contentTemplate = kendo.template(template);\n                        options.content = function (e) {\n                            e.location = marker.location();\n                            e.marker = marker;\n                            return contentTemplate(e);\n                        };\n                    }\n                    if (title || options.content || options.contentUrl) {\n                        this.tooltip = new Tooltip(this.element, options);\n                        this.tooltip.marker = this;\n                    }\n                }\n            }\n        });\n        Marker.create = function (arg, defaults) {\n            if (arg instanceof Marker) {\n                return arg;\n            }\n            return new Marker(deepExtend({}, defaults, arg));\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    marker: MarkerLayer,\n                    MarkerLayer: MarkerLayer\n                },\n                Marker: Marker\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/main', [\n        'dataviz/map/crs',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, min = math.min, pow = math.pow, proxy = $.proxy, kendo = window.kendo, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, ui = dataviz.ui, g = kendo.geometry, Point = g.Point, map = dataviz.map, Extent = map.Extent, Location = map.Location, EPSG3857 = map.crs.EPSG3857, util = kendo.util, defined = util.defined, limit = util.limitValue, renderPos = util.renderPos, valueOrDefault = util.valueOrDefault;\n        var CSS_PREFIX = 'k-', FRICTION = 0.9, FRICTION_MOBILE = 0.93, MOUSEWHEEL = 'DOMMouseScroll mousewheel', VELOCITY_MULTIPLIER = 5;\n        var Map = Widget.extend({\n            init: function (element, options) {\n                kendo.destroy(element);\n                Widget.fn.init.call(this, element);\n                this._initOptions(options);\n                this.bind(this.events, options);\n                this.crs = new EPSG3857();\n                this.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative').empty().append(doc.createElement('div'));\n                this._viewOrigin = this._getOrigin();\n                this._initScroller();\n                this._initMarkers();\n                this._initControls();\n                this._initLayers();\n                this._reset();\n                this._mousewheel = proxy(this._mousewheel, this);\n                this.element.bind('click', proxy(this._click, this));\n                this.element.bind(MOUSEWHEEL, this._mousewheel);\n            },\n            options: {\n                name: 'Map',\n                controls: {\n                    attribution: true,\n                    navigator: { panStep: 100 },\n                    zoom: true\n                },\n                layers: [],\n                layerDefaults: {\n                    shape: {\n                        style: {\n                            fill: { color: '#fff' },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    bubble: {\n                        style: {\n                            fill: {\n                                color: '#fff',\n                                opacity: 0.5\n                            },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    marker: {\n                        shape: 'pinTarget',\n                        tooltip: { position: 'top' }\n                    }\n                },\n                center: [\n                    0,\n                    0\n                ],\n                zoom: 3,\n                minSize: 256,\n                minZoom: 1,\n                maxZoom: 19,\n                markers: [],\n                markerDefaults: {\n                    shape: 'pinTarget',\n                    tooltip: { position: 'top' }\n                },\n                wraparound: true\n            },\n            events: [\n                'beforeReset',\n                'click',\n                'markerActivate',\n                'markerClick',\n                'markerCreated',\n                'pan',\n                'panEnd',\n                'reset',\n                'shapeClick',\n                'shapeCreated',\n                'shapeFeatureCreated',\n                'shapeMouseEnter',\n                'shapeMouseLeave',\n                'zoomEnd',\n                'zoomStart'\n            ],\n            destroy: function () {\n                this.scroller.destroy();\n                if (this.navigator) {\n                    this.navigator.destroy();\n                }\n                if (this.attribution) {\n                    this.attribution.destroy();\n                }\n                if (this.zoomControl) {\n                    this.zoomControl.destroy();\n                }\n                this.markers.destroy();\n                for (var i = 0; i < this.layers.length; i++) {\n                    this.layers[i].destroy();\n                }\n                Widget.fn.destroy.call(this);\n            },\n            zoom: function (level) {\n                var options = this.options;\n                if (defined(level)) {\n                    level = math.round(limit(level, options.minZoom, options.maxZoom));\n                    if (options.zoom !== level) {\n                        options.zoom = level;\n                        this._reset();\n                    }\n                    return this;\n                } else {\n                    return options.zoom;\n                }\n            },\n            center: function (center) {\n                if (center) {\n                    this.options.center = Location.create(center).toArray();\n                    this._reset();\n                    return this;\n                } else {\n                    return Location.create(this.options.center);\n                }\n            },\n            extent: function (extent) {\n                if (extent) {\n                    this._setExtent(extent);\n                    return this;\n                } else {\n                    return this._getExtent();\n                }\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._reset();\n            },\n            locationToLayer: function (location, zoom) {\n                var clamp = !this.options.wraparound;\n                location = Location.create(location);\n                return this.crs.toPoint(location, this._layerSize(zoom), clamp);\n            },\n            layerToLocation: function (point, zoom) {\n                var clamp = !this.options.wraparound;\n                point = Point.create(point);\n                return this.crs.toLocation(point, this._layerSize(zoom), clamp);\n            },\n            locationToView: function (location) {\n                location = Location.create(location);\n                var origin = this.locationToLayer(this._viewOrigin);\n                var point = this.locationToLayer(location);\n                return point.translateWith(origin.scale(-1));\n            },\n            viewToLocation: function (point, zoom) {\n                var origin = this.locationToLayer(this._getOrigin(), zoom);\n                point = Point.create(point);\n                point = point.clone().translateWith(origin);\n                return this.layerToLocation(point, zoom);\n            },\n            eventOffset: function (e) {\n                var offset = this.element.offset();\n                var event = e.originalEvent || e;\n                var x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n                var y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n                return new g.Point(x, y);\n            },\n            eventToView: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.locationToView(this.viewToLocation(cursor));\n            },\n            eventToLayer: function (e) {\n                return this.locationToLayer(this.eventToLocation(e));\n            },\n            eventToLocation: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.viewToLocation(cursor);\n            },\n            viewSize: function () {\n                var element = this.element;\n                var scale = this._layerSize();\n                var width = element.width();\n                if (!this.options.wraparound) {\n                    width = min(scale, width);\n                }\n                return {\n                    width: width,\n                    height: min(scale, element.height())\n                };\n            },\n            exportVisual: function () {\n                this._reset();\n                return false;\n            },\n            _setOrigin: function (origin, zoom) {\n                var size = this.viewSize(), topLeft;\n                origin = this._origin = Location.create(origin);\n                topLeft = this.locationToLayer(origin, zoom);\n                topLeft.x += size.width / 2;\n                topLeft.y += size.height / 2;\n                this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n                return this;\n            },\n            _getOrigin: function (invalidate) {\n                var size = this.viewSize(), topLeft;\n                if (invalidate || !this._origin) {\n                    topLeft = this.locationToLayer(this.center());\n                    topLeft.x -= size.width / 2;\n                    topLeft.y -= size.height / 2;\n                    this._origin = this.layerToLocation(topLeft);\n                }\n                return this._origin;\n            },\n            _setExtent: function (extent) {\n                extent = Extent.create(extent);\n                this.center(extent.center());\n                var width = this.element.width();\n                var height = this.element.height();\n                for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n                    var nw = this.locationToLayer(extent.nw, zoom);\n                    var se = this.locationToLayer(extent.se, zoom);\n                    var layerWidth = math.abs(se.x - nw.x);\n                    var layerHeight = math.abs(se.y - nw.y);\n                    if (layerWidth <= width && layerHeight <= height) {\n                        break;\n                    }\n                }\n                this.zoom(zoom);\n            },\n            _getExtent: function () {\n                var nw = this._getOrigin();\n                var bottomRight = this.locationToLayer(nw);\n                var size = this.viewSize();\n                bottomRight.x += size.width;\n                bottomRight.y += size.height;\n                var se = this.layerToLocation(bottomRight);\n                return new Extent(nw, se);\n            },\n            _zoomAround: function (pivot, level) {\n                this._setOrigin(this.layerToLocation(pivot, level), level);\n                this.zoom(level);\n            },\n            _initControls: function () {\n                var controls = this.options.controls;\n                if (ui.Attribution && controls.attribution) {\n                    this._createAttribution(controls.attribution);\n                }\n                if (!kendo.support.mobileOS) {\n                    if (ui.Navigator && controls.navigator) {\n                        this._createNavigator(controls.navigator);\n                    }\n                    if (ui.ZoomControl && controls.zoom) {\n                        this._createZoomControl(controls.zoom);\n                    }\n                }\n            },\n            _createControlElement: function (options, defaultPos) {\n                var pos = options.position || defaultPos;\n                var posSelector = '.' + renderPos(pos).replace(' ', '.');\n                var wrap = $('.k-map-controls' + posSelector, this.element);\n                if (wrap.length === 0) {\n                    wrap = $('<div>').addClass('k-map-controls ' + renderPos(pos)).appendTo(this.element);\n                }\n                return $('<div>').appendTo(wrap);\n            },\n            _createAttribution: function (options) {\n                var element = this._createControlElement(options, 'bottomRight');\n                this.attribution = new ui.Attribution(element, options);\n            },\n            _createNavigator: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var navigator = this.navigator = new ui.Navigator(element, options);\n                this._navigatorPan = proxy(this._navigatorPan, this);\n                navigator.bind('pan', this._navigatorPan);\n                this._navigatorCenter = proxy(this._navigatorCenter, this);\n                navigator.bind('center', this._navigatorCenter);\n            },\n            _navigatorPan: function (e) {\n                var map = this;\n                var scroller = map.scroller;\n                var x = scroller.scrollLeft + e.x;\n                var y = scroller.scrollTop - e.y;\n                var bounds = this._virtualSize;\n                var height = this.element.height();\n                var width = this.element.width();\n                x = limit(x, bounds.x.min, bounds.x.max - width);\n                y = limit(y, bounds.y.min, bounds.y.max - height);\n                map.scroller.one('scroll', function (e) {\n                    map._scrollEnd(e);\n                });\n                map.scroller.scrollTo(-x, -y);\n            },\n            _navigatorCenter: function () {\n                this.center(this.options.center);\n            },\n            _createZoomControl: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\n                this._zoomControlChange = proxy(this._zoomControlChange, this);\n                zoomControl.bind('change', this._zoomControlChange);\n            },\n            _zoomControlChange: function (e) {\n                if (!this.trigger('zoomStart', { originalEvent: e })) {\n                    this.zoom(this.zoom() + e.delta);\n                    this.trigger('zoomEnd', { originalEvent: e });\n                }\n            },\n            _initScroller: function () {\n                var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n                var zoomable = this.options.zoomable !== false;\n                var scroller = this.scroller = new kendo.mobile.ui.Scroller(this.element.children(0), {\n                    friction: friction,\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\n                    zoom: zoomable,\n                    mousewheelScrolling: false\n                });\n                scroller.bind('scroll', proxy(this._scroll, this));\n                scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n                scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n                scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n                this.scrollElement = scroller.scrollElement;\n            },\n            _initLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [];\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _initMarkers: function () {\n                this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\n                this.markers.add(this.options.markers);\n            },\n            _scroll: function (e) {\n                var origin = this.locationToLayer(this._viewOrigin).round();\n                var movable = e.sender.movable;\n                var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n                origin.x += offset.x;\n                origin.y += offset.y;\n                this._scrollOffset = offset;\n                this._setOrigin(this.layerToLocation(origin));\n                this.trigger('pan', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _scrollEnd: function (e) {\n                if (!this._scrollOffset || !this._panComplete()) {\n                    return;\n                }\n                this._scrollOffset = null;\n                this._panEndTS = new Date();\n                this.trigger('panEnd', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _panComplete: function () {\n                return new Date() - (this._panEndTS || 0) > 50;\n            },\n            _scaleStart: function (e) {\n                if (this.trigger('zoomStart', { originalEvent: e })) {\n                    var touch = e.touches[1];\n                    if (touch) {\n                        touch.cancel();\n                    }\n                }\n            },\n            _scale: function (e) {\n                var scale = this.scroller.movable.scale;\n                var zoom = this._scaleToZoom(scale);\n                var gestureCenter = new g.Point(e.center.x, e.center.y);\n                var centerLocation = this.viewToLocation(gestureCenter, zoom);\n                var centerPoint = this.locationToLayer(centerLocation, zoom);\n                var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n                this._zoomAround(originPoint, zoom);\n                this.trigger('zoomEnd', { originalEvent: e });\n            },\n            _scaleToZoom: function (scaleDelta) {\n                var scale = this._layerSize() * scaleDelta;\n                var tiles = scale / this.options.minSize;\n                var zoom = math.log(tiles) / math.log(2);\n                return math.round(zoom);\n            },\n            _reset: function () {\n                if (this.attribution) {\n                    this.attribution.filter(this.center(), this.zoom());\n                }\n                this._viewOrigin = this._getOrigin(true);\n                this._resetScroller();\n                this.trigger('beforeReset');\n                this.trigger('reset');\n            },\n            _resetScroller: function () {\n                var scroller = this.scroller;\n                var x = scroller.dimensions.x;\n                var y = scroller.dimensions.y;\n                var scale = this._layerSize();\n                var nw = this.extent().nw;\n                var topLeft = this.locationToLayer(nw).round();\n                scroller.movable.round = true;\n                scroller.reset();\n                scroller.userEvents.cancel();\n                var zoom = this.zoom();\n                scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n                scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n                var xBounds = {\n                    min: -topLeft.x,\n                    max: scale - topLeft.x\n                };\n                var yBounds = {\n                    min: -topLeft.y,\n                    max: scale - topLeft.y\n                };\n                if (this.options.wraparound) {\n                    xBounds.max = 20 * scale;\n                    xBounds.min = -xBounds.max;\n                }\n                if (this.options.pannable === false) {\n                    var viewSize = this.viewSize();\n                    xBounds.min = yBounds.min = 0;\n                    xBounds.max = viewSize.width;\n                    yBounds.max = viewSize.height;\n                }\n                x.makeVirtual();\n                y.makeVirtual();\n                x.virtualSize(xBounds.min, xBounds.max);\n                y.virtualSize(yBounds.min, yBounds.max);\n                this._virtualSize = {\n                    x: xBounds,\n                    y: yBounds\n                };\n            },\n            _renderLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [], scrollWrap = this.scrollWrap;\n                scrollWrap.empty();\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _layerSize: function (zoom) {\n                zoom = valueOrDefault(zoom, this.options.zoom);\n                return this.options.minSize * pow(2, zoom);\n            },\n            _click: function (e) {\n                if (!this._panComplete()) {\n                    return;\n                }\n                var cursor = this.eventOffset(e);\n                this.trigger('click', {\n                    originalEvent: e,\n                    location: this.viewToLocation(cursor)\n                });\n            },\n            _mousewheel: function (e) {\n                e.preventDefault();\n                var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\n                var options = this.options;\n                var fromZoom = this.zoom();\n                var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\n                if (options.zoomable !== false && toZoom !== fromZoom) {\n                    if (!this.trigger('zoomStart', { originalEvent: e })) {\n                        var cursor = this.eventOffset(e);\n                        var location = this.viewToLocation(cursor);\n                        var postZoom = this.locationToLayer(location, toZoom);\n                        var origin = postZoom.translate(-cursor.x, -cursor.y);\n                        this._zoomAround(origin, toZoom);\n                        this.trigger('zoomEnd', { originalEvent: e });\n                    }\n                }\n            }\n        });\n        dataviz.ui.plugin(Map);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.map', [\n        'kendo.data',\n        'kendo.userevents',\n        'kendo.tooltip',\n        'kendo.mobile.scroller',\n        'kendo.draganddrop',\n        'kendo.dataviz.core',\n        'dataviz/map/location',\n        'dataviz/map/attribution',\n        'dataviz/map/navigator',\n        'dataviz/map/zoom',\n        'dataviz/map/crs',\n        'dataviz/map/layers/base',\n        'dataviz/map/layers/shape',\n        'dataviz/map/layers/bubble',\n        'dataviz/map/layers/tile',\n        'dataviz/map/layers/bing',\n        'dataviz/map/layers/marker',\n        'dataviz/map/main'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.map',\n        name: 'Map',\n        category: 'dataviz',\n        description: 'The Kendo DataViz Map displays spatial data',\n        depends: [\n            'data',\n            'userevents',\n            'tooltip',\n            'dataviz.core',\n            'drawing',\n            'mobile.scroller'\n        ]\n    };\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}