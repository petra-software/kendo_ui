{"version":3,"sources":["kendo.scheduler.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","isUnicodeLetter","ch","RX_UNICODE_LETTER","test","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","RegExp","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","timezoneButtonText","model","message","startTimezone","endTimezone","appendTimezoneAttr","timezone","attr","appendDateCompareValidator","dateCompareRule","validationRules","fields","validation","dateCompare","isPlainObject","wrapDataAccess","originalFunction","data","convertData","wrapDataSerialization","toString","call","ObservableArray","method","removeUid","start","convert","end","uid","getOccurrenceByUid","applyZone","date","fromZone","toZone","remove","dateCompareValidator","container","startInput","endInput","startPicker","endPicker","editable","filter","closest","find","widgetInstance","ui","parseDate","expandAll","events","zone","concat","expand","trimOptions","prefix","edit","add","navigate","createValidationAttributes","ruleName","rule","modelField","specialRules","datatype","isFunction","dropDownResourceEditor","resource","format","ns","appendTo","kendoDropDownList","dataTextField","dataValueField","dataSource","valuePrimitive","optionLabel","dataColorField","descriptionEditor","multiSelectResourceEditor","kendoMultiSelect","itemTemplate","tagTemplate","multiSelectResourceEditorMobile","view","getter","moveEventRange","distance","duration","setTime","defaultCommands","editors","Editor","MobileEditor","PopupEditor","Scheduler","defaultViews","SCHEDULER_EXPORT","TimezoneEditor","ZONETITLEOPTIONTEMPLATE","ZONEOPTIONTEMPLATE","MobileTimezoneEditor","input_support","support","MS_PER_DAY","getDate","getMilliseconds","recurrence","keys","Widget","DataBoundWidget","STRING","Popup","Calendar","DataSource","proxy","prototype","isArray","NS","CLICK","CHANGE","CANCEL","REMOVE","SAVE","ADD","EDIT","valueStartEndBoundRegex","TODAY","EXCEPTION_SEPARATOR","OLD_EXCEPTION_SEPARATOR_REGEXP","RECURRENCE_EXCEPTION","DELETECONFIRM","DELETERECURRING","EDITRECURRING","DELETERECURRINGCONFIRM","DELETESERIESCONFIRM","COMMANDBUTTONTMPL","VIEWBUTTONTEMPLATE","TOOLBARTEMPLATE","MOBILETOOLBARTEMPLATE","MOBILEDATERANGEEDITOR","datepicker_role","datetimepicker_role","isAllDay","dateTimeValidate","dateValidate","hide","DATERANGEEDITOR","RECURRENCEEDITOR","kendoRecurrenceEditor","messages","MOBILERECURRENCEEDITOR","kendoMobileRecurrenceEditor","pane","MOBILETIMEZONEPOPUP","noTimezone","click","TIMEZONEPOPUP","timezoneEditorButton","MOBILETIMEZONEEDITOR","toggle","visible","kendoMobileTimezoneEditor","TIMEZONEEDITOR","kendoTimezoneEditor","SchedulerDataReader","schema","reader","serialize","errors","parse","total","groups","aggregates","SchedulerEvent","Model","that","fn","_defaultId","defaults","idField","_time","fieldTime","toUtcTime","_date","clone","updateUid","constructor","toJSON","offset","getTimezoneOffset","MS_PER_MINUTE","update","eventInfo","set","_startTime","_endTime","isMultiDay","isException","isNew","recurrenceId","isOccurrence","isRecurring","recurrenceRule","isRecurrenceHead","toOccurrence","recurrenceException","obj","shouldSerialize","milliseconds","type","title","required","description","SchedulerDataSource","modelBase","logic","filters","operator","Query","toArray","cancelChanges","_removeExceptionDate","insert","_createNewModel","accept","_pushCreated","_addExceptionDate","pushCreate","items","_removeExceptions","item","head","replaceRegExp","toExceptionString","replace","newException","Error","className","canceledit","destroy","imageClass","iconClass","mobile","dateRange","timezonePopUp","multipleResources","resources","desktop","Observable","createButton","toggleDateValidationHandler","_toggleDateValidation","isDateTimeInput","shouldValidate","bindAttribute","each","is","resourceIndex","preventDefault","_initTimezoneEditor","editor","allDayEvent","windows_zones","repeat","recurrenceEditor","multiple","_buildEditTemplate","editableFields","tmpl","settings","Template","templateSettings","html","unescape","separateTimezones","expr","_createEndTimezoneButton","_revertTimezones","_startTimezone","_endTimezone","Pane","wrap","parent","css","_actionSheetButtonTemplate","_actionSheetPopupOptions","documentElement","hasClass","modal","align","position","effect","animations","close","unbind","timezoneView","checkbox","endTimezoneRow","startTimezoneChange","prop","cancel","timezoneTitle","save","contentElement","show","on","editView","stopPropagation","bind","_createActionSheetButton","showDialog","buttonIndex","actionSheet","target","buttons","kendoMobileActionSheet","cancelTemplate","command","currentTarget","popup","open","editEvent","updateText","removeText","cancelText","titleText","editorTitle","kendoEditable","clearContainer","validateOnBlur","addClass","next","children","button","_views","roleSelector","not","views","eq","purge","deleteText","kendoWindow","resizable","draggable","userTriggered","center","cycleForm","_timezonePopup","wrapper","focus","getKendoWindow","activator","wnd","saveButton","cancelButton","timezonePopup","timezoneEditorTitle","_initModel","_wrapper","_toolbar","_dataSource","_resources","_resizeHandler","resize","_resizable","_movable","_bindResize","_selectable","_ariaId","guid","_createEditor","_unbindResize","off","dataItems","eventsCount","sortedData","_data","eventsUids","dict","eventsUidsLength","_isMobile","mobileOS","_isMobilePhoneView","tablet","_groupsByResource","groupIndex","groupsArray","parentFieldValue","parentField","group","prevIndex","dataIndex","fieldValue","currentGroupIndex","select","selectedGroups","selectedEvents","slots","fieldName","groupsByResource","rangeStart","rangeEnd","ranges","selection","_selection","_selectedSlots","_selectedEvents","_resourceBySlot","_old","clearSelection","groupedResources","_selectEvents","_select","_startDate","addDays","_endDate","toLocalDate","isDaySlot","currentGroup","timeSlotCollectionCount","daySlotCollectionCount","collIdx","dayCollIdx","eventsLength","isGrouped","getTimeSlotCollection","getDaySlotCollection","_createSelection","mouseMoveHandler","selectEvent","selectable","_tabindex","which","browser","isRight","isDefaultPrevented","msie","version","setTimeout","_mouseMove","_selectFirstSlot","_ctrlKey","_shiftKey","_keydown","ctrlKey","shiftKey","currentUid","labelFormat","removeAttribute","removeAttr","ariaEventLabel","ariaSlotLabel","setAttribute","uids","occurrenceByUid","clearTimeout","_moveTimer","slot","startDate","endDate","selectionByElement","backward","_viewByIndex","keyCode","TAB","moveToEvent","ENTER","addEvent","DELETE","removeEvent","move","inRange","_adjustSelectedDate","_updateSelection","dataItem","_updateEventForSelection","_timeSlotInterval","autoBind","snap","allDaySlot","toolbar","footer","today","pdf","deleteWindowTitle","day","week","workWeek","agenda","month","timeline","timelineWeek","timelineWorkWeek","timelineMonth","recurrenceMessages","deleteWindowOccurrence","deleteWindowSeries","editWindowTitle","editWindowOccurrence","editWindowSeries","confirmation","orientation","_refreshHandler","_progressHandler","_errorHandler","calendar","_editor","_moveDraggable","_resizeDraggable","_model","setDataSource","fetch","content","siblings","startSlot","endSlot","startTime","endTime","clonedEvent","originSlot","isMobile","movable","android","Draggable","ignore","holdToDrag","autoScroll","eventElement","removeClass","_eventOptionsForMove","_slotByPosition","startLocation","y","startOffset","range","location","_updateMoveHint","endResources","startResources","prevented","updatedEventOptions","eventOptions","_removeMoveHint","stringify","_updateEvent","cancelHold","userEvents","direction","handle","directions","k-resize-e","k-resize-w","k-resize-n","k-resize-s","dragstart","dragHandle","_updateEventForResize","drag","dir","currentSlot","originalStart","originalEnd","endOffset","_updateResizeHint","dragend","_removeResizeHint","setHours","setMinutes","dragcancel","updateEvent","_preventRefresh","_convertDates","sync","recurrenceHead","getByUid","updateSeries","updateOccurrence","exception","_showRecurringDialog","editRecurring","occurrenceText","seriesText","_modelForContainer","_confirmation","_isEditorOpened","deleteRecurringConfirmation","deleteSeriesConfirmation","cancelEvent","_editEvent","saveEvent","dirty","_editRecurringDialog","_createPopupEditor","editOccurrence","editSeries","editRecurringMode","_createButton","commandName","_set","_deleteRecurringDialog","_removeEvent","occurrence","occurrencesInRange","deleteOccurrenceConfirmation","seriesCallback","occurrenceCallback","currentModel","deleteOccurrence","deleteSeries","deleteRecurring","_unbindView","angular","elements","_bindView","_viewRemoveHandler","_viewAddHandler","_viewEditHandler","_viewNavigateHandler","switchWorkDay","action","isWorkDay","_workDayMode","_selectView","_viewActivateHandler","constrainSelection","viewButton","firstButton","viewButtons","_selectedView","_renderView","_selectedViewName","_viewsCount","replaceWith","prepend","rebind","viewName","_initializeView","dateForTitle","shortDateForTitle","force","getSize","currentSize","refresh","selectedDate","isInDateRange","setFullYear","getFullYear","getMonth","isSettings","showWorkHours","defaultView","selected","hasType","allDay","time","_requestStart","_error","_progress","progress","when","observable","formattedDate","formattedShortDate","commands","grep","viewsCount","saveAsPDF","li","nextDate","previousDate","_showCalendar","toggleClass","hover","anchor","change","copyAnchorStyles","refreshLayout","render","slotByPosition","slotByElement","top","resourcesBySlot","plugin","PDFMixin","_drawPDF","scheduler","promise","table","styles","cssText","Deferred","_drawPDFShadow","avoidLinks","done","args","page","pageNumber","totalPages","notify","resolve","fail","err","reject","always","zones","zones_titles","_zonesQuery","_zoneTitleId","_zoneTitlePicker","_zonePicker","_zoneTitle","_zone","_value","zoneTitle","DropDownList","cascadeFrom","dataBound","other_zone","_bindZones","_filter","_options","zonePicker","zone_value"],"mappings":"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","file":"kendo.scheduler.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        function isUnicodeLetter(ch) {\n            return RX_UNICODE_LETTER.test(ch);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort,\n                isUnicodeLetter: isUnicodeLetter\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n        var RX_UNICODE_LETTER = new RegExp('[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]');\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.scheduler', [\n        'kendo.dropdownlist',\n        'kendo.editable',\n        'kendo.multiselect',\n        'kendo.window',\n        'kendo.datetimepicker',\n        'kendo.scheduler.recurrence',\n        'kendo.scheduler.view',\n        'kendo.scheduler.dayview',\n        'kendo.scheduler.agendaview',\n        'kendo.scheduler.monthview',\n        'kendo.scheduler.timelineview',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'scheduler',\n        name: 'Scheduler',\n        category: 'web',\n        description: 'The Scheduler is an event calendar.',\n        depends: [\n            'dropdownlist',\n            'editable',\n            'multiselect',\n            'window',\n            'datepicker',\n            'datetimepicker',\n            'scheduler.recurrence',\n            'scheduler.view'\n        ],\n        features: [\n            {\n                id: 'scheduler-dayview',\n                name: 'Scheduler Day View',\n                description: 'Scheduler Day View',\n                depends: ['scheduler.dayview']\n            },\n            {\n                id: 'scheduler-agendaview',\n                name: 'Scheduler Agenda View',\n                description: 'Scheduler Agenda View',\n                depends: ['scheduler.agendaview']\n            },\n            {\n                id: 'scheduler-monthview',\n                name: 'Scheduler Month View',\n                description: 'Scheduler Month View',\n                depends: ['scheduler.monthview']\n            },\n            {\n                id: 'scheduler-timelineview',\n                name: 'Scheduler Timeline View',\n                description: 'Scheduler Timeline View',\n                depends: ['scheduler.timelineview']\n            },\n            {\n                id: 'scheduler-mobile',\n                name: 'Scheduler adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'scheduler-pdf-export',\n                name: 'PDF export',\n                description: 'Export the scheduler events as PDF',\n                depends: [\n                    'pdf',\n                    'drawing'\n                ]\n            },\n            {\n                id: 'scheduler-timezones',\n                name: 'Timezones',\n                description: 'Allow selecting timezones different than Etc/UTC',\n                depends: ['timezones']\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, date = kendo.date, input_support = kendo.support.input, MS_PER_DAY = date.MS_PER_DAY, getDate = date.getDate, getMilliseconds = kendo.date.getMilliseconds, recurrence = kendo.recurrence, keys = kendo.keys, ui = kendo.ui, Widget = ui.Widget, DataBoundWidget = ui.DataBoundWidget, STRING = 'string', Popup = ui.Popup, Calendar = ui.Calendar, DataSource = kendo.data.DataSource, isPlainObject = $.isPlainObject, extend = $.extend, proxy = $.proxy, toString = Object.prototype.toString, isArray = $.isArray, NS = '.kendoScheduler', CLICK = 'click', CHANGE = 'change', CANCEL = 'cancel', REMOVE = 'remove', SAVE = 'save', ADD = 'add', EDIT = 'edit', valueStartEndBoundRegex = /(?:value:start|value:end)(?:,|$)/, TODAY = getDate(new Date()), EXCEPTION_SEPARATOR = ',', OLD_EXCEPTION_SEPARATOR_REGEXP = /\\;/g, RECURRENCE_EXCEPTION = 'recurrenceException', DELETECONFIRM = 'Are you sure you want to delete this event?', DELETERECURRING = 'Do you want to delete only this event occurrence or the whole series?', EDITRECURRING = 'Do you want to edit only this event occurrence or the whole series?', DELETERECURRINGCONFIRM = 'Are you sure you want to delete this event occurrence?', DELETESERIESCONFIRM = 'Are you sure you want to delete the whole series?', COMMANDBUTTONTMPL = '<a class=\"k-button #=className#\" #=attr# href=\"\\\\#\">#=text#</a>', VIEWBUTTONTEMPLATE = kendo.template('<li class=\"k-current-view\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>'), TOOLBARTEMPLATE = kendo.template('<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '# if (pdf) { #' + '<ul class=\"k-reset k-scheduler-tools\">' + '<li><a role=\"button\" href=\"\\\\#\" class=\"k-button k-pdf\"><span class=\"k-icon k-i-pdf\"></span>${messages.pdf}</a></li>' + '</ul>' + '# } #' + '<ul class=\"k-reset k-scheduler-navigation\">' + '<li class=\"k-state-default k-header k-nav-today\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${messages.today}</a></li>' + '<li class=\"k-state-default k-header k-nav-prev\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-w\"></span></a></li>' + '<li class=\"k-state-default k-header k-nav-next\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-e\"></span></a></li>' + '<li class=\"k-state-default k-nav-current\">' + '<a role=\"button\" href=\"\\\\#\" class=\"k-link\">' + '<span class=\"k-icon k-i-calendar\"></span>' + '<span class=\"k-sm-date-format\" data-#=ns#bind=\"text: formattedShortDate\"></span>' + '<span class=\"k-lg-date-format\" data-#=ns#bind=\"text: formattedDate\"></span>' + '</a>' + '</li>' + '</ul>' + '#if(viewsCount === 1){#' + '<a role=\"button\" data-#=ns#name=\"#=view#\" href=\"\\\\#\" class=\"k-link k-scheduler-refresh\">' + '<span class=\"k-icon k-i-refresh\"></span>' + '</a>' + '#}else{#' + '<ul class=\"k-reset k-header k-scheduler-views\">' + '#for(var view in views){#' + '<li class=\"k-state-default k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>' + '#}#' + '</ul>' + '#}#' + '</div>'), MOBILETOOLBARTEMPLATE = kendo.template('<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '<ul class=\"k-reset k-header k-scheduler-navigation\">' + '<li class=\"k-state-default k-nav-today\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${messages.today}</a></li>' + '</ul>' + '#if(viewsCount === 1){#' + '<a role=\"button\" data-#=ns#name=\"#=view#\" href=\"\\\\#\" class=\"k-link k-scheduler-refresh\">' + '<span class=\"k-icon k-i-refresh\"></span>' + '</a>' + '#}else{#' + '<ul class=\"k-reset k-header k-scheduler-views\">' + '#for(var view in views){#' + '<li class=\"k-state-default k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>' + '#}#' + '</ul>' + '#}#' + '</div>' + '<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '<ul class=\"k-reset k-header k-scheduler-navigation\">' + '<li class=\"k-state-default k-nav-prev\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-w\"></span></a></li>' + '<li class=\"k-state-default k-nav-current\">' + '<span class=\"k-sm-date-format\" data-#=ns#bind=\"text: formattedShortDate\"></span>' + '<span class=\"k-lg-date-format\" data-#=ns#bind=\"text: formattedDate\"></span>' + '</li>' + '<li class=\"k-state-default k-nav-next\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-e\"></span></a></li>' + '</ul>' + '</div>'), MOBILEDATERANGEEDITOR = function (container, options) {\n                var attr = { name: options.field };\n                var datepicker_role = !input_support.date ? kendo.attr('role') + '=\"datepicker\" ' : '';\n                var datetimepicker_role = kendo.attr('role') + '=\"datetimepicker\" ';\n                var isAllDay = options.model.isAllDay;\n                var dateTimeValidate = kendo.attr('validate') + '=\\'' + !isAllDay + '\\'';\n                var dateValidate = kendo.attr('validate') + '=\\'' + isAllDay + '\\'';\n                appendTimezoneAttr(attr, options);\n                appendDateCompareValidator(attr, options);\n                $('<input type=\"datetime-local\" required ' + kendo.attr('type') + '=\"date\" ' + datetimepicker_role + kendo.attr('bind') + '=\"value:' + options.field + ',invisible:isAllDay\" ' + dateTimeValidate + '/>').attr(attr).appendTo(container);\n                $('<input type=\"date\" required ' + kendo.attr('type') + '=\"date\" ' + datepicker_role + kendo.attr('bind') + '=\"value:' + options.field + ',visible:isAllDay\" ' + dateValidate + '/>').attr(attr).appendTo(container);\n                $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\n            }, DATERANGEEDITOR = function (container, options) {\n                var attr = { name: options.field }, isAllDay = options.model.isAllDay, dateTimeValidate = kendo.attr('validate') + '=\\'' + !isAllDay + '\\' ', dateValidate = kendo.attr('validate') + '=\\'' + isAllDay + '\\' ';\n                appendTimezoneAttr(attr, options);\n                appendDateCompareValidator(attr, options);\n                $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\"' + ' ' + kendo.attr('role') + '=\"datetimepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + ',invisible:isAllDay\" ' + dateTimeValidate + '/>').attr(attr).appendTo(container);\n                $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\"' + ' ' + kendo.attr('role') + '=\"datepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + ',visible:isAllDay\" ' + dateValidate + '/>').attr(attr).appendTo(container);\n                $('<span ' + kendo.attr('bind') + '=\"text: ' + options.field + 'Timezone\"></span>').appendTo(container);\n                if (options.field === 'end') {\n                    $('<span ' + kendo.attr('bind') + '=\"text: startTimezone, invisible: endTimezone\"></span>').appendTo(container);\n                }\n                $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\n            }, RECURRENCEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).appendTo(container).kendoRecurrenceEditor({\n                    start: options.model.start,\n                    timezone: options.timezone,\n                    messages: options.messages\n                });\n            }, MOBILERECURRENCEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).appendTo(container).kendoMobileRecurrenceEditor({\n                    start: options.model.start,\n                    timezone: options.timezone,\n                    messages: options.messages,\n                    pane: options.pane,\n                    value: options.model[options.field]\n                });\n            }, MOBILETIMEZONEPOPUP = function (container, options) {\n                var text = timezoneButtonText(options.model, options.messages.noTimezone);\n                $('<a href=\"#\" class=\"k-button k-timezone-button\" data-bind=\"invisible:isAllDay\">' + text + '</a>').click(options.click).appendTo(container);\n            }, TIMEZONEPOPUP = function (container, options) {\n                $('<a href=\"#\" class=\"k-button\" data-bind=\"invisible:isAllDay\">' + options.messages.timezoneEditorButton + '</a>').click(options.click).appendTo(container);\n            }, MOBILETIMEZONEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).toggle(options.visible).appendTo(container).kendoMobileTimezoneEditor({ optionLabel: options.noTimezone });\n            }, TIMEZONEEDITOR = function (container, options) {\n                var visible = options.visible || options.visible === undefined;\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).toggle(visible).appendTo(container).kendoTimezoneEditor({ optionLabel: options.noTimezone });\n            };\n        function timezoneButtonText(model, message) {\n            message = message || '';\n            if (model.startTimezone) {\n                message = model.startTimezone;\n                if (model.endTimezone) {\n                    message += ' | ' + model.endTimezone;\n                }\n            }\n            return message;\n        }\n        function appendTimezoneAttr(attrs, options) {\n            var timezone = options.timezone;\n            if (timezone) {\n                attrs[kendo.attr('timezone')] = timezone;\n            }\n        }\n        function appendDateCompareValidator(attrs, options) {\n            var validationRules = options.model.fields[options.field].validation;\n            if (validationRules) {\n                var dateCompareRule = validationRules.dateCompare;\n                if (dateCompareRule && isPlainObject(dateCompareRule) && dateCompareRule.message) {\n                    attrs[kendo.attr('dateCompare-msg')] = dateCompareRule.message;\n                }\n            }\n        }\n        function wrapDataAccess(originalFunction, timezone) {\n            return function (data) {\n                data = originalFunction(data);\n                convertData(data, 'apply', timezone);\n                return data || [];\n            };\n        }\n        function wrapDataSerialization(originalFunction, timezone) {\n            return function (data) {\n                if (data) {\n                    if (toString.call(data) !== '[object Array]' && !(data instanceof kendo.data.ObservableArray)) {\n                        data = [data];\n                    }\n                }\n                convertData(data, 'remove', timezone, true);\n                data = originalFunction(data);\n                return data || [];\n            };\n        }\n        function convertData(data, method, timezone, removeUid) {\n            var event, idx, length;\n            data = data || [];\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                event = data[idx];\n                if (removeUid) {\n                    if (event.startTimezone || event.endTimezone) {\n                        if (timezone) {\n                            event.start = kendo.timezone.convert(event.start, event.startTimezone || event.endTimezone, timezone);\n                            event.end = kendo.timezone.convert(event.end, event.endTimezone || event.startTimezone, timezone);\n                            event.start = kendo.timezone[method](event.start, timezone);\n                            event.end = kendo.timezone[method](event.end, timezone);\n                        } else {\n                            event.start = kendo.timezone[method](event.start, event.startTimezone || event.endTimezone);\n                            event.end = kendo.timezone[method](event.end, event.endTimezone || event.startTimezone);\n                        }\n                    } else if (timezone) {\n                        event.start = kendo.timezone[method](event.start, timezone);\n                        event.end = kendo.timezone[method](event.end, timezone);\n                    }\n                } else {\n                    if (event.startTimezone || event.endTimezone) {\n                        event.start = kendo.timezone[method](event.start, event.startTimezone || event.endTimezone);\n                        event.end = kendo.timezone[method](event.end, event.endTimezone || event.startTimezone);\n                        if (timezone) {\n                            event.start = kendo.timezone.convert(event.start, event.startTimezone || event.endTimezone, timezone);\n                            event.end = kendo.timezone.convert(event.end, event.endTimezone || event.startTimezone, timezone);\n                        }\n                    } else if (timezone) {\n                        event.start = kendo.timezone[method](event.start, timezone);\n                        event.end = kendo.timezone[method](event.end, timezone);\n                    }\n                }\n                if (removeUid) {\n                    delete event.uid;\n                }\n            }\n            return data;\n        }\n        function getOccurrenceByUid(data, uid) {\n            var length = data.length, idx = 0, event;\n            for (; idx < length; idx++) {\n                event = data[idx];\n                if (event.uid === uid) {\n                    return event;\n                }\n            }\n        }\n        var SchedulerDataReader = kendo.Class.extend({\n            init: function (schema, reader) {\n                var timezone = schema.timezone;\n                this.reader = reader;\n                if (reader.model) {\n                    this.model = reader.model;\n                }\n                this.timezone = timezone;\n                this.data = wrapDataAccess($.proxy(this.data, this), timezone);\n                this.serialize = wrapDataSerialization($.proxy(this.serialize, this), timezone);\n            },\n            errors: function (data) {\n                return this.reader.errors(data);\n            },\n            parse: function (data) {\n                return this.reader.parse(data);\n            },\n            data: function (data) {\n                return this.reader.data(data);\n            },\n            total: function (data) {\n                return this.reader.total(data);\n            },\n            groups: function (data) {\n                return this.reader.groups(data);\n            },\n            aggregates: function (data) {\n                return this.reader.aggregates(data);\n            },\n            serialize: function (data) {\n                return this.reader.serialize(data);\n            }\n        });\n        function applyZone(date, fromZone, toZone) {\n            if (toZone) {\n                date = kendo.timezone.convert(date, fromZone, toZone);\n            } else {\n                date = kendo.timezone.remove(date, fromZone);\n            }\n            return date;\n        }\n        function dateCompareValidator(input) {\n            if (input.filter('[name=end]').length) {\n                var container = input.closest('.k-scheduler-edit-form');\n                var startInput = container.find('[name=start]:visible');\n                var endInput = container.find('[name=end]:visible');\n                if (endInput[0] && startInput[0]) {\n                    var start, end;\n                    var startPicker = kendo.widgetInstance(startInput, kendo.ui);\n                    var endPicker = kendo.widgetInstance(endInput, kendo.ui);\n                    var editable = container.data('kendoEditable');\n                    var model = editable ? editable.options.model : null;\n                    if (startPicker && endPicker) {\n                        start = startPicker.value();\n                        end = endPicker.value();\n                    } else {\n                        start = kendo.parseDate(startInput.val());\n                        end = kendo.parseDate(endInput.val());\n                    }\n                    if (start && end) {\n                        if (model) {\n                            var timezone = startInput.attr(kendo.attr('timezone'));\n                            var startTimezone = model.startTimezone;\n                            var endTimezone = model.endTimezone;\n                            startTimezone = startTimezone || endTimezone;\n                            endTimezone = endTimezone || startTimezone;\n                            if (startTimezone) {\n                                start = applyZone(start, startTimezone, timezone);\n                                end = applyZone(end, endTimezone, timezone);\n                            }\n                        }\n                        return start <= end;\n                    }\n                }\n            }\n            return true;\n        }\n        var SchedulerEvent = kendo.data.Model.define({\n            init: function (value) {\n                var that = this;\n                kendo.data.Model.fn.init.call(that, value);\n                that._defaultId = that.defaults[that.idField];\n            },\n            _time: function (field) {\n                var date = this[field];\n                var fieldTime = '_' + field + 'Time';\n                if (this[fieldTime]) {\n                    return this[fieldTime] - kendo.date.toUtcTime(kendo.date.getDate(date));\n                }\n                return getMilliseconds(date);\n            },\n            _date: function (field) {\n                var fieldTime = '_' + field + 'Time';\n                if (this[fieldTime]) {\n                    return this[fieldTime] - this._time(field);\n                }\n                return kendo.date.getDate(this[field]);\n            },\n            clone: function (options, updateUid) {\n                var uid = this.uid, event = new this.constructor($.extend({}, this.toJSON(), options));\n                if (!updateUid) {\n                    event.uid = uid;\n                }\n                return event;\n            },\n            duration: function () {\n                var end = this.end;\n                var start = this.start;\n                var offset = (end.getTimezoneOffset() - start.getTimezoneOffset()) * kendo.date.MS_PER_MINUTE;\n                return end - start - offset;\n            },\n            expand: function (start, end, zone) {\n                return recurrence ? recurrence.expand(this, start, end, zone) : [this];\n            },\n            update: function (eventInfo) {\n                for (var field in eventInfo) {\n                    this.set(field, eventInfo[field]);\n                }\n                if (this._startTime) {\n                    this.set('_startTime', kendo.date.toUtcTime(this.start));\n                }\n                if (this._endTime) {\n                    this.set('_endTime', kendo.date.toUtcTime(this.end));\n                }\n            },\n            isMultiDay: function () {\n                return this.isAllDay || this.duration() >= kendo.date.MS_PER_DAY;\n            },\n            isException: function () {\n                return !this.isNew() && this.recurrenceId;\n            },\n            isOccurrence: function () {\n                return this.isNew() && this.recurrenceId;\n            },\n            isRecurring: function () {\n                return !!(this.recurrenceRule || this.recurrenceId);\n            },\n            isRecurrenceHead: function () {\n                return !!(this.id && this.recurrenceRule);\n            },\n            toOccurrence: function (options) {\n                options = $.extend(options, {\n                    recurrenceException: null,\n                    recurrenceRule: null,\n                    recurrenceId: this.id || this.recurrenceId\n                });\n                options[this.idField] = this.defaults[this.idField];\n                return this.clone(options, true);\n            },\n            toJSON: function () {\n                var obj = kendo.data.Model.fn.toJSON.call(this);\n                obj.uid = this.uid;\n                delete obj._startTime;\n                delete obj._endTime;\n                return obj;\n            },\n            shouldSerialize: function (field) {\n                return kendo.data.Model.fn.shouldSerialize.call(this, field) && field !== '_defaultId';\n            },\n            set: function (key, value) {\n                var isAllDay = this.isAllDay || false;\n                kendo.data.Model.fn.set.call(this, key, value);\n                if (key == 'isAllDay' && value != isAllDay) {\n                    var start = kendo.date.getDate(this.start);\n                    var end = new Date(this.end);\n                    var milliseconds = kendo.date.getMilliseconds(end);\n                    if (milliseconds === 0 && value) {\n                        milliseconds = MS_PER_DAY;\n                    }\n                    this.set('start', start);\n                    if (value === true) {\n                        kendo.date.setTime(end, -milliseconds);\n                        if (end < start) {\n                            end = start;\n                        }\n                    } else {\n                        kendo.date.setTime(end, MS_PER_DAY - milliseconds);\n                    }\n                    this.set('end', end);\n                }\n            },\n            id: 'id',\n            fields: {\n                id: { type: 'number' },\n                title: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                start: {\n                    type: 'date',\n                    validation: { required: true }\n                },\n                startTimezone: { type: 'string' },\n                end: {\n                    type: 'date',\n                    validation: {\n                        required: true,\n                        dateCompare: { value: dateCompareValidator }\n                    }\n                },\n                endTimezone: { type: 'string' },\n                recurrenceRule: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                recurrenceException: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                isAllDay: {\n                    type: 'boolean',\n                    defaultValue: false\n                },\n                description: { type: 'string' }\n            }\n        });\n        var SchedulerDataSource = DataSource.extend({\n            init: function (options) {\n                DataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: SchedulerEvent,\n                        model: SchedulerEvent\n                    }\n                }, options));\n                this.reader = new SchedulerDataReader(this.options.schema, this.reader);\n            },\n            expand: function (start, end) {\n                var data = this.view(), filter = {};\n                if (start && end) {\n                    end = new Date(end.getTime() + MS_PER_DAY - 1);\n                    filter = {\n                        logic: 'or',\n                        filters: [\n                            {\n                                logic: 'and',\n                                filters: [\n                                    {\n                                        field: 'start',\n                                        operator: 'gte',\n                                        value: start\n                                    },\n                                    {\n                                        field: 'end',\n                                        operator: 'gte',\n                                        value: start\n                                    },\n                                    {\n                                        field: 'start',\n                                        operator: 'lte',\n                                        value: end\n                                    }\n                                ]\n                            },\n                            {\n                                logic: 'and',\n                                filters: [\n                                    {\n                                        field: 'start',\n                                        operator: 'lte',\n                                        value: new Date(start.getTime() + MS_PER_DAY - 1)\n                                    },\n                                    {\n                                        field: 'end',\n                                        operator: 'gte',\n                                        value: start\n                                    }\n                                ]\n                            }\n                        ]\n                    };\n                    data = new kendo.data.Query(expandAll(data, start, end, this.reader.timezone)).filter(filter).toArray();\n                }\n                return data;\n            },\n            cancelChanges: function (model) {\n                if (model && model.isOccurrence()) {\n                    this._removeExceptionDate(model);\n                }\n                DataSource.fn.cancelChanges.call(this, model);\n            },\n            insert: function (index, model) {\n                if (!model) {\n                    return;\n                }\n                if (!(model instanceof SchedulerEvent)) {\n                    var eventInfo = model;\n                    model = this._createNewModel();\n                    model.accept(eventInfo);\n                }\n                if (!this._pushCreated && model.isRecurrenceHead() || model.recurrenceId) {\n                    model = model.recurrenceId ? model : model.toOccurrence();\n                    this._addExceptionDate(model);\n                }\n                return DataSource.fn.insert.call(this, index, model);\n            },\n            pushCreate: function (items) {\n                this._pushCreated = true;\n                DataSource.fn.pushCreate.call(this, items);\n                this._pushCreated = false;\n            },\n            remove: function (model) {\n                if (model.isRecurrenceHead()) {\n                    this._removeExceptions(model);\n                } else if (model.isRecurring()) {\n                    this._addExceptionDate(model);\n                }\n                return DataSource.fn.remove.call(this, model);\n            },\n            _removeExceptions: function (model) {\n                var data = this.data().slice(0), item = data.shift(), id = model.id;\n                while (item) {\n                    if (item.recurrenceId === id) {\n                        DataSource.fn.remove.call(this, item);\n                    }\n                    item = data.shift();\n                }\n                model.set(RECURRENCE_EXCEPTION, '');\n            },\n            _removeExceptionDate: function (model) {\n                if (model.recurrenceId) {\n                    var head = this.get(model.recurrenceId);\n                    if (head) {\n                        var start = model.start;\n                        var replaceRegExp = new RegExp('(\\\\' + EXCEPTION_SEPARATOR + '?)' + recurrence.toExceptionString(start, this.reader.timezone));\n                        var recurrenceException = (head.recurrenceException || '').replace(OLD_EXCEPTION_SEPARATOR_REGEXP, EXCEPTION_SEPARATOR).replace(/\\,$/, '');\n                        head.set(RECURRENCE_EXCEPTION, recurrenceException.replace(replaceRegExp, ''));\n                    }\n                }\n            },\n            _addExceptionDate: function (model) {\n                var start = model.start;\n                var zone = this.reader.timezone;\n                var head = this.get(model.recurrenceId);\n                var recurrenceException = (head.recurrenceException || '').replace(OLD_EXCEPTION_SEPARATOR_REGEXP, EXCEPTION_SEPARATOR).replace(/\\,$/, '');\n                if (!recurrence.isException(recurrenceException, start, zone)) {\n                    var newException = recurrence.toExceptionString(start, zone);\n                    head.set(RECURRENCE_EXCEPTION, recurrenceException + (recurrenceException && newException ? EXCEPTION_SEPARATOR : '') + newException);\n                }\n            }\n        });\n        function expandAll(events, start, end, zone) {\n            var length = events.length, data = [], idx = 0;\n            for (; idx < length; idx++) {\n                data = data.concat(events[idx].expand(start, end, zone));\n            }\n            return data;\n        }\n        SchedulerDataSource.create = function (options) {\n            if (isArray(options) || options instanceof kendo.data.ObservableArray) {\n                options = { data: options };\n            }\n            var dataSource = options || {}, data = dataSource.data;\n            dataSource.data = data;\n            if (!(dataSource instanceof SchedulerDataSource) && dataSource instanceof kendo.data.DataSource) {\n                throw new Error('Incorrect DataSource type. Only SchedulerDataSource instances are supported');\n            }\n            return dataSource instanceof SchedulerDataSource ? dataSource : new SchedulerDataSource(dataSource);\n        };\n        extend(true, kendo.data, {\n            SchedulerDataSource: SchedulerDataSource,\n            SchedulerDataReader: SchedulerDataReader,\n            SchedulerEvent: SchedulerEvent\n        });\n        var defaultCommands = {\n            update: {\n                text: 'Save',\n                className: 'k-primary k-scheduler-update'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-scheduler-cancel'\n            },\n            destroy: {\n                text: 'Delete',\n                imageClass: 'k-i-delete',\n                className: 'k-primary k-scheduler-delete',\n                iconClass: 'k-icon'\n            }\n        };\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n            return options;\n        }\n        function createValidationAttributes(model, field) {\n            var modelField = (model.fields || model)[field];\n            var specialRules = [\n                'url',\n                'email',\n                'number',\n                'date',\n                'boolean'\n            ];\n            var validation = modelField ? modelField.validation : {};\n            var datatype = kendo.attr('type');\n            var inArray = $.inArray;\n            var ruleName;\n            var rule;\n            var attr = {};\n            for (ruleName in validation) {\n                rule = validation[ruleName];\n                if (inArray(ruleName, specialRules) >= 0) {\n                    attr[datatype] = ruleName;\n                } else if (!kendo.isFunction(rule)) {\n                    attr[ruleName] = isPlainObject(rule) ? rule.value || ruleName : rule;\n                }\n                attr[kendo.attr(ruleName + '-msg')] = rule.message;\n            }\n            return attr;\n        }\n        function dropDownResourceEditor(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                $(kendo.format('<select data-{0}bind=\"value:{1}\">', kendo.ns, resource.field)).appendTo(container).attr(attr).kendoDropDownList({\n                    dataTextField: resource.dataTextField,\n                    dataValueField: resource.dataValueField,\n                    dataSource: resource.dataSource,\n                    valuePrimitive: resource.valuePrimitive,\n                    optionLabel: 'None',\n                    template: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField)\n                });\n            };\n        }\n        function descriptionEditor(options) {\n            var attr = createValidationAttributes(options.model, options.field);\n            return function (container) {\n                $('<textarea name=\"description\" class=\"k-textbox\"/>').attr(attr).appendTo(container);\n            };\n        }\n        function multiSelectResourceEditor(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                $(kendo.format('<select data-{0}bind=\"value:{1}\">', kendo.ns, resource.field)).appendTo(container).attr(attr).kendoMultiSelect({\n                    dataTextField: resource.dataTextField,\n                    dataValueField: resource.dataValueField,\n                    dataSource: resource.dataSource,\n                    valuePrimitive: resource.valuePrimitive,\n                    itemTemplate: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField),\n                    tagTemplate: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField)\n                });\n            };\n        }\n        function multiSelectResourceEditorMobile(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                var options = '';\n                var view = resource.dataSource.view();\n                for (var idx = 0, length = view.length; idx < length; idx++) {\n                    options += kendo.format('<option value=\"{0}\">{1}</option>', kendo.getter(resource.dataValueField)(view[idx]), kendo.getter(resource.dataTextField)(view[idx]));\n                }\n                $(kendo.format('<select data-{0}bind=\"value:{1}\" multiple=\"multiple\" data-{0}value-primitive=\"{3}\">{2}</select>', kendo.ns, resource.field, options, resource.valuePrimitive)).appendTo(container).attr(attr);\n            };\n        }\n        function moveEventRange(event, distance) {\n            var duration = event.end.getTime() - event.start.getTime();\n            var start = new Date(event.start.getTime());\n            kendo.date.setTime(start, distance);\n            var end = new Date(start.getTime());\n            kendo.date.setTime(end, duration, true);\n            return {\n                start: start,\n                end: end\n            };\n        }\n        var editors = {\n            mobile: {\n                dateRange: MOBILEDATERANGEEDITOR,\n                timezonePopUp: MOBILETIMEZONEPOPUP,\n                timezone: MOBILETIMEZONEEDITOR,\n                recurrence: MOBILERECURRENCEEDITOR,\n                description: descriptionEditor,\n                multipleResources: multiSelectResourceEditorMobile,\n                resources: dropDownResourceEditor\n            },\n            desktop: {\n                dateRange: DATERANGEEDITOR,\n                timezonePopUp: TIMEZONEPOPUP,\n                timezone: TIMEZONEEDITOR,\n                recurrence: RECURRENCEEDITOR,\n                description: descriptionEditor,\n                multipleResources: multiSelectResourceEditor,\n                resources: dropDownResourceEditor\n            }\n        };\n        var Editor = kendo.Observable.extend({\n            init: function (element, options) {\n                kendo.Observable.fn.init.call(this);\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n                this.createButton = this.options.createButton;\n                this.toggleDateValidationHandler = proxy(this._toggleDateValidation, this);\n            },\n            _toggleDateValidation: function (e) {\n                if (e.field == 'isAllDay') {\n                    var container = this.container, isAllDay = this.editable.options.model.isAllDay, bindAttribute = kendo.attr('bind'), element, isDateTimeInput, shouldValidate;\n                    container.find('[' + bindAttribute + '*=end],[' + bindAttribute + '*=start]').each(function () {\n                        element = $(this);\n                        if (valueStartEndBoundRegex.test(element.attr(bindAttribute))) {\n                            isDateTimeInput = element.is('[' + kendo.attr('role') + '=datetimepicker],[type*=datetime]');\n                            shouldValidate = isAllDay !== isDateTimeInput;\n                            element.attr(kendo.attr('validate'), shouldValidate);\n                        }\n                    });\n                }\n            },\n            fields: function (editors, model) {\n                var that = this;\n                var messages = that.options.messages;\n                var timezone = that.options.timezone;\n                var click = function (e) {\n                    e.preventDefault();\n                    that._initTimezoneEditor(model, this);\n                };\n                var fields = [\n                    {\n                        field: 'title',\n                        title: messages.editor.title\n                    },\n                    {\n                        field: 'start',\n                        title: messages.editor.start,\n                        editor: editors.dateRange,\n                        timezone: timezone\n                    },\n                    {\n                        field: 'end',\n                        title: messages.editor.end,\n                        editor: editors.dateRange,\n                        timezone: timezone\n                    },\n                    {\n                        field: 'isAllDay',\n                        title: messages.editor.allDayEvent\n                    }\n                ];\n                if (kendo.timezone.windows_zones) {\n                    fields.push({\n                        field: 'timezone',\n                        title: messages.editor.timezone,\n                        editor: editors.timezonePopUp,\n                        click: click,\n                        messages: messages.editor,\n                        model: model\n                    });\n                    fields.push({\n                        field: 'startTimezone',\n                        title: messages.editor.startTimezone,\n                        editor: editors.timezone,\n                        noTimezone: messages.editor.noTimezone\n                    });\n                    fields.push({\n                        field: 'endTimezone',\n                        title: messages.editor.endTimezone,\n                        editor: editors.timezone,\n                        noTimezone: messages.editor.noTimezone\n                    });\n                }\n                if (!model.recurrenceId) {\n                    fields.push({\n                        field: 'recurrenceRule',\n                        title: messages.editor.repeat,\n                        editor: editors.recurrence,\n                        timezone: timezone,\n                        messages: messages.recurrenceEditor,\n                        pane: this.pane\n                    });\n                }\n                if ('description' in model) {\n                    fields.push({\n                        field: 'description',\n                        title: messages.editor.description,\n                        editor: editors.description({\n                            model: model,\n                            field: 'description'\n                        })\n                    });\n                }\n                for (var resourceIndex = 0; resourceIndex < this.options.resources.length; resourceIndex++) {\n                    var resource = this.options.resources[resourceIndex];\n                    fields.push({\n                        field: resource.field,\n                        title: resource.title,\n                        editor: resource.multiple ? editors.multipleResources(resource, model) : editors.resources(resource, model)\n                    });\n                }\n                return fields;\n            },\n            end: function () {\n                return this.editable.end();\n            },\n            _buildEditTemplate: function (model, fields, editableFields) {\n                var messages = this.options.messages;\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template = this.options.editable.template;\n                var html = '';\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                } else {\n                    for (var idx = 0, length = fields.length; idx < length; idx++) {\n                        var field = fields[idx];\n                        if (field.field === 'startTimezone') {\n                            html += '<div class=\"k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones\" style=\"display:none\">';\n                            html += '<div class=\"k-edit-form-container\">';\n                            html += '<div class=\"k-edit-label\"></div>';\n                            html += '<div class=\"k-edit-field\"><label class=\"k-check\"><input class=\"k-timezone-toggle\" type=\"checkbox\" />' + messages.editor.separateTimezones + '</label></div>';\n                        }\n                        html += '<div class=\"k-edit-label\"><label for=\"' + field.field + '\">' + (field.title || field.field || '') + '</label></div>';\n                        if (!model.editable || model.editable(field.field)) {\n                            editableFields.push(field);\n                            html += '<div ' + kendo.attr('container-for') + '=\"' + field.field + '\" class=\"k-edit-field\"></div>';\n                        } else {\n                            var tmpl = '#:';\n                            if (field.field) {\n                                field = kendo.expr(field.field, paramName);\n                                tmpl += field + '==null?\\'\\':' + field;\n                            } else {\n                                tmpl += '\\'\\'';\n                            }\n                            tmpl += '#';\n                            tmpl = kendo.template(tmpl, settings);\n                            html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                        }\n                        if (field.field === 'endTimezone') {\n                            html += this._createEndTimezoneButton();\n                        }\n                    }\n                }\n                return html;\n            },\n            _createEndTimezoneButton: function () {\n                return '</div></div>';\n            },\n            _revertTimezones: function (model) {\n                model.set('startTimezone', this._startTimezone);\n                model.set('endTimezone', this._endTimezone);\n                delete this._startTimezone;\n                delete this._endTimezone;\n            }\n        });\n        var MobileEditor = Editor.extend({\n            init: function () {\n                Editor.fn.init.apply(this, arguments);\n                this.pane = kendo.mobile.ui.Pane.wrap(this.element);\n                this.pane.element.parent().css('height', this.options.height);\n                this.view = this.pane.view();\n                this._actionSheetButtonTemplate = kendo.template('<li><a #=attr# class=\"k-button #=className#\" href=\"\\\\#\">#:text#</a></li>');\n                this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                    align: 'bottom center',\n                    position: 'bottom center',\n                    effect: 'slideIn:up'\n                };\n            },\n            options: {\n                animations: {\n                    left: 'slide',\n                    right: 'slide:right'\n                }\n            },\n            destroy: function () {\n                this.close();\n                this.unbind();\n                this.pane.destroy();\n            },\n            _initTimezoneEditor: function (model) {\n                var that = this;\n                var pane = that.pane;\n                var messages = that.options.messages;\n                var timezoneView = that.timezoneView;\n                var container = that.container.find('.k-scheduler-timezones');\n                var checkbox = container.find('.k-timezone-toggle');\n                var endTimezoneRow = container.find('.k-edit-label:last').add(container.find('.k-edit-field:last'));\n                var startTimezoneChange = function (e) {\n                    if (e.field === 'startTimezone') {\n                        var value = model.startTimezone;\n                        checkbox.prop('disabled', !value);\n                        if (!value) {\n                            endTimezoneRow.hide();\n                            model.set('endTimezone', '');\n                            checkbox.prop('checked', false);\n                        }\n                    }\n                };\n                that._startTimezone = model.startTimezone || '';\n                that._endTimezone = model.endTimezone || '';\n                if (!timezoneView) {\n                    var html = '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form k-mobile-list\">' + '<div data-role=\"header\" class=\"k-header\"><a href=\"#\" class=\"k-button k-scheduler-cancel\">' + messages.cancel + '</a>' + messages.editor.timezoneTitle + '<a href=\"#\" class=\"k-button k-scheduler-update\">' + messages.save + '</a></div></div>';\n                    this.timezoneView = timezoneView = pane.append(html);\n                    timezoneView.contentElement().append(container.show());\n                    timezoneView.element.on(CLICK + NS, '.k-scheduler-cancel, .k-scheduler-update', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        if ($(this).hasClass('k-scheduler-cancel')) {\n                            that._revertTimezones(model);\n                        }\n                        model.unbind('change', startTimezoneChange);\n                        var editView = pane.element.find('#edit').data('kendoMobileView');\n                        var text = timezoneButtonText(model, messages.editor.noTimezone);\n                        editView.contentElement().find('.k-timezone-button').text(text);\n                        pane.navigate(editView, that.options.animations.right);\n                    });\n                    checkbox.click(function () {\n                        endTimezoneRow.toggle(checkbox.prop('checked'));\n                        model.set('endTimezone', '');\n                    });\n                    model.bind('change', startTimezoneChange);\n                }\n                checkbox.prop('checked', model.endTimezone).prop('disabled', !model.startTimezone);\n                if (model.endTimezone) {\n                    endTimezoneRow.show();\n                } else {\n                    endTimezoneRow.hide();\n                }\n                pane.navigate(timezoneView, that.options.animations.left);\n            },\n            _createActionSheetButton: function (options) {\n                options.template = this._actionSheetButtonTemplate;\n                return this.createButton(options);\n            },\n            showDialog: function (options) {\n                var type = '';\n                var html = '<ul><li class=\"km-actionsheet-title\">' + options.title + '</li>';\n                var target = this.element.find('.k-event[' + kendo.attr('uid') + '=\\'' + options.model.uid + '\\']');\n                if (this.container) {\n                    target = this.container.find('.k-scheduler-delete');\n                    if (target[0]) {\n                        type = 'phone';\n                    }\n                }\n                for (var buttonIndex = 0; buttonIndex < options.buttons.length; buttonIndex++) {\n                    html += this._createActionSheetButton(options.buttons[buttonIndex]);\n                }\n                html += '</ul>';\n                var actionSheet = $(html).appendTo(this.pane.view().element).kendoMobileActionSheet({\n                    type: type,\n                    cancel: this.options.messages.cancel,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var buttonIndex = actionSheet.element.find('li:not(.km-actionsheet-cancel) > .k-button').index($(e.currentTarget));\n                        if (buttonIndex > -1) {\n                            actionSheet.close();\n                            options.buttons[buttonIndex].click();\n                        }\n                    },\n                    popup: this._actionSheetPopupOptions\n                }).data('kendoMobileActionSheet');\n                actionSheet.open(target);\n            },\n            editEvent: function (model) {\n                var pane = this.pane;\n                var html = '';\n                var messages = this.options.messages;\n                var updateText = messages.save;\n                var removeText = messages.destroy;\n                var cancelText = messages.cancel;\n                var titleText = messages.editor.editorTitle;\n                html += '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form k-mobile-list\" id=\"edit\" ' + kendo.attr('uid') + '=\"' + model.uid + '\">' + '<div data-role=\"header\" class=\"k-header\"><a href=\"#\" class=\"k-button k-scheduler-cancel\">' + cancelText + '</a>' + titleText + '<a href=\"#\" class=\"k-button k-scheduler-update\">' + updateText + '</a></div>';\n                var fields = this.fields(editors.mobile, model);\n                var that = this;\n                var editableFields = [];\n                html += this._buildEditTemplate(model, fields, editableFields);\n                if (!model.isNew() && this.options.editable && this.options.editable.destroy !== false) {\n                    html += '<div class=\"k-edit-buttons\"><a href=\"#\" class=\"k-scheduler-delete k-button\">' + removeText + '</a></div>';\n                }\n                html += '</div>';\n                var view = pane.append(html);\n                var container = this.container = view.element;\n                this.editable = container.kendoEditable({\n                    fields: editableFields,\n                    model: model,\n                    clearContainer: false,\n                    target: that.options.target,\n                    validateOnBlur: true\n                }).data('kendoEditable');\n                container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                    $(this).next().children('input').click();\n                });\n                if (!this.trigger('edit', {\n                        container: container,\n                        model: model\n                    })) {\n                    container.on(CLICK + NS, 'a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        var button = $(this);\n                        if (!button.hasClass('k-scheduler-edit')) {\n                            var name = 'cancel';\n                            if (button.hasClass('k-scheduler-update')) {\n                                name = 'save';\n                            } else if (button.hasClass('k-scheduler-delete')) {\n                                name = 'remove';\n                            }\n                            that.trigger(name, {\n                                container: container,\n                                model: model\n                            });\n                        } else {\n                            pane.navigate('#edit', that.options.animations.right);\n                        }\n                    });\n                    pane.navigate(view, that.options.animations.left);\n                    model.bind('change', that.toggleDateValidationHandler);\n                } else {\n                    this.trigger('cancel', {\n                        container: container,\n                        model: model\n                    });\n                }\n                return this.editable;\n            },\n            _views: function () {\n                return this.pane.element.find(kendo.roleSelector('view')).not(this.view.element);\n            },\n            close: function () {\n                if (this.container) {\n                    this.pane.navigate('', this.options.animations.right);\n                    var views = this._views();\n                    var view;\n                    for (var idx = 0, length = views.length; idx < length; idx++) {\n                        view = views.eq(idx).data('kendoMobileView');\n                        if (view) {\n                            view.purge();\n                        }\n                    }\n                    views.remove();\n                    this.container = null;\n                    if (this.editable) {\n                        this.editable.options.model.unbind('change', this.toggleDateValidationHandler);\n                        this.editable.destroy();\n                        this.editable = null;\n                    }\n                    this.timezoneView = null;\n                }\n            }\n        });\n        var PopupEditor = Editor.extend({\n            destroy: function () {\n                this.close();\n                this.unbind();\n            },\n            editEvent: function (model) {\n                var that = this;\n                var editable = that.options.editable;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form k-scheduler-edit-form\"><div class=\"k-edit-form-container\">';\n                var messages = that.options.messages;\n                var updateText = messages.save;\n                var cancelText = messages.cancel;\n                var deleteText = messages.destroy;\n                var fields = this.fields(editors.desktop, model);\n                var editableFields = [];\n                html += this._buildEditTemplate(model, fields, editableFields);\n                var attr;\n                var options = isPlainObject(editable) ? editable.window : {};\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                html += this.createButton({\n                    name: 'update',\n                    text: updateText,\n                    attr: attr\n                }) + this.createButton({\n                    name: 'canceledit',\n                    text: cancelText,\n                    attr: attr\n                });\n                if (!model.isNew() && editable.destroy !== false) {\n                    html += this.createButton({\n                        name: 'delete',\n                        text: deleteText,\n                        attr: attr\n                    });\n                }\n                html += '</div></div></div>';\n                var container = this.container = $(html).appendTo(that.element).eq(0).kendoWindow(extend({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    close: function (e) {\n                        if (e.userTriggered) {\n                            if (that.trigger(CANCEL, {\n                                    container: container,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n                that.editable = container.kendoEditable({\n                    fields: editableFields,\n                    model: model,\n                    clearContainer: false,\n                    validateOnBlur: true,\n                    target: that.options.target\n                }).data('kendoEditable');\n                if (!that.trigger(EDIT, {\n                        container: container,\n                        model: model\n                    })) {\n                    container.data('kendoWindow').center().open();\n                    container.on(CLICK + NS, 'a.k-scheduler-cancel', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger(CANCEL, {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    container.on(CLICK + NS, 'a.k-scheduler-update', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger('save', {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    container.on(CLICK + NS, 'a.k-scheduler-delete', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger(REMOVE, {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    kendo.cycleForm(container);\n                    model.bind('change', that.toggleDateValidationHandler);\n                } else {\n                    that.trigger(CANCEL, {\n                        container: container,\n                        model: model\n                    });\n                }\n                return that.editable;\n            },\n            close: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        that.editable.options.model.unbind('change', that.toggleDateValidationHandler);\n                        that.editable.destroy();\n                        that.editable = null;\n                        that.container = null;\n                    }\n                    if (that.popup) {\n                        that.popup.destroy();\n                        that.popup = null;\n                    }\n                };\n                if (that.editable) {\n                    if (that._timezonePopup && that._timezonePopup.data('kendoWindow')) {\n                        that._timezonePopup.data('kendoWindow').destroy();\n                        that._timezonePopup = null;\n                    }\n                    if (that.container.is(':visible')) {\n                        that.container.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                } else {\n                    destroy();\n                }\n            },\n            _createEndTimezoneButton: function () {\n                var messages = this.options.messages;\n                var html = '';\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                html += this.createButton({\n                    name: 'savetimezone',\n                    text: messages.save\n                }) + this.createButton({\n                    name: 'canceltimezone',\n                    text: messages.cancel\n                });\n                html += '</div></div></div>';\n                return html;\n            },\n            showDialog: function (options) {\n                var html = kendo.format('<div class=\\'k-popup-edit-form\\'><div class=\\'k-edit-form-container\\'><p class=\\'k-popup-message\\'>{0}</p>', options.text);\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                for (var buttonIndex = 0; buttonIndex < options.buttons.length; buttonIndex++) {\n                    html += this.createButton(options.buttons[buttonIndex]);\n                }\n                html += '</div></div></div>';\n                var wrapper = this.element;\n                if (this.popup) {\n                    this.popup.destroy();\n                }\n                var popup = this.popup = $(html).appendTo(wrapper).eq(0).on('click', '.k-button', function (e) {\n                    e.preventDefault();\n                    popup.close();\n                    var buttonIndex = $(e.currentTarget).index();\n                    options.buttons[buttonIndex].click();\n                }).kendoWindow({\n                    modal: true,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    close: function () {\n                        this.destroy();\n                        wrapper.focus();\n                    }\n                }).getKendoWindow();\n                popup.center().open();\n            },\n            _initTimezoneEditor: function (model, activator) {\n                var that = this;\n                var container = that.container.find('.k-scheduler-timezones');\n                var checkbox = container.find('.k-timezone-toggle');\n                var endTimezoneRow = container.find('.k-edit-label:last').add(container.find('.k-edit-field:last'));\n                var saveButton = container.find('.k-scheduler-savetimezone');\n                var cancelButton = container.find('.k-scheduler-canceltimezone');\n                var timezonePopup = that._timezonePopup;\n                var startTimezoneChange = function (e) {\n                    if (e.field === 'startTimezone') {\n                        var value = model.startTimezone;\n                        checkbox.prop('disabled', !value);\n                        if (!value) {\n                            endTimezoneRow.hide();\n                            model.set('endTimezone', '');\n                            checkbox.prop('checked', false);\n                        }\n                    }\n                };\n                var wnd;\n                that._startTimezone = model.startTimezone;\n                that._endTimezone = model.endTimezone;\n                if (!timezonePopup) {\n                    that._timezonePopup = timezonePopup = container.kendoWindow({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: that.options.messages.editor.timezoneEditorTitle,\n                        visible: false,\n                        close: function (e) {\n                            model.unbind('change', startTimezoneChange);\n                            if (e.userTriggered) {\n                                that._revertTimezones(model);\n                            }\n                            if (activator) {\n                                activator.focus();\n                            }\n                        }\n                    });\n                    checkbox.click(function () {\n                        endTimezoneRow.toggle(checkbox.prop('checked'));\n                        model.set('endTimezone', '');\n                    });\n                    saveButton.click(function (e) {\n                        e.preventDefault();\n                        wnd.close();\n                    });\n                    cancelButton.click(function (e) {\n                        e.preventDefault();\n                        that._revertTimezones(model);\n                        wnd.close();\n                    });\n                    model.bind('change', startTimezoneChange);\n                }\n                checkbox.prop('checked', model.endTimezone).prop('disabled', !model.startTimezone);\n                if (model.endTimezone) {\n                    endTimezoneRow.show();\n                } else {\n                    endTimezoneRow.hide();\n                }\n                wnd = timezonePopup.data('kendoWindow');\n                wnd.center().open();\n            }\n        });\n        var Scheduler = DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                if (!that.options.views || !that.options.views.length) {\n                    that.options.views = [\n                        'day',\n                        'week'\n                    ];\n                }\n                that.resources = [];\n                that._initModel();\n                that._wrapper();\n                that._views();\n                that._toolbar();\n                that._dataSource();\n                that._resources();\n                that._resizeHandler = function () {\n                    that.resize();\n                };\n                that.wrapper.on('mousedown' + NS + ' selectstart' + NS, function (e) {\n                    if (!$(e.target).is(':kendoFocusable')) {\n                        e.preventDefault();\n                    }\n                });\n                if (that.options.editable && that.options.editable.resize !== false) {\n                    that._resizable();\n                }\n                that._movable();\n                that._bindResize();\n                if (that.options.messages && that.options.messages.recurrence) {\n                    recurrence.options = that.options.messages.recurrence;\n                }\n                that._selectable();\n                that._ariaId = kendo.guid();\n                that._createEditor();\n            },\n            _bindResize: function () {\n                $(window).on('resize' + NS, this._resizeHandler);\n            },\n            _unbindResize: function () {\n                $(window).off('resize' + NS, this._resizeHandler);\n            },\n            dataItems: function () {\n                var that = this;\n                var items = that.items();\n                var events = that._data;\n                var eventsUids = $.map(items, function (item) {\n                    return $(item).attr('data-uid');\n                });\n                var i;\n                var key;\n                var dict = {};\n                var eventsUidsLength = eventsUids.length;\n                for (i = 0; i < eventsUidsLength; i++) {\n                    dict[eventsUids[i]] = null;\n                }\n                var eventsCount = events.length;\n                for (i = 0; i < eventsCount; i++) {\n                    var event = events[i];\n                    if (dict[event.uid] !== undefined) {\n                        dict[event.uid] = event;\n                    }\n                }\n                var sortedData = [];\n                for (key in dict) {\n                    sortedData.push(dict[key]);\n                }\n                return sortedData;\n            },\n            _isMobile: function () {\n                var options = this.options;\n                return options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n            },\n            _isMobilePhoneView: function () {\n                var options = this.options;\n                return options.mobile === true && kendo.support.mobileOS && !kendo.support.mobileOS.tablet || options.mobile === 'phone';\n            },\n            _groupsByResource: function (resources, groupIndex, groupsArray, parentFieldValue, parentField) {\n                if (!groupsArray) {\n                    groupsArray = [];\n                }\n                var resource = resources[0];\n                if (resource) {\n                    var group;\n                    var data = resource.dataSource.view();\n                    var prevIndex = 0;\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        var fieldValue = kendo.getter(resource.dataValueField)(data[dataIndex]);\n                        var currentGroupIndex = groupIndex + prevIndex + dataIndex;\n                        group = this._groupsByResource(resources.slice(1), currentGroupIndex, groupsArray, fieldValue, resource.field);\n                        group[resource.field] = fieldValue;\n                        prevIndex = group.groupIndex;\n                        if (parentField && parentFieldValue) {\n                            group[parentField] = parentFieldValue;\n                        }\n                        if (resources.length === 1) {\n                            group.groupIndex = groupIndex + dataIndex;\n                            groupsArray.push(group);\n                        }\n                    }\n                    return group;\n                } else {\n                    return {};\n                }\n            },\n            data: function () {\n                return this._data;\n            },\n            select: function (options) {\n                var that = this;\n                var view = that.view();\n                var selection = that._selection;\n                var groups = view.groups;\n                var selectedGroups;\n                if (options === undefined) {\n                    var selectedEvents;\n                    var slots = view._selectedSlots;\n                    if (!selection) {\n                        return [];\n                    }\n                    if (selection && selection.events) {\n                        selectedEvents = that._selectedEvents();\n                    }\n                    return {\n                        start: selection.start,\n                        end: selection.end,\n                        events: selectedEvents,\n                        slots: slots,\n                        resources: view._resourceBySlot(selection)\n                    };\n                }\n                if (!options) {\n                    that._selection = null;\n                    that._old = null;\n                    view.clearSelection();\n                    return;\n                }\n                if ($.isArray(options)) {\n                    options = { events: options.splice(0) };\n                }\n                if (options.resources) {\n                    var fieldName;\n                    var filters = [];\n                    var groupsByResource = [];\n                    if (view.groupedResources) {\n                        that._groupsByResource(view.groupedResources, 0, groupsByResource);\n                    }\n                    for (fieldName in options.resources) {\n                        filters.push({\n                            field: fieldName,\n                            operator: 'eq',\n                            value: options.resources[fieldName]\n                        });\n                    }\n                    selectedGroups = new kendo.data.Query(groupsByResource).filter(filters).toArray();\n                }\n                if (options.events && options.events.length) {\n                    that._selectEvents(options.events, selectedGroups);\n                    that._select();\n                    return;\n                }\n                if (groups && (options.start && options.end)) {\n                    var rangeStart = getDate(view._startDate);\n                    var rangeEnd = kendo.date.addDays(getDate(view._endDate), 1);\n                    var group;\n                    var ranges;\n                    if (options.start < rangeEnd && rangeStart <= options.end) {\n                        if (selectedGroups && selectedGroups.length) {\n                            group = groups[selectedGroups[0].groupIndex];\n                        } else {\n                            group = groups[0];\n                        }\n                        ranges = group.ranges(options.start, options.end, options.isAllDay, false);\n                        if (ranges.length) {\n                            that._selection = {\n                                start: kendo.timezone.toLocalDate(ranges[0].start.start),\n                                end: kendo.timezone.toLocalDate(ranges[ranges.length - 1].end.end),\n                                groupIndex: ranges[0].start.groupIndex,\n                                index: ranges[0].start.index,\n                                isAllDay: ranges[0].start.isDaySlot,\n                                events: []\n                            };\n                            that._select();\n                        }\n                    }\n                }\n            },\n            _selectEvents: function (eventsUids, selectedGroups) {\n                var that = this;\n                var idx;\n                var view = that.view();\n                var groups = view.groups;\n                var eventsLength = eventsUids.length;\n                var isGrouped = selectedGroups && selectedGroups.length;\n                for (idx = 0; idx < eventsLength; idx++) {\n                    if (groups && isGrouped) {\n                        var currentGroup = groups[selectedGroups[0].groupIndex];\n                        var events = [];\n                        var timeSlotCollectionCount = currentGroup.timeSlotCollectionCount();\n                        var daySlotCollectionCount = currentGroup.daySlotCollectionCount();\n                        for (var collIdx = 0; collIdx < timeSlotCollectionCount; collIdx++) {\n                            events = events.concat(currentGroup.getTimeSlotCollection(collIdx).events());\n                        }\n                        for (var dayCollIdx = 0; dayCollIdx < daySlotCollectionCount; dayCollIdx++) {\n                            events = events.concat(currentGroup.getDaySlotCollection(dayCollIdx).events());\n                        }\n                        events = new kendo.data.Query(events).filter({\n                            field: 'element[0].getAttribute(\\'data-uid\\')',\n                            operator: 'eq',\n                            value: eventsUids[idx]\n                        }).toArray();\n                        if (events[0]) {\n                            that._createSelection(events[0].element);\n                        }\n                    } else {\n                        var element = view.element.find(kendo.format('.k-event[data-uid={0}], .k-task[data-uid={0}]', eventsUids[idx]));\n                        if (element.length) {\n                            that._createSelection(element[0]);\n                        }\n                    }\n                }\n            },\n            _selectable: function () {\n                var that = this, wrapper = that.wrapper, selectEvent = kendo.support.mobileOS ? 'touchend' : 'mousedown';\n                if (!that.options.selectable) {\n                    return;\n                }\n                that._tabindex();\n                wrapper.on(selectEvent + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td, .k-event', function (e) {\n                    var which = e.which;\n                    var button = e.button;\n                    var browser = kendo.support.browser;\n                    var isRight = which && which === 3 || button && button == 2;\n                    if (kendo.support.mobileOS && e.isDefaultPrevented()) {\n                        return;\n                    }\n                    if (!isRight) {\n                        that._createSelection(e.currentTarget);\n                    }\n                    wrapper.focus();\n                    if (browser.msie && browser.version < 9) {\n                        setTimeout(function () {\n                            wrapper.focus();\n                        });\n                    }\n                });\n                var mouseMoveHandler = $.proxy(that._mouseMove, that);\n                wrapper.on('mousedown' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', function (e) {\n                    var which = e.which;\n                    var button = e.button;\n                    var isRight = which && which === 3 || button && button == 2;\n                    if (!isRight) {\n                        wrapper.on('mousemove' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', mouseMoveHandler);\n                    }\n                });\n                wrapper.on('mouseup' + NS + ' mouseleave' + NS, function () {\n                    wrapper.off('mousemove' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', mouseMoveHandler);\n                });\n                wrapper.on('focus' + NS, function () {\n                    if (!that._selection) {\n                        that._selectFirstSlot();\n                    }\n                    that._select();\n                });\n                wrapper.on('focusout' + NS, function () {\n                    that._ctrlKey = that._shiftKey = false;\n                });\n                wrapper.on('keydown' + NS, proxy(that._keydown, that));\n                wrapper.on('keyup' + NS, function (e) {\n                    that._ctrlKey = e.ctrlKey;\n                    that._shiftKey = e.shiftKey;\n                });\n            },\n            _selectFirstSlot: function () {\n                this._createSelection(this.wrapper.find('.k-scheduler-content').find('td:first'));\n            },\n            _select: function () {\n                var that = this;\n                var view = that.view();\n                var wrapper = that.wrapper;\n                var current = view.current();\n                var selection = that._selection;\n                if (!selection) {\n                    return;\n                }\n                if (current) {\n                    current.removeAttribute('id');\n                    current.removeAttribute('aria-label');\n                    wrapper.removeAttr('aria-activedescendant');\n                }\n                view.select(selection);\n                current = view.current();\n                if (current && that._old !== current) {\n                    var currentUid = $(current).data('uid');\n                    if (that._old && currentUid && currentUid === $(that._old).data('uid')) {\n                        return;\n                    }\n                    var labelFormat;\n                    var data = selection;\n                    var events = that._selectedEvents();\n                    var slots = view._selectedSlots;\n                    if (events[0]) {\n                        data = events[0] || selection;\n                        labelFormat = kendo.format(that.options.messages.ariaEventLabel, data.title, data.start, data.start);\n                    } else {\n                        labelFormat = kendo.format(that.options.messages.ariaSlotLabel, data.start, data.end);\n                    }\n                    current.setAttribute('id', that._ariaId);\n                    current.setAttribute('aria-label', labelFormat);\n                    wrapper.attr('aria-activedescendant', that._ariaId);\n                    that._old = current;\n                    that.trigger('change', {\n                        start: selection.start,\n                        end: selection.end,\n                        events: events,\n                        slots: slots,\n                        resources: view._resourceBySlot(selection)\n                    });\n                }\n            },\n            _selectedEvents: function () {\n                var uids = this._selection.events;\n                var length = uids.length;\n                var idx = 0;\n                var event;\n                var events = [];\n                for (; idx < length; idx++) {\n                    event = this.occurrenceByUid(uids[idx]);\n                    if (event) {\n                        events.push(event);\n                    }\n                }\n                return events;\n            },\n            _mouseMove: function (e) {\n                var that = this;\n                clearTimeout(that._moveTimer);\n                that._moveTimer = setTimeout(function () {\n                    var view = that.view();\n                    var selection = that._selection;\n                    if (selection) {\n                        var slot = view.selectionByElement($(e.currentTarget));\n                        if (slot && selection.groupIndex === slot.groupIndex) {\n                            var startDate = slot.startDate();\n                            var endDate = slot.endDate();\n                            if (startDate >= selection.end) {\n                                selection.backward = false;\n                            } else if (endDate <= selection.start) {\n                                selection.backward = true;\n                            }\n                            if (selection.backward) {\n                                selection.start = startDate;\n                            } else {\n                                selection.end = endDate;\n                            }\n                            that._select();\n                        }\n                    }\n                }, 5);\n            },\n            _viewByIndex: function (index) {\n                var view, views = this.views;\n                for (view in views) {\n                    if (!index) {\n                        return view;\n                    }\n                    index--;\n                }\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, view = that.view(), editable = view.options.editable, selection = that._selection, shiftKey = e.shiftKey;\n                that._ctrlKey = e.ctrlKey;\n                that._shiftKey = e.shiftKey;\n                if (!selection) {\n                    that._selectFirstSlot();\n                    that._select();\n                    return;\n                }\n                if (key === keys.TAB) {\n                    if (view.moveToEvent(selection, shiftKey)) {\n                        that._select();\n                        e.preventDefault();\n                    }\n                } else if (editable && key === keys.ENTER) {\n                    if (selection.events.length) {\n                        if (editable.update !== false) {\n                            that.editEvent(selection.events[0]);\n                        }\n                    } else if (editable.create !== false) {\n                        if (selection.isAllDay) {\n                            selection = $.extend({}, selection, { end: kendo.date.addDays(selection.end, -1) });\n                        }\n                        that.addEvent(extend({}, selection, view._resourceBySlot(selection)));\n                    }\n                } else if (key === keys.DELETE && editable !== false && editable.destroy !== false) {\n                    that.removeEvent(selection.events[0]);\n                } else if (key >= 49 && key <= 57) {\n                    that.view(that._viewByIndex(key - 49));\n                } else if (view.move(selection, key, shiftKey)) {\n                    if (view.inRange(selection)) {\n                        that._select();\n                    } else {\n                        that.date(selection.start);\n                    }\n                    e.preventDefault();\n                }\n                that._adjustSelectedDate();\n            },\n            _createSelection: function (item) {\n                var uid, slot, selection;\n                if (!this._selection || !this._ctrlKey && !this._shiftKey) {\n                    this._selection = {\n                        events: [],\n                        groupIndex: 0\n                    };\n                }\n                item = $(item);\n                selection = this._selection;\n                if (item.is('.k-event')) {\n                    uid = item.attr(kendo.attr('uid'));\n                }\n                slot = this.view().selectionByElement(item);\n                if (slot) {\n                    selection.groupIndex = slot.groupIndex || 0;\n                }\n                if (uid) {\n                    slot = getOccurrenceByUid(this._data, uid);\n                }\n                if (slot && slot.uid) {\n                    uid = [slot.uid];\n                }\n                this._updateSelection(slot, uid);\n                this._adjustSelectedDate();\n            },\n            _updateSelection: function (dataItem, events, groupIndex) {\n                var selection = this._selection;\n                if (dataItem && selection) {\n                    var view = this.view();\n                    if (dataItem.uid) {\n                        dataItem = view._updateEventForSelection(dataItem);\n                    }\n                    if (this._shiftKey && selection.start && selection.end) {\n                        var backward = dataItem.end < selection.end;\n                        selection.end = dataItem.endDate ? dataItem.endDate() : dataItem.end;\n                        if (backward && view._timeSlotInterval) {\n                            kendo.date.setTime(selection.end, -view._timeSlotInterval());\n                        }\n                    } else {\n                        selection.start = dataItem.startDate ? dataItem.startDate() : dataItem.start;\n                        selection.end = dataItem.endDate ? dataItem.endDate() : dataItem.end;\n                    }\n                    if ('isDaySlot' in dataItem) {\n                        selection.isAllDay = dataItem.isDaySlot;\n                    } else {\n                        selection.isAllDay = dataItem.isAllDay;\n                    }\n                    if (groupIndex !== null && groupIndex !== undefined) {\n                        selection.groupIndex = groupIndex;\n                    }\n                    selection.index = dataItem.index;\n                    if (this._ctrlKey) {\n                        selection.events = selection.events.concat(events || []);\n                    } else {\n                        selection.events = events || [];\n                    }\n                }\n            },\n            options: {\n                name: 'Scheduler',\n                date: TODAY,\n                editable: true,\n                autoBind: true,\n                snap: true,\n                mobile: false,\n                timezone: '',\n                allDaySlot: true,\n                min: new Date(1900, 0, 1),\n                max: new Date(2099, 11, 31),\n                toolbar: null,\n                footer: {},\n                messages: {\n                    today: 'Today',\n                    pdf: 'Export to PDF',\n                    save: 'Save',\n                    cancel: 'Cancel',\n                    destroy: 'Delete',\n                    deleteWindowTitle: 'Delete event',\n                    ariaSlotLabel: 'Selected from {0:t} to {1:t}',\n                    ariaEventLabel: '{0} on {1:D} at {2:t}',\n                    views: {\n                        day: 'Day',\n                        week: 'Week',\n                        workWeek: 'Work Week',\n                        agenda: 'Agenda',\n                        month: 'Month',\n                        timeline: 'Timeline',\n                        timelineWeek: 'Timeline Week',\n                        timelineWorkWeek: 'Timeline Work Week',\n                        timelineMonth: 'Timeline Month'\n                    },\n                    recurrenceMessages: {\n                        deleteWindowTitle: 'Delete Recurring Item',\n                        deleteWindowOccurrence: 'Delete current occurrence',\n                        deleteWindowSeries: 'Delete the series',\n                        editWindowTitle: 'Edit Recurring Item',\n                        editWindowOccurrence: 'Edit current occurrence',\n                        editWindowSeries: 'Edit the series'\n                    },\n                    editable: { confirmation: DELETECONFIRM },\n                    editor: {\n                        title: 'Title',\n                        start: 'Start',\n                        end: 'End',\n                        allDayEvent: 'All day event',\n                        description: 'Description',\n                        repeat: 'Repeat',\n                        timezone: ' ',\n                        startTimezone: 'Start timezone',\n                        endTimezone: 'End timezone',\n                        separateTimezones: 'Use separate start and end time zones',\n                        timezoneEditorTitle: 'Timezones',\n                        timezoneEditorButton: 'Time zone',\n                        timezoneTitle: 'Time zones',\n                        noTimezone: 'No timezone',\n                        editorTitle: 'Event'\n                    }\n                },\n                height: null,\n                width: null,\n                resources: [],\n                group: {\n                    resources: [],\n                    orientation: 'horizontal'\n                },\n                views: [],\n                selectable: false\n            },\n            events: [\n                REMOVE,\n                EDIT,\n                CANCEL,\n                SAVE,\n                'add',\n                'dataBinding',\n                'dataBound',\n                'moveStart',\n                'move',\n                'moveEnd',\n                'resizeStart',\n                'resize',\n                'resizeEnd',\n                'navigate',\n                'change'\n            ],\n            destroy: function () {\n                var that = this, element;\n                Widget.fn.destroy.call(that);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    that.dataSource.unbind('progress', that._progressHandler);\n                    that.dataSource.unbind('error', that._errorHandler);\n                }\n                if (that.calendar) {\n                    that.calendar.destroy();\n                    that.popup.destroy();\n                }\n                if (that.view()) {\n                    that.view().destroy();\n                }\n                if (that._editor) {\n                    that._editor.destroy();\n                }\n                if (this._moveDraggable) {\n                    this._moveDraggable.destroy();\n                }\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n                element = that.element.add(that.wrapper).add(that.toolbar).add(that.popup);\n                element.off(NS);\n                clearTimeout(that._moveTimer);\n                that._model = null;\n                that.toolbar = null;\n                that.element = null;\n                $(window).off('resize' + NS, that._resizeHandler);\n                kendo.destroy(that.wrapper);\n            },\n            setDataSource: function (dataSource) {\n                this.options.dataSource = dataSource;\n                this._dataSource();\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            items: function () {\n                var content = this.wrapper.find('.k-scheduler-content');\n                var view = this.view();\n                if (view && view.options.name === 'agenda') {\n                    return content.find('.k-task');\n                } else {\n                    return content.find('.k-event').add(this.wrapper.find('.k-scheduler-header-wrap').find('.k-scheduler-header-all-day').siblings());\n                }\n            },\n            _movable: function () {\n                var startSlot;\n                var endSlot;\n                var startTime;\n                var endTime;\n                var event;\n                var clonedEvent;\n                var that = this;\n                var originSlot;\n                var distance = 0;\n                var isMobile = that._isMobile();\n                var movable = that.options.editable && that.options.editable.move !== false;\n                var resizable = that.options.editable && that.options.editable.resize !== false;\n                if (movable || resizable && isMobile) {\n                    if (isMobile && kendo.support.mobileOS.android) {\n                        distance = 5;\n                    }\n                    that._moveDraggable = new kendo.ui.Draggable(that.element, {\n                        distance: distance,\n                        filter: '.k-event',\n                        ignore: '.k-resize-handle',\n                        holdToDrag: isMobile,\n                        autoScroll: true\n                    });\n                    if (movable) {\n                        that._moveDraggable.bind('dragstart', function (e) {\n                            var view = that.view();\n                            var eventElement = e.currentTarget;\n                            if (!view.options.editable || view.options.editable.move === false) {\n                                e.preventDefault();\n                                return;\n                            }\n                            if (isMobile && !eventElement.hasClass('k-event-active')) {\n                                that.element.find('.k-event-active').removeClass('k-event-active');\n                                e.preventDefault();\n                                return;\n                            }\n                            event = that.occurrenceByUid(eventElement.attr(kendo.attr('uid')));\n                            clonedEvent = event.clone();\n                            clonedEvent.update(view._eventOptionsForMove(clonedEvent));\n                            startSlot = view._slotByPosition(e.x.startLocation, e.y.startLocation);\n                            startTime = startSlot.startOffset(e.x.startLocation, e.y.startLocation, that.options.snap);\n                            endSlot = startSlot;\n                            originSlot = startSlot;\n                            if (!startSlot || that.trigger('moveStart', { event: event })) {\n                                e.preventDefault();\n                            }\n                        }).bind('drag', function (e) {\n                            var view = that.view();\n                            var slot = view._slotByPosition(e.x.location, e.y.location);\n                            var distance;\n                            var range;\n                            if (!slot) {\n                                return;\n                            }\n                            endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            if (slot.isDaySlot !== startSlot.isDaySlot) {\n                                startSlot = view._slotByPosition(e.x.location, e.y.location);\n                                startTime = startSlot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                distance = endTime - startTime;\n                                clonedEvent.isAllDay = slot.isDaySlot;\n                                clonedEvent.start = kendo.timezone.toLocalDate(startTime);\n                                clonedEvent.end = kendo.timezone.toLocalDate(endTime);\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                                range = {\n                                    start: clonedEvent.start,\n                                    end: clonedEvent.end\n                                };\n                            } else {\n                                distance = endTime - startTime;\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                                range = moveEventRange(clonedEvent, distance);\n                            }\n                            if (!that.trigger('move', {\n                                    event: event,\n                                    slot: {\n                                        element: slot.element,\n                                        start: slot.startDate(),\n                                        end: slot.endDate(),\n                                        isDaySlot: slot.isDaySlot\n                                    },\n                                    resources: view._resourceBySlot(slot),\n                                    start: range.start,\n                                    end: range.end\n                                })) {\n                                endSlot = slot;\n                            } else {\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                            }\n                        }).bind('dragend', function (e) {\n                            that.view()._removeMoveHint();\n                            var distance = endTime - startTime;\n                            var range = moveEventRange(clonedEvent, distance);\n                            var start = range.start;\n                            var end = range.end;\n                            var endResources = that.view()._resourceBySlot(endSlot);\n                            var startResources = that.view()._resourceBySlot(startSlot);\n                            var prevented = that.trigger('moveEnd', {\n                                event: event,\n                                slot: {\n                                    element: endSlot.element,\n                                    start: endSlot.startDate(),\n                                    end: endSlot.endDate()\n                                },\n                                start: start,\n                                end: end,\n                                resources: endResources\n                            });\n                            if (!prevented && (event.start.getTime() !== start.getTime() || event.end.getTime() !== end.getTime() || originSlot.isDaySlot !== endSlot.isDaySlot || kendo.stringify(endResources) !== kendo.stringify(startResources))) {\n                                var updatedEventOptions = that.view()._eventOptionsForMove(event);\n                                var eventOptions;\n                                if (originSlot.isDaySlot !== endSlot.isDaySlot) {\n                                    if (endSlot.isDaySlot) {\n                                        eventOptions = $.extend({\n                                            start: endSlot.startDate(),\n                                            end: endSlot.startDate(),\n                                            isAllDay: endSlot.isDaySlot\n                                        }, updatedEventOptions, endResources);\n                                    } else {\n                                        eventOptions = $.extend({\n                                            isAllDay: endSlot.isDaySlot,\n                                            start: start,\n                                            end: end\n                                        }, updatedEventOptions, endResources);\n                                    }\n                                } else {\n                                    eventOptions = $.extend({\n                                        isAllDay: event.isAllDay,\n                                        start: start,\n                                        end: end\n                                    }, updatedEventOptions, endResources);\n                                }\n                                that._updateEvent(null, event, eventOptions, endSlot.groupIndex);\n                            }\n                            e.currentTarget.removeClass('k-event-active');\n                            this.cancelHold();\n                        }).bind('dragcancel', function () {\n                            that.view()._removeMoveHint();\n                            this.cancelHold();\n                        });\n                    }\n                    if (isMobile) {\n                        that._moveDraggable.bind('hold', function (e) {\n                            if (that.element.find('.k-scheduler-monthview').length) {\n                                e.preventDefault();\n                            }\n                            that.element.find('.k-event-active').removeClass('k-event-active');\n                            e.currentTarget.addClass('k-event-active');\n                        });\n                        if (!kendo.support.mobileOS.android) {\n                            that._moveDraggable.userEvents.bind('press', function (e) {\n                                e.preventDefault();\n                            });\n                        }\n                    }\n                }\n            },\n            _resizable: function () {\n                var startTime;\n                var endTime;\n                var event;\n                var clonedEvent;\n                var slot;\n                var that = this;\n                var distance = 0;\n                function direction(handle) {\n                    var directions = {\n                        'k-resize-e': 'east',\n                        'k-resize-w': 'west',\n                        'k-resize-n': 'north',\n                        'k-resize-s': 'south'\n                    };\n                    for (var key in directions) {\n                        if (handle.hasClass(key)) {\n                            return directions[key];\n                        }\n                    }\n                }\n                if (that._isMobile() && kendo.support.mobileOS.android) {\n                    distance = 5;\n                }\n                that._resizeDraggable = new kendo.ui.Draggable(that.element, {\n                    distance: distance,\n                    filter: '.k-resize-handle',\n                    autoScroll: true,\n                    dragstart: function (e) {\n                        var dragHandle = $(e.currentTarget);\n                        var eventElement = dragHandle.closest('.k-event');\n                        var uid = eventElement.attr(kendo.attr('uid'));\n                        var view = that.view();\n                        event = that.occurrenceByUid(uid);\n                        clonedEvent = event.clone();\n                        view._updateEventForResize(clonedEvent);\n                        slot = view._slotByPosition(e.x.startLocation, e.y.startLocation);\n                        if (that.trigger('resizeStart', { event: event })) {\n                            e.preventDefault();\n                        }\n                        startTime = kendo.date.toUtcTime(clonedEvent.start);\n                        endTime = kendo.date.toUtcTime(clonedEvent.end);\n                    },\n                    drag: function (e) {\n                        if (!slot) {\n                            return;\n                        }\n                        var dragHandle = $(e.currentTarget);\n                        var dir = direction(dragHandle);\n                        var view = that.view();\n                        var currentSlot = view._slotByPosition(e.x.location, e.y.location);\n                        if (!currentSlot || slot.groupIndex != currentSlot.groupIndex) {\n                            return;\n                        }\n                        slot = currentSlot;\n                        var originalStart = startTime;\n                        var originalEnd = endTime;\n                        if (dir == 'south') {\n                            if (!slot.isDaySlot && slot.end - kendo.date.toUtcTime(clonedEvent.start) >= view._timeSlotInterval()) {\n                                if (clonedEvent.isAllDay) {\n                                    endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                } else {\n                                    endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                                }\n                            }\n                        } else if (dir == 'north') {\n                            if (!slot.isDaySlot && kendo.date.toUtcTime(clonedEvent.end) - slot.start >= view._timeSlotInterval()) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        } else if (dir == 'east') {\n                            if (slot.isDaySlot && kendo.date.toUtcTime(kendo.date.getDate(slot.endDate())) >= kendo.date.toUtcTime(kendo.date.getDate(clonedEvent.start))) {\n                                if (clonedEvent.isAllDay) {\n                                    endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                } else {\n                                    endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                                }\n                            } else if (!slot.isDaySlot && slot.end - kendo.date.toUtcTime(clonedEvent.start) >= view._timeSlotInterval()) {\n                                endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        } else if (dir == 'west') {\n                            if (slot.isDaySlot && kendo.date.toUtcTime(kendo.date.getDate(clonedEvent.end)) >= kendo.date.toUtcTime(kendo.date.getDate(slot.startDate()))) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            } else if (!slot.isDaySlot && kendo.date.toUtcTime(clonedEvent.end) - slot.start >= view._timeSlotInterval()) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        }\n                        if (!that.trigger('resize', {\n                                event: event,\n                                slot: {\n                                    element: slot.element,\n                                    start: slot.startDate(),\n                                    end: slot.endDate()\n                                },\n                                start: kendo.timezone.toLocalDate(startTime),\n                                end: kendo.timezone.toLocalDate(endTime),\n                                resources: view._resourceBySlot(slot)\n                            })) {\n                            view._updateResizeHint(clonedEvent, slot.groupIndex, startTime, endTime);\n                        } else {\n                            startTime = originalStart;\n                            endTime = originalEnd;\n                        }\n                    },\n                    dragend: function (e) {\n                        var dragHandle = $(e.currentTarget);\n                        var start = new Date(clonedEvent.start.getTime());\n                        var end = new Date(clonedEvent.end.getTime());\n                        var dir = direction(dragHandle);\n                        that.view()._removeResizeHint();\n                        if (dir == 'south') {\n                            end = kendo.timezone.toLocalDate(endTime);\n                        } else if (dir == 'north') {\n                            start = kendo.timezone.toLocalDate(startTime);\n                        } else if (dir == 'east') {\n                            if (slot.isDaySlot) {\n                                end = kendo.date.getDate(kendo.timezone.toLocalDate(endTime));\n                            } else {\n                                end = kendo.timezone.toLocalDate(endTime);\n                            }\n                        } else if (dir == 'west') {\n                            if (slot.isDaySlot) {\n                                start = new Date(kendo.timezone.toLocalDate(startTime));\n                                start.setHours(0);\n                                start.setMinutes(0);\n                            } else {\n                                start = kendo.timezone.toLocalDate(startTime);\n                            }\n                        }\n                        var prevented = that.trigger('resizeEnd', {\n                            event: event,\n                            slot: {\n                                element: slot.element,\n                                start: slot.startDate(),\n                                end: slot.endDate()\n                            },\n                            start: start,\n                            end: end,\n                            resources: that.view()._resourceBySlot(slot)\n                        });\n                        if (!prevented && end.getTime() >= start.getTime()) {\n                            if (clonedEvent.start.getTime() != start.getTime() || clonedEvent.end.getTime() != end.getTime()) {\n                                that.view()._updateEventForResize(event);\n                                that._updateEvent(dir, event, {\n                                    start: start,\n                                    end: end\n                                });\n                            }\n                        }\n                        slot = null;\n                        event = null;\n                    },\n                    dragcancel: function () {\n                        that.view()._removeResizeHint();\n                        slot = null;\n                        event = null;\n                    }\n                });\n            },\n            _updateEvent: function (dir, event, eventInfo, groupIndex) {\n                var that = this;\n                var updateEvent = function (event, callback) {\n                    try {\n                        that._preventRefresh = true;\n                        event.update(eventInfo);\n                        that._convertDates(event);\n                    } finally {\n                        that._preventRefresh = false;\n                    }\n                    if (!that.trigger(SAVE, { event: event })) {\n                        if (callback) {\n                            callback();\n                        }\n                        that._updateSelection(event, [event.uid], groupIndex);\n                        that.dataSource.sync();\n                    }\n                };\n                var recurrenceHead = function (event) {\n                    if (event.recurrenceRule) {\n                        return that.dataSource.getByUid(event.uid);\n                    } else {\n                        return that.dataSource.get(event.recurrenceId);\n                    }\n                };\n                var updateSeries = function () {\n                    var head = recurrenceHead(event);\n                    if (dir == 'south' || dir == 'north') {\n                        if (eventInfo.start) {\n                            var start = kendo.date.getDate(head.start);\n                            kendo.date.setTime(start, getMilliseconds(eventInfo.start));\n                            eventInfo.start = start;\n                        }\n                        if (eventInfo.end) {\n                            var end = kendo.date.getDate(head.end);\n                            kendo.date.setTime(end, getMilliseconds(eventInfo.end));\n                            eventInfo.end = end;\n                        }\n                    }\n                    that.dataSource._removeExceptions(head);\n                    updateEvent(head);\n                };\n                var updateOccurrence = function () {\n                    var head = recurrenceHead(event);\n                    var callback = function () {\n                        that._convertDates(head);\n                    };\n                    var exception = head.toOccurrence({\n                        start: event.start,\n                        end: event.end\n                    });\n                    updateEvent(that.dataSource.add(exception), callback);\n                };\n                if (event.recurrenceRule || event.isOccurrence()) {\n                    var recurrenceMessages = that.options.messages.recurrenceMessages;\n                    that._showRecurringDialog(event, updateOccurrence, updateSeries, {\n                        title: recurrenceMessages.editWindowTitle,\n                        text: recurrenceMessages.editRecurring ? recurrenceMessages.editRecurring : EDITRECURRING,\n                        occurrenceText: recurrenceMessages.editWindowOccurrence,\n                        seriesText: recurrenceMessages.editWindowSeries\n                    });\n                } else {\n                    updateEvent(that.dataSource.getByUid(event.uid));\n                }\n            },\n            _modelForContainer: function (container) {\n                container = $(container).closest('[' + kendo.attr('uid') + ']');\n                return this.dataSource.getByUid(container.attr(kendo.attr('uid')));\n            },\n            showDialog: function (options) {\n                this._editor.showDialog(options);\n            },\n            focus: function () {\n                this.wrapper.focus();\n            },\n            _confirmation: function (callback, model) {\n                var editable = this.options.editable;\n                if (editable === true || editable.confirmation !== false) {\n                    var messages = this.options.messages;\n                    var title = messages.deleteWindowTitle;\n                    var text = typeof editable.confirmation === STRING ? editable.confirmation : messages.editable.confirmation;\n                    if (this._isEditorOpened() && model.isRecurring()) {\n                        var recurrenceMessages = this.options.messages.recurrenceMessages;\n                        title = recurrenceMessages.deleteWindowTitle;\n                        if (model.isException()) {\n                            text = recurrenceMessages.deleteRecurringConfirmation ? recurrenceMessages.deleteRecurringConfirmation : DELETERECURRINGCONFIRM;\n                        } else {\n                            text = recurrenceMessages.deleteSeriesConfirmation ? recurrenceMessages.deleteSeriesConfirmation : DELETESERIESCONFIRM;\n                        }\n                    }\n                    var buttons = [{\n                            name: 'destroy',\n                            text: messages.destroy,\n                            click: function () {\n                                callback();\n                            }\n                        }];\n                    if (!(this._isMobile() && kendo.mobile.ui.Pane)) {\n                        buttons.push({\n                            name: 'canceledit',\n                            text: messages.cancel,\n                            click: function () {\n                                callback(true);\n                            }\n                        });\n                    }\n                    this._unbindResize();\n                    this.showDialog({\n                        model: model,\n                        text: text,\n                        title: title,\n                        buttons: buttons\n                    });\n                    this._bindResize();\n                } else {\n                    callback();\n                }\n            },\n            addEvent: function (eventInfo) {\n                var editable = this._editor.editable;\n                var dataSource = this.dataSource;\n                var event;\n                eventInfo = eventInfo || {};\n                var prevented = this.trigger('add', { event: eventInfo });\n                if (!prevented && (editable && editable.end() || !editable)) {\n                    this.cancelEvent();\n                    if (eventInfo && eventInfo.toJSON) {\n                        eventInfo = eventInfo.toJSON();\n                    }\n                    event = dataSource.add(eventInfo);\n                    if (event) {\n                        this.cancelEvent();\n                        this._editEvent(event);\n                    }\n                }\n            },\n            saveEvent: function () {\n                var editor = this._editor;\n                if (!editor) {\n                    return;\n                }\n                var editable = editor.editable;\n                var container = editor.container;\n                var model = this._modelForContainer(container);\n                if (container && editable && editable.end() && !this.trigger(SAVE, {\n                        container: container,\n                        event: model\n                    })) {\n                    if (model.isRecurrenceHead()) {\n                        this.dataSource._removeExceptions(model);\n                    }\n                    if (!model.dirty && !model.isOccurrence()) {\n                        this._convertDates(model, 'remove');\n                    }\n                    this.dataSource.sync();\n                }\n            },\n            cancelEvent: function () {\n                var editor = this._editor;\n                var container = editor.container;\n                var model;\n                if (container) {\n                    model = this._modelForContainer(container);\n                    if (model && model.isOccurrence()) {\n                        this._convertDates(model, 'remove');\n                        this._convertDates(this.dataSource.get(model.recurrenceId), 'remove');\n                    }\n                    this.dataSource.cancelChanges(model);\n                    editor.close();\n                }\n            },\n            editEvent: function (uid) {\n                var model = typeof uid == 'string' ? this.occurrenceByUid(uid) : uid;\n                if (!model) {\n                    return;\n                }\n                this.cancelEvent();\n                if (model.isRecurring()) {\n                    this._editRecurringDialog(model);\n                } else {\n                    this._editEvent(model);\n                }\n            },\n            _editEvent: function (model) {\n                this._unbindResize();\n                this._createPopupEditor(model);\n                this._bindResize();\n            },\n            _editRecurringDialog: function (model) {\n                var that = this;\n                var editOccurrence = function () {\n                    if (model.isException()) {\n                        that._editEvent(model);\n                    } else {\n                        that.addEvent(model);\n                    }\n                };\n                var editSeries = function () {\n                    if (model.recurrenceId) {\n                        model = that.dataSource.get(model.recurrenceId);\n                    }\n                    that._editEvent(model);\n                };\n                var recurrenceMessages = that.options.messages.recurrenceMessages;\n                that._showRecurringDialog(model, editOccurrence, editSeries, {\n                    title: recurrenceMessages.editWindowTitle,\n                    text: recurrenceMessages.editRecurring ? recurrenceMessages.editRecurring : EDITRECURRING,\n                    occurrenceText: recurrenceMessages.editWindowOccurrence,\n                    seriesText: recurrenceMessages.editWindowSeries\n                });\n            },\n            _showRecurringDialog: function (model, editOccurrence, editSeries, messages) {\n                var that = this;\n                var editable = that.options.editable;\n                var editRecurringMode = isPlainObject(editable) ? editable.editRecurringMode : 'dialog';\n                if (editRecurringMode === 'series') {\n                    editSeries();\n                } else if (editRecurringMode === 'occurrence') {\n                    editOccurrence();\n                } else {\n                    this._unbindResize();\n                    that.showDialog({\n                        model: model,\n                        title: messages.title,\n                        text: messages.text,\n                        buttons: [\n                            {\n                                text: messages.occurrenceText,\n                                click: editOccurrence\n                            },\n                            {\n                                text: messages.seriesText,\n                                click: editSeries\n                            }\n                        ]\n                    });\n                    this._bindResize();\n                }\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, options = {\n                        className: 'k-scheduler-' + (commandName || '').replace(/\\s/g, ''),\n                        text: commandName,\n                        attr: ''\n                    };\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    if (command.className) {\n                        command.className += ' ' + options.className;\n                    }\n                    if (commandName === 'edit' && isPlainObject(command.text)) {\n                        command = extend(true, {}, command);\n                        command.text = command.text.edit;\n                    }\n                    options = extend(true, options, defaultCommands[commandName], command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName]);\n                }\n                return kendo.template(template)(options);\n            },\n            _convertDates: function (model, method) {\n                var timezone = this.dataSource.reader.timezone;\n                var startTimezone = model.startTimezone;\n                var endTimezone = model.endTimezone;\n                var start = model.start;\n                var end = model.start;\n                method = method || 'apply';\n                startTimezone = startTimezone || endTimezone;\n                endTimezone = endTimezone || startTimezone;\n                if (startTimezone) {\n                    if (timezone) {\n                        if (method === 'apply') {\n                            start = kendo.timezone.convert(model.start, timezone, startTimezone);\n                            end = kendo.timezone.convert(model.end, timezone, endTimezone);\n                        } else {\n                            start = kendo.timezone.convert(model.start, startTimezone, timezone);\n                            end = kendo.timezone.convert(model.end, endTimezone, timezone);\n                        }\n                    } else {\n                        start = kendo.timezone[method](model.start, startTimezone);\n                        end = kendo.timezone[method](model.end, endTimezone);\n                    }\n                    model._set('start', start);\n                    model._set('end', end);\n                }\n            },\n            _createEditor: function () {\n                var that = this;\n                var editor;\n                if (this._isMobile() && kendo.mobile.ui.Pane) {\n                    editor = that._editor = new MobileEditor(this.wrapper, extend({}, this.options, {\n                        target: this,\n                        timezone: that.dataSource.reader.timezone,\n                        resources: that.resources,\n                        createButton: proxy(this._createButton, this)\n                    }));\n                } else {\n                    editor = that._editor = new PopupEditor(this.wrapper, extend({}, this.options, {\n                        target: this,\n                        createButton: proxy(this._createButton, this),\n                        timezone: that.dataSource.reader.timezone,\n                        resources: that.resources\n                    }));\n                }\n                editor.bind('cancel', function (e) {\n                    if (that.trigger('cancel', {\n                            container: e.container,\n                            event: e.model\n                        })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    that.cancelEvent();\n                    that.focus();\n                });\n                editor.bind('edit', function (e) {\n                    if (that.trigger(EDIT, {\n                            container: e.container,\n                            event: e.model\n                        })) {\n                        e.preventDefault();\n                    }\n                });\n                editor.bind('save', function () {\n                    that.saveEvent();\n                });\n                editor.bind('remove', function (e) {\n                    that.removeEvent(e.model);\n                });\n            },\n            _createPopupEditor: function (model) {\n                var editor = this._editor;\n                if (!model.isNew() || model.isOccurrence()) {\n                    if (model.isOccurrence()) {\n                        this._convertDates(model.recurrenceId ? this.dataSource.get(model.recurrenceId) : model);\n                    }\n                    this._convertDates(model);\n                }\n                this.editable = editor.editEvent(model);\n            },\n            removeEvent: function (uid) {\n                var that = this, model = typeof uid == 'string' ? that.occurrenceByUid(uid) : uid;\n                if (!model) {\n                    return;\n                }\n                if (model.isRecurring()) {\n                    that._deleteRecurringDialog(model);\n                } else {\n                    that._confirmation(function (cancel) {\n                        if (!cancel) {\n                            that._removeEvent(model);\n                        }\n                    }, model);\n                }\n            },\n            occurrenceByUid: function (uid) {\n                var occurrence = this.dataSource.getByUid(uid);\n                if (!occurrence) {\n                    occurrence = getOccurrenceByUid(this._data, uid);\n                }\n                return occurrence;\n            },\n            occurrencesInRange: function (start, end) {\n                return new kendo.data.Query(this._data).filter({\n                    logic: 'or',\n                    filters: [\n                        {\n                            logic: 'and',\n                            filters: [\n                                {\n                                    field: 'start',\n                                    operator: 'gte',\n                                    value: start\n                                },\n                                {\n                                    field: 'end',\n                                    operator: 'gte',\n                                    value: start\n                                },\n                                {\n                                    field: 'start',\n                                    operator: 'lt',\n                                    value: end\n                                }\n                            ]\n                        },\n                        {\n                            logic: 'and',\n                            filters: [\n                                {\n                                    field: 'start',\n                                    operator: 'lte',\n                                    value: start\n                                },\n                                {\n                                    field: 'end',\n                                    operator: 'gt',\n                                    value: start\n                                }\n                            ]\n                        }\n                    ]\n                }).toArray();\n            },\n            _removeEvent: function (model) {\n                if (!this.trigger(REMOVE, { event: model })) {\n                    if (this.dataSource.remove(model)) {\n                        this.dataSource.sync();\n                    }\n                }\n            },\n            _deleteRecurringDialog: function (model) {\n                var that = this;\n                var currentModel = model;\n                var editable = that.options.editable;\n                var deleteOccurrence;\n                var deleteSeries;\n                var deleteOccurrenceConfirmation;\n                var deleteSeriesConfirmation;\n                var editRecurringMode = isPlainObject(editable) ? editable.editRecurringMode : 'dialog';\n                deleteOccurrence = function () {\n                    var occurrence = currentModel.recurrenceId ? currentModel : currentModel.toOccurrence();\n                    var head = that.dataSource.get(occurrence.recurrenceId);\n                    that._convertDates(head);\n                    that._removeEvent(occurrence);\n                };\n                deleteSeries = function () {\n                    if (currentModel.recurrenceId) {\n                        currentModel = that.dataSource.get(currentModel.recurrenceId);\n                    }\n                    that._removeEvent(currentModel);\n                };\n                if (editRecurringMode != 'dialog' || that._isEditorOpened()) {\n                    deleteOccurrenceConfirmation = function () {\n                        that._confirmation(function (cancel) {\n                            if (!cancel) {\n                                deleteOccurrence();\n                            }\n                        }, currentModel);\n                    };\n                    deleteSeriesConfirmation = function () {\n                        that._confirmation(function (cancel) {\n                            if (!cancel) {\n                                deleteSeries();\n                            }\n                        }, currentModel);\n                    };\n                }\n                var seriesCallback = deleteSeriesConfirmation || deleteSeries;\n                var occurrenceCallback = deleteOccurrenceConfirmation || deleteOccurrence;\n                if (that._isEditorOpened()) {\n                    if (model.isException()) {\n                        occurrenceCallback();\n                    } else {\n                        seriesCallback();\n                    }\n                } else {\n                    var recurrenceMessages = that.options.messages.recurrenceMessages;\n                    that._showRecurringDialog(model, occurrenceCallback, seriesCallback, {\n                        title: recurrenceMessages.deleteWindowTitle,\n                        text: recurrenceMessages.deleteRecurring ? recurrenceMessages.deleteRecurring : DELETERECURRING,\n                        occurrenceText: recurrenceMessages.deleteWindowOccurrence,\n                        seriesText: recurrenceMessages.deleteWindowSeries\n                    });\n                }\n            },\n            _isEditorOpened: function () {\n                return !!this._editor.container;\n            },\n            _unbindView: function (view) {\n                var that = this;\n                that.angular('cleanup', function () {\n                    return { elements: that.items() };\n                });\n                view.destroy();\n            },\n            _bindView: function (view) {\n                var that = this;\n                if (that.options.editable) {\n                    if (that._viewRemoveHandler) {\n                        view.unbind(REMOVE, that._viewRemoveHandler);\n                    }\n                    that._viewRemoveHandler = function (e) {\n                        that.removeEvent(e.uid);\n                    };\n                    view.bind(REMOVE, that._viewRemoveHandler);\n                    if (that._viewAddHandler) {\n                        view.unbind(ADD, that._viewAddHandler);\n                    }\n                    that._viewAddHandler = function (e) {\n                        that.addEvent(e.eventInfo);\n                    };\n                    view.bind(ADD, this._viewAddHandler);\n                    if (that._viewEditHandler) {\n                        view.unbind(EDIT, that._viewEditHandler);\n                    }\n                    that._viewEditHandler = function (e) {\n                        that.editEvent(e.uid);\n                    };\n                    view.bind(EDIT, this._viewEditHandler);\n                }\n                if (that._viewNavigateHandler) {\n                    view.unbind('navigate', that._viewNavigateHandler);\n                }\n                that._viewNavigateHandler = function (e) {\n                    if (e.view) {\n                        var switchWorkDay = 'isWorkDay' in e;\n                        var action = switchWorkDay ? 'changeWorkDay' : 'changeView';\n                        if (!that.trigger('navigate', {\n                                view: e.view,\n                                isWorkDay: e.isWorkDay,\n                                action: action,\n                                date: e.date\n                            })) {\n                            if (switchWorkDay) {\n                                that._workDayMode = e.isWorkDay;\n                            }\n                            that._selectView(e.view);\n                            that.date(e.date);\n                        }\n                    }\n                };\n                view.bind('navigate', that._viewNavigateHandler);\n                if (that._viewActivateHandler) {\n                    view.unbind('activate', that._viewActivateHandler);\n                }\n                that._viewActivateHandler = function () {\n                    var view = this;\n                    if (that._selection) {\n                        view.constrainSelection(that._selection);\n                        that._select();\n                        that._adjustSelectedDate();\n                    }\n                };\n                view.bind('activate', that._viewActivateHandler);\n            },\n            _selectView: function (name) {\n                var that = this;\n                if (name && that.views[name]) {\n                    if (that._selectedView) {\n                        that._unbindView(that._selectedView);\n                    }\n                    that._selectedView = that._renderView(name);\n                    that._selectedViewName = name;\n                    if (that._viewsCount > 1) {\n                        var viewButton = VIEWBUTTONTEMPLATE({\n                            views: that.views,\n                            view: name,\n                            ns: kendo.ns\n                        });\n                        var firstButton = that.toolbar.find('.k-scheduler-views li:first-child');\n                        if (firstButton.is('.k-current-view')) {\n                            firstButton.replaceWith(viewButton);\n                        } else {\n                            that.toolbar.find('.k-scheduler-views').prepend(viewButton);\n                        }\n                        var viewButtons = that.toolbar.find('.k-scheduler-views li').removeClass('k-state-selected');\n                        viewButtons.end().find('.k-view-' + name.replace(/\\./g, '\\\\.').toLowerCase()).addClass('k-state-selected');\n                    }\n                }\n            },\n            view: function (name) {\n                var that = this;\n                if (name) {\n                    that._selectView(name);\n                    that.rebind();\n                    return;\n                }\n                return that._selectedView;\n            },\n            viewName: function () {\n                return this.view().name;\n            },\n            _renderView: function (name) {\n                var view = this._initializeView(name);\n                this._bindView(view);\n                this._model.set('formattedDate', view.dateForTitle());\n                this._model.set('formattedShortDate', view.shortDateForTitle());\n                return view;\n            },\n            resize: function (force) {\n                var size = this.getSize();\n                var currentSize = this._size;\n                var view = this.view();\n                if (!view || !view.groups) {\n                    return;\n                }\n                if (force || !currentSize || size.width !== currentSize.width || size.height !== currentSize.height) {\n                    this.refresh({ action: 'resize' });\n                    this._size = size;\n                }\n            },\n            _adjustSelectedDate: function () {\n                var date = this._model.selectedDate, selection = this._selection, start = selection.start;\n                if (start && !kendo.date.isInDateRange(date, getDate(start), getDate(selection.end))) {\n                    date.setFullYear(start.getFullYear(), start.getMonth(), start.getDate());\n                }\n            },\n            _initializeView: function (name) {\n                var view = this.views[name];\n                if (view) {\n                    var isSettings = isPlainObject(view), type = view.type;\n                    if (typeof type === STRING) {\n                        type = kendo.getter(view.type)(window);\n                    }\n                    if (type) {\n                        view = new type(this.wrapper, trimOptions(extend(true, {}, this.options, isSettings ? view : {}, {\n                            resources: this.resources,\n                            date: this.date(),\n                            showWorkHours: this._workDayMode\n                        })));\n                    } else {\n                        throw new Error('There is no such view');\n                    }\n                }\n                return view;\n            },\n            _views: function () {\n                var views = this.options.views;\n                var view;\n                var defaultView;\n                var selected;\n                var isSettings;\n                var name;\n                var type;\n                var idx;\n                var length;\n                this.views = {};\n                this._viewsCount = 0;\n                for (idx = 0, length = views.length; idx < length; idx++) {\n                    var hasType = false;\n                    view = views[idx];\n                    isSettings = isPlainObject(view);\n                    if (isSettings) {\n                        type = name = view.type ? view.type : view;\n                        if (typeof type !== STRING) {\n                            name = view.name || view.title;\n                            hasType = true;\n                        }\n                    } else {\n                        type = name = view;\n                    }\n                    defaultView = defaultViews[name];\n                    if (defaultView && !hasType) {\n                        view.type = defaultView.type;\n                        defaultView.title = this.options.messages.views[name];\n                        if (defaultView.type === 'day') {\n                            defaultView.messages = { allDay: this.options.messages.allDay };\n                        } else if (defaultView.type === 'agenda') {\n                            defaultView.messages = {\n                                event: this.options.messages.event,\n                                date: this.options.messages.date,\n                                time: this.options.messages.time\n                            };\n                        }\n                    }\n                    view = extend({ title: name }, defaultView, isSettings ? view : {});\n                    if (name) {\n                        this.views[name] = view;\n                        this._viewsCount++;\n                        if (!selected || view.selected) {\n                            selected = name;\n                        }\n                    }\n                }\n                if (selected) {\n                    this._selectedViewName = selected;\n                }\n            },\n            rebind: function () {\n                this.dataSource.fetch();\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (options.timezone && !(dataSource instanceof SchedulerDataSource)) {\n                    dataSource = extend(true, dataSource, { schema: { timezone: options.timezone } });\n                } else if (dataSource instanceof SchedulerDataSource) {\n                    options.timezone = dataSource.options.schema ? dataSource.options.schema.timezone : '';\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind('progress', that._progressHandler).unbind('error', that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = kendo.data.SchedulerDataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind('progress', that._progressHandler).bind('error', that._errorHandler);\n                that.options.dataSource = that.dataSource;\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _progress: function (toggle) {\n                var element = this.element.find('.k-scheduler-content');\n                kendo.ui.progress(element, toggle);\n            },\n            _resources: function () {\n                var that = this;\n                var resources = that.options.resources;\n                for (var idx = 0; idx < resources.length; idx++) {\n                    var resource = resources[idx];\n                    var field = resource.field;\n                    var dataSource = resource.dataSource;\n                    if (!field || !dataSource) {\n                        throw new Error('The \"field\" and \"dataSource\" options of the scheduler resource are mandatory.');\n                    }\n                    that.resources.push({\n                        field: field,\n                        name: resource.name || field,\n                        title: resource.title || field,\n                        dataTextField: resource.dataTextField || 'text',\n                        dataValueField: resource.dataValueField || 'value',\n                        dataColorField: resource.dataColorField || 'color',\n                        valuePrimitive: resource.valuePrimitive != null ? resource.valuePrimitive : true,\n                        multiple: resource.multiple || false,\n                        dataSource: kendo.data.DataSource.create(dataSource)\n                    });\n                }\n                var promises = $.map(that.resources, function (resource) {\n                    return resource.dataSource.fetch();\n                });\n                $.when.apply(null, promises).then(function () {\n                    if (that.options.autoBind) {\n                        that.view(that._selectedViewName);\n                    } else {\n                        that._selectView(that._selectedViewName);\n                    }\n                });\n            },\n            _initModel: function () {\n                var that = this;\n                that._model = kendo.observable({\n                    selectedDate: new Date(this.options.date),\n                    formattedDate: '',\n                    formattedShortDate: ''\n                });\n                that._model.bind('change', function (e) {\n                    if (e.field === 'selectedDate') {\n                        that.view(that._selectedViewName);\n                    }\n                });\n            },\n            _wrapper: function () {\n                var that = this;\n                var options = that.options;\n                var height = options.height;\n                var width = options.width;\n                that.wrapper = that.element.addClass('k-widget k-scheduler k-floatwrap').attr('role', 'grid').attr('aria-multiselectable', true);\n                if (that._isMobile()) {\n                    that.wrapper.addClass('k-scheduler-mobile');\n                }\n                if (that._isMobilePhoneView()) {\n                    that.wrapper.addClass('k-scheduler-phone');\n                }\n                if (height) {\n                    that.wrapper.height(height);\n                }\n                if (width) {\n                    that.wrapper.width(width);\n                }\n            },\n            date: function (value) {\n                if (value != null && getDate(value) >= getDate(this.options.min) && getDate(value) <= getDate(this.options.max)) {\n                    this._model.set('selectedDate', value);\n                }\n                return getDate(this._model.get('selectedDate'));\n            },\n            _toolbar: function () {\n                var that = this;\n                var options = that.options;\n                var commands = [];\n                if (options.toolbar) {\n                    commands = $.isArray(options.toolbar) ? options.toolbar : [options.toolbar];\n                }\n                var template = this._isMobilePhoneView() ? MOBILETOOLBARTEMPLATE : TOOLBARTEMPLATE;\n                var toolbar = $(template({\n                    messages: options.messages,\n                    pdf: $.grep(commands, function (item) {\n                        return item == 'pdf' || item.name == 'pdf';\n                    }).length > 0,\n                    ns: kendo.ns,\n                    views: that.views,\n                    viewsCount: that._viewsCount\n                }));\n                that.wrapper.append(toolbar);\n                that.toolbar = toolbar;\n                kendo.bind(that.toolbar, that._model);\n                toolbar.on(CLICK + NS, '.k-pdf', function (e) {\n                    e.preventDefault();\n                    that.saveAsPDF();\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-navigation li', function (e) {\n                    var li = $(this);\n                    var date = new Date(that.date());\n                    var action = '';\n                    e.preventDefault();\n                    if (li.hasClass('k-nav-today')) {\n                        action = 'today';\n                        date = new Date();\n                    } else if (li.hasClass('k-nav-next')) {\n                        action = 'next';\n                        date = that.view().nextDate();\n                    } else if (li.hasClass('k-nav-prev')) {\n                        action = 'previous';\n                        date = that.view().previousDate();\n                    } else if (li.hasClass('k-nav-current') && !that._isMobilePhoneView()) {\n                        that._showCalendar();\n                        return;\n                    }\n                    if (!that.trigger('navigate', {\n                            view: that._selectedViewName,\n                            action: action,\n                            date: date\n                        })) {\n                        that.date(date);\n                    }\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-views li, .k-scheduler-refresh', function (e) {\n                    e.preventDefault();\n                    var name = $(this).attr(kendo.attr('name'));\n                    if (!that.trigger('navigate', {\n                            view: name,\n                            action: 'changeView',\n                            date: that.date()\n                        })) {\n                        that.view(name);\n                        that.element.find('.k-state-expanded').removeClass('k-state-expanded');\n                    }\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-views li.k-current-view', function () {\n                    that.element.find('.k-scheduler-views').toggleClass('k-state-expanded');\n                });\n                toolbar.find('li').hover(function () {\n                    $(this).addClass('k-state-hover');\n                }, function () {\n                    $(this).removeClass('k-state-hover');\n                });\n            },\n            _showCalendar: function () {\n                var that = this, target = that.toolbar.find('.k-nav-current'), html = $('<div class=\"k-calendar-container\"><div class=\"k-scheduler-calendar\"/></div>');\n                if (!that.popup) {\n                    that.popup = new Popup(html, {\n                        anchor: target,\n                        open: function () {\n                            if (!that.calendar) {\n                                that.calendar = new Calendar(this.element.find('.k-scheduler-calendar'), {\n                                    change: function () {\n                                        var date = this.value();\n                                        if (!that.trigger('navigate', {\n                                                view: that._selectedViewName,\n                                                action: 'changeDate',\n                                                date: date\n                                            })) {\n                                            that.date(date);\n                                            that.popup.close();\n                                        }\n                                    },\n                                    min: that.options.min,\n                                    max: that.options.max\n                                });\n                            }\n                            that.calendar.value(that.date());\n                        },\n                        copyAnchorStyles: false\n                    });\n                }\n                that.popup.open();\n            },\n            refresh: function (e) {\n                var that = this;\n                var view = this.view();\n                this._progress(false);\n                this.angular('cleanup', function () {\n                    return { elements: that.items() };\n                });\n                e = e || {};\n                if (!view) {\n                    return;\n                }\n                if (e && e.action === 'itemchange' && (this._editor.editable || this._preventRefresh)) {\n                    return;\n                }\n                if (this.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                if (!(e && e.action === 'resize') && this._editor) {\n                    this._editor.close();\n                }\n                this._data = this.dataSource.expand(view.startDate(), view.endDate());\n                view.refreshLayout();\n                view.render(this._data);\n                this.trigger('dataBound');\n            },\n            slotByPosition: function (x, y) {\n                var view = this.view();\n                if (!view._slotByPosition) {\n                    return null;\n                }\n                var slot = view._slotByPosition(x, y);\n                if (!slot) {\n                    return null;\n                }\n                return {\n                    startDate: slot.startDate(),\n                    endDate: slot.endDate(),\n                    groupIndex: slot.groupIndex,\n                    element: slot.element,\n                    isDaySlot: slot.isDaySlot\n                };\n            },\n            slotByElement: function (element) {\n                var offset = $(element).offset();\n                return this.slotByPosition(offset.left, offset.top);\n            },\n            resourcesBySlot: function (slot) {\n                return this.view()._resourceBySlot(slot);\n            }\n        });\n        var defaultViews = {\n            day: { type: 'kendo.ui.DayView' },\n            week: { type: 'kendo.ui.WeekView' },\n            workWeek: { type: 'kendo.ui.WorkWeekView' },\n            agenda: { type: 'kendo.ui.AgendaView' },\n            month: { type: 'kendo.ui.MonthView' },\n            timeline: { type: 'kendo.ui.TimelineView' },\n            timelineWeek: { type: 'kendo.ui.TimelineWeekView' },\n            timelineWorkWeek: { type: 'kendo.ui.TimelineWorkWeekView' },\n            timelineMonth: { type: 'kendo.ui.TimelineMonthView' }\n        };\n        ui.plugin(Scheduler);\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Scheduler.prototype);\n            var SCHEDULER_EXPORT = 'k-scheduler-pdf-export';\n            Scheduler.fn._drawPDF = function (progress) {\n                var wrapper = this.wrapper;\n                var styles = wrapper[0].style.cssText;\n                wrapper.css({\n                    width: wrapper.width(),\n                    height: wrapper.height()\n                });\n                wrapper.addClass(SCHEDULER_EXPORT);\n                var scheduler = this;\n                var promise = new $.Deferred();\n                var table = wrapper.find('.k-scheduler-content').find('table').css('table-layout', 'auto');\n                setTimeout(function () {\n                    table.css('table-layout', 'fixed');\n                    scheduler.resize(true);\n                    scheduler._drawPDFShadow({}, { avoidLinks: scheduler.options.pdf.avoidLinks }).done(function (group) {\n                        var args = {\n                            page: group,\n                            pageNumber: 1,\n                            progress: 1,\n                            totalPages: 1\n                        };\n                        progress.notify(args);\n                        promise.resolve(args.page);\n                    }).fail(function (err) {\n                        promise.reject(err);\n                    }).always(function () {\n                        wrapper[0].style.cssText = styles;\n                        wrapper.removeClass(SCHEDULER_EXPORT);\n                        scheduler.resize(true);\n                        scheduler.resize(true);\n                    });\n                });\n                return promise;\n            };\n        }\n        var TimezoneEditor = Widget.extend({\n            init: function (element, options) {\n                var that = this, zones = kendo.timezone.windows_zones;\n                if (!zones || !kendo.timezone.zones_titles) {\n                    throw new Error('kendo.timezones.min.js is not included.');\n                }\n                Widget.fn.init.call(that, element, options);\n                that.wrapper = that.element;\n                that._zonesQuery = new kendo.data.Query(zones);\n                that._zoneTitleId = kendo.guid();\n                that._zoneTitlePicker();\n                that._zonePicker();\n                that._zoneTitle.bind('cascade', function () {\n                    if (!this.value()) {\n                        that._zone.wrapper.hide();\n                    }\n                });\n                that._zone.bind('cascade', function () {\n                    that._value = this.value();\n                    that.trigger('change');\n                });\n                that.value(that.options.value);\n            },\n            options: {\n                name: 'TimezoneEditor',\n                value: '',\n                optionLabel: 'No timezone'\n            },\n            events: ['change'],\n            _zoneTitlePicker: function () {\n                var that = this, zoneTitle = $('<input id=\"' + that._zoneTitleId + '\"/>').appendTo(that.wrapper);\n                that._zoneTitle = new kendo.ui.DropDownList(zoneTitle, {\n                    dataSource: kendo.timezone.zones_titles,\n                    dataValueField: 'other_zone',\n                    dataTextField: 'name',\n                    optionLabel: that.options.optionLabel\n                });\n            },\n            _zonePicker: function () {\n                var that = this, zone = $('<input />').appendTo(this.wrapper);\n                that._zone = new kendo.ui.DropDownList(zone, {\n                    dataValueField: 'zone',\n                    dataTextField: 'territory',\n                    dataSource: that._zonesQuery.data,\n                    cascadeFrom: that._zoneTitleId,\n                    dataBound: function () {\n                        that._value = this.value();\n                        this.wrapper.toggle(this.dataSource.view().length > 1);\n                    }\n                });\n                that._zone.wrapper.hide();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                kendo.destroy(this.wrapper);\n            },\n            value: function (value) {\n                var that = this, zone;\n                if (value === undefined) {\n                    return that._value;\n                }\n                zone = that._zonesQuery.filter({\n                    field: 'zone',\n                    operator: 'eq',\n                    value: value\n                }).data[0];\n                if (zone) {\n                    that._zoneTitle.value(zone.other_zone);\n                    that._zone.value(zone.zone);\n                } else {\n                    that._zoneTitle.select(0);\n                }\n            }\n        });\n        ui.plugin(TimezoneEditor);\n        var ZONETITLEOPTIONTEMPLATE = kendo.template('<option value=\"#=other_zone#\">#=name#</option>');\n        var ZONEOPTIONTEMPLATE = kendo.template('<option value=\"#=zone#\">#=territory#</option>');\n        var MobileTimezoneEditor = Widget.extend({\n            init: function (element, options) {\n                var that = this, zones = kendo.timezone.windows_zones;\n                if (!zones || !kendo.timezone.zones_titles) {\n                    throw new Error('kendo.timezones.min.js is not included.');\n                }\n                Widget.fn.init.call(that, element, options);\n                that.wrapper = that.element;\n                that._zonesQuery = new kendo.data.Query(zones);\n                that._zoneTitlePicker();\n                that._zonePicker();\n                that.value(that.options.value);\n            },\n            options: {\n                name: 'MobileTimezoneEditor',\n                optionLabel: 'No timezone',\n                value: ''\n            },\n            events: ['change'],\n            _bindZones: function (value) {\n                var data = value ? this._filter(value) : [];\n                this._zone.html(this._options(data, ZONEOPTIONTEMPLATE));\n            },\n            _filter: function (value) {\n                return this._zonesQuery.filter({\n                    field: 'other_zone',\n                    operator: 'eq',\n                    value: value\n                }).data;\n            },\n            _options: function (data, template, optionLabel) {\n                var idx = 0;\n                var html = '';\n                var length = data.length;\n                if (optionLabel) {\n                    html += template({\n                        other_zone: '',\n                        name: optionLabel\n                    });\n                }\n                for (; idx < length; idx++) {\n                    html += template(data[idx]);\n                }\n                return html;\n            },\n            _zoneTitlePicker: function () {\n                var that = this;\n                var options = that._options(kendo.timezone.zones_titles, ZONETITLEOPTIONTEMPLATE, that.options.optionLabel);\n                that._zoneTitle = $('<select>' + options + '</select>').appendTo(that.wrapper).change(function () {\n                    var value = this.value;\n                    var zone = that._zone;\n                    that._bindZones(value);\n                    if (value && zone[0].children.length > 1) {\n                        zone.show();\n                    } else {\n                        zone.hide();\n                    }\n                    that._value = zone[0].value;\n                    that.trigger('change');\n                });\n            },\n            _zonePicker: function () {\n                var that = this;\n                that._zone = $('<select style=\"display:none\"></select>').appendTo(this.wrapper).change(function () {\n                    that._value = this.value;\n                    that.trigger('change');\n                });\n                that._bindZones(that._zoneTitle.val());\n                that._value = that._zone[0].value;\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                kendo.destroy(this.wrapper);\n            },\n            value: function (value) {\n                var that = this;\n                var zonePicker = that._zone;\n                var other_zone = '';\n                var zone_value = '';\n                var zone;\n                if (value === undefined) {\n                    return that._value;\n                }\n                zone = that._zonesQuery.filter({\n                    field: 'zone',\n                    operator: 'eq',\n                    value: value\n                }).data[0];\n                if (zone) {\n                    zone_value = zone.zone;\n                    other_zone = zone.other_zone;\n                }\n                that._zoneTitle.val(other_zone);\n                that._bindZones(other_zone);\n                zonePicker.val(zone_value);\n                zone_value = zonePicker[0].value;\n                if (zone_value && zonePicker[0].children.length > 1) {\n                    zonePicker.show();\n                } else {\n                    zonePicker.hide();\n                }\n                that._value = zone_value;\n            }\n        });\n        ui.plugin(MobileTimezoneEditor);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}