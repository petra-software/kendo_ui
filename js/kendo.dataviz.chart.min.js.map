{"version":3,"sources":["kendo.dataviz.chart.js"],"names":["f","define","$","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","text","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","textContent","appendChild","body","String","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","countNumbers","values","num","count","isNumber","getField","field","row","getter","evalOptions","context","state","dryRun","defaults","depth","needsEval","property","propValue","excluded","MAX_EXPAND_DEPTH","inArray","hasOwnProperty","isFunction","valueOrDefault","isObject","categoriesCount","series","seriesCount","categories","Math","max","data","anyHasZIndex","elements","idx","defined","zIndex","hasGradientOverlay","overlay","gradient","areNumbers","hasValue","wrapData","seriesItem","isArray","paneID","ID","axisGroupBox","axes","axisBox","contentBox","wrap","clone","Box","paneAnchor","pane","anchor","isTransparent","color","setValue","fieldName","target","parentObj","indexOf","split","shift","filterSeriesByType","types","currentSeries","result","seriesTypes","concat","type","equalsIgnoreCase","a","b","toLowerCase","isDateAxis","axisOptions","sampleCategory","dateCategory","Date","DATE","appendIfNotNull","array","element","singleItemOrArray","getDateField","intlService","parseDate","groupSeries","axis","axisIx","grep","s","categoryAxis","preventDefault","_defaultPrevented","acceptKey","e","mouseKey","event","accept","ctrlKey","shiftKey","altKey","toChartAxisRanges","axisRanges","axisRange","ranges","name","min","range","createDiv","className","closestHandle","hasClasses","stopPropagation","tooltipAlignment","angle","horizontal","vertical","radians","dataviz","rad","sine","round","sin","DEFAULT_PRECISION","cosine","cos","abs","RAD_60","CENTER","RIGHT","LEFT","RAD_30","BOTTOM","TOP","segmentVisible","fields","index","pointVisibility","visible","seriesTotal","pointData","sum","SeriesBinder","bindPoint","valueFields","isString","parseFloat","intersection","b1","b2","ua","uat","x","y","ub","Point","xComparer","resolveAxisAliases","alias","aliases","AXIS_NAMES","pointByCategoryName","points","category","applyAxisDefaults","themeOptions","mapAxisOptions","axisColor","axisDefaults","themeAxisDefaults","axisName","line","labels","title","applySeriesDefaults","seriesType","baseOptions","seriesLength","seriesDefaults","commonDefaults","themeSeriesDefaults","commonThemeDefaults","cleanupNestedSeriesDefaults","tooltip","_defaults","bar","column","rangeColumn","verticalLine","pie","donut","area","verticalArea","scatter","scatterLine","bubble","candlestick","ohlc","boxPlot","bullet","verticalBullet","polarArea","polarLine","radarArea","radarLine","waterfall","sortDates","dates","comparer","dateComparer","uniqueDates","srcDates","last","transpose","rows","rowIx","colCount","colIx","rowCount","clearMissingValues","originalOptions","fieldValue","originalValue","nullValue","datavizConstants","MAX_VALUE","MIN_VALUE","VALUE","WHITE","CIRCLE","Y","X","BLACK","ARC","ChartElement","alignPathToPixel","setDefaultOptions","eventElement","services","TemplateService","TextBox","ShapeElement","getSpacing","limitValue","append","styleValue","CategoryAxis","BoxElement","DateCategoryAxis","elementStyles","bindEvents","unbindEvents","support","drawing","Path","Animation","AnimationFactory","Group","Color","geometry","GeometryPoint","transform","ChartAxis","ChartPlotArea","Aggregates","STD_ERR","STD_DEV","percentRegex","standardDeviationRegex","ErrorRangeCalculator","browser","INITIAL_ANIMATION_DURATION","FADEIN","GLASS","BORDER_BRIGHTNESS","TOOLTIP_OFFSET","START_SCALE","ERROR_LOW_FIELD","ERROR_HIGH_FIELD","X_ERROR_LOW_FIELD","X_ERROR_HIGH_FIELD","Y_ERROR_LOW_FIELD","Y_ERROR_HIGH_FIELD","LINE_MARKER_SIZE","ZERO","INTERPOLATE","GAP","SMOOTH","STEP","AREA","BAR","BOX_PLOT","BUBBLE","BULLET","CANDLESTICK","COLUMN","DONUT","FUNNEL","HORIZONTAL_WATERFALL","LINE","OHLC","PIE","POLAR_AREA","POLAR_LINE","POLAR_SCATTER","RADAR_AREA","RADAR_COLUMN","RADAR_LINE","RANGE_BAR","RANGE_COLUMN","SCATTER","SCATTER_LINE","VERTICAL_AREA","VERTICAL_BOX_PLOT","VERTICAL_BULLET","VERTICAL_LINE","WATERFALL","EQUALLY_SPACED_SERIES","LEGEND_ITEM_CLICK","LEGEND_ITEM_HOVER","SERIES_CLICK","SERIES_HOVER","PLOT_AREA_CLICK","PLOT_AREA_HOVER","DRAG","DRAG_END","DRAG_START","ZOOM_START","ZOOM","ZOOM_END","SELECT_START","SELECT","SELECT_END","RENDER","SHOW_TOOLTIP","HIDE_TOOLTIP","LOGARITHMIC","CATEGORY","INSIDE_END","INSIDE_BASE","OUTSIDE_END","MOUSEWHEEL","MOUSEWHEEL_DELAY","constants","DEFAULT_ERROR_BAR_WIDTH","ErrorBarBase","CategoricalErrorBar","CategoricalChart","PointEventsMixin","NoteMixin","ABOVE","BELOW","LinePoint","LineSegment","StepLineSegment","SplineSegment","LineChartMixin","ClipAnimation","ClipAnimationMixin","LineChart","AreaSegmentMixin","AreaSegment","StepAreaSegment","SplineAreaSegment","AreaChart","AxisGroupRangeTracker","BarLabel","BAR_ALIGN_MIN_WIDTH","Bar","ClusterLayout","StackWrap","BarChart","Candlestick","CandlestickChart","BoxPlot","VerticalBoxPlot","BoxPlotChart","ScatterErrorBar","ScatterChart","Bubble","BubbleChart","Target","Bullet","BulletChart","BaseTooltip","CrosshairTooltip","Crosshair","ChartContainer","Pane","PlotAreaBase","PlotAreaEventsMixin","SeriesAggregator","DefaultAggregates","RangeBar","RangeBarChart","OHLCPoint","OHLCChart","WaterfallSegment","WaterfallChart","CategoricalPlotArea","Highlight","Pannable","ZoomSelection","MousewheelZoom","LegendLayout","LegendItem","HORIZONTAL","POINTER","CUSTOM","Legend","PlotAreaFactory","ZOOM_ACCELERATION","Selection","Tooltip","SharedTooltip","BarChartAnimation","BubbleAnimation","FadeInAnimation","PieAnimation","ScatterLineChart","XYPlotArea","PieSegment","PieChartMixin","PIE_SECTOR_ANIM_DELAY","PieChart","PiePlotArea","DonutSegment","DONUT_SECTOR_ANIM_DELAY","DonutChart","DonutPlotArea","DEFAULT_PADDING","PolarPlotAreaBase","PolarScatterChart","PolarLineChart","SplinePolarAreaSegment","PolarAreaSegment","PolarAreaChart","PolarPlotArea","RadarLineChart","SplineRadarAreaSegment","RadarAreaSegment","RadarAreaChart","RadarSegment","RadarClusterLayout","RadarStackLayout","RadarBarChart","RadarPlotArea","FunnelSegment","FunnelChart","FunnelPlotArea","COLOR","FIRST","FROM","MAX","MIN","NOTE_TEXT","SUMMARY_FIELD","TO","MOUSEMOVE","CONTEXTMENU","MOUSEMOVE_DELAY","Chart","_axis","point","getCategory","getValue","slot","from","to","limit","valueRange","plotArea","_plotArea","visual","backgroundVisual","_bgVisual","sumOrNull","avg","first","_valueFields","_otherFields","_nullValue","_undefinedValue","register","otherFields","this$1","_makeValue","undefined","canonicalFields","pointIx","item","fieldData","srcValueFields","srcPointFields","Array","slice","_bindFromArray","sourceFields","_bindFromObject","initialValue","srcFields","srcFieldName","sourceFieldName","RegExp","errorValue","initGlobalRanges","average","deviation","multiple","errorRange","standardError","deviationMatch","exec","valueGetter","createValueGetter","getAverage","getStandardDeviation","low","high","globalRange","getStandardError","binder","OBJECT","getErrorRange","pointValue","percentValue","Error","sqrt","isSample","total","squareDifferenceSum","pow","msie","isVertical","chart","fn","call","reflow","targetBox","linePoints","endCaps","getAxis","valueBox","getSlot","centerBox","center","capsWidth","getCapsWidth","capValue","capStart","capEnd","y1","y2","x1","x2","boxSize","floor","createVisual","rect","toRect","sender","getSender","createDefaultVisual","defaultVisual","ref","lineOptions","stroke","dashType","moveTo","lineTo","animation","delay","seriesValueAxis","chartService","seriesCategoryAxis","valueAxisRanges","categoryPoints","seriesPoints","seriesOptions","_evalSeries","render","traverseDataPoints","addValue","bind","pointOptions","seriesIx","pointType","prototype","invertAxes","plotValue","categoryIx","otherValues","categorySum","other","stack","otherStack","isStacked100","group","plotRange","startValue","positive","prevValue","isStackedBar","otherValue","valueAxis","axisCrossingValue","isStacked","STRING","categoryAxisCrossingValue","stackLimits","stackName","pIx","isFinite","updateStackRange","limits","errorTotals","chartSeries","limitsCache","negative","sparseArrayLimits","addErrorBar","errorBars","lowValue","highValue","seriesErrorRanges","addPointErrorBar","stackedErrorRange","errorBar","updateRange","createPoint","owner","dataItem","noteText","evalPointOptions","doEval","namedValueAxes","categorySlots","chartPoints","valueSlot","pointSlot","categorySlot","clip","aboveAxis","stackValue","percentage","reflowPoint","reflowCategories","reverse","crossingValues","axisCrossingValues","axisIndex","slotX","slotY","callback","seriesIx$1","currentCategory","seriesIx$2","_outOfRangeCallback","_bindPoint","outOfRangePoint","bindCache","_bindCache","formatPointValue","format","auto","click","trigger","eventArgs","hover","runningTotal","originalEvent","createNote","notes","label","note","Note","tooltipTracking","labelText","labelTemplate","markers","_rendered","createMarker","template","compile","formatValue","align","vAlign","margin","left","right","markerBorder","background","border","brightness","toHex","rotation","opacity","markerBox","_childBox","childBox","noteTargetBox","reflowLabel","position","alignTo","createHighlight","highlight","defaultColor","shadow","getElement","highlightVisual","highlightVisualArgs","halfSize","paddingBox","Rect","tooltipAnchor","horizontalAlign","verticalAlign","clipBox","showTooltip","overlaps","overlapsBox","padding","visualPoints","fromPoints","closed","close","aliasFor","coords","parent","getNearestPoint","calculateStepPoints","prevPoint","prevMarkerBoxCenter","markerBoxCenter","isInterpolate","seriesMissingValues","dir","revDir","justified","curveProcessor","segments","curve","CurveProcessor","process","apply","renderSegments","lastSegment","sortedPoints","pointCount","_segments","sortPoints","createSegment","_addSegment","children","unshift","segment","missingValues","assumeZero","nearestPoint","pointBox","pointDistance","allPoints","nearestPointDistance","distanceTo","setup","_setEnd","step","pos","interpolateValue","topRight","bottomRight","suspend","setX","resume","duration","createAnimation","clipPath","root","getRoot","transitions","fromRect","_setChildrenAnimation","animationPoints","firstPoint","lastPoint","valueAxisLineBox","lineBox","categoryAxisLineBox","stackPoints","_linePoints","end","createArea","createLine","lineCap","fill","prevSegment","strokeSegments","_strokeSegments","createFill","createStroke","prevStrokeSegments","prevAnchor","stackSegments","firstAnchor","fillSegments","Segment","controlOut","controlIn","closeFill","fillPath","_gapStackPoints","stackPoint","_stackPoints","endIdx","pointOffset","currentSeriesIx","gapStackPoint","startIdx","_outOfRangeMinPoint","_previousSegmentPoint","_createGapStackPoint","segmentIx","seriesIdx","update","chartAxisRanges","chartRange","reset","query","content","textBox","noclip","textOptions","labelBox","top","bottom","alignToClipBox","start","parentBox","createLabel","customVisual","rectVisual","createRect","path","strokeOpacity","getBorderColor","lineJoin","createGradientOverlay","baseColor","_brightness","borderColor","gap","spacing","slots","slotSize","currentChild","positionAxis","childrenCount","snapTo","clusterType","stackType","cluster","stackWrap","labelOptions","negativeColor","getStackWrap","stackGroup","wraps","_stackGroup","zeroSlot","stackAxis","childrenLength","_setAnimationOptions","pointVisual","origin","mid","ocSlot","open","lhSlot","realBody","lines","reflowNote","_mainVisual","mainVisual","createOverlay","createBody","createLines","container","set","drawLines","lineStyle","normalColor","valueParts","splitValue","downColor","whiskerSlot","boxSlot","medianSlot","meanSlot","q1","q3","reflowBoxSlot","lower","upper","reflowWhiskerSlot","median","mean","meanPoints","calcMeanPoints","whiskerPoints","calcWhiskerPoints","medianPoints","calcMedianPoints","renderOutliers","outlierValue","markersBorder","shape","outliers","outerFence","extremes","reflowOutliers","move","whiskers","CROSS","filterOutliers","items","seriesAxes","_initFields","xAxisRanges","yAxisRanges","valueErrorField","lowField","highField","createMissingValue","intl","xAxisName","xAxis","yAxisName","yAxis","xAxisRange","yAxisRange","namedXAxes","axisX","namedYAxes","axisY","currentSeriesPoints","ref$1","radius","highlightGroup","Circle","createGradient","stops","offset","_maxSize","negativeValues","updateBubblesSize","pointsCount","animationOptions","minSize","maxSize","minR","maxR","minArea","maxArea","areaRange","areaRatio","baseZIndex","PI","targetValueSlot","targetSlotX","targetSlotY","targetSlot","bodyVisual","create","bulletOptions","isNaN","getStyle","pointColor","backgroundColor","font","borderWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","show","tooltipOptions","percBrightness","notify","hide","destroy","crosshair","formatService","initAxisName","showAt","stickyMode","formattedValue","dateFormats","baseUnit","getAnchor","ref_options","bbox","bottomLeft","translate","topLeft","moveLine","lineEnd","getBox","dim","lineStart","pointCategoryIndex","axisLineBox","currentAxis","shouldClip","_clipBox","chartsBox","clipRect","unclipLabels","stackRoot","j","charts","isStackRoot","id","createTitle","chartContainer","titleOptions","Title","buildTitle","appendAxis","appendChart","empty","i$1","removeAxis","removeChart","pop","visualStyle","renderComplete","createGridLines","clipRoot","gridLines","altAxis","allAxes","vGridLines","hGridLines","refresh","clear","renderVisual","axisValueField","length$1","idx$1","axis$1","lineBox$1","shrinkToFit","initFields","initSeries","legend","crosshairs","createPanes","createCrosshairs","setTitle","currentPane","panes","paneOptions","panesLength","paneIndex","currentCrosshair","removeCrosshairs","splice","hideCrosshairs","findPane","matchingPane","findPointPane","containsPoint","axisToRemove","filteredAxes","chartToRemove","filteredCharts","addToLegend","seriesVisible","itemLabelOptions","markerColor","inactiveItems","inactiveItemsLabels","visibleInLegend","active","groupAxes","paneIx","paneAxes","xAxes","yAxes","any","groupSeriesByPane","seriesByPane","seriesPaneName","filterVisibleSeries","unpad","reflowPanes","reflowAxes","reflowCharts","redraw","panesArray","crossingAxes","valuesToAdd","defaultValue","alignAxisTo","targetAxis","crossingValue","targetCrossingValue","slotEdge","targetEdge","alignAxes","paneId","anchorCrossings","pane$1","paneId$1","anchor$1","anchorCrossings$1","xAnchor","yAnchor","xAnchorCrossings","yAnchorCrossings","leftAnchors","rightAnchors","topAnchors","bottomAnchors","_overlap","_mirrored","mirror","COORD_PRECISION","shrinkAxisWidth","overflowX","shrink","shrinkAxisHeight","shrinked","overflowY","fitAxes","paneBox","offsetY","currentAxis$1","offsetX","reflowPaneAxes","autoRotateAxisLabels","groupedAxes","rotated","autoRotateLabels","chartPane","percents","currentPane$1","i$2","currentPane$2","remainingHeight","remainingPanes","autoHeightPanes","parseInt","backgroundBox","axisA","axisB","axesCount","chartsBoxes","boxes","addBackgroundPaths","multipath","paths","backgroundContainsPoint","bg","MultiPath","appendVisual","pointsByCategoryIndex","categoryIndex","pointsBySeriesIndex","seriesIndex","filterPoints","pointsBySeriesName","findPoint","paneByPoint","_dispatchEvent","defaultAggregates","fieldAggregate","seriesFields","_seriesFields","rootAggregate","aggregate","_series","_binder","canonicalName","aggregatePoints","srcPoints","srcValues","_bindPoints","firstDataItem","dataItems","_bindField","aggregates","fromOptions","toOptions","labelFrom","_createLabel","labelTo","plotLimits","oPoints","cPoints","lhPoints","oSlot","cSlot","fromBox","toBox","createSegments","summary","totalCategories","namedCategoryAxes","valueAxisRangeTracker","stack100","createCategoryAxes","aggregateCategories","createCategoryAxesLabels","createCharts","createValueAxes","paneSeries","visibleSeries","groups","groupIx","groupSeriesByCategoryAxis","createChartGroup","createAreaChart","createBarChart","createRangeBarChart","createBulletChart","createCandlestickChart","createBoxPlotChart","createOHLCChart","createWaterfallChart","createLineChart","axisPane","dateAxis","srcSeries","processedSeries","categoryField","aggregateSeries","filterSeries","minCategory","srcCategories","totalRangeIndices","outOfRangePoints","ceil","_outOfRangeMaxPoint","_seriesMax","aggregatorSeries","srcData","outOfRangeMinIdx","outOfRangeMaxIdx","getFn","outOfRangeMinCategory","outOfRangeMaxCategory","aggregator","categoriesToAdd","defaultPaneName","paneName","stackableChartOptions","firstSeries","axisSeries","categoryAxes","unique","barChart","rangeColumnChart","bulletChart","lineChart","areaChart","waterfallChart","axisRequiresRounding","categoryAxisName","categoryAxisIndex","seriesAxis","centeredSeries","aggregatedAxis","createLabels","primaryAxis","definitions","isJustified","defaultAxisRange","axisType","tracker","defaultRange","roundToMajorUnit","LogarithmicAxis","NumericAxis","eventType","_eventCoordinates","pointPane","updateAxisOptions","axesOptions","_points","arrayPoints","toggleHighlight","hasHighlight","togglePointHighlight","toggleHandler","toggle","isHighlighted","_active","_panAxes","pan","delta","lock","updatedAxes","limitRange","marqueeColor","marquee","_marquee","removeElement","setStyles","styles","zoomPane","_zoomPane","_elementOffset","_zoomPaneClipBox","pageX","pageY","chartElement","elementOffset","_selectionPosition","elementOffset$$1","selectionPosition","_updateAxisRanges","zoom","pointsRange","startLocation","location","updateRanges","zoomRange","legendItem","Layout","lineSpacing","orientation","clippedBBox","rectToBox","addVisual","createContainer","FloatElement","markerOptions","cursor","eventSink","_itemOverlay","widget","args","_legendItemHover","pointIndex","leave","_unsetActivePoint","renderChildren","createItems","userAlign","getService","innerElement","hasItems","legendBox","containerCustomReflow","containerReflow","alignTarget","containerBox","_registry","registry","match","observer","getValueAxis","_dateAxis","initOptions","createElements","_index","selection","leftHandle","rightHandle","selectionStyles","leftHandleHeight","rightHandleHeight","wrapper","leftMask","rightMask","borderLeftWidth","borderRightWidth","_mousewheelHandler","mousewheel","_mousewheel","obj","_domEvents","DomEventsBuilder","_start","_move","_end","tap","_tap","press","_press","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","clearTimeout","_mwTimeout","_state","_rangeEventArgs","_value","moveTarget","handle","addClass","oldRange","span","scale","removeClass","rightClick","which","mousewheelDelta","expand","setTimeout","p0","_toModelCoordinates","touches","p1","_slot","rightMaskWidth","distance","leftMaskWidth","fromValue","toValue","zDir","_current","tooltipPoints","_slotAnchor","_defaultAnchor","shared","categoryText","categoryFormat","centerPoint","slotCenter","fromScale","abort","scaleX","scaleY","easing","fadeTo","missingValue","xAxisRangeTracker","yAxisRangeTracker","filteredSeries","createScatterChart","createScatterLineChart","createBubbleChart","createAxes","xAxisOptions","yAxisOptions","createXYAxis","seriesAxisName","firstPointValue","inferredDate","namedAxes","isLog","typeSamples","DateValueAxis","axisPane$1","xAxesOptions","yAxesOptions","currentValue","xValues","yValues","sector","brightnessValue","themeLabels","theme","animationDelay","labelHeight","labelWidth","lp","labelsOptions","labelsDistance","middle","startAngle","innerRadius","endAngle","createSegmentVisual","borderOptions","fallbackFill","userSpace","singleSegment","ShapeBuilder","createRing","midAndle","midPoint","DEFAULT_FONT","createLegendItem","pointVisible","legendOptions","legendItems","colorsCount","anglePerValue","currentAngle","explode","seriesColors","Ring","evalSegmentOptions","segmentOptions","space","minWidth","halfMinWidth","defaultPadding","newBox","newBoxCenter","boxCenter","leftSideLabels","rightSideLabels","seriesConfig","seriesConfigs","setRadius","labelComparator","leftLabelsReflow","rightLabelsReflow","distances","distanceBetweenLabels","distributeLabels","secondBox","lr","firstBox","remaining","_takeDistance","reflowLabels","amount","available","boxX","labelsCount","labelDistance","boxY","hAlignLabel","connectorsColor","connectorLine","sr","crossing","connectors","_connectorLines","pointInCircle","reverseValue","second","originalX","direction","sector_center","cx","cy","t","createPieChart","pieChart","totalSize","seriesWithoutSize","holeSize","currentSize","currentSeries$1","createDonutChart","donutChart","createPolarAxis","createValueAxis","polarAxis","axisDefaultRange","valueAxisOptions","RadarLogarithmicAxis","RadarNumericAxis","heightDiff","valueAxisBox","valueRadius","onCircle","_polarAxisCenter","_hasMissingValuesGap","PolarAxis","majorGridLines","minorGridLines","scatterChart","xValue","yValue","slotSector","slotAngle","childSector","RadarCategoryAxis","_hasBarCharts","_isStacked100","chartOptions","chartBox","createPath","labelPadding","dynamicSlopeReflow","totalHeight","lastUpperSide","previousOffset","previousHeight","nextSegment","nextPercentage","firstSegment","maxSegment","dynamicHeight","segmentSpacing","constantSlopeReflow","decreasingWidth","neckRatio","topMostWidth","finalNarrow","dynamicSlope","createFunnelChart","funnelChart","errorLow","errorHigh","userOptions","observers","addObserver","ChartService","_initElement","_originalOptions","_theme","_initTheme","_initSurface","_initHandlers","_bindCategories","FontLoader","preloadFonts","_destroyed","_redraw","_attachEvents","_setElementClass","firstChild","seriesCopies","_applyDefaults","_applySeriesColors","getSize","resize","force","_resize","_noTransitionsRedraw","_model","findAxisByName","filter","seriesName","categoryName","_togglePointsHighlight","_highlight","_sharedTooltip","_tooltip","hideTooltip","surface","_surfaceWrap","chartArea","elementSize","renderAs","Surface","model","_getModel","_destroyView","traverse","draw","play","_createTooltip","_setupSelection","_createPannable","_createZoomSelection","_createMousewheelZoom","_navState","_cancelDomEvents","exportVisual","originalChartArea","pannable","_pannable","zoomable","_zoomSelection","_mousewheelZoom","seriesColor","colors","_createPlotArea","RootElement","_modelOptions","DEFAULT_WIDTH","DEFAULT_HEIGHT","skipSeries","_hasSelection","_selections","selections","select","addDuration","weekStartDay","_selectStart","_select","_selectEnd","_clickHandler","_click","_surfaceMouseenterHandler","_mouseover","_surfaceMouseleaveHandler","_mouseout","_mousemove","throttle","removeObserver","requiresHandlers","eventNames","isDefaultPrevented","_toDocumentCoordinates","obj$1","_shouldAttachMouseMove","domEvents","cancel","_stopDragEvent","_gestureDistance","suspendTracking","_zooming","resumeTracking","previousGestureDistance","scaleDelta","mousewheelZoom","_drawingChartElement","_startNavigation","_suppressHover","ranges$1","translateRange","_endNavigation","prevented","totalDelta","scaleRange","chartEvent","_getChartElement","eventTarget","closest","coordinates","eventCoordinates","_elementPadding","_padding","clientX","clientY","drawingElement","_activePoint","_propagateClick","_startHover","handlingTap","_mouseMoveTrackHandler","_mouseMoveTracking","seriesPoint","_trackCrosshairs","_trackSharedTooltip","pointArgs","hoverArgs","_tooltipCategoryIx","hideElements","_deferRedraw","_clearRedrawTimeout","_redrawTimeout","clearInterval","autoBind","_bindCategoryAxisFromSeries","onAxis","dataLength","dataIx","dataRow","uniqueCategories","_isBindable","transitionsState","updateMouseMoveHandler","applyOptions","setOptions","createProxyMember","instance","_instance","arguments","nameTemplate","seriesClone","legacyTemplate","groupNameTemplate","logToConsole","_slotCount","_groupIx","_groupValue","ChartInstanceObserver","proxyMembers","geom","ChartPane","ChartSeries","NS","outerWidth","_outerWidth","outerHeight","_outerHeight","KendoChart","Widget","ui","DataSource","InstanceObserver","proxy","MOUSELEAVE_NS","AXIS_LABEL_CLICK","NOTE_CLICK","NOTE_HOVER","CHANGE","DATABOUND","LEAVE","Observable","TOOLTIP_ANIMATION_DURATION","TOOLTIP_SHOW_DELAY","TOOLTIP_INVERSE","SHARED_TOOLTIP_CLASS","events","UserEvents","global","multiTouch","fastTap","handlerMap","legendItemClick","dataSource","_initDataSource","_bindSeries","dimensions","_setEvents","_getThemeOptions","_sourceSeries","setDataSource","_hasDataSource","_onDataChanged","unbind","_dataChangeHandler","_hasData","fetch","off","_destroyCrosshairTooltips","findPaneByName","findPaneByIndex","findSeries","findSeriesByName","_createSeries","findSeriesByIndex","_seriesOptions","on","_mouseleave","relatedTarget","themes","themeName","_initChart","_createChart","_initTooltip","tooltips","_crosshairTooltips","_getCrosshairTooltip","_showTooltip","_hideTooltip","_onRender","_copyMembers","names","_events","_tooltipleave","_onLegendItemClick","_legendItemClick","_saveGroupVisibleState","_bindData","view","grouped","_applyGroupVisibleState","visibleState","action","_groupVisibleState","seriesData","categoriesData","_bindCategoryAxis","ExportMixin","PDFMixin","plugin","mobileScrollerSelector","useWithBlock","paramName","attr","_mobileScroller","_clearShowTimeout","remove","sharedTemplate","_offset","css","_ensureElement","stop","animate","showTimeout","_measure","zoomLevel","viewport","scrollTop","pageYOffset","documentElement","scrollLeft","pageXOffset","movable","_fit","toggleClass","_sharedContent","_pointContent","html","_hideElement","appendTo","contains","fadeOut","always","tooltipTemplate","xLow","xHigh","yLow","yHigh","viewPortSize","output","_chart","_pane","chartsVisual","_options","_filterPoints","_clearFields","toggleVisibility","hasFilter","_filterData"],"mappings":"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","file":"kendo.dataviz.chart.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                measureBox.textContent = text;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (String(text).length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/chart/kendo-chart', [\n        'kendo.core',\n        'kendo.color',\n        'kendo.drawing',\n        'kendo.dataviz.core'\n    ], f);\n}(function () {\n    (function ($) {\n        window.kendo.dataviz = window.kendo.dataviz || {};\n        var dataviz = kendo.dataviz;\n        var Class = dataviz.Class;\n        var isNumber = dataviz.isNumber;\n        var datavizConstants = dataviz.constants;\n        var MAX_VALUE = datavizConstants.MAX_VALUE;\n        var MIN_VALUE = datavizConstants.MIN_VALUE;\n        var VALUE = datavizConstants.VALUE;\n        var CENTER = datavizConstants.CENTER;\n        var TOP = datavizConstants.TOP;\n        var BOTTOM = datavizConstants.BOTTOM;\n        var LEFT = datavizConstants.LEFT;\n        var WHITE = datavizConstants.WHITE;\n        var CIRCLE = datavizConstants.CIRCLE;\n        var Y = datavizConstants.Y;\n        var X = datavizConstants.X;\n        var RIGHT = datavizConstants.RIGHT;\n        var BLACK = datavizConstants.BLACK;\n        var DATE = datavizConstants.DATE;\n        var DEFAULT_PRECISION = datavizConstants.DEFAULT_PRECISION;\n        var ARC = datavizConstants.ARC;\n        var defined = dataviz.defined;\n        var getter = dataviz.getter;\n        var isArray = dataviz.isArray;\n        var ChartElement = dataviz.ChartElement;\n        var Point = dataviz.Point;\n        var Box = dataviz.Box;\n        var alignPathToPixel = dataviz.alignPathToPixel;\n        var setDefaultOptions = dataviz.setDefaultOptions;\n        var inArray = dataviz.inArray;\n        var isFunction = dataviz.isFunction;\n        var valueOrDefault = dataviz.valueOrDefault;\n        var isObject = dataviz.isObject;\n        var deepExtend = dataviz.deepExtend;\n        var eventElement = dataviz.eventElement;\n        var services = dataviz.services;\n        var TemplateService = services.TemplateService;\n        var TextBox = dataviz.TextBox;\n        var ShapeElement = dataviz.ShapeElement;\n        var getSpacing = dataviz.getSpacing;\n        var limitValue = dataviz.limitValue;\n        var last = dataviz.last;\n        var append = dataviz.append;\n        var isString = dataviz.isString;\n        var parseDate = dataviz.parseDate;\n        var styleValue = dataviz.styleValue;\n        var CategoryAxis = dataviz.CategoryAxis;\n        var BoxElement = dataviz.BoxElement;\n        var round = dataviz.round;\n        var grep = dataviz.grep;\n        var DateCategoryAxis = dataviz.DateCategoryAxis;\n        var elementStyles = dataviz.elementStyles;\n        var hasClasses = dataviz.hasClasses;\n        var bindEvents = dataviz.bindEvents;\n        var unbindEvents = dataviz.unbindEvents;\n        var support = kendo.support;\n        var drawing = kendo.drawing;\n        var Path = drawing.Path;\n        var Animation = drawing.Animation;\n        var AnimationFactory = drawing.AnimationFactory;\n        var Group = drawing.Group;\n        var Color = kendo.Color;\n        var geometry = kendo.geometry;\n        var GeometryPoint = geometry.Point;\n        var transform = geometry.transform;\n        var ChartAxis = Class.extend({\n            init: function (axis) {\n                this._axis = axis;\n                this.options = axis.options;\n            },\n            value: function (point) {\n                var axis = this._axis;\n                var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);\n                return value;\n            },\n            slot: function (from, to, limit) {\n                if (limit === void 0) {\n                    limit = true;\n                }\n                return this._axis.slot(from, to, limit);\n            },\n            range: function () {\n                return this._axis.range();\n            },\n            valueRange: function () {\n                return this._axis.valueRange();\n            }\n        });\n        var ChartPlotArea = Class.extend({\n            init: function (plotArea) {\n                this._plotArea = plotArea;\n                this.visual = plotArea.visual;\n                this.backgroundVisual = plotArea._bgVisual;\n            }\n        });\n        function countNumbers(values) {\n            var length = values.length;\n            var count = 0;\n            for (var i = 0; i < length; i++) {\n                var num = values[i];\n                if (isNumber(num)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        var Aggregates = {\n            min: function (values) {\n                var length = values.length;\n                var min = MAX_VALUE;\n                for (var i = 0; i < length; i++) {\n                    var value = values[i];\n                    if (isNumber(value)) {\n                        min = Math.min(min, value);\n                    }\n                }\n                return min === MAX_VALUE ? values[0] : min;\n            },\n            max: function (values) {\n                var length = values.length;\n                var max = MIN_VALUE;\n                for (var i = 0; i < length; i++) {\n                    var value = values[i];\n                    if (isNumber(value)) {\n                        max = Math.max(max, value);\n                    }\n                }\n                return max === MIN_VALUE ? values[0] : max;\n            },\n            sum: function (values) {\n                var length = values.length;\n                var sum = 0;\n                for (var i = 0; i < length; i++) {\n                    var value = values[i];\n                    if (isNumber(value)) {\n                        sum += value;\n                    }\n                }\n                return sum;\n            },\n            sumOrNull: function (values) {\n                var result = null;\n                if (countNumbers(values)) {\n                    result = Aggregates.sum(values);\n                }\n                return result;\n            },\n            count: function (values) {\n                var length = values.length;\n                var count = 0;\n                for (var i = 0; i < length; i++) {\n                    var value = values[i];\n                    if (value !== null && defined(value)) {\n                        count++;\n                    }\n                }\n                return count;\n            },\n            avg: function (values) {\n                var count = countNumbers(values);\n                var result = values[0];\n                if (count > 0) {\n                    result = Aggregates.sum(values) / count;\n                }\n                return result;\n            },\n            first: function (values) {\n                var length = values.length;\n                for (var i = 0; i < length; i++) {\n                    var value = values[i];\n                    if (value !== null && defined(value)) {\n                        return value;\n                    }\n                }\n                return values[0];\n            }\n        };\n        function getField(field, row) {\n            if (row === null) {\n                return row;\n            }\n            var get = getter(field, true);\n            return get(row);\n        }\n        var SeriesBinder = Class.extend({\n            init: function () {\n                this._valueFields = {};\n                this._otherFields = {};\n                this._nullValue = {};\n                this._undefinedValue = {};\n            },\n            register: function (seriesTypes, valueFields, otherFields) {\n                var this$1 = this;\n                if (valueFields === void 0) {\n                    valueFields = [VALUE];\n                }\n                if (otherFields === void 0) {\n                    otherFields = {};\n                }\n                for (var i = 0; i < seriesTypes.length; i++) {\n                    var type = seriesTypes[i];\n                    this$1._valueFields[type] = valueFields;\n                    this$1._otherFields[type] = otherFields;\n                    this$1._nullValue[type] = this$1._makeValue(valueFields, null);\n                    this$1._undefinedValue[type] = this$1._makeValue(valueFields, undefined);\n                }\n            },\n            canonicalFields: function (series) {\n                return this.valueFields(series).concat(this.otherFields(series));\n            },\n            valueFields: function (series) {\n                return this._valueFields[series.type] || [VALUE];\n            },\n            otherFields: function (series) {\n                return this._otherFields[series.type] || [VALUE];\n            },\n            bindPoint: function (series, pointIx, item) {\n                var data = series.data;\n                var pointData = defined(item) ? item : data[pointIx];\n                var result = { valueFields: { value: pointData } };\n                var valueFields = this.valueFields(series);\n                var otherFields = this._otherFields[series.type];\n                var fields, value;\n                if (pointData === null) {\n                    value = this._nullValue[series.type];\n                } else if (!defined(pointData)) {\n                    value = this._undefinedValue[series.type];\n                } else if (Array.isArray(pointData)) {\n                    var fieldData = pointData.slice(valueFields.length);\n                    value = this._bindFromArray(pointData, valueFields);\n                    fields = this._bindFromArray(fieldData, otherFields);\n                } else if (typeof pointData === 'object') {\n                    var srcValueFields = this.sourceFields(series, valueFields);\n                    var srcPointFields = this.sourceFields(series, otherFields);\n                    value = this._bindFromObject(pointData, valueFields, srcValueFields);\n                    fields = this._bindFromObject(pointData, otherFields, srcPointFields);\n                }\n                if (defined(value)) {\n                    if (valueFields.length === 1) {\n                        result.valueFields.value = value[valueFields[0]];\n                    } else {\n                        result.valueFields = value;\n                    }\n                }\n                result.fields = fields || {};\n                return result;\n            },\n            _makeValue: function (fields, initialValue) {\n                var value = {};\n                var length = fields.length;\n                for (var i = 0; i < length; i++) {\n                    var fieldName = fields[i];\n                    value[fieldName] = initialValue;\n                }\n                return value;\n            },\n            _bindFromArray: function (array, fields) {\n                var value = {};\n                if (fields) {\n                    var length = Math.min(fields.length, array.length);\n                    for (var i = 0; i < length; i++) {\n                        value[fields[i]] = array[i];\n                    }\n                }\n                return value;\n            },\n            _bindFromObject: function (object, fields, srcFields) {\n                if (srcFields === void 0) {\n                    srcFields = fields;\n                }\n                var value = {};\n                if (fields) {\n                    var length = fields.length;\n                    for (var i = 0; i < length; i++) {\n                        var fieldName = fields[i];\n                        var srcFieldName = srcFields[i];\n                        value[fieldName] = getField(srcFieldName, object);\n                    }\n                }\n                return value;\n            },\n            sourceFields: function (series, canonicalFields) {\n                var sourceFields = [];\n                if (canonicalFields) {\n                    var length = canonicalFields.length;\n                    for (var i = 0; i < length; i++) {\n                        var fieldName = canonicalFields[i];\n                        var sourceFieldName = fieldName === VALUE ? 'field' : fieldName + 'Field';\n                        sourceFields.push(series[sourceFieldName] || fieldName);\n                    }\n                }\n                return sourceFields;\n            }\n        });\n        SeriesBinder.current = new SeriesBinder();\n        var STD_ERR = 'stderr';\n        var STD_DEV = 'stddev';\n        var percentRegex = /percent(?:\\w*)\\((\\d+)\\)/;\n        var standardDeviationRegex = new RegExp('^' + STD_DEV + '(?:\\\\((\\\\d+(?:\\\\.\\\\d+)?)\\\\))?$');\n        var ErrorRangeCalculator = Class.extend({\n            init: function (errorValue, series, field) {\n                this.initGlobalRanges(errorValue, series, field);\n            },\n            initGlobalRanges: function (errorValue, series, field) {\n                var data = series.data;\n                var deviationMatch = standardDeviationRegex.exec(errorValue);\n                if (deviationMatch) {\n                    this.valueGetter = this.createValueGetter(series, field);\n                    var average = this.getAverage(data);\n                    var deviation = this.getStandardDeviation(data, average, false);\n                    var multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1;\n                    var errorRange = {\n                        low: average.value - deviation * multiple,\n                        high: average.value + deviation * multiple\n                    };\n                    this.globalRange = function () {\n                        return errorRange;\n                    };\n                } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {\n                    this.valueGetter = this.createValueGetter(series, field);\n                    var standardError = this.getStandardError(data, this.getAverage(data));\n                    this.globalRange = function (value) {\n                        return {\n                            low: value - standardError,\n                            high: value + standardError\n                        };\n                    };\n                }\n            },\n            createValueGetter: function (series, field) {\n                var data = series.data;\n                var binder = SeriesBinder.current;\n                var valueFields = binder.valueFields(series);\n                var item = defined(data[0]) ? data[0] : {};\n                var valueGetter;\n                if (isArray(item)) {\n                    var index = field ? valueFields.indexOf(field) : 0;\n                    valueGetter = getter('[' + index + ']');\n                } else if (isNumber(item)) {\n                    valueGetter = getter();\n                } else if (typeof item === datavizConstants.OBJECT) {\n                    var srcValueFields = binder.sourceFields(series, valueFields);\n                    valueGetter = getter(srcValueFields[valueFields.indexOf(field)]);\n                }\n                return valueGetter;\n            },\n            getErrorRange: function (pointValue, errorValue) {\n                var low, high, value;\n                if (!defined(errorValue)) {\n                    return null;\n                }\n                if (this.globalRange) {\n                    return this.globalRange(pointValue);\n                }\n                if (isArray(errorValue)) {\n                    low = pointValue - errorValue[0];\n                    high = pointValue + errorValue[1];\n                } else if (isNumber(value = parseFloat(errorValue))) {\n                    low = pointValue - value;\n                    high = pointValue + value;\n                } else if (value = percentRegex.exec(errorValue)) {\n                    var percentValue = pointValue * (parseFloat(value[1]) / 100);\n                    low = pointValue - Math.abs(percentValue);\n                    high = pointValue + Math.abs(percentValue);\n                } else {\n                    throw new Error('Invalid ErrorBar value: ' + errorValue);\n                }\n                return {\n                    low: low,\n                    high: high\n                };\n            },\n            getStandardError: function (data, average) {\n                return this.getStandardDeviation(data, average, true) / Math.sqrt(average.count);\n            },\n            getStandardDeviation: function (data, average, isSample) {\n                var this$1 = this;\n                var length = data.length;\n                var total = isSample ? average.count - 1 : average.count;\n                var squareDifferenceSum = 0;\n                for (var idx = 0; idx < length; idx++) {\n                    var value = this$1.valueGetter(data[idx]);\n                    if (isNumber(value)) {\n                        squareDifferenceSum += Math.pow(value - average.value, 2);\n                    }\n                }\n                return Math.sqrt(squareDifferenceSum / total);\n            },\n            getAverage: function (data) {\n                var this$1 = this;\n                var length = data.length;\n                var sum = 0;\n                var count = 0;\n                for (var idx = 0; idx < length; idx++) {\n                    var value = this$1.valueGetter(data[idx]);\n                    if (isNumber(value)) {\n                        sum += value;\n                        count++;\n                    }\n                }\n                return {\n                    value: sum / count,\n                    count: count\n                };\n            }\n        });\n        var browser = support.browser || {};\n        var INITIAL_ANIMATION_DURATION = 600;\n        var FADEIN = 'fadeIn';\n        var GLASS = 'glass';\n        var BORDER_BRIGHTNESS = 0.8;\n        var TOOLTIP_OFFSET = 5;\n        var START_SCALE = browser.msie ? 0.001 : 0;\n        var ERROR_LOW_FIELD = 'errorLow';\n        var ERROR_HIGH_FIELD = 'errorHigh';\n        var X_ERROR_LOW_FIELD = 'xErrorLow';\n        var X_ERROR_HIGH_FIELD = 'xErrorHigh';\n        var Y_ERROR_LOW_FIELD = 'yErrorLow';\n        var Y_ERROR_HIGH_FIELD = 'yErrorHigh';\n        var LINE_MARKER_SIZE = 8;\n        var ZERO = 'zero';\n        var INTERPOLATE = 'interpolate';\n        var GAP = 'gap';\n        var SMOOTH = 'smooth';\n        var STEP = 'step';\n        var AREA = 'area';\n        var BAR = 'bar';\n        var BOX_PLOT = 'boxPlot';\n        var BUBBLE = 'bubble';\n        var BULLET = 'bullet';\n        var CANDLESTICK = 'candlestick';\n        var COLUMN = 'column';\n        var DONUT = 'donut';\n        var FUNNEL = 'funnel';\n        var HORIZONTAL_WATERFALL = 'horizontalWaterfall';\n        var LINE = 'line';\n        var OHLC = 'ohlc';\n        var PIE = 'pie';\n        var POLAR_AREA = 'polarArea';\n        var POLAR_LINE = 'polarLine';\n        var POLAR_SCATTER = 'polarScatter';\n        var RADAR_AREA = 'radarArea';\n        var RADAR_COLUMN = 'radarColumn';\n        var RADAR_LINE = 'radarLine';\n        var RANGE_BAR = 'rangeBar';\n        var RANGE_COLUMN = 'rangeColumn';\n        var SCATTER = 'scatter';\n        var SCATTER_LINE = 'scatterLine';\n        var VERTICAL_AREA = 'verticalArea';\n        var VERTICAL_BOX_PLOT = 'verticalBoxPlot';\n        var VERTICAL_BULLET = 'verticalBullet';\n        var VERTICAL_LINE = 'verticalLine';\n        var WATERFALL = 'waterfall';\n        var EQUALLY_SPACED_SERIES = [\n            BAR,\n            COLUMN,\n            OHLC,\n            CANDLESTICK,\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT,\n            BULLET,\n            RANGE_COLUMN,\n            RANGE_BAR,\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ];\n        var LEGEND_ITEM_CLICK = 'legendItemClick';\n        var LEGEND_ITEM_HOVER = 'legendItemHover';\n        var SERIES_CLICK = 'seriesClick';\n        var SERIES_HOVER = 'seriesHover';\n        var PLOT_AREA_CLICK = 'plotAreaClick';\n        var PLOT_AREA_HOVER = 'plotAreaHover';\n        var DRAG = 'drag';\n        var DRAG_END = 'dragEnd';\n        var DRAG_START = 'dragStart';\n        var ZOOM_START = 'zoomStart';\n        var ZOOM = 'zoom';\n        var ZOOM_END = 'zoomEnd';\n        var SELECT_START = 'selectStart';\n        var SELECT = 'select';\n        var SELECT_END = 'selectEnd';\n        var RENDER = 'render';\n        var SHOW_TOOLTIP = 'showTooltip';\n        var HIDE_TOOLTIP = 'hideTooltip';\n        var LOGARITHMIC = 'log';\n        var CATEGORY = 'category';\n        var INSIDE_END = 'insideEnd';\n        var INSIDE_BASE = 'insideBase';\n        var OUTSIDE_END = 'outsideEnd';\n        var MOUSEWHEEL = 'DOMMouseScroll mousewheel';\n        var MOUSEWHEEL_DELAY = 150;\n        var constants = {\n            INITIAL_ANIMATION_DURATION: INITIAL_ANIMATION_DURATION,\n            FADEIN: FADEIN,\n            LEGEND_ITEM_CLICK: LEGEND_ITEM_CLICK,\n            LEGEND_ITEM_HOVER: LEGEND_ITEM_HOVER,\n            SERIES_CLICK: SERIES_CLICK,\n            SERIES_HOVER: SERIES_HOVER,\n            GLASS: GLASS,\n            BORDER_BRIGHTNESS: BORDER_BRIGHTNESS,\n            TOOLTIP_OFFSET: TOOLTIP_OFFSET,\n            START_SCALE: START_SCALE,\n            ERROR_LOW_FIELD: ERROR_LOW_FIELD,\n            ERROR_HIGH_FIELD: ERROR_HIGH_FIELD,\n            X_ERROR_LOW_FIELD: X_ERROR_LOW_FIELD,\n            X_ERROR_HIGH_FIELD: X_ERROR_HIGH_FIELD,\n            Y_ERROR_LOW_FIELD: Y_ERROR_LOW_FIELD,\n            Y_ERROR_HIGH_FIELD: Y_ERROR_HIGH_FIELD,\n            LINE_MARKER_SIZE: LINE_MARKER_SIZE,\n            INTERPOLATE: INTERPOLATE,\n            ZERO: ZERO,\n            SMOOTH: SMOOTH,\n            STEP: STEP,\n            CATEGORY: CATEGORY,\n            FUNNEL: FUNNEL,\n            BAR: BAR,\n            CANDLESTICK: CANDLESTICK,\n            PIE: PIE,\n            COLUMN: COLUMN,\n            AREA: AREA,\n            VERTICAL_BULLET: VERTICAL_BULLET,\n            BOX_PLOT: BOX_PLOT,\n            OHLC: OHLC,\n            WATERFALL: WATERFALL,\n            LINE: LINE,\n            BULLET: BULLET,\n            VERTICAL_LINE: VERTICAL_LINE,\n            VERTICAL_AREA: VERTICAL_AREA,\n            RANGE_COLUMN: RANGE_COLUMN,\n            VERTICAL_BOX_PLOT: VERTICAL_BOX_PLOT,\n            RANGE_BAR: RANGE_BAR,\n            HORIZONTAL_WATERFALL: HORIZONTAL_WATERFALL,\n            SCATTER: SCATTER,\n            SCATTER_LINE: SCATTER_LINE,\n            BUBBLE: BUBBLE,\n            RADAR_AREA: RADAR_AREA,\n            RADAR_LINE: RADAR_LINE,\n            RADAR_COLUMN: RADAR_COLUMN,\n            POLAR_LINE: POLAR_LINE,\n            POLAR_AREA: POLAR_AREA,\n            POLAR_SCATTER: POLAR_SCATTER,\n            RENDER: RENDER,\n            PLOT_AREA_CLICK: PLOT_AREA_CLICK,\n            PLOT_AREA_HOVER: PLOT_AREA_HOVER,\n            LOGARITHMIC: LOGARITHMIC,\n            DRAG: DRAG,\n            DRAG_START: DRAG_START,\n            DRAG_END: DRAG_END,\n            ZOOM_START: ZOOM_START,\n            ZOOM: ZOOM,\n            ZOOM_END: ZOOM_END,\n            SELECT_START: SELECT_START,\n            SELECT: SELECT,\n            SELECT_END: SELECT_END,\n            GAP: GAP,\n            DONUT: DONUT,\n            INSIDE_END: INSIDE_END,\n            INSIDE_BASE: INSIDE_BASE,\n            OUTSIDE_END: OUTSIDE_END,\n            MOUSEWHEEL: MOUSEWHEEL,\n            MOUSEWHEEL_DELAY: MOUSEWHEEL_DELAY,\n            SHOW_TOOLTIP: SHOW_TOOLTIP,\n            HIDE_TOOLTIP: HIDE_TOOLTIP,\n            EQUALLY_SPACED_SERIES: EQUALLY_SPACED_SERIES\n        };\n        var DEFAULT_ERROR_BAR_WIDTH = 4;\n        var ErrorBarBase = ChartElement.extend({\n            init: function (low, high, isVertical, chart, series, options) {\n                ChartElement.fn.init.call(this, options);\n                this.low = low;\n                this.high = high;\n                this.isVertical = isVertical;\n                this.chart = chart;\n                this.series = series;\n            },\n            reflow: function (targetBox) {\n                var endCaps = this.options.endCaps;\n                var isVertical = this.isVertical;\n                var axis = this.getAxis();\n                var valueBox = axis.getSlot(this.low, this.high);\n                var centerBox = targetBox.center();\n                var capsWidth = this.getCapsWidth(targetBox, isVertical);\n                var capValue = isVertical ? centerBox.x : centerBox.y;\n                var capStart = capValue - capsWidth;\n                var capEnd = capValue + capsWidth;\n                var linePoints;\n                if (isVertical) {\n                    linePoints = [\n                        new Point(centerBox.x, valueBox.y1),\n                        new Point(centerBox.x, valueBox.y2)\n                    ];\n                    if (endCaps) {\n                        linePoints.push(new Point(capStart, valueBox.y1), new Point(capEnd, valueBox.y1), new Point(capStart, valueBox.y2), new Point(capEnd, valueBox.y2));\n                    }\n                    this.box = new Box(capStart, valueBox.y1, capEnd, valueBox.y2);\n                } else {\n                    linePoints = [\n                        new Point(valueBox.x1, centerBox.y),\n                        new Point(valueBox.x2, centerBox.y)\n                    ];\n                    if (endCaps) {\n                        linePoints.push(new Point(valueBox.x1, capStart), new Point(valueBox.x1, capEnd), new Point(valueBox.x2, capStart), new Point(valueBox.x2, capEnd));\n                    }\n                    this.box = new Box(valueBox.x1, capStart, valueBox.x2, capEnd);\n                }\n                this.linePoints = linePoints;\n            },\n            getCapsWidth: function (box, isVertical) {\n                var boxSize = isVertical ? box.width() : box.height();\n                var capsWidth = Math.min(Math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;\n                return capsWidth;\n            },\n            createVisual: function () {\n                var this$1 = this;\n                var options = this.options;\n                var visual = options.visual;\n                if (visual) {\n                    this.visual = visual({\n                        low: this.low,\n                        high: this.high,\n                        rect: this.box.toRect(),\n                        sender: this.getSender(),\n                        options: {\n                            endCaps: options.endCaps,\n                            color: options.color,\n                            line: options.line\n                        },\n                        createVisual: function () {\n                            this$1.createDefaultVisual();\n                            var defaultVisual = this$1.visual;\n                            delete this$1.visual;\n                            return defaultVisual;\n                        }\n                    });\n                } else {\n                    this.createDefaultVisual();\n                }\n            },\n            createDefaultVisual: function () {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var linePoints = ref.linePoints;\n                var lineOptions = {\n                    stroke: {\n                        color: options.color,\n                        width: options.line.width,\n                        dashType: options.line.dashType\n                    }\n                };\n                ChartElement.fn.createVisual.call(this);\n                for (var idx = 0; idx < linePoints.length; idx += 2) {\n                    var line = new Path(lineOptions).moveTo(linePoints[idx].x, linePoints[idx].y).lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);\n                    alignPathToPixel(line);\n                    this$1.visual.append(line);\n                }\n            }\n        });\n        setDefaultOptions(ErrorBarBase, {\n            animation: {\n                type: FADEIN,\n                delay: INITIAL_ANIMATION_DURATION\n            },\n            endCaps: true,\n            line: { width: 2 },\n            zIndex: 1\n        });\n        var CategoricalErrorBar = ErrorBarBase.extend({\n            getAxis: function () {\n                var axis = this.chart.seriesValueAxis(this.series);\n                return axis;\n            }\n        });\n        var MAX_EXPAND_DEPTH = 5;\n        function evalOptions(options, context, state, dryRun) {\n            if (state === void 0) {\n                state = {};\n            }\n            if (dryRun === void 0) {\n                dryRun = false;\n            }\n            var defaults = state.defaults = state.defaults || {};\n            var depth = state.depth = state.depth || 0;\n            var needsEval = false;\n            state.excluded = state.excluded || [];\n            if (depth > MAX_EXPAND_DEPTH) {\n                return null;\n            }\n            for (var property in options) {\n                if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {\n                    var propValue = options[property];\n                    if (isFunction(propValue)) {\n                        needsEval = true;\n                        if (!dryRun) {\n                            options[property] = valueOrDefault(propValue(context), defaults[property]);\n                        }\n                    } else if (isObject(propValue)) {\n                        if (!dryRun) {\n                            state.defaults = defaults[property];\n                        }\n                        state.depth++;\n                        needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;\n                        state.depth--;\n                    }\n                }\n            }\n            return needsEval;\n        }\n        function categoriesCount(series) {\n            var seriesCount = series.length;\n            var categories = 0;\n            for (var i = 0; i < seriesCount; i++) {\n                categories = Math.max(categories, series[i].data.length);\n            }\n            return categories;\n        }\n        var CategoricalChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                ChartElement.fn.init.call(this, options);\n                this.plotArea = plotArea;\n                this.chartService = plotArea.chartService;\n                this.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);\n                this.valueAxisRanges = {};\n                this.points = [];\n                this.categoryPoints = [];\n                this.seriesPoints = [];\n                this.seriesOptions = [];\n                this._evalSeries = [];\n                this.render();\n            },\n            render: function () {\n                this.traverseDataPoints(this.addValue.bind(this));\n            },\n            pointOptions: function (series, seriesIx) {\n                var options = this.seriesOptions[seriesIx];\n                if (!options) {\n                    var defaults = this.pointType().prototype.defaults;\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, { vertical: !this.options.invertAxes }, series);\n                }\n                return options;\n            },\n            plotValue: function (point) {\n                if (!point) {\n                    return 0;\n                }\n                if (this.options.isStacked100 && isNumber(point.value)) {\n                    var categoryIx = point.categoryIx;\n                    var categoryPoints = this.categoryPoints[categoryIx];\n                    var otherValues = [];\n                    var categorySum = 0;\n                    for (var i = 0; i < categoryPoints.length; i++) {\n                        var other = categoryPoints[i];\n                        if (other) {\n                            var stack = point.series.stack;\n                            var otherStack = other.series.stack;\n                            if (stack && otherStack && stack.group !== otherStack.group) {\n                                continue;\n                            }\n                            if (isNumber(other.value)) {\n                                categorySum += Math.abs(other.value);\n                                otherValues.push(Math.abs(other.value));\n                            }\n                        }\n                    }\n                    if (categorySum > 0) {\n                        return point.value / categorySum;\n                    }\n                }\n                return point.value;\n            },\n            plotRange: function (point, startValue) {\n                var this$1 = this;\n                if (startValue === void 0) {\n                    startValue = 0;\n                }\n                var categoryPoints = this.categoryPoints[point.categoryIx];\n                if (this.options.isStacked) {\n                    var plotValue = this.plotValue(point);\n                    var positive = plotValue >= 0;\n                    var prevValue = startValue;\n                    var isStackedBar = false;\n                    for (var i = 0; i < categoryPoints.length; i++) {\n                        var other = categoryPoints[i];\n                        if (point === other) {\n                            break;\n                        }\n                        var stack = point.series.stack;\n                        var otherStack = other.series.stack;\n                        if (stack && otherStack) {\n                            if (typeof stack === datavizConstants.STRING && stack !== otherStack) {\n                                continue;\n                            }\n                            if (stack.group && stack.group !== otherStack.group) {\n                                continue;\n                            }\n                        }\n                        var otherValue = this$1.plotValue(other);\n                        if (otherValue >= 0 && positive || otherValue < 0 && !positive) {\n                            prevValue += otherValue;\n                            plotValue += otherValue;\n                            isStackedBar = true;\n                            if (this$1.options.isStacked100) {\n                                plotValue = Math.min(plotValue, 1);\n                            }\n                        }\n                    }\n                    if (isStackedBar) {\n                        prevValue -= startValue;\n                    }\n                    return [\n                        prevValue,\n                        plotValue\n                    ];\n                }\n                var series = point.series;\n                var valueAxis = this.seriesValueAxis(series);\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                return [\n                    axisCrossingValue,\n                    point.value || axisCrossingValue\n                ];\n            },\n            stackLimits: function (axisName, stackName) {\n                var this$1 = this;\n                var min = MAX_VALUE;\n                var max = MIN_VALUE;\n                for (var i = 0; i < this.categoryPoints.length; i++) {\n                    var categoryPoints = this$1.categoryPoints[i];\n                    if (!categoryPoints) {\n                        continue;\n                    }\n                    for (var pIx = 0; pIx < categoryPoints.length; pIx++) {\n                        var point = categoryPoints[pIx];\n                        if (point) {\n                            if (point.series.stack === stackName || point.series.axis === axisName) {\n                                var to = this$1.plotRange(point, 0)[1];\n                                if (defined(to) && isFinite(to)) {\n                                    max = Math.max(max, to);\n                                    min = Math.min(min, to);\n                                }\n                            }\n                        }\n                    }\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            updateStackRange: function () {\n                var this$1 = this;\n                var ref = this.options;\n                var isStacked = ref.isStacked;\n                var chartSeries = ref.series;\n                var limitsCache = {};\n                if (isStacked) {\n                    for (var i = 0; i < chartSeries.length; i++) {\n                        var series = chartSeries[i];\n                        var axisName = series.axis;\n                        var key = axisName + series.stack;\n                        var limits = limitsCache[key];\n                        if (!limits) {\n                            limits = this$1.stackLimits(axisName, series.stack);\n                            var errorTotals = this$1.errorTotals;\n                            if (errorTotals) {\n                                if (errorTotals.negative.length) {\n                                    limits.min = Math.min(limits.min, dataviz.sparseArrayLimits(errorTotals.negative).min);\n                                }\n                                if (errorTotals.positive.length) {\n                                    limits.max = Math.max(limits.max, dataviz.sparseArrayLimits(errorTotals.positive).max);\n                                }\n                            }\n                            if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {\n                                limitsCache[key] = limits;\n                            } else {\n                                limits = null;\n                            }\n                        }\n                        if (limits) {\n                            this$1.valueAxisRanges[axisName] = limits;\n                        }\n                    }\n                }\n            },\n            addErrorBar: function (point, data, categoryIx) {\n                var value = point.value;\n                var series = point.series;\n                var seriesIx = point.seriesIx;\n                var errorBars = point.options.errorBars;\n                var lowValue = data.fields[ERROR_LOW_FIELD];\n                var highValue = data.fields[ERROR_HIGH_FIELD];\n                var errorRange;\n                if (isNumber(lowValue) && isNumber(highValue)) {\n                    errorRange = {\n                        low: lowValue,\n                        high: highValue\n                    };\n                } else if (errorBars && defined(errorBars.value)) {\n                    this.seriesErrorRanges = this.seriesErrorRanges || [];\n                    this.seriesErrorRanges[seriesIx] = this.seriesErrorRanges[seriesIx] || new ErrorRangeCalculator(errorBars.value, series, VALUE);\n                    errorRange = this.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);\n                }\n                if (errorRange) {\n                    point.low = errorRange.low;\n                    point.high = errorRange.high;\n                    this.addPointErrorBar(point, categoryIx);\n                }\n            },\n            addPointErrorBar: function (point, categoryIx) {\n                var isVertical = !this.options.invertAxes;\n                var options = point.options.errorBars;\n                var series = point.series;\n                var low = point.low;\n                var high = point.high;\n                if (this.options.isStacked) {\n                    var stackedErrorRange = this.stackedErrorRange(point, categoryIx);\n                    low = stackedErrorRange.low;\n                    high = stackedErrorRange.high;\n                } else {\n                    var fields = {\n                        categoryIx: categoryIx,\n                        series: series\n                    };\n                    this.updateRange({ value: low }, fields);\n                    this.updateRange({ value: high }, fields);\n                }\n                var errorBar = new CategoricalErrorBar(low, high, isVertical, this, series, options);\n                point.errorBars = [errorBar];\n                point.append(errorBar);\n            },\n            stackedErrorRange: function (point, categoryIx) {\n                var plotValue = this.plotRange(point, 0)[1] - point.value;\n                var low = point.low + plotValue;\n                var high = point.high + plotValue;\n                this.errorTotals = this.errorTotals || {\n                    positive: [],\n                    negative: []\n                };\n                if (low < 0) {\n                    this.errorTotals.negative[categoryIx] = Math.min(this.errorTotals.negative[categoryIx] || 0, low);\n                }\n                if (high > 0) {\n                    this.errorTotals.positive[categoryIx] = Math.max(this.errorTotals.positive[categoryIx] || 0, high);\n                }\n                return {\n                    low: low,\n                    high: high\n                };\n            },\n            addValue: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var categoryPoints = this.categoryPoints[categoryIx];\n                if (!categoryPoints) {\n                    this.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                var seriesPoints = this.seriesPoints[seriesIx];\n                if (!seriesPoints) {\n                    this.seriesPoints[seriesIx] = seriesPoints = [];\n                }\n                var point = this.createPoint(data, fields);\n                if (point) {\n                    $.extend(point, fields);\n                    point.owner = this;\n                    point.dataItem = series.data[categoryIx];\n                    point.noteText = data.fields.noteText;\n                    this.addErrorBar(point, data, categoryIx);\n                }\n                this.points.push(point);\n                seriesPoints.push(point);\n                categoryPoints.push(point);\n                this.updateRange(data.valueFields, fields);\n            },\n            evalPointOptions: function (options, value, category, categoryIx, series, seriesIx) {\n                var state = {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'aggregate',\n                        '_events',\n                        'tooltip',\n                        'template',\n                        'visual',\n                        'toggle',\n                        '_outOfRangeMinPoint',\n                        '_outOfRangeMaxPoint'\n                    ]\n                };\n                var doEval = this._evalSeries[seriesIx];\n                if (!defined(doEval)) {\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n                }\n                var pointOptions = options;\n                if (doEval) {\n                    pointOptions = deepExtend({}, pointOptions);\n                    evalOptions(pointOptions, {\n                        value: value,\n                        category: category,\n                        index: categoryIx,\n                        series: series,\n                        dataItem: series.data[categoryIx]\n                    }, state);\n                }\n                return pointOptions;\n            },\n            updateRange: function (data, fields) {\n                var axisName = fields.series.axis;\n                var value = data.value;\n                var axisRange = this.valueAxisRanges[axisName];\n                if (isFinite(value) && value !== null) {\n                    axisRange = this.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = Math.min(axisRange.min, value);\n                    axisRange.max = Math.max(axisRange.max, value);\n                }\n            },\n            seriesValueAxis: function (series) {\n                var plotArea = this.plotArea;\n                var axisName = series.axis;\n                var axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;\n                if (!axis) {\n                    throw new Error('Unable to locate value axis with name ' + axisName);\n                }\n                return axis;\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                var categorySlots = this.categorySlots = [];\n                var chartPoints = this.points;\n                var categoryAxis = this.categoryAxis;\n                var pointIx = 0;\n                this.traverseDataPoints(function (data, fields) {\n                    var categoryIx = fields.categoryIx;\n                    var currentSeries = fields.series;\n                    var valueAxis = this$1.seriesValueAxis(currentSeries);\n                    var point = chartPoints[pointIx++];\n                    var categorySlot = categorySlots[categoryIx];\n                    if (!categorySlot) {\n                        categorySlots[categoryIx] = categorySlot = this$1.categorySlot(categoryAxis, categoryIx, valueAxis);\n                    }\n                    if (point) {\n                        var plotRange = this$1.plotRange(point, valueAxis.startValue());\n                        var valueSlot = valueAxis.getSlot(plotRange[0], plotRange[1], !this$1.options.clip);\n                        if (valueSlot) {\n                            var pointSlot = this$1.pointSlot(categorySlot, valueSlot);\n                            point.aboveAxis = this$1.aboveAxis(point, valueAxis);\n                            point.stackValue = plotRange[1];\n                            if (this$1.options.isStacked100) {\n                                point.percentage = this$1.plotValue(point);\n                            }\n                            this$1.reflowPoint(point, pointSlot);\n                        } else {\n                            point.visible = false;\n                        }\n                    }\n                });\n                this.reflowCategories(categorySlots);\n                this.box = targetBox;\n            },\n            aboveAxis: function (point, valueAxis) {\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                var value = point.value;\n                return valueAxis.options.reverse ? value < axisCrossingValue : value >= axisCrossingValue;\n            },\n            categoryAxisCrossingValue: function (valueAxis) {\n                var categoryAxis = this.categoryAxis;\n                var options = valueAxis.options;\n                var crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue);\n                return crossingValues[categoryAxis.axisIndex || 0] || 0;\n            },\n            reflowPoint: function (point, pointSlot) {\n                point.reflow(pointSlot);\n            },\n            reflowCategories: function () {\n            },\n            pointSlot: function (categorySlot, valueSlot) {\n                var options = this.options;\n                var invertAxes = options.invertAxes;\n                var slotX = invertAxes ? valueSlot : categorySlot;\n                var slotY = invertAxes ? categorySlot : valueSlot;\n                return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n            },\n            categorySlot: function (categoryAxis, categoryIx) {\n                return categoryAxis.getSlot(categoryIx);\n            },\n            traverseDataPoints: function (callback) {\n                var this$1 = this;\n                var series = this.options.series;\n                var categories = this.categoryAxis.options.categories || [];\n                var count = categoriesCount(series);\n                var seriesCount = series.length;\n                for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    this$1._outOfRangeCallback(series[seriesIx], '_outOfRangeMinPoint', seriesIx, callback);\n                }\n                for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n                    for (var seriesIx$1 = 0; seriesIx$1 < seriesCount; seriesIx$1++) {\n                        var currentSeries = series[seriesIx$1];\n                        var currentCategory = categories[categoryIx];\n                        var pointData = this$1._bindPoint(currentSeries, seriesIx$1, categoryIx);\n                        callback(pointData, {\n                            category: currentCategory,\n                            categoryIx: categoryIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx$1\n                        });\n                    }\n                }\n                for (var seriesIx$2 = 0; seriesIx$2 < seriesCount; seriesIx$2++) {\n                    this$1._outOfRangeCallback(series[seriesIx$2], '_outOfRangeMaxPoint', seriesIx$2, callback);\n                }\n            },\n            _outOfRangeCallback: function (series, field, seriesIx, callback) {\n                var outOfRangePoint = series[field];\n                if (outOfRangePoint) {\n                    var categoryIx = outOfRangePoint.categoryIx;\n                    var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);\n                    callback(pointData, {\n                        category: outOfRangePoint.category,\n                        categoryIx: categoryIx,\n                        series: series,\n                        seriesIx: seriesIx\n                    });\n                }\n            },\n            _bindPoint: function (series, seriesIx, categoryIx, item) {\n                if (!this._bindCache) {\n                    this._bindCache = [];\n                }\n                var bindCache = this._bindCache[seriesIx];\n                if (!bindCache) {\n                    bindCache = this._bindCache[seriesIx] = [];\n                }\n                var data = bindCache[categoryIx];\n                if (!data) {\n                    data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);\n                }\n                return data;\n            },\n            formatPointValue: function (point, format) {\n                if (point.value === null) {\n                    return '';\n                }\n                return this.chartService.format.auto(format, point.value);\n            },\n            pointValue: function (data) {\n                return data.valueFields.value;\n            }\n        });\n        setDefaultOptions(CategoricalChart, {\n            series: [],\n            invertAxes: false,\n            isStacked: false,\n            clip: true\n        });\n        var PointEventsMixin = {\n            click: function (chart, e) {\n                return chart.trigger(SERIES_CLICK, this.eventArgs(e));\n            },\n            hover: function (chart, e) {\n                return chart.trigger(SERIES_HOVER, this.eventArgs(e));\n            },\n            eventArgs: function (e) {\n                return {\n                    value: this.value,\n                    percentage: this.percentage,\n                    stackValue: this.stackValue,\n                    category: this.category,\n                    series: this.series,\n                    dataItem: this.dataItem,\n                    runningTotal: this.runningTotal,\n                    total: this.total,\n                    element: eventElement(e),\n                    originalEvent: e,\n                    point: this\n                };\n            }\n        };\n        var NoteMixin = {\n            createNote: function () {\n                var options = this.options.notes;\n                var text = this.noteText || options.label.text;\n                if (options.visible !== false && defined(text) && text !== null) {\n                    this.note = new dataviz.Note({\n                        value: this.value,\n                        text: text,\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        series: this.series\n                    }, this.options.notes, this.owner.chartService);\n                    this.append(this.note);\n                }\n            }\n        };\n        var ABOVE = 'above';\n        var BELOW = 'below';\n        var LinePoint = ChartElement.extend({\n            init: function (value, options) {\n                ChartElement.fn.init.call(this);\n                this.value = value;\n                this.options = options;\n                this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n                this.tooltipTracking = true;\n            },\n            render: function () {\n                var ref = this.options;\n                var markers = ref.markers;\n                var labels = ref.labels;\n                if (this._rendered) {\n                    return;\n                }\n                this._rendered = true;\n                if (markers.visible && markers.size) {\n                    this.marker = this.createMarker();\n                    this.append(this.marker);\n                }\n                if (labels.visible) {\n                    var labelText = this.value;\n                    if (labels.template) {\n                        var labelTemplate = TemplateService.compile(labels.template);\n                        labelText = labelTemplate({\n                            dataItem: this.dataItem,\n                            category: this.category,\n                            value: this.value,\n                            percentage: this.percentage,\n                            stackValue: this.stackValue,\n                            series: this.series\n                        });\n                    } else if (labels.format) {\n                        labelText = this.formatValue(labels.format);\n                    }\n                    this.label = new TextBox(labelText, deepExtend({\n                        align: CENTER,\n                        vAlign: CENTER,\n                        margin: {\n                            left: 5,\n                            right: 5\n                        },\n                        zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)\n                    }, labels));\n                    this.append(this.label);\n                }\n                this.createNote();\n                if (this.errorBar) {\n                    this.append(this.errorBar);\n                }\n            },\n            markerBorder: function () {\n                var options = this.options.markers;\n                var background = options.background;\n                var border = deepExtend({ color: this.color }, options.border);\n                if (!defined(border.color)) {\n                    border.color = new Color(background).brightness(BORDER_BRIGHTNESS).toHex();\n                }\n                return border;\n            },\n            createVisual: function () {\n            },\n            createMarker: function () {\n                var options = this.options.markers;\n                var marker = new ShapeElement({\n                    type: options.type,\n                    width: options.size,\n                    height: options.size,\n                    rotation: options.rotation,\n                    background: options.background,\n                    border: this.markerBorder(),\n                    opacity: options.opacity,\n                    zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\n                    animation: options.animation,\n                    visual: options.visual\n                }, {\n                    dataItem: this.dataItem,\n                    value: this.value,\n                    series: this.series,\n                    category: this.category\n                });\n                return marker;\n            },\n            markerBox: function () {\n                if (!this.marker) {\n                    this.marker = this.createMarker();\n                    this.marker.reflow(this._childBox);\n                }\n                return this.marker.box;\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var aboveAxis = ref.aboveAxis;\n                var vertical = options.vertical;\n                this.render();\n                this.box = targetBox;\n                var childBox = targetBox.clone();\n                if (vertical) {\n                    if (aboveAxis) {\n                        childBox.y1 -= childBox.height();\n                    } else {\n                        childBox.y2 += childBox.height();\n                    }\n                } else {\n                    if (aboveAxis) {\n                        childBox.x1 += childBox.width();\n                    } else {\n                        childBox.x2 -= childBox.width();\n                    }\n                }\n                this._childBox = childBox;\n                if (this.marker) {\n                    this.marker.reflow(childBox);\n                }\n                this.reflowLabel(childBox);\n                if (this.errorBars) {\n                    for (var i = 0; i < this.errorBars.length; i++) {\n                        this$1.errorBars[i].reflow(childBox);\n                    }\n                }\n                if (this.note) {\n                    var noteTargetBox = this.markerBox();\n                    if (!(options.markers.visible && options.markers.size)) {\n                        var center = noteTargetBox.center();\n                        noteTargetBox = new Box(center.x, center.y, center.x, center.y);\n                    }\n                    this.note.reflow(noteTargetBox);\n                }\n            },\n            reflowLabel: function (box) {\n                var ref = this;\n                var options = ref.options;\n                var label = ref.label;\n                var anchor = options.labels.position;\n                if (label) {\n                    anchor = anchor === ABOVE ? TOP : anchor;\n                    anchor = anchor === BELOW ? BOTTOM : anchor;\n                    label.reflow(box);\n                    label.box.alignTo(this.markerBox(), anchor);\n                    label.reflow(label.box);\n                }\n            },\n            createHighlight: function () {\n                var markers = this.options.highlight.markers;\n                var defaultColor = this.markerBorder().color;\n                var options = this.options.markers;\n                var size = options.size + (options.border.width || 0) + (markers.border.width || 0);\n                var shadow = new ShapeElement({\n                    type: options.type,\n                    width: size,\n                    height: size,\n                    rotation: options.rotation,\n                    background: markers.color || defaultColor,\n                    border: {\n                        color: markers.border.color,\n                        width: markers.border.width,\n                        opacity: valueOrDefault(markers.border.opacity, 1)\n                    },\n                    opacity: valueOrDefault(markers.opacity, 1)\n                });\n                shadow.reflow(this._childBox);\n                return shadow.getElement();\n            },\n            highlightVisual: function () {\n                return (this.marker || {}).visual;\n            },\n            highlightVisualArgs: function () {\n                var marker = this.marker;\n                var visual, rect;\n                if (marker) {\n                    rect = marker.paddingBox.toRect();\n                    visual = marker.visual;\n                } else {\n                    var size = this.options.markers.size;\n                    var halfSize = size / 2;\n                    var center = this.box.center();\n                    rect = new geometry.Rect([\n                        center.x - halfSize,\n                        center.y - halfSize\n                    ], [\n                        size,\n                        size\n                    ]);\n                }\n                return {\n                    options: this.options,\n                    rect: rect,\n                    visual: visual\n                };\n            },\n            tooltipAnchor: function () {\n                var markerBox = this.markerBox();\n                var clipBox = this.owner.pane.clipBox();\n                var showTooltip = !clipBox || clipBox.overlaps(markerBox);\n                if (showTooltip) {\n                    var x = markerBox.x2 + TOOLTIP_OFFSET;\n                    var horizontalAlign = LEFT;\n                    var y, verticalAlign;\n                    if (this.aboveAxis) {\n                        y = markerBox.y1;\n                        verticalAlign = BOTTOM;\n                    } else {\n                        y = markerBox.y2;\n                        verticalAlign = TOP;\n                    }\n                    return {\n                        point: new Point(x, y),\n                        align: {\n                            horizontal: horizontalAlign,\n                            vertical: verticalAlign\n                        }\n                    };\n                }\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            },\n            overlapsBox: function (box) {\n                var markerBox = this.markerBox();\n                return markerBox.overlaps(box);\n            }\n        });\n        LinePoint.prototype.defaults = {\n            vertical: true,\n            markers: {\n                visible: true,\n                background: WHITE,\n                size: LINE_MARKER_SIZE,\n                type: CIRCLE,\n                border: { width: 2 },\n                opacity: 1\n            },\n            labels: {\n                visible: false,\n                position: ABOVE,\n                margin: getSpacing(3),\n                padding: getSpacing(4),\n                animation: {\n                    type: FADEIN,\n                    delay: INITIAL_ANIMATION_DURATION\n                }\n            },\n            notes: { label: {} },\n            highlight: {\n                markers: {\n                    border: {\n                        color: '#fff',\n                        width: 2\n                    }\n                }\n            },\n            errorBars: { line: { width: 1 } }\n        };\n        deepExtend(LinePoint.prototype, PointEventsMixin);\n        deepExtend(LinePoint.prototype, NoteMixin);\n        var LineSegment = ChartElement.extend({\n            init: function (linePoints, series, seriesIx) {\n                ChartElement.fn.init.call(this);\n                this.linePoints = linePoints;\n                this.series = series;\n                this.seriesIx = seriesIx;\n            },\n            points: function (visualPoints) {\n                var linePoints = this.linePoints.concat(visualPoints || []);\n                var points = [];\n                for (var i = 0, length = linePoints.length; i < length; i++) {\n                    if (linePoints[i].visible !== false) {\n                        points.push(linePoints[i]._childBox.toRect().center());\n                    }\n                }\n                return points;\n            },\n            createVisual: function () {\n                var ref = this;\n                var options = ref.options;\n                var series = ref.series;\n                var color = series.color;\n                var defaults = series._defaults;\n                if (isFunction(color) && defaults) {\n                    color = defaults.color;\n                }\n                var line = Path.fromPoints(this.points(), {\n                    stroke: {\n                        color: color,\n                        width: series.width,\n                        opacity: series.opacity,\n                        dashType: series.dashType\n                    },\n                    zIndex: series.zIndex\n                });\n                if (options.closed) {\n                    line.close();\n                }\n                this.visual = line;\n            },\n            aliasFor: function (e, coords) {\n                return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);\n            }\n        });\n        setDefaultOptions(LineSegment, { closed: false });\n        var StepLineSegment = LineSegment.extend({\n            points: function (visualPoints) {\n                var points = this.calculateStepPoints(this.linePoints);\n                if (visualPoints && visualPoints.length) {\n                    points = points.concat(this.calculateStepPoints(visualPoints).reverse());\n                }\n                return points;\n            },\n            calculateStepPoints: function (points) {\n                var chart = this.parent;\n                var plotArea = chart.plotArea;\n                var categoryAxis = plotArea.seriesCategoryAxis(this.series);\n                var isInterpolate = chart.seriesMissingValues(this.series) === INTERPOLATE;\n                var reverse = categoryAxis.options.reverse;\n                var vertical = categoryAxis.options.vertical;\n                var dir = reverse ? 2 : 1;\n                var revDir = reverse ? 1 : 2;\n                var length = points.length;\n                var result = [];\n                for (var i = 1; i < length; i++) {\n                    var prevPoint = points[i - 1];\n                    var point = points[i];\n                    var prevMarkerBoxCenter = prevPoint.markerBox().center();\n                    var markerBoxCenter = point.markerBox().center();\n                    if (categoryAxis.options.justified) {\n                        result.push(new GeometryPoint(prevMarkerBoxCenter.x, prevMarkerBoxCenter.y));\n                        if (vertical) {\n                            result.push(new GeometryPoint(prevMarkerBoxCenter.x, markerBoxCenter.y));\n                        } else {\n                            result.push(new GeometryPoint(markerBoxCenter.x, prevMarkerBoxCenter.y));\n                        }\n                        result.push(new GeometryPoint(markerBoxCenter.x, markerBoxCenter.y));\n                    } else {\n                        if (vertical) {\n                            result.push(new GeometryPoint(prevMarkerBoxCenter.x, prevPoint.box[Y + dir]));\n                            result.push(new GeometryPoint(prevMarkerBoxCenter.x, prevPoint.box[Y + revDir]));\n                            if (isInterpolate) {\n                                result.push(new GeometryPoint(prevMarkerBoxCenter.x, point.box[Y + dir]));\n                            }\n                            result.push(new GeometryPoint(markerBoxCenter.x, point.box[Y + dir]));\n                            result.push(new GeometryPoint(markerBoxCenter.x, point.box[Y + revDir]));\n                        } else {\n                            result.push(new GeometryPoint(prevPoint.box[X + dir], prevMarkerBoxCenter.y));\n                            result.push(new GeometryPoint(prevPoint.box[X + revDir], prevMarkerBoxCenter.y));\n                            if (isInterpolate) {\n                                result.push(new GeometryPoint(point.box[X + dir], prevMarkerBoxCenter.y));\n                            }\n                            result.push(new GeometryPoint(point.box[X + dir], markerBoxCenter.y));\n                            result.push(new GeometryPoint(point.box[X + revDir], markerBoxCenter.y));\n                        }\n                    }\n                }\n                return result || [];\n            }\n        });\n        var SplineSegment = LineSegment.extend({\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFunction(color) && defaults) {\n                    color = defaults.color;\n                }\n                var curveProcessor = new dataviz.CurveProcessor(this.options.closed);\n                var segments = curveProcessor.process(this.points());\n                var curve = new Path({\n                    stroke: {\n                        color: color,\n                        width: series.width,\n                        opacity: series.opacity,\n                        dashType: series.dashType\n                    },\n                    zIndex: series.zIndex\n                });\n                curve.segments.push.apply(curve.segments, segments);\n                this.visual = curve;\n            }\n        });\n        var LineChartMixin = {\n            renderSegments: function () {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var seriesPoints = ref.seriesPoints;\n                var series = options.series;\n                var seriesCount = seriesPoints.length;\n                var lastSegment;\n                this._segments = [];\n                for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var sortedPoints = this$1.sortPoints(seriesPoints[seriesIx]);\n                    var pointCount = sortedPoints.length;\n                    var linePoints = [];\n                    for (var pointIx = 0; pointIx < pointCount; pointIx++) {\n                        var point = sortedPoints[pointIx];\n                        if (point) {\n                            linePoints.push(point);\n                        } else if (this$1.seriesMissingValues(currentSeries) !== INTERPOLATE) {\n                            if (linePoints.length > 1) {\n                                lastSegment = this$1.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\n                                this$1._addSegment(lastSegment);\n                            }\n                            linePoints = [];\n                        }\n                    }\n                    if (linePoints.length > 1) {\n                        lastSegment = this$1.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\n                        this$1._addSegment(lastSegment);\n                    }\n                }\n                this.children.unshift.apply(this.children, this._segments);\n            },\n            _addSegment: function (segment) {\n                this._segments.push(segment);\n                segment.parent = this;\n            },\n            sortPoints: function (points) {\n                return points;\n            },\n            seriesMissingValues: function (series) {\n                var missingValues = series.missingValues;\n                var assumeZero = !missingValues && this.options.isStacked;\n                return assumeZero ? ZERO : missingValues || INTERPOLATE;\n            },\n            getNearestPoint: function (x, y, seriesIx) {\n                var target = new Point(x, y);\n                var allPoints = this.seriesPoints[seriesIx];\n                var nearestPointDistance = MAX_VALUE;\n                var nearestPoint;\n                for (var i = 0; i < allPoints.length; i++) {\n                    var point = allPoints[i];\n                    if (point && defined(point.value) && point.value !== null && point.visible !== false) {\n                        var pointBox = point.box;\n                        var pointDistance = pointBox.center().distanceTo(target);\n                        if (pointDistance < nearestPointDistance) {\n                            nearestPoint = point;\n                            nearestPointDistance = pointDistance;\n                        }\n                    }\n                }\n                return nearestPoint;\n            }\n        };\n        var ClipAnimation = Animation.extend({\n            setup: function () {\n                this._setEnd(this.options.box.x1);\n            },\n            step: function (pos) {\n                var box = this.options.box;\n                this._setEnd(dataviz.interpolateValue(box.x1, box.x2, pos));\n            },\n            _setEnd: function (x) {\n                var element = this.element;\n                var segments = element.segments;\n                var topRight = segments[1].anchor();\n                var bottomRight = segments[2].anchor();\n                element.suspend();\n                topRight.setX(x);\n                element.resume();\n                bottomRight.setX(x);\n            }\n        });\n        setDefaultOptions(ClipAnimation, { duration: INITIAL_ANIMATION_DURATION });\n        AnimationFactory.current.register('clip', ClipAnimation);\n        function anyHasZIndex(elements) {\n            for (var idx = 0; idx < elements.length; idx++) {\n                if (defined(elements[idx].zIndex)) {\n                    return true;\n                }\n            }\n        }\n        var ClipAnimationMixin = {\n            createAnimation: function () {\n                var root = this.getRoot();\n                if (root && (root.options || {}).transitions !== false) {\n                    var box = root.box;\n                    var clipPath = Path.fromRect(box.toRect());\n                    this.visual.clip(clipPath);\n                    this.animation = new ClipAnimation(clipPath, { box: box });\n                    if (anyHasZIndex(this.options.series)) {\n                        this._setChildrenAnimation(clipPath);\n                    }\n                }\n            },\n            _setChildrenAnimation: function (clipPath) {\n                var points = this.animationPoints();\n                for (var idx = 0; idx < points.length; idx++) {\n                    var point = points[idx];\n                    if (point && point.visual && defined(point.visual.options.zIndex)) {\n                        point.visual.clip(clipPath);\n                    }\n                }\n            }\n        };\n        var LineChart = CategoricalChart.extend({\n            render: function () {\n                CategoricalChart.fn.render.call(this);\n                this.updateStackRange();\n                this.renderSegments();\n            },\n            pointType: function () {\n                return LinePoint;\n            },\n            createPoint: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var missingValues = this.seriesMissingValues(series);\n                var value = data.valueFields.value;\n                if (!defined(value) || value === null) {\n                    if (missingValues === ZERO) {\n                        value = 0;\n                    } else {\n                        return null;\n                    }\n                }\n                var pointOptions = this.pointOptions(series, seriesIx);\n                pointOptions = this.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                var color = data.fields.color || series.color;\n                if (isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                var point = new LinePoint(value, pointOptions);\n                point.color = color;\n                this.append(point);\n                return point;\n            },\n            plotRange: function (point) {\n                var this$1 = this;\n                var plotValue = this.plotValue(point);\n                if (this.options.isStacked) {\n                    var categoryIx = point.categoryIx;\n                    var categoryPoints = this.categoryPoints[categoryIx];\n                    for (var i = 0; i < categoryPoints.length; i++) {\n                        var other = categoryPoints[i];\n                        if (point === other) {\n                            break;\n                        }\n                        plotValue += this$1.plotValue(other);\n                        if (this$1.options.isStacked100) {\n                            plotValue = Math.min(plotValue, 1);\n                        }\n                    }\n                }\n                return [\n                    plotValue,\n                    plotValue\n                ];\n            },\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var style = currentSeries.style;\n                var pointType;\n                if (style === STEP) {\n                    pointType = StepLineSegment;\n                } else if (style === SMOOTH) {\n                    pointType = SplineSegment;\n                } else {\n                    pointType = LineSegment;\n                }\n                return new pointType(linePoints, currentSeries, seriesIx);\n            },\n            animationPoints: function () {\n                var points = this.points;\n                var result = [];\n                for (var idx = 0; idx < points.length; idx++) {\n                    result.push((points[idx] || {}).marker);\n                }\n                return result.concat(this._segments);\n            }\n        });\n        deepExtend(LineChart.prototype, LineChartMixin, ClipAnimationMixin);\n        var AreaSegmentMixin = {\n            points: function () {\n                var chart = this.parent;\n                var plotArea = chart.plotArea;\n                var invertAxes = chart.options.invertAxes;\n                var valueAxis = chart.seriesValueAxis(this.series);\n                var valueAxisLineBox = valueAxis.lineBox();\n                var categoryAxis = plotArea.seriesCategoryAxis(this.series);\n                var categoryAxisLineBox = categoryAxis.lineBox();\n                var stackPoints = this.stackPoints;\n                var points = this._linePoints(stackPoints);\n                var pos = invertAxes ? X : Y;\n                var end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1;\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\n                if (!this.stackPoints && points.length > 1) {\n                    var firstPoint = points[0];\n                    var lastPoint = last(points);\n                    if (invertAxes) {\n                        points.unshift(new GeometryPoint(end, firstPoint.y));\n                        points.push(new GeometryPoint(end, lastPoint.y));\n                    } else {\n                        points.unshift(new GeometryPoint(firstPoint.x, end));\n                        points.push(new GeometryPoint(lastPoint.x, end));\n                    }\n                }\n                return points;\n            },\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFunction(color) && defaults) {\n                    color = defaults.color;\n                }\n                this.visual = new Group({ zIndex: series.zIndex });\n                this.createArea(color);\n                this.createLine(color);\n            },\n            createLine: function (color) {\n                var series = this.series;\n                var lineOptions = deepExtend({\n                    color: color,\n                    opacity: series.opacity\n                }, series.line);\n                if (lineOptions.visible !== false && lineOptions.width > 0) {\n                    var line = Path.fromPoints(this._linePoints(), {\n                        stroke: {\n                            color: lineOptions.color,\n                            width: lineOptions.width,\n                            opacity: lineOptions.opacity,\n                            dashType: lineOptions.dashType,\n                            lineCap: 'butt'\n                        }\n                    });\n                    this.visual.append(line);\n                }\n            },\n            createArea: function (color) {\n                var series = this.series;\n                var area = Path.fromPoints(this.points(), {\n                    fill: {\n                        color: color,\n                        opacity: series.opacity\n                    },\n                    stroke: null\n                });\n                this.visual.append(area);\n            }\n        };\n        var AreaSegment = LineSegment.extend({\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\n                LineSegment.fn.init.call(this, linePoints, currentSeries, seriesIx);\n                this.stackPoints = stackPoints;\n            }\n        });\n        deepExtend(AreaSegment.prototype, AreaSegmentMixin, { _linePoints: LineSegment.prototype.points });\n        var StepAreaSegment = StepLineSegment.extend({\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\n                StepLineSegment.fn.init.call(this, linePoints, currentSeries, seriesIx);\n                this.stackPoints = stackPoints;\n            }\n        });\n        deepExtend(StepAreaSegment.prototype, AreaSegmentMixin, { _linePoints: StepLineSegment.prototype.points });\n        var SplineAreaSegment = AreaSegment.extend({\n            init: function (linePoints, prevSegment, isStacked, currentSeries, seriesIx) {\n                AreaSegment.fn.init.call(this, linePoints, [], currentSeries, seriesIx);\n                this.prevSegment = prevSegment;\n                this.isStacked = isStacked;\n            },\n            strokeSegments: function () {\n                var segments = this._strokeSegments;\n                if (!segments) {\n                    var curveProcessor = new dataviz.CurveProcessor(this.options.closed);\n                    var linePoints = LineSegment.prototype.points.call(this);\n                    segments = this._strokeSegments = curveProcessor.process(linePoints);\n                }\n                return segments;\n            },\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFunction(color) && defaults) {\n                    color = defaults.color;\n                }\n                this.visual = new Group({ zIndex: series.zIndex });\n                this.createFill({\n                    fill: {\n                        color: color,\n                        opacity: series.opacity\n                    },\n                    stroke: null\n                });\n                this.createStroke({\n                    stroke: deepExtend({\n                        color: color,\n                        opacity: series.opacity,\n                        lineCap: 'butt'\n                    }, series.line)\n                });\n            },\n            createFill: function (style) {\n                var strokeSegments = this.strokeSegments();\n                var fillSegments = strokeSegments.slice(0);\n                var prevSegment = this.prevSegment;\n                if (this.isStacked && prevSegment) {\n                    var prevStrokeSegments = prevSegment.strokeSegments();\n                    var prevAnchor = last(prevStrokeSegments).anchor();\n                    fillSegments.push(new geometry.Segment(prevAnchor, prevAnchor, last(strokeSegments).anchor()));\n                    var stackSegments = [];\n                    for (var idx = prevStrokeSegments.length - 1; idx >= 0; idx--) {\n                        var segment = prevStrokeSegments[idx];\n                        stackSegments.push(new geometry.Segment(segment.anchor(), segment.controlOut(), segment.controlIn()));\n                    }\n                    append(fillSegments, stackSegments);\n                    var firstAnchor = fillSegments[0].anchor();\n                    fillSegments.push(new geometry.Segment(firstAnchor, firstAnchor, last(stackSegments).anchor()));\n                }\n                var fill = new Path(style);\n                fill.segments.push.apply(fill.segments, fillSegments);\n                this.closeFill(fill);\n                this.visual.append(fill);\n            },\n            closeFill: function (fillPath) {\n                var chart = this.parent;\n                var prevSegment = this.prevSegment;\n                var plotArea = chart.plotArea;\n                var invertAxes = chart.options.invertAxes;\n                var valueAxis = chart.seriesValueAxis(this.series);\n                var valueAxisLineBox = valueAxis.lineBox();\n                var categoryAxis = plotArea.seriesCategoryAxis(this.series);\n                var categoryAxisLineBox = categoryAxis.lineBox();\n                var pos = invertAxes ? X : Y;\n                var segments = this.strokeSegments();\n                var firstPoint = segments[0].anchor();\n                var lastPoint = last(segments).anchor();\n                var end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1;\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\n                if (!(chart.options.isStacked && prevSegment) && segments.length > 1) {\n                    if (invertAxes) {\n                        fillPath.lineTo(end, lastPoint.y).lineTo(end, firstPoint.y);\n                    } else {\n                        fillPath.lineTo(lastPoint.x, end).lineTo(firstPoint.x, end);\n                    }\n                }\n            },\n            createStroke: function (style) {\n                if (style.stroke.width > 0) {\n                    var stroke = new Path(style);\n                    stroke.segments.push.apply(stroke.segments, this.strokeSegments());\n                    this.visual.append(stroke);\n                }\n            }\n        });\n        var AreaChart = LineChart.extend({\n            createSegment: function (linePoints, currentSeries, seriesIx, prevSegment) {\n                var isStacked = this.options.isStacked;\n                var style = (currentSeries.line || {}).style;\n                var stackPoints;\n                if (isStacked && seriesIx > 0 && prevSegment) {\n                    var missingValues = this.seriesMissingValues(currentSeries);\n                    if (missingValues !== 'gap') {\n                        stackPoints = prevSegment.linePoints;\n                    } else {\n                        stackPoints = this._gapStackPoints(linePoints, seriesIx, style);\n                    }\n                    if (style !== STEP) {\n                        stackPoints = stackPoints.slice(0).reverse();\n                    }\n                }\n                if (style === SMOOTH) {\n                    return new SplineAreaSegment(linePoints, prevSegment, isStacked, currentSeries, seriesIx);\n                }\n                var pointType;\n                if (style === STEP) {\n                    pointType = StepAreaSegment;\n                } else {\n                    pointType = AreaSegment;\n                }\n                return new pointType(linePoints, stackPoints, currentSeries, seriesIx);\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                LineChart.fn.reflow.call(this, targetBox);\n                var stackPoints = this._stackPoints;\n                if (stackPoints) {\n                    for (var idx = 0; idx < stackPoints.length; idx++) {\n                        var stackPoint = stackPoints[idx];\n                        var pointSlot = this$1.categoryAxis.getSlot(stackPoint.categoryIx);\n                        stackPoint.reflow(pointSlot);\n                    }\n                }\n            },\n            _gapStackPoints: function (linePoints, seriesIx, style) {\n                var this$1 = this;\n                var seriesPoints = this.seriesPoints;\n                var startIdx = linePoints[0].categoryIx;\n                var length = linePoints.length;\n                if (startIdx < 0) {\n                    startIdx = 0;\n                    length--;\n                }\n                var endIdx = startIdx + length;\n                var pointOffset = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0;\n                var stackPoints = [];\n                this._stackPoints = this._stackPoints || [];\n                for (var categoryIx = startIdx; categoryIx < endIdx; categoryIx++) {\n                    var pointIx = categoryIx + pointOffset;\n                    var currentSeriesIx = seriesIx;\n                    var point = void 0;\n                    do {\n                        currentSeriesIx--;\n                        point = seriesPoints[currentSeriesIx][pointIx];\n                    } while (currentSeriesIx > 0 && !point);\n                    if (point) {\n                        if (style !== STEP && categoryIx > startIdx && !seriesPoints[currentSeriesIx][pointIx - 1]) {\n                            stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx - 1, currentSeriesIx));\n                        }\n                        stackPoints.push(point);\n                        if (style !== STEP && categoryIx + 1 < endIdx && !seriesPoints[currentSeriesIx][pointIx + 1]) {\n                            stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx + 1, currentSeriesIx));\n                        }\n                    } else {\n                        var gapStackPoint = this$1._createGapStackPoint(categoryIx);\n                        this$1._stackPoints.push(gapStackPoint);\n                        stackPoints.push(gapStackPoint);\n                    }\n                }\n                return stackPoints;\n            },\n            _previousSegmentPoint: function (categoryIx, pointIx, segmentIx, seriesIdx) {\n                var seriesPoints = this.seriesPoints;\n                var index = seriesIdx;\n                var point;\n                while (index > 0 && !point) {\n                    index--;\n                    point = seriesPoints[index][segmentIx];\n                }\n                if (!point) {\n                    point = this._createGapStackPoint(categoryIx);\n                    this._stackPoints.push(point);\n                } else {\n                    point = seriesPoints[index][pointIx];\n                }\n                return point;\n            },\n            _createGapStackPoint: function (categoryIx) {\n                var options = this.pointOptions({}, 0);\n                var point = new LinePoint(0, options);\n                point.categoryIx = categoryIx;\n                point.series = {};\n                return point;\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues || ZERO;\n            }\n        });\n        var AxisGroupRangeTracker = Class.extend({\n            init: function () {\n                this.axisRanges = {};\n            },\n            update: function (chartAxisRanges) {\n                var axisRanges = this.axisRanges;\n                for (var axisName in chartAxisRanges) {\n                    var chartRange = chartAxisRanges[axisName];\n                    var range = axisRanges[axisName];\n                    axisRanges[axisName] = range = range || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    range.min = Math.min(range.min, chartRange.min);\n                    range.max = Math.max(range.max, chartRange.max);\n                }\n            },\n            reset: function (axisName) {\n                this.axisRanges[axisName] = undefined;\n            },\n            query: function (axisName) {\n                return this.axisRanges[axisName];\n            }\n        });\n        var BarLabel = ChartElement.extend({\n            init: function (content, options) {\n                ChartElement.fn.init.call(this, options);\n                this.textBox = new TextBox(content, this.options);\n                this.append(this.textBox);\n            },\n            createVisual: function () {\n                this.textBox.options.noclip = this.options.noclip;\n            },\n            reflow: function (targetBox) {\n                var options = this.options;\n                var vertical = options.vertical;\n                var aboveAxis = options.aboveAxis;\n                var text = this.children[0];\n                var textOptions = text.options;\n                var box = text.box;\n                var padding = text.options.padding;\n                var labelBox = targetBox;\n                textOptions.align = vertical ? CENTER : LEFT;\n                textOptions.vAlign = vertical ? TOP : CENTER;\n                if (options.position === INSIDE_END) {\n                    if (vertical) {\n                        textOptions.vAlign = TOP;\n                        if (!aboveAxis && box.height() < targetBox.height()) {\n                            textOptions.vAlign = BOTTOM;\n                        }\n                    } else {\n                        textOptions.align = aboveAxis ? RIGHT : LEFT;\n                    }\n                } else if (options.position === CENTER) {\n                    textOptions.vAlign = CENTER;\n                    textOptions.align = CENTER;\n                } else if (options.position === INSIDE_BASE) {\n                    if (vertical) {\n                        textOptions.vAlign = aboveAxis ? BOTTOM : TOP;\n                    } else {\n                        textOptions.align = aboveAxis ? LEFT : RIGHT;\n                    }\n                } else if (options.position === OUTSIDE_END) {\n                    if (vertical) {\n                        if (aboveAxis) {\n                            labelBox = new Box(targetBox.x1, targetBox.y1 - box.height(), targetBox.x2, targetBox.y1);\n                        } else {\n                            labelBox = new Box(targetBox.x1, targetBox.y2, targetBox.x2, targetBox.y2 + box.height());\n                        }\n                    } else {\n                        textOptions.align = CENTER;\n                        if (aboveAxis) {\n                            labelBox = new Box(targetBox.x2, targetBox.y1, targetBox.x2 + box.width(), targetBox.y2);\n                        } else {\n                            labelBox = new Box(targetBox.x1 - box.width(), targetBox.y1, targetBox.x1, targetBox.y2);\n                        }\n                    }\n                }\n                if (!options.rotation) {\n                    if (vertical) {\n                        padding.left = padding.right = (labelBox.width() - text.contentBox.width()) / 2;\n                    } else {\n                        padding.top = padding.bottom = (labelBox.height() - text.contentBox.height()) / 2;\n                    }\n                }\n                text.reflow(labelBox);\n            },\n            alignToClipBox: function (clipBox) {\n                var vertical = this.options.vertical;\n                var field = vertical ? Y : X;\n                var start = field + '1';\n                var end = field + '2';\n                var text = this.children[0];\n                var parentBox = this.parent.box;\n                if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {\n                    var targetBox = text.paddingBox.clone();\n                    targetBox[start] = Math.max(parentBox[start], clipBox[start]);\n                    targetBox[end] = Math.min(parentBox[end], clipBox[end]);\n                    this.reflow(targetBox);\n                }\n            }\n        });\n        setDefaultOptions(BarLabel, {\n            position: OUTSIDE_END,\n            margin: getSpacing(3),\n            padding: getSpacing(4),\n            color: BLACK,\n            background: '',\n            border: {\n                width: 1,\n                color: ''\n            },\n            aboveAxis: true,\n            vertical: false,\n            animation: {\n                type: FADEIN,\n                delay: INITIAL_ANIMATION_DURATION\n            },\n            zIndex: 2\n        });\n        function hasGradientOverlay(options) {\n            var overlay = options.overlay;\n            return overlay && overlay.gradient && overlay.gradient !== 'none';\n        }\n        var BAR_ALIGN_MIN_WIDTH = 6;\n        var Bar = ChartElement.extend({\n            init: function (value, options) {\n                ChartElement.fn.init.call(this);\n                this.options = options;\n                this.color = options.color || WHITE;\n                this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n                this.value = value;\n            },\n            render: function () {\n                if (this._rendered) {\n                    return;\n                }\n                this._rendered = true;\n                this.createLabel();\n                this.createNote();\n                if (this.errorBar) {\n                    this.append(this.errorBar);\n                }\n            },\n            createLabel: function () {\n                var options = this.options;\n                var labels = options.labels;\n                if (labels.visible) {\n                    var labelText;\n                    if (labels.template) {\n                        var labelTemplate = TemplateService.compile(labels.template);\n                        labelText = labelTemplate({\n                            dataItem: this.dataItem,\n                            category: this.category,\n                            value: this.value,\n                            percentage: this.percentage,\n                            stackValue: this.stackValue,\n                            runningTotal: this.runningTotal,\n                            total: this.total,\n                            series: this.series\n                        });\n                    } else {\n                        labelText = this.formatValue(labels.format);\n                    }\n                    this.label = new BarLabel(labelText, deepExtend({ vertical: options.vertical }, labels));\n                    this.append(this.label);\n                }\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                this.render();\n                var label = this.label;\n                this.box = targetBox;\n                if (label) {\n                    label.options.aboveAxis = this.aboveAxis;\n                    label.reflow(targetBox);\n                }\n                if (this.note) {\n                    this.note.reflow(targetBox);\n                }\n                if (this.errorBars) {\n                    for (var i = 0; i < this.errorBars.length; i++) {\n                        this$1.errorBars[i].reflow(targetBox);\n                    }\n                }\n            },\n            createVisual: function () {\n                var this$1 = this;\n                var ref = this;\n                var box = ref.box;\n                var options = ref.options;\n                var customVisual = options.visual;\n                if (this.visible !== false) {\n                    ChartElement.fn.createVisual.call(this);\n                    if (customVisual) {\n                        var visual = this.rectVisual = customVisual({\n                            category: this.category,\n                            dataItem: this.dataItem,\n                            value: this.value,\n                            sender: this.getSender(),\n                            series: this.series,\n                            percentage: this.percentage,\n                            stackValue: this.stackValue,\n                            runningTotal: this.runningTotal,\n                            total: this.total,\n                            rect: box.toRect(),\n                            createVisual: function () {\n                                var group = new Group();\n                                this$1.createRect(group);\n                                return group;\n                            },\n                            options: options\n                        });\n                        if (visual) {\n                            this.visual.append(visual);\n                        }\n                    } else if (box.width() > 0 && box.height() > 0) {\n                        this.createRect(this.visual);\n                    }\n                }\n            },\n            createRect: function (visual) {\n                var options = this.options;\n                var border = options.border;\n                var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;\n                var rect = this.box.toRect();\n                rect.size.width = Math.round(rect.size.width);\n                var path = this.rectVisual = Path.fromRect(rect, {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: {\n                        color: this.getBorderColor(),\n                        width: border.width,\n                        opacity: strokeOpacity,\n                        dashType: border.dashType\n                    }\n                });\n                var width = this.box.width();\n                var height = this.box.height();\n                var size = options.vertical ? width : height;\n                if (size > BAR_ALIGN_MIN_WIDTH) {\n                    alignPathToPixel(path);\n                    if (width < 1 || height < 1) {\n                        path.options.stroke.lineJoin = 'round';\n                    }\n                }\n                visual.append(path);\n                if (hasGradientOverlay(options)) {\n                    var overlay = this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({\n                        end: !options.vertical ? [\n                            0,\n                            1\n                        ] : undefined\n                    }, options.overlay));\n                    visual.append(overlay);\n                }\n            },\n            createHighlight: function (style) {\n                var highlight = Path.fromRect(this.box.toRect(), style);\n                return alignPathToPixel(highlight);\n            },\n            highlightVisual: function () {\n                return this.rectVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    options: this.options,\n                    rect: this.box.toRect(),\n                    visual: this.rectVisual\n                };\n            },\n            getBorderColor: function () {\n                var color = this.color;\n                var border = this.options.border;\n                var brightness = border._brightness || BORDER_BRIGHTNESS;\n                var borderColor = border.color;\n                if (!defined(borderColor)) {\n                    borderColor = new Color(color).brightness(brightness).toHex();\n                }\n                return borderColor;\n            },\n            tooltipAnchor: function () {\n                var ref = this;\n                var options = ref.options;\n                var box = ref.box;\n                var aboveAxis = ref.aboveAxis;\n                var clipBox = this.owner.pane.clipBox() || box;\n                var horizontalAlign = LEFT;\n                var verticalAlign = TOP;\n                var x, y;\n                if (options.vertical) {\n                    x = Math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;\n                    if (aboveAxis) {\n                        y = Math.max(box.y1, clipBox.y1);\n                    } else {\n                        y = Math.min(box.y2, clipBox.y2);\n                        verticalAlign = BOTTOM;\n                    }\n                } else {\n                    var x1 = Math.max(box.x1, clipBox.x1);\n                    var x2 = Math.min(box.x2, clipBox.x2);\n                    if (options.isStacked) {\n                        verticalAlign = BOTTOM;\n                        if (aboveAxis) {\n                            horizontalAlign = RIGHT;\n                            x = x2;\n                        } else {\n                            x = x1;\n                        }\n                        y = Math.max(box.y1, clipBox.y1) - TOOLTIP_OFFSET;\n                    } else {\n                        if (aboveAxis) {\n                            x = x2 + TOOLTIP_OFFSET;\n                        } else {\n                            x = x1 - TOOLTIP_OFFSET;\n                            horizontalAlign = RIGHT;\n                        }\n                        y = Math.max(box.y1, clipBox.y1);\n                    }\n                }\n                return {\n                    point: new Point(x, y),\n                    align: {\n                        horizontal: horizontalAlign,\n                        vertical: verticalAlign\n                    }\n                };\n            },\n            overlapsBox: function (box) {\n                return this.box.overlaps(box);\n            }\n        });\n        deepExtend(Bar.prototype, PointEventsMixin);\n        deepExtend(Bar.prototype, NoteMixin);\n        Bar.prototype.defaults = {\n            border: { width: 1 },\n            vertical: true,\n            overlay: { gradient: 'glass' },\n            labels: {\n                visible: false,\n                format: '{0}'\n            },\n            opacity: 1,\n            notes: { label: {} }\n        };\n        var ClusterLayout = ChartElement.extend({\n            reflow: function (box) {\n                var ref = this.options;\n                var vertical = ref.vertical;\n                var gap = ref.gap;\n                var spacing = ref.spacing;\n                var children = this.children;\n                var count = children.length;\n                var axis = vertical ? Y : X;\n                var slots = count + gap + spacing * (count - 1);\n                var slotSize = (vertical ? box.height() : box.width()) / slots;\n                var position = box[axis + 1] + slotSize * (gap / 2);\n                for (var i = 0; i < count; i++) {\n                    var childBox = (children[i].box || box).clone();\n                    childBox[axis + 1] = position;\n                    childBox[axis + 2] = position + slotSize;\n                    children[i].reflow(childBox);\n                    if (i < count - 1) {\n                        position += slotSize * spacing;\n                    }\n                    position += slotSize;\n                }\n            }\n        });\n        setDefaultOptions(ClusterLayout, {\n            vertical: false,\n            gap: 0,\n            spacing: 0\n        });\n        var StackWrap = ChartElement.extend({\n            reflow: function (targetBox) {\n                var this$1 = this;\n                var positionAxis = this.options.vertical ? X : Y;\n                var children = this.children;\n                var childrenCount = children.length;\n                var box = this.box = new Box();\n                for (var i = 0; i < childrenCount; i++) {\n                    var currentChild = children[i];\n                    if (currentChild.visible !== false) {\n                        var childBox = currentChild.box.clone();\n                        childBox.snapTo(targetBox, positionAxis);\n                        if (i === 0) {\n                            box = this$1.box = childBox.clone();\n                        }\n                        currentChild.reflow(childBox);\n                        box.wrap(childBox);\n                    }\n                }\n            }\n        });\n        setDefaultOptions(StackWrap, { vertical: true });\n        var BarChart = CategoricalChart.extend({\n            render: function () {\n                CategoricalChart.fn.render.call(this);\n                this.updateStackRange();\n            },\n            pointType: function () {\n                return Bar;\n            },\n            clusterType: function () {\n                return ClusterLayout;\n            },\n            stackType: function () {\n                return StackWrap;\n            },\n            stackLimits: function (axisName, stackName) {\n                var limits = CategoricalChart.fn.stackLimits.call(this, axisName, stackName);\n                return limits;\n            },\n            createPoint: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var ref = this;\n                var options = ref.options;\n                var children = ref.children;\n                var isStacked = options.isStacked;\n                var value = this.pointValue(data);\n                var pointOptions = this.pointOptions(series, seriesIx);\n                var labelOptions = pointOptions.labels;\n                if (isStacked) {\n                    if (labelOptions.position === OUTSIDE_END) {\n                        labelOptions.position = INSIDE_END;\n                    }\n                }\n                pointOptions.isStacked = isStacked;\n                var color = data.fields.color || series.color;\n                if (value < 0 && pointOptions.negativeColor) {\n                    color = pointOptions.negativeColor;\n                }\n                pointOptions = this.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                if (isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                var pointType = this.pointType();\n                var point = new pointType(value, pointOptions);\n                point.color = color;\n                var cluster = children[categoryIx];\n                if (!cluster) {\n                    var clusterType = this.clusterType();\n                    cluster = new clusterType({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    this.append(cluster);\n                }\n                if (isStacked) {\n                    var stackWrap = this.getStackWrap(series, cluster);\n                    stackWrap.append(point);\n                } else {\n                    cluster.append(point);\n                }\n                return point;\n            },\n            getStackWrap: function (series, cluster) {\n                var stack = series.stack;\n                var stackGroup = stack ? stack.group || stack : stack;\n                var wraps = cluster.children;\n                var stackWrap;\n                if (typeof stackGroup === datavizConstants.STRING) {\n                    for (var i = 0; i < wraps.length; i++) {\n                        if (wraps[i]._stackGroup === stackGroup) {\n                            stackWrap = wraps[i];\n                            break;\n                        }\n                    }\n                } else {\n                    stackWrap = wraps[0];\n                }\n                if (!stackWrap) {\n                    var stackType = this.stackType();\n                    stackWrap = new stackType({ vertical: !this.options.invertAxes });\n                    stackWrap._stackGroup = stackGroup;\n                    cluster.append(stackWrap);\n                }\n                return stackWrap;\n            },\n            categorySlot: function (categoryAxis, categoryIx, valueAxis) {\n                var options = this.options;\n                var categorySlot = categoryAxis.getSlot(categoryIx);\n                var startValue = valueAxis.startValue();\n                if (options.isStacked) {\n                    var zeroSlot = valueAxis.getSlot(startValue, startValue, true);\n                    var stackAxis = options.invertAxes ? X : Y;\n                    categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];\n                }\n                return categorySlot;\n            },\n            reflowCategories: function (categorySlots) {\n                var children = this.children;\n                var childrenLength = children.length;\n                for (var i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            createAnimation: function () {\n                this._setAnimationOptions();\n                CategoricalChart.fn.createAnimation.call(this);\n                if (anyHasZIndex(this.options.series)) {\n                    this._setChildrenAnimation();\n                }\n            },\n            _setChildrenAnimation: function () {\n                var this$1 = this;\n                var points = this.points;\n                for (var idx = 0; idx < points.length; idx++) {\n                    var point = points[idx];\n                    var pointVisual = point.visual;\n                    if (pointVisual && defined(pointVisual.options.zIndex)) {\n                        point.options.animation = this$1.options.animation;\n                        point.createAnimation();\n                    }\n                }\n            },\n            _setAnimationOptions: function () {\n                var options = this.options;\n                var animation = options.animation || {};\n                var origin;\n                if (options.isStacked) {\n                    var valueAxis = this.seriesValueAxis(options.series[0]);\n                    origin = valueAxis.getSlot(valueAxis.startValue());\n                } else {\n                    origin = this.categoryAxis.getSlot(0);\n                }\n                animation.origin = new GeometryPoint(origin.x1, origin.y1);\n                animation.vertical = !options.invertAxes;\n            }\n        });\n        setDefaultOptions(BarChart, { animation: { type: BAR } });\n        var Candlestick = ChartElement.extend({\n            init: function (value, options) {\n                ChartElement.fn.init.call(this, options);\n                this.value = value;\n            },\n            reflow: function (box) {\n                var ref = this;\n                var options = ref.options;\n                var value = ref.value;\n                var chart = ref.owner;\n                var valueAxis = chart.seriesValueAxis(options);\n                var ocSlot = valueAxis.getSlot(value.open, value.close);\n                var lhSlot = valueAxis.getSlot(value.low, value.high);\n                ocSlot.x1 = lhSlot.x1 = box.x1;\n                ocSlot.x2 = lhSlot.x2 = box.x2;\n                this.realBody = ocSlot;\n                var mid = lhSlot.center().x;\n                var points = [];\n                points.push([\n                    [\n                        mid,\n                        lhSlot.y1\n                    ],\n                    [\n                        mid,\n                        ocSlot.y1\n                    ]\n                ]);\n                points.push([\n                    [\n                        mid,\n                        ocSlot.y2\n                    ],\n                    [\n                        mid,\n                        lhSlot.y2\n                    ]\n                ]);\n                this.lines = points;\n                this.box = lhSlot.clone().wrap(ocSlot);\n                if (!this._rendered) {\n                    this._rendered = true;\n                    this.createNote();\n                }\n                this.reflowNote();\n            },\n            reflowNote: function () {\n                if (this.note) {\n                    this.note.reflow(this.box);\n                }\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                this._mainVisual = this.mainVisual(this.options);\n                this.visual.append(this._mainVisual);\n                this.createOverlay();\n            },\n            mainVisual: function (options) {\n                var group = new Group();\n                this.createBody(group, options);\n                this.createLines(group, options);\n                return group;\n            },\n            createBody: function (container, options) {\n                var body = Path.fromRect(this.realBody.toRect(), {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: null\n                });\n                if (options.border.width > 0) {\n                    body.options.set('stroke', {\n                        color: this.getBorderColor(),\n                        width: options.border.width,\n                        dashType: options.border.dashType,\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\n                    });\n                }\n                alignPathToPixel(body);\n                container.append(body);\n                if (hasGradientOverlay(options)) {\n                    container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({\n                        end: !options.vertical ? [\n                            0,\n                            1\n                        ] : undefined\n                    }, options.overlay)));\n                }\n            },\n            createLines: function (container, options) {\n                this.drawLines(container, options, this.lines, options.line);\n            },\n            drawLines: function (container, options, lines, lineOptions) {\n                if (!lines) {\n                    return;\n                }\n                var lineStyle = {\n                    stroke: {\n                        color: lineOptions.color || this.color,\n                        opacity: valueOrDefault(lineOptions.opacity, options.opacity),\n                        width: lineOptions.width,\n                        dashType: lineOptions.dashType,\n                        lineCap: 'butt'\n                    }\n                };\n                for (var i = 0; i < lines.length; i++) {\n                    var line = Path.fromPoints(lines[i], lineStyle);\n                    alignPathToPixel(line);\n                    container.append(line);\n                }\n            },\n            getBorderColor: function () {\n                var border = this.options.border;\n                var borderColor = border.color;\n                if (!defined(borderColor)) {\n                    borderColor = new Color(this.color).brightness(border._brightness).toHex();\n                }\n                return borderColor;\n            },\n            createOverlay: function () {\n                var overlay = Path.fromRect(this.box.toRect(), {\n                    fill: {\n                        color: WHITE,\n                        opacity: 0\n                    },\n                    stroke: null\n                });\n                this.visual.append(overlay);\n            },\n            createHighlight: function () {\n                var highlight = this.options.highlight;\n                var normalColor = this.color;\n                this.color = highlight.color || this.color;\n                var overlay = this.mainVisual(deepExtend({}, this.options, { line: { color: this.getBorderColor() } }, highlight));\n                this.color = normalColor;\n                return overlay;\n            },\n            highlightVisual: function () {\n                return this._mainVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    options: this.options,\n                    rect: this.box.toRect(),\n                    visual: this._mainVisual\n                };\n            },\n            tooltipAnchor: function () {\n                var box = this.box;\n                var clipBox = this.owner.pane.clipBox() || box;\n                return {\n                    point: new Point(box.x2 + TOOLTIP_OFFSET, Math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET),\n                    align: {\n                        horizontal: LEFT,\n                        vertical: TOP\n                    }\n                };\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            },\n            overlapsBox: function (box) {\n                return this.box.overlaps(box);\n            }\n        });\n        setDefaultOptions(Candlestick, {\n            vertical: true,\n            border: { _brightness: 0.8 },\n            line: { width: 2 },\n            overlay: { gradient: 'glass' },\n            tooltip: { format: '<table>' + '<tr><th colspan=\\'2\\'>{4:d}</th></tr>' + '<tr><td>Open:</td><td>{0:C}</td></tr>' + '<tr><td>High:</td><td>{1:C}</td></tr>' + '<tr><td>Low:</td><td>{2:C}</td></tr>' + '<tr><td>Close:</td><td>{3:C}</td></tr>' + '</table>' },\n            highlight: {\n                opacity: 1,\n                border: {\n                    width: 1,\n                    opacity: 1\n                },\n                line: {\n                    width: 1,\n                    opacity: 1\n                }\n            },\n            notes: {\n                visible: true,\n                label: {}\n            }\n        });\n        deepExtend(Candlestick.prototype, PointEventsMixin);\n        deepExtend(Candlestick.prototype, NoteMixin);\n        function areNumbers(values) {\n            return countNumbers(values) === values.length;\n        }\n        var CandlestickChart = CategoricalChart.extend({\n            reflowCategories: function (categorySlots) {\n                var children = this.children;\n                var childrenLength = children.length;\n                for (var i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            addValue: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var ref = this;\n                var children = ref.children;\n                var options = ref.options;\n                var value = data.valueFields;\n                var valueParts = this.splitValue(value);\n                var hasValue = areNumbers(valueParts);\n                var dataItem = series.data[categoryIx];\n                var categoryPoints = this.categoryPoints[categoryIx];\n                var point;\n                if (!categoryPoints) {\n                    this.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                if (hasValue) {\n                    point = this.createPoint(data, fields);\n                }\n                var cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    this.append(cluster);\n                }\n                if (point) {\n                    this.updateRange(value, fields);\n                    cluster.append(point);\n                    point.categoryIx = categoryIx;\n                    point.category = category;\n                    point.series = series;\n                    point.seriesIx = seriesIx;\n                    point.owner = this;\n                    point.dataItem = dataItem;\n                    point.noteText = data.fields.noteText;\n                }\n                this.points.push(point);\n                categoryPoints.push(point);\n            },\n            pointType: function () {\n                return Candlestick;\n            },\n            createPoint: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var pointType = this.pointType();\n                var value = data.valueFields;\n                var pointOptions = deepExtend({}, series);\n                var color = data.fields.color || series.color;\n                pointOptions = this.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                if (series.type === CANDLESTICK) {\n                    if (value.open > value.close) {\n                        color = data.fields.downColor || series.downColor || series.color;\n                    }\n                }\n                if (isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                pointOptions.vertical = !this.options.invertAxes;\n                var point = new pointType(value, pointOptions);\n                point.color = color;\n                return point;\n            },\n            splitValue: function (value) {\n                return [\n                    value.low,\n                    value.open,\n                    value.close,\n                    value.high\n                ];\n            },\n            updateRange: function (value, fields) {\n                var axisName = fields.series.axis;\n                var parts = this.splitValue(value);\n                var axisRange = this.valueAxisRanges[axisName];\n                axisRange = this.valueAxisRanges[axisName] = axisRange || {\n                    min: MAX_VALUE,\n                    max: MIN_VALUE\n                };\n                axisRange = this.valueAxisRanges[axisName] = {\n                    min: Math.min.apply(Math, parts.concat([axisRange.min])),\n                    max: Math.max.apply(Math, parts.concat([axisRange.max]))\n                };\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return this.chartService.format.auto(format, value.open, value.high, value.low, value.close, point.category);\n            },\n            animationPoints: function () {\n                return this.points;\n            }\n        });\n        deepExtend(CandlestickChart.prototype, ClipAnimationMixin);\n        var BoxPlot = Candlestick.extend({\n            init: function (value, options) {\n                Candlestick.fn.init.call(this, value, options);\n                this.createNote();\n            },\n            reflow: function (box) {\n                var ref = this;\n                var options = ref.options;\n                var value = ref.value;\n                var chart = ref.owner;\n                var valueAxis = chart.seriesValueAxis(options);\n                var whiskerSlot, boxSlot;\n                this.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);\n                this.realBody = boxSlot;\n                this.reflowBoxSlot(box);\n                this.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);\n                this.reflowWhiskerSlot(box);\n                var medianSlot = valueAxis.getSlot(value.median);\n                if (value.mean) {\n                    var meanSlot = valueAxis.getSlot(value.mean);\n                    this.meanPoints = this.calcMeanPoints(box, meanSlot);\n                }\n                this.whiskerPoints = this.calcWhiskerPoints(boxSlot, whiskerSlot);\n                this.medianPoints = this.calcMedianPoints(box, medianSlot);\n                this.box = whiskerSlot.clone().wrap(boxSlot);\n                this.reflowNote();\n            },\n            reflowBoxSlot: function (box) {\n                this.boxSlot.x1 = box.x1;\n                this.boxSlot.x2 = box.x2;\n            },\n            reflowWhiskerSlot: function (box) {\n                this.whiskerSlot.x1 = box.x1;\n                this.whiskerSlot.x2 = box.x2;\n            },\n            calcMeanPoints: function (box, meanSlot) {\n                return [[\n                        [\n                            box.x1,\n                            meanSlot.y1\n                        ],\n                        [\n                            box.x2,\n                            meanSlot.y1\n                        ]\n                    ]];\n            },\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\n                var mid = whiskerSlot.center().x;\n                return [\n                    [\n                        [\n                            mid - 5,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid + 5,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid,\n                            boxSlot.y1\n                        ]\n                    ],\n                    [\n                        [\n                            mid - 5,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid + 5,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid,\n                            boxSlot.y2\n                        ]\n                    ]\n                ];\n            },\n            calcMedianPoints: function (box, medianSlot) {\n                return [[\n                        [\n                            box.x1,\n                            medianSlot.y1\n                        ],\n                        [\n                            box.x2,\n                            medianSlot.y1\n                        ]\n                    ]];\n            },\n            renderOutliers: function (options) {\n                var this$1 = this;\n                var value = this.value;\n                var outliers = value.outliers || [];\n                var outerFence = Math.abs(value.q3 - value.q1) * 3;\n                var elements = [];\n                var markers = options.markers || {};\n                for (var i = 0; i < outliers.length; i++) {\n                    var outlierValue = outliers[i];\n                    if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {\n                        markers = options.outliers;\n                    } else {\n                        markers = options.extremes;\n                    }\n                    var markersBorder = deepExtend({}, markers.border);\n                    if (!defined(markersBorder.color)) {\n                        if (defined(this$1.color)) {\n                            markersBorder.color = this$1.color;\n                        } else {\n                            markersBorder.color = new Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex();\n                        }\n                    }\n                    var shape = new ShapeElement({\n                        type: markers.type,\n                        width: markers.size,\n                        height: markers.size,\n                        rotation: markers.rotation,\n                        background: markers.background,\n                        border: markersBorder,\n                        opacity: markers.opacity\n                    });\n                    shape.value = outlierValue;\n                    elements.push(shape);\n                }\n                this.reflowOutliers(elements);\n                return elements;\n            },\n            reflowOutliers: function (outliers) {\n                var this$1 = this;\n                var valueAxis = this.owner.seriesValueAxis(this.options);\n                var center = this.box.center();\n                for (var i = 0; i < outliers.length; i++) {\n                    var outlierValue = outliers[i].value;\n                    var markerBox = valueAxis.getSlot(outlierValue);\n                    if (this$1.options.vertical) {\n                        markerBox.move(center.x);\n                    } else {\n                        markerBox.move(undefined, center.y);\n                    }\n                    this$1.box = this$1.box.wrap(markerBox);\n                    outliers[i].reflow(markerBox);\n                }\n            },\n            mainVisual: function (options) {\n                var group = Candlestick.fn.mainVisual.call(this, options);\n                var outliers = this.renderOutliers(options);\n                for (var i = 0; i < outliers.length; i++) {\n                    var element = outliers[i].getElement();\n                    if (element) {\n                        group.append(element);\n                    }\n                }\n                return group;\n            },\n            createLines: function (container, options) {\n                this.drawLines(container, options, this.whiskerPoints, options.whiskers);\n                this.drawLines(container, options, this.medianPoints, options.median);\n                this.drawLines(container, options, this.meanPoints, options.mean);\n            },\n            getBorderColor: function () {\n                if (this.color) {\n                    return this.color;\n                }\n                return Candlestick.fn.getBorderColor.call(this);\n            }\n        });\n        setDefaultOptions(BoxPlot, {\n            border: { _brightness: 0.8 },\n            line: { width: 2 },\n            median: { color: '#f6f6f6' },\n            mean: {\n                width: 2,\n                dashType: 'dash',\n                color: '#f6f6f6'\n            },\n            overlay: { gradient: 'glass' },\n            tooltip: { format: '<table>' + '<tr><th colspan=\\'2\\'>{6:d}</th></tr>' + '<tr><td>Lower:</td><td>{0:C}</td></tr>' + '<tr><td>Q1:</td><td>{1:C}</td></tr>' + '<tr><td>Median:</td><td>{2:C}</td></tr>' + '<tr><td>Mean:</td><td>{5:C}</td></tr>' + '<tr><td>Q3:</td><td>{3:C}</td></tr>' + '<tr><td>Upper:</td><td>{4:C}</td></tr>' + '</table>' },\n            highlight: {\n                opacity: 1,\n                border: {\n                    width: 1,\n                    opacity: 1\n                },\n                line: {\n                    width: 1,\n                    opacity: 1\n                }\n            },\n            notes: {\n                visible: true,\n                label: {}\n            },\n            outliers: {\n                visible: true,\n                size: LINE_MARKER_SIZE,\n                type: datavizConstants.CROSS,\n                background: WHITE,\n                border: {\n                    width: 2,\n                    opacity: 1\n                },\n                opacity: 0\n            },\n            extremes: {\n                visible: true,\n                size: LINE_MARKER_SIZE,\n                type: CIRCLE,\n                background: WHITE,\n                border: {\n                    width: 2,\n                    opacity: 1\n                },\n                opacity: 0\n            }\n        });\n        deepExtend(BoxPlot.prototype, PointEventsMixin);\n        var VerticalBoxPlot = BoxPlot.extend({\n            reflowBoxSlot: function (box) {\n                this.boxSlot.y1 = box.y1;\n                this.boxSlot.y2 = box.y2;\n            },\n            reflowWhiskerSlot: function (box) {\n                this.whiskerSlot.y1 = box.y1;\n                this.whiskerSlot.y2 = box.y2;\n            },\n            calcMeanPoints: function (box, meanSlot) {\n                return [[\n                        [\n                            meanSlot.x1,\n                            box.y1\n                        ],\n                        [\n                            meanSlot.x1,\n                            box.y2\n                        ]\n                    ]];\n            },\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\n                var mid = whiskerSlot.center().y;\n                return [\n                    [\n                        [\n                            whiskerSlot.x1,\n                            mid - 5\n                        ],\n                        [\n                            whiskerSlot.x1,\n                            mid + 5\n                        ],\n                        [\n                            whiskerSlot.x1,\n                            mid\n                        ],\n                        [\n                            boxSlot.x1,\n                            mid\n                        ]\n                    ],\n                    [\n                        [\n                            whiskerSlot.x2,\n                            mid - 5\n                        ],\n                        [\n                            whiskerSlot.x2,\n                            mid + 5\n                        ],\n                        [\n                            whiskerSlot.x2,\n                            mid\n                        ],\n                        [\n                            boxSlot.x2,\n                            mid\n                        ]\n                    ]\n                ];\n            },\n            calcMedianPoints: function (box, medianSlot) {\n                return [[\n                        [\n                            medianSlot.x1,\n                            box.y1\n                        ],\n                        [\n                            medianSlot.x1,\n                            box.y2\n                        ]\n                    ]];\n            }\n        });\n        var BoxPlotChart = CandlestickChart.extend({\n            addValue: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var ref = this;\n                var children = ref.children;\n                var options = ref.options;\n                var value = data.valueFields;\n                var valueParts = this.splitValue(value);\n                var hasValue = areNumbers(valueParts);\n                var dataItem = series.data[categoryIx];\n                var categoryPoints = this.categoryPoints[categoryIx];\n                var point;\n                if (!categoryPoints) {\n                    this.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                if (hasValue) {\n                    point = this.createPoint(data, fields);\n                }\n                var cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    this.append(cluster);\n                }\n                if (point) {\n                    this.updateRange(value, fields);\n                    cluster.append(point);\n                    point.categoryIx = categoryIx;\n                    point.category = category;\n                    point.series = series;\n                    point.seriesIx = seriesIx;\n                    point.owner = this;\n                    point.dataItem = dataItem;\n                }\n                this.points.push(point);\n                categoryPoints.push(point);\n            },\n            pointType: function () {\n                if (this.options.invertAxes) {\n                    return VerticalBoxPlot;\n                }\n                return BoxPlot;\n            },\n            splitValue: function (value) {\n                return [\n                    value.lower,\n                    value.q1,\n                    value.median,\n                    value.q3,\n                    value.upper\n                ];\n            },\n            updateRange: function (value, fields) {\n                var axisName = fields.series.axis;\n                var axisRange = this.valueAxisRanges[axisName];\n                var parts = this.splitValue(value).concat(this.filterOutliers(value.outliers));\n                if (defined(value.mean)) {\n                    parts = parts.concat(value.mean);\n                }\n                axisRange = this.valueAxisRanges[axisName] = axisRange || {\n                    min: MAX_VALUE,\n                    max: MIN_VALUE\n                };\n                axisRange = this.valueAxisRanges[axisName] = {\n                    min: Math.min.apply(Math, parts.concat([axisRange.min])),\n                    max: Math.max.apply(Math, parts.concat([axisRange.max]))\n                };\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return this.chartService.format.auto(format, value.lower, value.q1, value.median, value.q3, value.upper, value.mean, point.category);\n            },\n            filterOutliers: function (items) {\n                var length = (items || []).length;\n                var result = [];\n                for (var i = 0; i < length; i++) {\n                    var item = items[i];\n                    if (defined(item) && item !== null) {\n                        result.push(item);\n                    }\n                }\n                return result;\n            }\n        });\n        var ScatterErrorBar = ErrorBarBase.extend({\n            getAxis: function () {\n                var axes = this.chart.seriesAxes(this.series);\n                var axis = this.isVertical ? axes.y : axes.x;\n                return axis;\n            }\n        });\n        function hasValue(value) {\n            return defined(value) && value !== null;\n        }\n        var ScatterChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                ChartElement.fn.init.call(this, options);\n                this.plotArea = plotArea;\n                this.chartService = plotArea.chartService;\n                this._initFields();\n                this.render();\n            },\n            _initFields: function () {\n                this.xAxisRanges = {};\n                this.yAxisRanges = {};\n                this.points = [];\n                this.seriesPoints = [];\n                this.seriesOptions = [];\n                this._evalSeries = [];\n            },\n            render: function () {\n                this.traverseDataPoints(this.addValue.bind(this));\n            },\n            addErrorBar: function (point, field, fields) {\n                var value = point.value[field];\n                var valueErrorField = field + 'Value';\n                var lowField = field + 'ErrorLow';\n                var highField = field + 'ErrorHigh';\n                var seriesIx = fields.seriesIx;\n                var series = fields.series;\n                var errorBars = point.options.errorBars;\n                var lowValue = fields[lowField];\n                var highValue = fields[highField];\n                if (isNumber(value)) {\n                    var errorRange;\n                    if (isNumber(lowValue) && isNumber(highValue)) {\n                        errorRange = {\n                            low: lowValue,\n                            high: highValue\n                        };\n                    }\n                    if (errorBars && defined(errorBars[valueErrorField])) {\n                        this.seriesErrorRanges = this.seriesErrorRanges || {\n                            x: [],\n                            y: []\n                        };\n                        this.seriesErrorRanges[field][seriesIx] = this.seriesErrorRanges[field][seriesIx] || new ErrorRangeCalculator(errorBars[valueErrorField], series, field);\n                        errorRange = this.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);\n                    }\n                    if (errorRange) {\n                        this.addPointErrorBar(errorRange, point, field);\n                    }\n                }\n            },\n            addPointErrorBar: function (errorRange, point, field) {\n                var low = errorRange.low;\n                var high = errorRange.high;\n                var series = point.series;\n                var options = point.options.errorBars;\n                var isVertical = field === Y;\n                var item = {};\n                point[field + 'Low'] = low;\n                point[field + 'High'] = high;\n                point.errorBars = point.errorBars || [];\n                var errorBar = new ScatterErrorBar(low, high, isVertical, this, series, options);\n                point.errorBars.push(errorBar);\n                point.append(errorBar);\n                item[field] = low;\n                this.updateRange(item, series);\n                item[field] = high;\n                this.updateRange(item, series);\n            },\n            addValue: function (value, fields) {\n                var x = value.x;\n                var y = value.y;\n                var seriesIx = fields.seriesIx;\n                var series = this.options.series[seriesIx];\n                var missingValues = this.seriesMissingValues(series);\n                var seriesPoints = this.seriesPoints[seriesIx];\n                var pointValue = value;\n                if (!(hasValue(x) && hasValue(y))) {\n                    pointValue = this.createMissingValue(pointValue, missingValues);\n                }\n                var point;\n                if (pointValue) {\n                    point = this.createPoint(pointValue, fields);\n                    if (point) {\n                        $.extend(point, fields);\n                        this.addErrorBar(point, X, fields);\n                        this.addErrorBar(point, Y, fields);\n                    }\n                    this.updateRange(pointValue, fields.series);\n                }\n                this.points.push(point);\n                seriesPoints.push(point);\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues;\n            },\n            createMissingValue: function () {\n            },\n            updateRange: function (value, series) {\n                var intlService = this.chartService.intl;\n                var xAxisName = series.xAxis;\n                var yAxisName = series.yAxis;\n                var x = value.x;\n                var y = value.y;\n                var xAxisRange = this.xAxisRanges[xAxisName];\n                var yAxisRange = this.yAxisRanges[yAxisName];\n                if (hasValue(x)) {\n                    xAxisRange = this.xAxisRanges[xAxisName] = xAxisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    if (isString(x)) {\n                        x = parseDate(intlService, x);\n                    }\n                    xAxisRange.min = Math.min(xAxisRange.min, x);\n                    xAxisRange.max = Math.max(xAxisRange.max, x);\n                }\n                if (hasValue(y)) {\n                    yAxisRange = this.yAxisRanges[yAxisName] = yAxisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    if (isString(y)) {\n                        y = parseDate(intlService, y);\n                    }\n                    yAxisRange.min = Math.min(yAxisRange.min, y);\n                    yAxisRange.max = Math.max(yAxisRange.max, y);\n                }\n            },\n            evalPointOptions: function (options, value, fields) {\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var state = {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'tooltip',\n                        'template',\n                        'visual',\n                        'toggle',\n                        '_outOfRangeMinPoint',\n                        '_outOfRangeMaxPoint'\n                    ]\n                };\n                var doEval = this._evalSeries[seriesIx];\n                if (!defined(doEval)) {\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n                }\n                var pointOptions = options;\n                if (doEval) {\n                    pointOptions = deepExtend({}, options);\n                    evalOptions(pointOptions, {\n                        value: value,\n                        series: series,\n                        dataItem: fields.dataItem\n                    }, state);\n                }\n                return pointOptions;\n            },\n            pointType: function () {\n                return LinePoint;\n            },\n            pointOptions: function (series, seriesIx) {\n                var options = this.seriesOptions[seriesIx];\n                if (!options) {\n                    var defaults = this.pointType().prototype.defaults;\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {\n                        markers: { opacity: series.opacity },\n                        tooltip: { format: this.options.tooltip.format },\n                        labels: { format: this.options.labels.format }\n                    }, series);\n                }\n                return options;\n            },\n            createPoint: function (value, fields) {\n                var series = fields.series;\n                var pointOptions = this.pointOptions(series, fields.seriesIx);\n                var color = fields.color || series.color;\n                pointOptions = this.evalPointOptions(pointOptions, value, fields);\n                if (isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                var point = new LinePoint(value, pointOptions);\n                point.color = color;\n                this.append(point);\n                return point;\n            },\n            seriesAxes: function (series) {\n                var xAxisName = series.xAxis;\n                var yAxisName = series.yAxis;\n                var plotArea = this.plotArea;\n                var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;\n                var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;\n                if (!xAxis) {\n                    throw new Error('Unable to locate X axis with name ' + xAxisName);\n                }\n                if (!yAxis) {\n                    throw new Error('Unable to locate Y axis with name ' + yAxisName);\n                }\n                return {\n                    x: xAxis,\n                    y: yAxis\n                };\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                var chartPoints = this.points;\n                var limit = !this.options.clip;\n                var pointIx = 0;\n                this.traverseDataPoints(function (value, fields) {\n                    var point = chartPoints[pointIx++];\n                    var seriesAxes = this$1.seriesAxes(fields.series);\n                    var slotX = seriesAxes.x.getSlot(value.x, value.x, limit);\n                    var slotY = seriesAxes.y.getSlot(value.y, value.y, limit);\n                    if (point) {\n                        if (slotX && slotY) {\n                            var pointSlot = this$1.pointSlot(slotX, slotY);\n                            point.reflow(pointSlot);\n                        } else {\n                            point.visible = false;\n                        }\n                    }\n                });\n                this.box = targetBox;\n            },\n            pointSlot: function (slotX, slotY) {\n                return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n            },\n            traverseDataPoints: function (callback) {\n                var this$1 = this;\n                var ref = this;\n                var series = ref.options.series;\n                var seriesPoints = ref.seriesPoints;\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var currentSeriesPoints = seriesPoints[seriesIx];\n                    if (!currentSeriesPoints) {\n                        seriesPoints[seriesIx] = [];\n                    }\n                    for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n                        var ref$1 = this$1._bindPoint(currentSeries, seriesIx, pointIx);\n                        var value = ref$1.valueFields;\n                        var fields = ref$1.fields;\n                        callback(value, deepExtend({\n                            pointIx: pointIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            dataItem: currentSeries.data[pointIx],\n                            owner: this$1\n                        }, fields));\n                    }\n                }\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return this.chartService.format.auto(format, value.x, value.y);\n            },\n            animationPoints: function () {\n                var points = this.points;\n                var result = [];\n                for (var idx = 0; idx < points.length; idx++) {\n                    result.push((points[idx] || {}).marker);\n                }\n                return result;\n            }\n        });\n        setDefaultOptions(ScatterChart, {\n            series: [],\n            tooltip: { format: '{0}, {1}' },\n            labels: { format: '{0}, {1}' },\n            clip: true\n        });\n        deepExtend(ScatterChart.prototype, ClipAnimationMixin, { _bindPoint: CategoricalChart.prototype._bindPoint });\n        var Bubble = LinePoint.extend({\n            init: function (value, options) {\n                LinePoint.fn.init.call(this, value, options);\n                this.category = value.category;\n            },\n            createHighlight: function () {\n                var highlight = this.options.highlight;\n                var border = highlight.border;\n                var markers = this.options.markers;\n                var center = this.box.center();\n                var radius = (markers.size + markers.border.width + border.width) / 2;\n                var highlightGroup = new Group();\n                var shadow = new drawing.Circle(new geometry.Circle([\n                    center.x,\n                    center.y + radius / 5 + border.width / 2\n                ], radius + border.width / 2), {\n                    stroke: { color: 'none' },\n                    fill: this.createGradient({\n                        gradient: 'bubbleShadow',\n                        color: markers.background,\n                        stops: [\n                            {\n                                offset: 0,\n                                color: markers.background,\n                                opacity: 0.3\n                            },\n                            {\n                                offset: 1,\n                                color: markers.background,\n                                opacity: 0\n                            }\n                        ]\n                    })\n                });\n                var overlay = new drawing.Circle(new geometry.Circle([\n                    center.x,\n                    center.y\n                ], radius), {\n                    stroke: {\n                        color: border.color || new Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex(),\n                        width: border.width,\n                        opacity: border.opacity\n                    },\n                    fill: {\n                        color: markers.background,\n                        opacity: highlight.opacity\n                    }\n                });\n                highlightGroup.append(shadow, overlay);\n                return highlightGroup;\n            }\n        });\n        Bubble.prototype.defaults = deepExtend({}, Bubble.prototype.defaults, {\n            labels: { position: CENTER },\n            highlight: {\n                opacity: 1,\n                border: {\n                    color: '#fff',\n                    width: 2,\n                    opacity: 1\n                }\n            }\n        });\n        var BubbleChart = ScatterChart.extend({\n            _initFields: function () {\n                this._maxSize = MIN_VALUE;\n                ScatterChart.fn._initFields.call(this);\n            },\n            addValue: function (value, fields) {\n                if (value.size !== null && (value.size > 0 || value.size < 0 && fields.series.negativeValues.visible)) {\n                    this._maxSize = Math.max(this._maxSize, Math.abs(value.size));\n                    ScatterChart.fn.addValue.call(this, value, fields);\n                } else {\n                    this.points.push(null);\n                    this.seriesPoints[fields.seriesIx].push(null);\n                }\n            },\n            reflow: function (box) {\n                this.updateBubblesSize(box);\n                ScatterChart.fn.reflow.call(this, box);\n            },\n            pointType: function () {\n                return Bubble;\n            },\n            createPoint: function (value, fields) {\n                var series = fields.series;\n                var pointsCount = series.data.length;\n                var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);\n                var animationOptions = {\n                    delay: delay,\n                    duration: INITIAL_ANIMATION_DURATION - delay,\n                    type: BUBBLE\n                };\n                var color = fields.color || series.color;\n                if (value.size < 0 && series.negativeValues.visible) {\n                    color = valueOrDefault(series.negativeValues.color, color);\n                }\n                var pointOptions = deepExtend({\n                    labels: {\n                        animation: {\n                            delay: delay,\n                            duration: INITIAL_ANIMATION_DURATION - delay\n                        }\n                    }\n                }, this.pointOptions(series, fields.seriesIx), {\n                    markers: {\n                        type: CIRCLE,\n                        border: series.border,\n                        opacity: series.opacity,\n                        animation: animationOptions\n                    }\n                });\n                pointOptions = this.evalPointOptions(pointOptions, value, fields);\n                if (isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                pointOptions.markers.background = color;\n                var point = new Bubble(value, pointOptions);\n                point.color = color;\n                this.append(point);\n                return point;\n            },\n            updateBubblesSize: function (box) {\n                var this$1 = this;\n                var ref = this;\n                var series = ref.options.series;\n                var boxSize = Math.min(box.width(), box.height());\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var seriesPoints = this$1.seriesPoints[seriesIx];\n                    var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);\n                    var maxSize = currentSeries.maxSize || boxSize * 0.2;\n                    var minR = minSize / 2;\n                    var maxR = maxSize / 2;\n                    var minArea = Math.PI * minR * minR;\n                    var maxArea = Math.PI * maxR * maxR;\n                    var areaRange = maxArea - minArea;\n                    var areaRatio = areaRange / this$1._maxSize;\n                    for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\n                        var point = seriesPoints[pointIx];\n                        if (point) {\n                            var area = Math.abs(point.value.size) * areaRatio;\n                            var radius = Math.sqrt((minArea + area) / Math.PI);\n                            var baseZIndex = valueOrDefault(point.options.zIndex, 0);\n                            var zIndex = baseZIndex + (1 - radius / maxR);\n                            deepExtend(point.options, {\n                                zIndex: zIndex,\n                                markers: {\n                                    size: radius * 2,\n                                    zIndex: zIndex\n                                },\n                                labels: { zIndex: zIndex + 1 }\n                            });\n                        }\n                    }\n                }\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);\n            },\n            createAnimation: function () {\n            },\n            createVisual: function () {\n            }\n        });\n        setDefaultOptions(BubbleChart, {\n            tooltip: { format: '{3}' },\n            labels: { format: '{3}' }\n        });\n        var Target = ShapeElement.extend({});\n        deepExtend(Target.prototype, PointEventsMixin);\n        var Bullet = ChartElement.extend({\n            init: function (value, options) {\n                ChartElement.fn.init.call(this, options);\n                this.aboveAxis = this.options.aboveAxis;\n                this.color = options.color || WHITE;\n                this.value = value;\n            },\n            render: function () {\n                var options = this.options;\n                if (!this._rendered) {\n                    this._rendered = true;\n                    if (defined(this.value.target)) {\n                        this.target = new Target({\n                            type: options.target.shape,\n                            background: options.target.color || this.color,\n                            opacity: options.opacity,\n                            zIndex: options.zIndex,\n                            border: options.target.border,\n                            vAlign: TOP,\n                            align: RIGHT\n                        });\n                        this.target.value = this.value;\n                        this.target.dataItem = this.dataItem;\n                        this.target.series = this.series;\n                        this.append(this.target);\n                    }\n                    this.createNote();\n                }\n            },\n            reflow: function (box) {\n                this.render();\n                var ref = this;\n                var options = ref.options;\n                var target = ref.target;\n                var chart = ref.owner;\n                var invertAxes = options.invertAxes;\n                var valueAxis = chart.seriesValueAxis(this.options);\n                var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);\n                var targetValueSlot = valueAxis.getSlot(this.value.target);\n                var targetSlotX = invertAxes ? targetValueSlot : categorySlot;\n                var targetSlotY = invertAxes ? categorySlot : targetValueSlot;\n                if (target) {\n                    var targetSlot = new Box(targetSlotX.x1, targetSlotY.y1, targetSlotX.x2, targetSlotY.y2);\n                    target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\n                    target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\n                    target.reflow(targetSlot);\n                }\n                if (this.note) {\n                    this.note.reflow(box);\n                }\n                this.box = box;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options;\n                var body = Path.fromRect(this.box.toRect(), {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: null\n                });\n                if (options.border.width > 0) {\n                    body.options.set('stroke', {\n                        color: options.border.color || this.color,\n                        width: options.border.width,\n                        dashType: options.border.dashType,\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\n                    });\n                }\n                this.bodyVisual = body;\n                alignPathToPixel(body);\n                this.visual.append(body);\n            },\n            createAnimation: function () {\n                if (this.bodyVisual) {\n                    this.animation = Animation.create(this.bodyVisual, this.options.animation);\n                }\n            },\n            createHighlight: function (style) {\n                return Path.fromRect(this.box.toRect(), style);\n            },\n            highlightVisual: function () {\n                return this.bodyVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    rect: this.box.toRect(),\n                    visual: this.bodyVisual,\n                    options: this.options\n                };\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            }\n        });\n        Bullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;\n        setDefaultOptions(Bullet, {\n            border: { width: 1 },\n            vertical: false,\n            opacity: 1,\n            target: {\n                shape: '',\n                border: {\n                    width: 0,\n                    color: 'green'\n                },\n                line: { width: 2 }\n            },\n            tooltip: { format: 'Current: {0}<br />Target: {1}' }\n        });\n        deepExtend(Bullet.prototype, PointEventsMixin);\n        deepExtend(Bullet.prototype, NoteMixin);\n        var BulletChart = CategoricalChart.extend({\n            init: function (plotArea, options) {\n                wrapData(options);\n                CategoricalChart.fn.init.call(this, plotArea, options);\n            },\n            reflowCategories: function (categorySlots) {\n                var children = this.children;\n                var childrenLength = children.length;\n                for (var i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            plotRange: function (point) {\n                var series = point.series;\n                var valueAxis = this.seriesValueAxis(series);\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                return [\n                    axisCrossingValue,\n                    point.value.current || axisCrossingValue\n                ];\n            },\n            createPoint: function (data, fields) {\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var ref = this;\n                var options = ref.options;\n                var children = ref.children;\n                var value = data.valueFields;\n                var bulletOptions = deepExtend({\n                    vertical: !options.invertAxes,\n                    overlay: series.overlay,\n                    categoryIx: categoryIx,\n                    invertAxes: options.invertAxes\n                }, series);\n                var color = data.fields.color || series.color;\n                bulletOptions = this.evalPointOptions(bulletOptions, value, category, categoryIx, series, seriesIx);\n                if (isFunction(series.color)) {\n                    color = bulletOptions.color;\n                }\n                var bullet = new Bullet(value, bulletOptions);\n                bullet.color = color;\n                var cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    this.append(cluster);\n                }\n                cluster.append(bullet);\n                return bullet;\n            },\n            updateRange: function (value, fields) {\n                var current = value.current;\n                var target = value.target;\n                var axisName = fields.series.axis;\n                var axisRange = this.valueAxisRanges[axisName];\n                if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\n                    axisRange = this.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = Math.min(axisRange.min, current, target);\n                    axisRange.max = Math.max(axisRange.max, current, target);\n                }\n            },\n            formatPointValue: function (point, format) {\n                return this.chartService.format.auto(format, point.value.current, point.value.target);\n            },\n            pointValue: function (data) {\n                return data.valueFields.current;\n            },\n            aboveAxis: function (point) {\n                var value = point.value.current;\n                return value > 0;\n            },\n            createAnimation: function () {\n                var this$1 = this;\n                var points = this.points;\n                this._setAnimationOptions();\n                for (var idx = 0; idx < points.length; idx++) {\n                    var point = points[idx];\n                    point.options.animation = this$1.options.animation;\n                    point.createAnimation();\n                }\n            }\n        });\n        BulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;\n        setDefaultOptions(BulletChart, { animation: { type: BAR } });\n        function wrapData(options) {\n            var series = options.series;\n            for (var i = 0; i < series.length; i++) {\n                var seriesItem = series[i];\n                var data = seriesItem.data;\n                if (data && !isArray(data[0]) && !isObject(data[0])) {\n                    seriesItem.data = [data];\n                }\n            }\n        }\n        var BaseTooltip = Class.extend({\n            init: function (chartService, options) {\n                this.chartService = chartService;\n                this.options = deepExtend({}, this.options, options);\n            },\n            getStyle: function (options, point) {\n                var background = options.background;\n                var border = options.border.color;\n                if (point) {\n                    var pointColor = point.color || point.options.color;\n                    background = valueOrDefault(background, pointColor);\n                    border = valueOrDefault(border, pointColor);\n                }\n                var padding = getSpacing(options.padding || {}, 'auto');\n                return {\n                    backgroundColor: background,\n                    borderColor: border,\n                    font: options.font,\n                    color: options.color,\n                    opacity: options.opacity,\n                    borderWidth: styleValue(options.border.width),\n                    paddingTop: styleValue(padding.top),\n                    paddingBottom: styleValue(padding.bottom),\n                    paddingLeft: styleValue(padding.left),\n                    paddingRight: styleValue(padding.right)\n                };\n            },\n            show: function (options, tooltipOptions, point) {\n                options.format = tooltipOptions.format;\n                var style = this.getStyle(tooltipOptions, point);\n                options.style = style;\n                if (!defined(tooltipOptions.color) && new Color(style.backgroundColor).percBrightness() > 180) {\n                    options.className = 'k-chart-tooltip-inverse';\n                }\n                this.chartService.notify(SHOW_TOOLTIP, options);\n            },\n            hide: function () {\n                this.chartService.notify(HIDE_TOOLTIP);\n            },\n            destroy: function () {\n                delete this.chartService;\n            }\n        });\n        setDefaultOptions(BaseTooltip, {\n            border: { width: 1 },\n            opacity: 1\n        });\n        var CrosshairTooltip = BaseTooltip.extend({\n            init: function (chartService, crosshair, options) {\n                BaseTooltip.fn.init.call(this, chartService, options);\n                this.crosshair = crosshair;\n                this.formatService = chartService.format;\n                this.initAxisName();\n            },\n            initAxisName: function () {\n                var axis = this.crosshair.axis;\n                var plotArea = axis.plotArea;\n                var name;\n                if (plotArea.categoryAxis) {\n                    name = axis.getCategory ? 'categoryAxis' : 'valueAxis';\n                } else {\n                    name = axis.options.vertical ? 'yAxis' : 'xAxis';\n                }\n                this.axisName = name;\n            },\n            showAt: function (point) {\n                var ref = this;\n                var axis = ref.crosshair.axis;\n                var options = ref.options;\n                var value = axis[options.stickyMode ? 'getCategory' : 'getValue'](point);\n                var formattedValue = value;\n                if (options.format) {\n                    formattedValue = this.formatService.auto(options.format, value);\n                } else if (axis.options.type === DATE) {\n                    formattedValue = this.formatService.auto(axis.options.labels.dateFormats[axis.options.baseUnit], value);\n                }\n                this.show({\n                    point: point,\n                    anchor: this.getAnchor(),\n                    crosshair: this.crosshair,\n                    value: formattedValue,\n                    axisName: this.axisName,\n                    axisIndex: this.crosshair.axis.axisIndex\n                }, this.options);\n            },\n            hide: function () {\n                this.chartService.notify(HIDE_TOOLTIP, {\n                    crosshair: this.crosshair,\n                    axisName: this.axisName,\n                    axisIndex: this.crosshair.axis.axisIndex\n                });\n            },\n            getAnchor: function () {\n                var ref = this;\n                var crosshair = ref.crosshair;\n                var ref_options = ref.options;\n                var position = ref_options.position;\n                var padding = ref_options.padding;\n                var vertical = !crosshair.axis.options.vertical;\n                var lineBox = crosshair.line.bbox();\n                var horizontalAlign, verticalAlign, point;\n                if (vertical) {\n                    horizontalAlign = CENTER;\n                    if (position === BOTTOM) {\n                        verticalAlign = TOP;\n                        point = lineBox.bottomLeft().translate(0, padding);\n                    } else {\n                        verticalAlign = BOTTOM;\n                        point = lineBox.topLeft().translate(0, -padding);\n                    }\n                } else {\n                    verticalAlign = CENTER;\n                    if (position === LEFT) {\n                        horizontalAlign = RIGHT;\n                        point = lineBox.topLeft().translate(-padding, 0);\n                    } else {\n                        horizontalAlign = LEFT;\n                        point = lineBox.topRight().translate(padding, 0);\n                    }\n                }\n                return {\n                    point: point,\n                    align: {\n                        horizontal: horizontalAlign,\n                        vertical: verticalAlign\n                    }\n                };\n            }\n        });\n        setDefaultOptions(CrosshairTooltip, { padding: 10 });\n        var Crosshair = ChartElement.extend({\n            init: function (chartService, axis, options) {\n                ChartElement.fn.init.call(this, options);\n                this.axis = axis;\n                this.stickyMode = axis instanceof CategoryAxis;\n                var tooltipOptions = this.options.tooltip;\n                if (tooltipOptions.visible) {\n                    this.tooltip = new CrosshairTooltip(chartService, this, deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode }));\n                }\n            },\n            showAt: function (point) {\n                this.point = point;\n                this.moveLine();\n                this.line.visible(true);\n                if (this.tooltip) {\n                    this.tooltip.showAt(point);\n                }\n            },\n            hide: function () {\n                this.line.visible(false);\n                if (this.tooltip) {\n                    this.tooltip.hide();\n                }\n            },\n            moveLine: function () {\n                var ref = this;\n                var axis = ref.axis;\n                var point = ref.point;\n                var vertical = axis.options.vertical;\n                var box = this.getBox();\n                var dim = vertical ? Y : X;\n                var lineStart = new GeometryPoint(box.x1, box.y1);\n                var lineEnd;\n                if (vertical) {\n                    lineEnd = new GeometryPoint(box.x2, box.y1);\n                } else {\n                    lineEnd = new GeometryPoint(box.x1, box.y2);\n                }\n                if (point) {\n                    if (this.stickyMode) {\n                        var slot = axis.getSlot(axis.pointCategoryIndex(point));\n                        lineStart[dim] = lineEnd[dim] = slot.center()[dim];\n                    } else {\n                        lineStart[dim] = lineEnd[dim] = point[dim];\n                    }\n                }\n                this.box = box;\n                this.line.moveTo(lineStart).lineTo(lineEnd);\n            },\n            getBox: function () {\n                var axis = this.axis;\n                var axes = axis.pane.axes;\n                var length = axes.length;\n                var vertical = axis.options.vertical;\n                var box = axis.lineBox().clone();\n                var dim = vertical ? X : Y;\n                var axisLineBox;\n                for (var i = 0; i < length; i++) {\n                    var currentAxis = axes[i];\n                    if (currentAxis.options.vertical !== vertical) {\n                        if (!axisLineBox) {\n                            axisLineBox = currentAxis.lineBox().clone();\n                        } else {\n                            axisLineBox.wrap(currentAxis.lineBox());\n                        }\n                    }\n                }\n                box[dim + 1] = axisLineBox[dim + 1];\n                box[dim + 2] = axisLineBox[dim + 2];\n                return box;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options;\n                this.line = new Path({\n                    stroke: {\n                        color: options.color,\n                        width: options.width,\n                        opacity: options.opacity,\n                        dashType: options.dashType\n                    },\n                    visible: false\n                });\n                this.moveLine();\n                this.visual.append(this.line);\n            },\n            destroy: function () {\n                if (this.tooltip) {\n                    this.tooltip.destroy();\n                }\n                ChartElement.fn.destroy.call(this);\n            }\n        });\n        setDefaultOptions(Crosshair, {\n            color: BLACK,\n            width: 2,\n            zIndex: -1,\n            tooltip: { visible: false }\n        });\n        var ChartContainer = ChartElement.extend({\n            init: function (options, pane) {\n                ChartElement.fn.init.call(this, options);\n                this.pane = pane;\n            },\n            shouldClip: function () {\n                var children = this.children;\n                var length = children.length;\n                for (var i = 0; i < length; i++) {\n                    if (children[i].options.clip === true) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clipBox: function () {\n                return this.pane.chartsBox();\n            },\n            createVisual: function () {\n                this.visual = new Group({ zIndex: 0 });\n                if (this.shouldClip()) {\n                    var clipBox = this.clipBox = this._clipBox();\n                    var clipRect = clipBox.toRect();\n                    var clipPath = Path.fromRect(clipRect);\n                    this.visual.clip(clipPath);\n                    this.unclipLabels();\n                }\n            },\n            stackRoot: function () {\n                return this;\n            },\n            unclipLabels: function () {\n                var ref = this;\n                var charts = ref.children;\n                var clipBox = ref.clipBox;\n                for (var i = 0; i < charts.length; i++) {\n                    var points = charts[i].points || {};\n                    var length = points.length;\n                    for (var j = 0; j < length; j++) {\n                        var point = points[j];\n                        if (point && point.overlapsBox && point.overlapsBox(clipBox)) {\n                            var label = point.label;\n                            var note = point.note;\n                            if (label && label.options.visible) {\n                                if (label.alignToClipBox) {\n                                    label.alignToClipBox(clipBox);\n                                }\n                                label.options.noclip = true;\n                            }\n                            if (note && note.options.visible) {\n                                note.options.noclip = true;\n                            }\n                        }\n                    }\n                }\n            },\n            destroy: function () {\n                ChartElement.fn.destroy.call(this);\n                delete this.parent;\n            }\n        });\n        ChartContainer.prototype.isStackRoot = true;\n        var Pane = BoxElement.extend({\n            init: function (options) {\n                BoxElement.fn.init.call(this, options);\n                this.id = paneID();\n                this.createTitle();\n                this.content = new ChartElement();\n                this.chartContainer = new ChartContainer({}, this);\n                this.append(this.content);\n                this.axes = [];\n                this.charts = [];\n            },\n            createTitle: function () {\n                var titleOptions = this.options.title;\n                if (isObject(titleOptions)) {\n                    titleOptions = deepExtend({}, titleOptions, {\n                        align: titleOptions.position,\n                        position: TOP\n                    });\n                }\n                this.title = dataviz.Title.buildTitle(titleOptions, this, Pane.prototype.options.title);\n            },\n            appendAxis: function (axis) {\n                this.content.append(axis);\n                this.axes.push(axis);\n                axis.pane = this;\n            },\n            appendChart: function (chart) {\n                if (this.chartContainer.parent !== this.content) {\n                    this.content.append(this.chartContainer);\n                }\n                this.charts.push(chart);\n                this.chartContainer.append(chart);\n                chart.pane = this;\n            },\n            empty: function () {\n                var this$1 = this;\n                var plotArea = this.parent;\n                if (plotArea) {\n                    for (var i = 0; i < this.axes.length; i++) {\n                        plotArea.removeAxis(this$1.axes[i]);\n                    }\n                    for (var i$1 = 0; i$1 < this.charts.length; i$1++) {\n                        plotArea.removeChart(this$1.charts[i$1]);\n                    }\n                }\n                this.axes = [];\n                this.charts = [];\n                this.content.destroy();\n                this.content.children = [];\n                this.chartContainer.children = [];\n            },\n            reflow: function (targetBox) {\n                var content;\n                if (last(this.children) === this.content) {\n                    content = this.children.pop();\n                }\n                BoxElement.fn.reflow.call(this, targetBox);\n                if (content) {\n                    this.children.push(content);\n                }\n                if (this.title) {\n                    this.contentBox.y1 += this.title.box.height();\n                }\n            },\n            visualStyle: function () {\n                var style = BoxElement.fn.visualStyle.call(this);\n                style.zIndex = -10;\n                return style;\n            },\n            renderComplete: function () {\n                if (this.options.visible) {\n                    this.createGridLines();\n                }\n            },\n            stackRoot: function () {\n                return this;\n            },\n            clipRoot: function () {\n                return this;\n            },\n            createGridLines: function () {\n                var axes = this.axes;\n                var allAxes = axes.concat(this.parent.axes);\n                var vGridLines = [];\n                var hGridLines = [];\n                for (var i = 0; i < axes.length; i++) {\n                    var axis = axes[i];\n                    var vertical = axis.options.vertical;\n                    var gridLines = vertical ? vGridLines : hGridLines;\n                    for (var j = 0; j < allAxes.length; j++) {\n                        if (gridLines.length === 0) {\n                            var altAxis = allAxes[j];\n                            if (vertical !== altAxis.options.vertical) {\n                                append(gridLines, axis.createGridLines(altAxis));\n                            }\n                        }\n                    }\n                }\n            },\n            refresh: function () {\n                this.visual.clear();\n                this.content.parent = null;\n                this.content.createGradient = this.createGradient.bind(this);\n                this.content.renderVisual();\n                this.content.parent = this;\n                if (this.title) {\n                    this.visual.append(this.title.visual);\n                }\n                this.visual.append(this.content.visual);\n                this.renderComplete();\n            },\n            chartsBox: function () {\n                var axes = this.axes;\n                var length = axes.length;\n                var chartsBox = new Box();\n                for (var idx = 0; idx < length; idx++) {\n                    var axis = axes[idx];\n                    var axisValueField = axis.options.vertical ? Y : X;\n                    var lineBox = axis.lineBox();\n                    chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];\n                    chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];\n                }\n                if (chartsBox.x2 === 0) {\n                    var allAxes = this.parent.axes;\n                    var length$1 = allAxes.length;\n                    for (var idx$1 = 0; idx$1 < length$1; idx$1++) {\n                        var axis$1 = allAxes[idx$1];\n                        if (!axis$1.options.vertical) {\n                            var lineBox$1 = axis$1.lineBox();\n                            chartsBox.x1 = lineBox$1.x1;\n                            chartsBox.x2 = lineBox$1.x2;\n                        }\n                    }\n                }\n                return chartsBox;\n            },\n            clipBox: function () {\n                return this.chartContainer.clipBox;\n            }\n        });\n        var ID = 1;\n        function paneID() {\n            return 'pane' + ID++;\n        }\n        Pane.prototype.isStackRoot = true;\n        setDefaultOptions(Pane, {\n            zIndex: -1,\n            shrinkToFit: true,\n            title: { align: LEFT },\n            visible: true\n        });\n        var PlotAreaBase = ChartElement.extend({\n            init: function (series, options, chartService) {\n                ChartElement.fn.init.call(this, options);\n                this.initFields(series, options);\n                this.series = series;\n                this.initSeries();\n                this.charts = [];\n                this.options.legend.items = [];\n                this.axes = [];\n                this.crosshairs = [];\n                this.chartService = chartService;\n                this.createPanes();\n                this.render();\n                this.createCrosshairs();\n            },\n            initFields: function () {\n            },\n            initSeries: function () {\n                var series = this.series;\n                for (var i = 0; i < series.length; i++) {\n                    series[i].index = i;\n                }\n            },\n            createPanes: function () {\n                var this$1 = this;\n                var defaults = { title: { color: (this.options.title || {}).color } };\n                var panes = [];\n                var paneOptions = this.options.panes || [];\n                var panesLength = Math.max(paneOptions.length, 1);\n                function setTitle(options, defaults) {\n                    if (isString(options.title)) {\n                        options.title = { text: options.title };\n                    }\n                    options.title = deepExtend({}, defaults.title, options.title);\n                }\n                for (var i = 0; i < panesLength; i++) {\n                    var options = paneOptions[i] || {};\n                    setTitle(options, defaults);\n                    var currentPane = new Pane(options);\n                    currentPane.paneIndex = i;\n                    panes.push(currentPane);\n                    this$1.append(currentPane);\n                }\n                this.panes = panes;\n            },\n            createCrosshairs: function (panes) {\n                var this$1 = this;\n                if (panes === void 0) {\n                    panes = this.panes;\n                }\n                for (var i = 0; i < panes.length; i++) {\n                    var pane = panes[i];\n                    for (var j = 0; j < pane.axes.length; j++) {\n                        var axis = pane.axes[j];\n                        if (axis.options.crosshair && axis.options.crosshair.visible) {\n                            var currentCrosshair = new Crosshair(this$1.chartService, axis, axis.options.crosshair);\n                            this$1.crosshairs.push(currentCrosshair);\n                            pane.content.append(currentCrosshair);\n                        }\n                    }\n                }\n            },\n            removeCrosshairs: function (pane) {\n                var crosshairs = this.crosshairs;\n                var axes = pane.axes;\n                for (var i = crosshairs.length - 1; i >= 0; i--) {\n                    for (var j = 0; j < axes.length; j++) {\n                        if (crosshairs[i].axis === axes[j]) {\n                            crosshairs.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n            },\n            hideCrosshairs: function () {\n                var crosshairs = this.crosshairs;\n                for (var idx = 0; idx < crosshairs.length; idx++) {\n                    crosshairs[idx].hide();\n                }\n            },\n            findPane: function (name) {\n                var panes = this.panes;\n                var matchingPane;\n                for (var i = 0; i < panes.length; i++) {\n                    if (panes[i].options.name === name) {\n                        matchingPane = panes[i];\n                        break;\n                    }\n                }\n                return matchingPane || panes[0];\n            },\n            findPointPane: function (point) {\n                var panes = this.panes;\n                var matchingPane;\n                for (var i = 0; i < panes.length; i++) {\n                    if (panes[i].box.containsPoint(point)) {\n                        matchingPane = panes[i];\n                        break;\n                    }\n                }\n                return matchingPane;\n            },\n            appendAxis: function (axis) {\n                var pane = this.findPane(axis.options.pane);\n                pane.appendAxis(axis);\n                this.axes.push(axis);\n                axis.plotArea = this;\n            },\n            removeAxis: function (axisToRemove) {\n                var this$1 = this;\n                var filteredAxes = [];\n                for (var i = 0; i < this.axes.length; i++) {\n                    var axis = this$1.axes[i];\n                    if (axisToRemove !== axis) {\n                        filteredAxes.push(axis);\n                    } else {\n                        axis.destroy();\n                    }\n                }\n                this.axes = filteredAxes;\n            },\n            appendChart: function (chart, pane) {\n                this.charts.push(chart);\n                if (pane) {\n                    pane.appendChart(chart);\n                } else {\n                    this.append(chart);\n                }\n            },\n            removeChart: function (chartToRemove) {\n                var this$1 = this;\n                var filteredCharts = [];\n                for (var i = 0; i < this.charts.length; i++) {\n                    var chart = this$1.charts[i];\n                    if (chart !== chartToRemove) {\n                        filteredCharts.push(chart);\n                    } else {\n                        chart.destroy();\n                    }\n                }\n                this.charts = filteredCharts;\n            },\n            addToLegend: function (series) {\n                var count = series.length;\n                var legend = this.options.legend;\n                var labels = legend.labels || {};\n                var inactiveItems = legend.inactiveItems || {};\n                var inactiveItemsLabels = inactiveItems.labels || {};\n                var data = [];\n                for (var i = 0; i < count; i++) {\n                    var currentSeries = series[i];\n                    var seriesVisible = currentSeries.visible !== false;\n                    if (currentSeries.visibleInLegend === false) {\n                        continue;\n                    }\n                    var text = currentSeries.name || '';\n                    var labelTemplate = seriesVisible ? labels.template : inactiveItemsLabels.template || labels.template;\n                    if (labelTemplate) {\n                        text = TemplateService.compile(labelTemplate)({\n                            text: text,\n                            series: currentSeries\n                        });\n                    }\n                    var defaults = currentSeries._defaults;\n                    var color = currentSeries.color;\n                    if (isFunction(color) && defaults) {\n                        color = defaults.color;\n                    }\n                    var itemLabelOptions = void 0, markerColor = void 0;\n                    if (seriesVisible) {\n                        itemLabelOptions = {};\n                        markerColor = color;\n                    } else {\n                        itemLabelOptions = {\n                            color: inactiveItemsLabels.color,\n                            font: inactiveItemsLabels.font\n                        };\n                        markerColor = inactiveItems.markers.color;\n                    }\n                    if (text) {\n                        data.push({\n                            text: text,\n                            labels: itemLabelOptions,\n                            markerColor: markerColor,\n                            series: currentSeries,\n                            active: seriesVisible\n                        });\n                    }\n                }\n                append(legend.items, data);\n            },\n            groupAxes: function (panes) {\n                var xAxes = [];\n                var yAxes = [];\n                for (var paneIx = 0; paneIx < panes.length; paneIx++) {\n                    var paneAxes = panes[paneIx].axes;\n                    for (var axisIx = 0; axisIx < paneAxes.length; axisIx++) {\n                        var axis = paneAxes[axisIx];\n                        if (axis.options.vertical) {\n                            yAxes.push(axis);\n                        } else {\n                            xAxes.push(axis);\n                        }\n                    }\n                }\n                return {\n                    x: xAxes,\n                    y: yAxes,\n                    any: xAxes.concat(yAxes)\n                };\n            },\n            groupSeriesByPane: function () {\n                var this$1 = this;\n                var series = this.series;\n                var seriesByPane = {};\n                for (var i = 0; i < series.length; i++) {\n                    var currentSeries = series[i];\n                    var pane = this$1.seriesPaneName(currentSeries);\n                    if (seriesByPane[pane]) {\n                        seriesByPane[pane].push(currentSeries);\n                    } else {\n                        seriesByPane[pane] = [currentSeries];\n                    }\n                }\n                return seriesByPane;\n            },\n            filterVisibleSeries: function (series) {\n                var result = [];\n                for (var i = 0; i < series.length; i++) {\n                    var currentSeries = series[i];\n                    if (currentSeries.visible !== false) {\n                        result.push(currentSeries);\n                    }\n                }\n                return result;\n            },\n            reflow: function (targetBox) {\n                var options = this.options.plotArea;\n                var panes = this.panes;\n                var margin = getSpacing(options.margin);\n                this.box = targetBox.clone().unpad(margin);\n                this.reflowPanes();\n                this.reflowAxes(panes);\n                this.reflowCharts(panes);\n            },\n            redraw: function (panes) {\n                var this$1 = this;\n                var panesArray = [].concat(panes);\n                this.initSeries();\n                for (var i = 0; i < panesArray.length; i++) {\n                    this$1.removeCrosshairs(panesArray[i]);\n                    panesArray[i].empty();\n                }\n                this.render(panesArray);\n                this.reflowAxes(this.panes);\n                this.reflowCharts(panesArray);\n                this.createCrosshairs(panesArray);\n                for (var i$1 = 0; i$1 < panesArray.length; i$1++) {\n                    panesArray[i$1].refresh();\n                }\n            },\n            axisCrossingValues: function (axis, crossingAxes) {\n                var options = axis.options;\n                var crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue);\n                var valuesToAdd = crossingAxes.length - crossingValues.length;\n                var defaultValue = crossingValues[0] || 0;\n                for (var i = 0; i < valuesToAdd; i++) {\n                    crossingValues.push(defaultValue);\n                }\n                return crossingValues;\n            },\n            alignAxisTo: function (axis, targetAxis, crossingValue, targetCrossingValue) {\n                var slot = axis.getSlot(crossingValue, crossingValue, true);\n                var slotEdge = axis.options.reverse ? 2 : 1;\n                var targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true);\n                var targetEdge = targetAxis.options.reverse ? 2 : 1;\n                var axisBox = axis.box.translate(targetSlot[X + targetEdge] - slot[X + slotEdge], targetSlot[Y + targetEdge] - slot[Y + slotEdge]);\n                if (axis.pane !== targetAxis.pane) {\n                    axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);\n                }\n                axis.reflow(axisBox);\n            },\n            alignAxes: function (xAxes, yAxes) {\n                var this$1 = this;\n                var xAnchor = xAxes[0];\n                var yAnchor = yAxes[0];\n                var xAnchorCrossings = this.axisCrossingValues(xAnchor, yAxes);\n                var yAnchorCrossings = this.axisCrossingValues(yAnchor, xAxes);\n                var leftAnchors = {};\n                var rightAnchors = {};\n                var topAnchors = {};\n                var bottomAnchors = {};\n                for (var i = 0; i < yAxes.length; i++) {\n                    var axis = yAxes[i];\n                    var pane = axis.pane;\n                    var paneId = pane.id;\n                    var anchor = paneAnchor(xAxes, pane) || xAnchor;\n                    var anchorCrossings = xAnchorCrossings;\n                    if (anchor !== xAnchor) {\n                        anchorCrossings = this$1.axisCrossingValues(anchor, yAxes);\n                    }\n                    this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n                    if (axis.options._overlap) {\n                        continue;\n                    }\n                    if (round(axis.lineBox().x1) === round(anchor.lineBox().x1)) {\n                        if (leftAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(leftAnchors[paneId].box, LEFT).translate(-axis.options.margin, 0));\n                        }\n                        leftAnchors[paneId] = axis;\n                    }\n                    if (round(axis.lineBox().x2) === round(anchor.lineBox().x2)) {\n                        if (!axis._mirrored) {\n                            axis.options.labels.mirror = !axis.options.labels.mirror;\n                            axis._mirrored = true;\n                        }\n                        this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n                        if (rightAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(rightAnchors[paneId].box, RIGHT).translate(axis.options.margin, 0));\n                        }\n                        rightAnchors[paneId] = axis;\n                    }\n                    if (i !== 0 && yAnchor.pane === axis.pane) {\n                        axis.alignTo(yAnchor);\n                        axis.reflow(axis.box);\n                    }\n                }\n                for (var i$1 = 0; i$1 < xAxes.length; i$1++) {\n                    var axis$1 = xAxes[i$1];\n                    var pane$1 = axis$1.pane;\n                    var paneId$1 = pane$1.id;\n                    var anchor$1 = paneAnchor(yAxes, pane$1) || yAnchor;\n                    var anchorCrossings$1 = yAnchorCrossings;\n                    if (anchor$1 !== yAnchor) {\n                        anchorCrossings$1 = this$1.axisCrossingValues(anchor$1, xAxes);\n                    }\n                    this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);\n                    if (axis$1.options._overlap) {\n                        continue;\n                    }\n                    if (round(axis$1.lineBox().y1) === round(anchor$1.lineBox().y1)) {\n                        if (!axis$1._mirrored) {\n                            axis$1.options.labels.mirror = !axis$1.options.labels.mirror;\n                            axis$1._mirrored = true;\n                        }\n                        this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);\n                        if (topAnchors[paneId$1]) {\n                            axis$1.reflow(axis$1.box.alignTo(topAnchors[paneId$1].box, TOP).translate(0, -axis$1.options.margin));\n                        }\n                        topAnchors[paneId$1] = axis$1;\n                    }\n                    if (round(axis$1.lineBox().y2, datavizConstants.COORD_PRECISION) === round(anchor$1.lineBox().y2, datavizConstants.COORD_PRECISION)) {\n                        if (bottomAnchors[paneId$1]) {\n                            axis$1.reflow(axis$1.box.alignTo(bottomAnchors[paneId$1].box, BOTTOM).translate(0, axis$1.options.margin));\n                        }\n                        bottomAnchors[paneId$1] = axis$1;\n                    }\n                    if (i$1 !== 0) {\n                        axis$1.alignTo(xAnchor);\n                        axis$1.reflow(axis$1.box);\n                    }\n                }\n            },\n            shrinkAxisWidth: function (panes) {\n                var axes = this.groupAxes(panes).any;\n                var axisBox = axisGroupBox(axes);\n                var overflowX = 0;\n                for (var i = 0; i < panes.length; i++) {\n                    var currentPane = panes[i];\n                    if (currentPane.axes.length > 0) {\n                        overflowX = Math.max(overflowX, axisBox.width() - currentPane.contentBox.width());\n                    }\n                }\n                if (overflowX !== 0) {\n                    for (var i$1 = 0; i$1 < axes.length; i$1++) {\n                        var currentAxis = axes[i$1];\n                        if (!currentAxis.options.vertical) {\n                            currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));\n                        }\n                    }\n                }\n            },\n            shrinkAxisHeight: function (panes) {\n                var shrinked;\n                for (var i = 0; i < panes.length; i++) {\n                    var currentPane = panes[i];\n                    var axes = currentPane.axes;\n                    var overflowY = Math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());\n                    if (overflowY !== 0) {\n                        for (var j = 0; j < axes.length; j++) {\n                            var currentAxis = axes[j];\n                            if (currentAxis.options.vertical) {\n                                currentAxis.reflow(currentAxis.box.shrink(0, overflowY));\n                            }\n                        }\n                        shrinked = true;\n                    }\n                }\n                return shrinked;\n            },\n            fitAxes: function (panes) {\n                var axes = this.groupAxes(panes).any;\n                var offsetX = 0;\n                for (var i = 0; i < panes.length; i++) {\n                    var currentPane = panes[i];\n                    var paneAxes = currentPane.axes;\n                    var paneBox = currentPane.contentBox;\n                    if (paneAxes.length > 0) {\n                        var axisBox = axisGroupBox(paneAxes);\n                        var offsetY = Math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);\n                        offsetX = Math.max(offsetX, paneBox.x1 - axisBox.x1);\n                        for (var j = 0; j < paneAxes.length; j++) {\n                            var currentAxis = paneAxes[j];\n                            currentAxis.reflow(currentAxis.box.translate(0, offsetY));\n                        }\n                    }\n                }\n                for (var i$1 = 0; i$1 < axes.length; i$1++) {\n                    var currentAxis$1 = axes[i$1];\n                    currentAxis$1.reflow(currentAxis$1.box.translate(offsetX, 0));\n                }\n            },\n            reflowAxes: function (panes) {\n                var this$1 = this;\n                var axes = this.groupAxes(panes);\n                for (var i = 0; i < panes.length; i++) {\n                    this$1.reflowPaneAxes(panes[i]);\n                }\n                if (axes.x.length > 0 && axes.y.length > 0) {\n                    this.alignAxes(axes.x, axes.y);\n                    this.shrinkAxisWidth(panes);\n                    this.autoRotateAxisLabels(axes);\n                    this.alignAxes(axes.x, axes.y);\n                    if (this.shrinkAxisWidth(panes)) {\n                        this.alignAxes(axes.x, axes.y);\n                    }\n                    this.shrinkAxisHeight(panes);\n                    this.alignAxes(axes.x, axes.y);\n                    if (this.shrinkAxisHeight(panes)) {\n                        this.alignAxes(axes.x, axes.y);\n                    }\n                    this.fitAxes(panes);\n                }\n            },\n            autoRotateAxisLabels: function (groupedAxes) {\n                var this$1 = this;\n                var ref = this;\n                var axes = ref.axes;\n                var panes = ref.panes;\n                var rotated;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    var axis = axes[idx];\n                    if (axis.autoRotateLabels()) {\n                        rotated = true;\n                    }\n                }\n                if (rotated) {\n                    for (var idx$1 = 0; idx$1 < panes.length; idx$1++) {\n                        this$1.reflowPaneAxes(panes[idx$1]);\n                    }\n                    if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {\n                        this.alignAxes(groupedAxes.x, groupedAxes.y);\n                        this.shrinkAxisWidth(panes);\n                    }\n                }\n            },\n            reflowPaneAxes: function (pane) {\n                var axes = pane.axes;\n                var length = axes.length;\n                if (length > 0) {\n                    for (var i = 0; i < length; i++) {\n                        axes[i].reflow(pane.contentBox);\n                    }\n                }\n            },\n            reflowCharts: function (panes) {\n                var charts = this.charts;\n                var count = charts.length;\n                var box = this.box;\n                for (var i = 0; i < count; i++) {\n                    var chartPane = charts[i].pane;\n                    if (!chartPane || inArray(chartPane, panes)) {\n                        charts[i].reflow(box);\n                    }\n                }\n            },\n            reflowPanes: function () {\n                var ref = this;\n                var box = ref.box;\n                var panes = ref.panes;\n                var panesLength = panes.length;\n                var remainingHeight = box.height();\n                var remainingPanes = panesLength;\n                var autoHeightPanes = 0;\n                var top = box.y1;\n                for (var i = 0; i < panesLength; i++) {\n                    var currentPane = panes[i];\n                    var height = currentPane.options.height;\n                    currentPane.options.width = box.width();\n                    if (!currentPane.options.height) {\n                        autoHeightPanes++;\n                    } else {\n                        if (height.indexOf && height.indexOf('%')) {\n                            var percents = parseInt(height, 10) / 100;\n                            currentPane.options.height = percents * box.height();\n                        }\n                        currentPane.reflow(box.clone());\n                        remainingHeight -= currentPane.options.height;\n                    }\n                }\n                for (var i$1 = 0; i$1 < panesLength; i$1++) {\n                    var currentPane$1 = panes[i$1];\n                    if (!currentPane$1.options.height) {\n                        currentPane$1.options.height = remainingHeight / autoHeightPanes;\n                    }\n                }\n                for (var i$2 = 0; i$2 < panesLength; i$2++) {\n                    var currentPane$2 = panes[i$2];\n                    var paneBox = box.clone().move(box.x1, top);\n                    currentPane$2.reflow(paneBox);\n                    remainingPanes--;\n                    top += currentPane$2.options.height;\n                }\n            },\n            backgroundBox: function () {\n                var axes = this.axes;\n                var axesCount = axes.length;\n                var box;\n                for (var i = 0; i < axesCount; i++) {\n                    var axisA = axes[i];\n                    for (var j = 0; j < axesCount; j++) {\n                        var axisB = axes[j];\n                        if (axisA.options.vertical !== axisB.options.vertical) {\n                            var lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());\n                            if (!box) {\n                                box = lineBox;\n                            } else {\n                                box = box.wrap(lineBox);\n                            }\n                        }\n                    }\n                }\n                return box || this.box;\n            },\n            chartsBoxes: function () {\n                var panes = this.panes;\n                var boxes = [];\n                for (var idx = 0; idx < panes.length; idx++) {\n                    boxes.push(panes[idx].chartsBox());\n                }\n                return boxes;\n            },\n            addBackgroundPaths: function (multipath) {\n                var boxes = this.chartsBoxes();\n                for (var idx = 0; idx < boxes.length; idx++) {\n                    multipath.paths.push(Path.fromRect(boxes[idx].toRect()));\n                }\n            },\n            backgroundContainsPoint: function (point) {\n                var boxes = this.chartsBoxes();\n                for (var idx = 0; idx < boxes.length; idx++) {\n                    if (boxes[idx].containsPoint(point)) {\n                        return true;\n                    }\n                }\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options.plotArea;\n                var opacity = options.opacity;\n                var background = options.background;\n                var border = options.border;\n                if (border === void 0) {\n                    border = {};\n                }\n                if (isTransparent(background)) {\n                    background = WHITE;\n                    opacity = 0;\n                }\n                var bg = this._bgVisual = new drawing.MultiPath({\n                    fill: {\n                        color: background,\n                        opacity: opacity\n                    },\n                    stroke: {\n                        color: border.width ? border.color : '',\n                        width: border.width,\n                        dashType: border.dashType\n                    },\n                    zIndex: -1\n                });\n                this.addBackgroundPaths(bg);\n                this.appendVisual(bg);\n            },\n            pointsByCategoryIndex: function (categoryIndex) {\n                var charts = this.charts;\n                var result = [];\n                if (categoryIndex !== null) {\n                    for (var i = 0; i < charts.length; i++) {\n                        var chart = charts[i];\n                        if (chart.pane.options.name === '_navigator') {\n                            continue;\n                        }\n                        var points = charts[i].categoryPoints[categoryIndex];\n                        if (points && points.length) {\n                            for (var j = 0; j < points.length; j++) {\n                                var point = points[j];\n                                if (point && defined(point.value) && point.value !== null) {\n                                    result.push(point);\n                                }\n                            }\n                        }\n                    }\n                }\n                return result;\n            },\n            pointsBySeriesIndex: function (seriesIndex) {\n                return this.filterPoints(function (point) {\n                    return point.series.index === seriesIndex;\n                });\n            },\n            pointsBySeriesName: function (name) {\n                return this.filterPoints(function (point) {\n                    return point.series.name === name;\n                });\n            },\n            filterPoints: function (callback) {\n                var charts = this.charts;\n                var result = [];\n                for (var i = 0; i < charts.length; i++) {\n                    var chart = charts[i];\n                    var points = chart.points;\n                    for (var j = 0; j < points.length; j++) {\n                        var point = points[j];\n                        if (point && callback(point)) {\n                            result.push(point);\n                        }\n                    }\n                }\n                return result;\n            },\n            findPoint: function (callback) {\n                var charts = this.charts;\n                for (var i = 0; i < charts.length; i++) {\n                    var chart = charts[i];\n                    var points = chart.points;\n                    for (var j = 0; j < points.length; j++) {\n                        var point = points[j];\n                        if (point && callback(point)) {\n                            return point;\n                        }\n                    }\n                }\n            },\n            paneByPoint: function (point) {\n                var panes = this.panes;\n                for (var i = 0; i < panes.length; i++) {\n                    var pane = panes[i];\n                    if (pane.box.containsPoint(point)) {\n                        return pane;\n                    }\n                }\n            }\n        });\n        function axisGroupBox(axes) {\n            var length = axes.length;\n            var box;\n            if (length > 0) {\n                for (var i = 0; i < length; i++) {\n                    var axisBox = axes[i].contentBox();\n                    if (!box) {\n                        box = axisBox.clone();\n                    } else {\n                        box.wrap(axisBox);\n                    }\n                }\n            }\n            return box || new Box();\n        }\n        function paneAnchor(axes, pane) {\n            for (var i = 0; i < axes.length; i++) {\n                var anchor = axes[i];\n                if (anchor && anchor.pane === pane) {\n                    return anchor;\n                }\n            }\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        setDefaultOptions(PlotAreaBase, {\n            series: [],\n            plotArea: { margin: {} },\n            background: '',\n            border: {\n                color: BLACK,\n                width: 0\n            },\n            legend: {\n                inactiveItems: {\n                    labels: { color: '#919191' },\n                    markers: { color: '#919191' }\n                }\n            }\n        });\n        var PlotAreaEventsMixin = {\n            hover: function (chart, e) {\n                this._dispatchEvent(chart, e, PLOT_AREA_HOVER);\n            },\n            click: function (chart, e) {\n                this._dispatchEvent(chart, e, PLOT_AREA_CLICK);\n            }\n        };\n        var SeriesAggregator = Class.extend({\n            init: function (series, binder, defaultAggregates) {\n                var canonicalFields = binder.canonicalFields(series);\n                var valueFields = binder.valueFields(series);\n                var sourceFields = binder.sourceFields(series, canonicalFields);\n                var seriesFields = this._seriesFields = [];\n                var defaults = defaultAggregates.query(series.type);\n                var rootAggregate = series.aggregate || defaults;\n                this._series = series;\n                this._binder = binder;\n                for (var i = 0; i < canonicalFields.length; i++) {\n                    var field = canonicalFields[i];\n                    var fieldAggregate = void 0;\n                    if (isObject(rootAggregate)) {\n                        fieldAggregate = rootAggregate[field];\n                    } else if (i === 0 || inArray(field, valueFields)) {\n                        fieldAggregate = rootAggregate;\n                    } else {\n                        break;\n                    }\n                    if (fieldAggregate) {\n                        seriesFields.push({\n                            canonicalName: field,\n                            name: sourceFields[i],\n                            transform: isFunction(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]\n                        });\n                    }\n                }\n            },\n            aggregatePoints: function (srcPoints, group) {\n                var this$1 = this;\n                var ref = this;\n                var series = ref._series;\n                var seriesFields = ref._seriesFields;\n                var data = this._bindPoints(srcPoints || []);\n                var firstDataItem = data.dataItems[0];\n                var result = {};\n                if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {\n                    var fn = function () {\n                    };\n                    fn.prototype = firstDataItem;\n                    result = new fn();\n                }\n                for (var i = 0; i < seriesFields.length; i++) {\n                    var field = seriesFields[i];\n                    var srcValues = this$1._bindField(data.values, field.canonicalName);\n                    var value = field.transform(srcValues, series, data.dataItems, group);\n                    if (value !== null && isObject(value) && !defined(value.length) && !(value instanceof Date)) {\n                        result = value;\n                        break;\n                    } else {\n                        if (defined(value)) {\n                            setValue(field.name, result, value);\n                        }\n                    }\n                }\n                return result;\n            },\n            _bindPoints: function (points) {\n                var ref = this;\n                var binder = ref._binder;\n                var series = ref._series;\n                var values = [];\n                var dataItems = [];\n                for (var i = 0; i < points.length; i++) {\n                    var pointIx = points[i];\n                    values.push(binder.bindPoint(series, pointIx));\n                    dataItems.push(series.data[pointIx]);\n                }\n                return {\n                    values: values,\n                    dataItems: dataItems\n                };\n            },\n            _bindField: function (data, field) {\n                var values = [];\n                var count = data.length;\n                for (var i = 0; i < count; i++) {\n                    var item = data[i];\n                    var valueFields = item.valueFields;\n                    var value = void 0;\n                    if (defined(valueFields[field])) {\n                        value = valueFields[field];\n                    } else {\n                        value = item.fields[field];\n                    }\n                    values.push(value);\n                }\n                return values;\n            }\n        });\n        function setValue(fieldName, target, value) {\n            var parentObj = target;\n            var field = fieldName;\n            if (fieldName.indexOf('.') > -1) {\n                var parts = fieldName.split('.');\n                while (parts.length > 1) {\n                    field = parts.shift();\n                    if (!defined(parentObj[field])) {\n                        parentObj[field] = {};\n                    }\n                    parentObj = parentObj[field];\n                }\n                field = parts.shift();\n            }\n            parentObj[field] = value;\n        }\n        var DefaultAggregates = Class.extend({\n            init: function () {\n                this._defaults = {};\n            },\n            register: function (seriesTypes, aggregates) {\n                var this$1 = this;\n                for (var i = 0; i < seriesTypes.length; i++) {\n                    this$1._defaults[seriesTypes[i]] = aggregates;\n                }\n            },\n            query: function (seriesType) {\n                return this._defaults[seriesType];\n            }\n        });\n        DefaultAggregates.current = new DefaultAggregates();\n        var RangeBar = Bar.extend({\n            createLabel: function () {\n                var labels = this.options.labels;\n                var fromOptions = deepExtend({}, labels, labels.from);\n                var toOptions = deepExtend({}, labels, labels.to);\n                if (fromOptions.visible) {\n                    this.labelFrom = this._createLabel(fromOptions);\n                    this.append(this.labelFrom);\n                }\n                if (toOptions.visible) {\n                    this.labelTo = this._createLabel(toOptions);\n                    this.append(this.labelTo);\n                }\n            },\n            _createLabel: function (options) {\n                var labelText;\n                if (options.template) {\n                    var labelTemplate = TemplateService.compile(options.template);\n                    labelText = labelTemplate({\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        percentage: this.percentage,\n                        runningTotal: this.runningTotal,\n                        total: this.total,\n                        series: this.series\n                    });\n                } else {\n                    labelText = this.formatValue(options.format);\n                }\n                return new BarLabel(labelText, deepExtend({ vertical: this.options.vertical }, options));\n            },\n            reflow: function (targetBox) {\n                this.render();\n                var ref = this;\n                var labelFrom = ref.labelFrom;\n                var labelTo = ref.labelTo;\n                var value = ref.value;\n                this.box = targetBox;\n                if (labelFrom) {\n                    labelFrom.options.aboveAxis = value.from > value.to;\n                    labelFrom.reflow(targetBox);\n                }\n                if (labelTo) {\n                    labelTo.options.aboveAxis = value.to > value.from;\n                    labelTo.reflow(targetBox);\n                }\n                if (this.note) {\n                    this.note.reflow(targetBox);\n                }\n            }\n        });\n        RangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {\n            labels: { format: '{0} - {1}' },\n            tooltip: { format: '{1}' }\n        });\n        var RangeBarChart = BarChart.extend({\n            pointType: function () {\n                return RangeBar;\n            },\n            pointValue: function (data) {\n                return data.valueFields;\n            },\n            formatPointValue: function (point, format) {\n                if (point.value.from === null && point.value.to === null) {\n                    return '';\n                }\n                return this.chartService.format.auto(format, point.value.from, point.value.to);\n            },\n            plotRange: function (point) {\n                if (!point) {\n                    return 0;\n                }\n                return [\n                    point.value.from,\n                    point.value.to\n                ];\n            },\n            updateRange: function (value, fields) {\n                var axisName = fields.series.axis;\n                var from = value.from;\n                var to = value.to;\n                var axisRange = this.valueAxisRanges[axisName];\n                if (value !== null && isNumber(from) && isNumber(to)) {\n                    axisRange = this.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = Math.min(axisRange.min, from);\n                    axisRange.max = Math.max(axisRange.max, from);\n                    axisRange.min = Math.min(axisRange.min, to);\n                    axisRange.max = Math.max(axisRange.max, to);\n                }\n            },\n            aboveAxis: function (point) {\n                var value = point.value;\n                return value.from < value.to;\n            }\n        });\n        RangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;\n        var OHLCPoint = Candlestick.extend({\n            reflow: function (box) {\n                var ref = this;\n                var options = ref.options;\n                var value = ref.value;\n                var chart = ref.owner;\n                var valueAxis = chart.seriesValueAxis(options);\n                var oPoints = [];\n                var cPoints = [];\n                var lhPoints = [];\n                var lhSlot = valueAxis.getSlot(value.low, value.high);\n                var oSlot = valueAxis.getSlot(value.open, value.open);\n                var cSlot = valueAxis.getSlot(value.close, value.close);\n                oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;\n                oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;\n                var mid = lhSlot.center().x;\n                oPoints.push([\n                    oSlot.x1,\n                    oSlot.y1\n                ]);\n                oPoints.push([\n                    mid,\n                    oSlot.y1\n                ]);\n                cPoints.push([\n                    mid,\n                    cSlot.y1\n                ]);\n                cPoints.push([\n                    cSlot.x2,\n                    cSlot.y1\n                ]);\n                lhPoints.push([\n                    mid,\n                    lhSlot.y1\n                ]);\n                lhPoints.push([\n                    mid,\n                    lhSlot.y2\n                ]);\n                this.lines = [\n                    oPoints,\n                    cPoints,\n                    lhPoints\n                ];\n                this.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));\n                this.reflowNote();\n            },\n            createBody: function () {\n            }\n        });\n        var OHLCChart = CandlestickChart.extend({\n            pointType: function () {\n                return OHLCPoint;\n            }\n        });\n        var WaterfallSegment = ChartElement.extend({\n            init: function (from, to, series) {\n                ChartElement.fn.init.call(this);\n                this.from = from;\n                this.to = to;\n                this.series = series;\n            },\n            linePoints: function () {\n                var from = this.from;\n                var ref = this;\n                var fromBox = ref.from.box;\n                var toBox = ref.to.box;\n                var points = [];\n                if (from.isVertical) {\n                    var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;\n                    points.push([\n                        fromBox.x1,\n                        y\n                    ], [\n                        toBox.x2,\n                        y\n                    ]);\n                } else {\n                    var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;\n                    points.push([\n                        x,\n                        fromBox.y1\n                    ], [\n                        x,\n                        toBox.y2\n                    ]);\n                }\n                return points;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var line = this.series.line || {};\n                var path = Path.fromPoints(this.linePoints(), {\n                    stroke: {\n                        color: line.color,\n                        width: line.width,\n                        opacity: line.opacity,\n                        dashType: line.dashType\n                    }\n                });\n                alignPathToPixel(path);\n                this.visual.append(path);\n            }\n        });\n        setDefaultOptions(WaterfallSegment, {\n            animation: {\n                type: FADEIN,\n                delay: INITIAL_ANIMATION_DURATION\n            }\n        });\n        var WaterfallChart = BarChart.extend({\n            render: function () {\n                BarChart.fn.render.call(this);\n                this.createSegments();\n            },\n            traverseDataPoints: function (callback) {\n                var series = this.options.series;\n                var categories = this.categoryAxis.options.categories || [];\n                var totalCategories = categoriesCount(series);\n                var isVertical = !this.options.invertAxes;\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var total = 0;\n                    var runningTotal = 0;\n                    for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {\n                        var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);\n                        var value = data.valueFields.value;\n                        var summary = data.fields.summary;\n                        var from = total;\n                        var to = void 0;\n                        if (summary) {\n                            if (summary.toLowerCase() === 'total') {\n                                data.valueFields.value = total;\n                                from = 0;\n                                to = total;\n                            } else {\n                                data.valueFields.value = runningTotal;\n                                to = from - runningTotal;\n                                runningTotal = 0;\n                            }\n                        } else if (isNumber(value)) {\n                            runningTotal += value;\n                            total += value;\n                            to = total;\n                        }\n                        callback(data, {\n                            category: categories[categoryIx],\n                            categoryIx: categoryIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            total: total,\n                            runningTotal: runningTotal,\n                            from: from,\n                            to: to,\n                            isVertical: isVertical\n                        });\n                    }\n                }\n            },\n            updateRange: function (value, fields) {\n                BarChart.fn.updateRange.call(this, { value: fields.to }, fields);\n            },\n            aboveAxis: function (point) {\n                return point.value >= 0;\n            },\n            plotRange: function (point) {\n                return [\n                    point.from,\n                    point.to\n                ];\n            },\n            createSegments: function () {\n                var this$1 = this;\n                var series = this.options.series;\n                var seriesPoints = this.seriesPoints;\n                var segments = this.segments = [];\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var points = seriesPoints[seriesIx];\n                    if (points) {\n                        var prevPoint = void 0;\n                        for (var pointIx = 0; pointIx < points.length; pointIx++) {\n                            var point = points[pointIx];\n                            if (point && prevPoint) {\n                                var segment = new WaterfallSegment(prevPoint, point, currentSeries);\n                                segments.push(segment);\n                                this$1.append(segment);\n                            }\n                            prevPoint = point;\n                        }\n                    }\n                }\n            }\n        });\n        function filterSeriesByType(series, types) {\n            var result = [];\n            var seriesTypes = [].concat(types);\n            for (var idx = 0; idx < series.length; idx++) {\n                var currentSeries = series[idx];\n                if (inArray(currentSeries.type, seriesTypes)) {\n                    result.push(currentSeries);\n                }\n            }\n            return result;\n        }\n        function equalsIgnoreCase(a, b) {\n            if (a && b) {\n                return a.toLowerCase() === b.toLowerCase();\n            }\n            return a === b;\n        }\n        function isDateAxis(axisOptions, sampleCategory) {\n            var type = axisOptions.type;\n            var dateCategory = sampleCategory instanceof Date;\n            return !type && dateCategory || equalsIgnoreCase(type, DATE);\n        }\n        function appendIfNotNull(array, element) {\n            if (element !== null) {\n                array.push(element);\n            }\n        }\n        function singleItemOrArray(array) {\n            return array.length === 1 ? array[0] : array;\n        }\n        function getDateField(field, row, intlService) {\n            if (row === null) {\n                return row;\n            }\n            var key = '_date_' + field;\n            var value = row[key];\n            if (!value) {\n                value = parseDate(intlService, getter(field, true)(row));\n                row[key] = value;\n            }\n            return value;\n        }\n        var CategoricalPlotArea = PlotAreaBase.extend({\n            initFields: function (series) {\n                var this$1 = this;\n                this.namedCategoryAxes = {};\n                this.namedValueAxes = {};\n                this.valueAxisRangeTracker = new AxisGroupRangeTracker();\n                if (series.length > 0) {\n                    this.invertAxes = inArray(series[0].type, [\n                        BAR,\n                        BULLET,\n                        VERTICAL_LINE,\n                        VERTICAL_AREA,\n                        RANGE_BAR,\n                        HORIZONTAL_WATERFALL,\n                        VERTICAL_BOX_PLOT\n                    ]);\n                    for (var i = 0; i < series.length; i++) {\n                        var stack = series[i].stack;\n                        if (stack && stack.type === '100%') {\n                            this$1.stack100 = true;\n                            break;\n                        }\n                    }\n                }\n            },\n            render: function (panes) {\n                if (panes === void 0) {\n                    panes = this.panes;\n                }\n                this.createCategoryAxes(panes);\n                this.aggregateCategories(panes);\n                this.createCategoryAxesLabels(panes);\n                this.createCharts(panes);\n                this.createValueAxes(panes);\n            },\n            removeAxis: function (axis) {\n                var axisName = axis.options.name;\n                PlotAreaBase.fn.removeAxis.call(this, axis);\n                if (axis instanceof CategoryAxis) {\n                    delete this.namedCategoryAxes[axisName];\n                } else {\n                    this.valueAxisRangeTracker.reset(axisName);\n                    delete this.namedValueAxes[axisName];\n                }\n                if (axis === this.categoryAxis) {\n                    delete this.categoryAxis;\n                }\n                if (axis === this.valueAxis) {\n                    delete this.valueAxis;\n                }\n            },\n            createCharts: function (panes) {\n                var this$1 = this;\n                var seriesByPane = this.groupSeriesByPane();\n                for (var i = 0; i < panes.length; i++) {\n                    var pane = panes[i];\n                    var paneSeries = seriesByPane[pane.options.name || 'default'] || [];\n                    this$1.addToLegend(paneSeries);\n                    var visibleSeries = this$1.filterVisibleSeries(paneSeries);\n                    if (!visibleSeries) {\n                        continue;\n                    }\n                    var groups = this$1.groupSeriesByCategoryAxis(visibleSeries);\n                    for (var groupIx = 0; groupIx < groups.length; groupIx++) {\n                        this$1.createChartGroup(groups[groupIx], pane);\n                    }\n                }\n            },\n            createChartGroup: function (series, pane) {\n                this.createAreaChart(filterSeriesByType(series, [\n                    AREA,\n                    VERTICAL_AREA\n                ]), pane);\n                this.createBarChart(filterSeriesByType(series, [\n                    COLUMN,\n                    BAR\n                ]), pane);\n                this.createRangeBarChart(filterSeriesByType(series, [\n                    RANGE_COLUMN,\n                    RANGE_BAR\n                ]), pane);\n                this.createBulletChart(filterSeriesByType(series, [\n                    BULLET,\n                    VERTICAL_BULLET\n                ]), pane);\n                this.createCandlestickChart(filterSeriesByType(series, CANDLESTICK), pane);\n                this.createBoxPlotChart(filterSeriesByType(series, [\n                    BOX_PLOT,\n                    VERTICAL_BOX_PLOT\n                ]), pane);\n                this.createOHLCChart(filterSeriesByType(series, OHLC), pane);\n                this.createWaterfallChart(filterSeriesByType(series, [\n                    WATERFALL,\n                    HORIZONTAL_WATERFALL\n                ]), pane);\n                this.createLineChart(filterSeriesByType(series, [\n                    LINE,\n                    VERTICAL_LINE\n                ]), pane);\n            },\n            aggregateCategories: function (panes) {\n                var this$1 = this;\n                var series = this.srcSeries || this.series;\n                var processedSeries = [];\n                for (var i = 0; i < series.length; i++) {\n                    var currentSeries = series[i];\n                    var categoryAxis = this$1.seriesCategoryAxis(currentSeries);\n                    var axisPane = this$1.findPane(categoryAxis.options.pane);\n                    var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\n                    if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {\n                        currentSeries = this$1.aggregateSeries(currentSeries, categoryAxis);\n                    } else if (isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max)) {\n                        currentSeries = this$1.filterSeries(currentSeries, categoryAxis);\n                    }\n                    processedSeries.push(currentSeries);\n                }\n                this.srcSeries = series;\n                this.series = processedSeries;\n            },\n            filterSeries: function (series, categoryAxis) {\n                var range = categoryAxis.totalRangeIndices();\n                var justified = categoryAxis.options.justified;\n                var outOfRangePoints = inArray(series.type, [\n                    LINE,\n                    VERTICAL_LINE,\n                    AREA,\n                    VERTICAL_AREA\n                ]);\n                range.min = isNumber(categoryAxis.options.min) ? Math.floor(range.min) : 0;\n                if (isNumber(categoryAxis.options.max)) {\n                    range.max = justified ? Math.floor(range.max) + 1 : Math.ceil(range.max);\n                } else {\n                    range.max = series.data.length;\n                }\n                var currentSeries = deepExtend({}, series);\n                if (outOfRangePoints) {\n                    var minCategory = range.min - 1;\n                    var srcCategories = categoryAxis.options.srcCategories || [];\n                    if (minCategory >= 0 && minCategory < currentSeries.data.length) {\n                        currentSeries._outOfRangeMinPoint = {\n                            item: currentSeries.data[minCategory],\n                            category: srcCategories[minCategory],\n                            categoryIx: -1\n                        };\n                    }\n                    if (range.max < currentSeries.data.length) {\n                        currentSeries._outOfRangeMaxPoint = {\n                            item: currentSeries.data[range.max],\n                            category: srcCategories[range.max],\n                            categoryIx: range.max - range.min\n                        };\n                    }\n                }\n                categoryAxis._seriesMax = Math.max(categoryAxis._seriesMax || 0, currentSeries.data.length);\n                currentSeries.data = (currentSeries.data || []).slice(range.min, range.max);\n                return currentSeries;\n            },\n            aggregateSeries: function (series, categoryAxis) {\n                var this$1 = this;\n                var outOfRangePoints = inArray(series.type, [\n                    LINE,\n                    VERTICAL_LINE,\n                    AREA,\n                    VERTICAL_AREA\n                ]);\n                var ref = categoryAxis.options;\n                var categories = ref.categories;\n                var srcCategories = ref.srcCategories;\n                if (srcCategories === void 0) {\n                    srcCategories = categories;\n                }\n                var dataItems = ref.dataItems;\n                if (dataItems === void 0) {\n                    dataItems = [];\n                }\n                var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\n                var aggregatorSeries = deepExtend({}, series);\n                var result = deepExtend({}, series);\n                var srcData = series.data;\n                var srcPoints = [];\n                var outOfRangeMinIdx = MIN_VALUE;\n                var outOfRangeMaxIdx = MAX_VALUE;\n                var getFn = getField;\n                var outOfRangeMinCategory, outOfRangeMaxCategory;\n                if (dateAxis) {\n                    getFn = getDateField;\n                }\n                for (var i = 0; i < srcData.length; i++) {\n                    var category = void 0;\n                    if (series.categoryField) {\n                        category = getFn(series.categoryField, srcData[i], this$1.chartService.intl);\n                    } else {\n                        category = srcCategories[i];\n                    }\n                    if (defined(category)) {\n                        var categoryIx = categoryAxis.categoryIndex(category);\n                        if (0 <= categoryIx && categoryIx < categories.length) {\n                            srcPoints[categoryIx] = srcPoints[categoryIx] || [];\n                            srcPoints[categoryIx].push(i);\n                        } else if (outOfRangePoints) {\n                            if (categoryIx < 0) {\n                                if (categoryIx === outOfRangeMinIdx) {\n                                    outOfRangeMinCategory.points.push(i);\n                                } else if (categoryIx > outOfRangeMinIdx) {\n                                    outOfRangeMinIdx = categoryIx;\n                                    outOfRangeMinCategory = {\n                                        category: category,\n                                        points: [i]\n                                    };\n                                }\n                            } else if (categoryIx >= categories.length) {\n                                if (categoryIx === outOfRangeMaxIdx) {\n                                    outOfRangeMaxCategory.points.push(i);\n                                } else if (categoryIx < outOfRangeMaxIdx) {\n                                    outOfRangeMaxIdx = categoryIx;\n                                    outOfRangeMaxCategory = {\n                                        category: category,\n                                        points: [i]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n                var aggregator = new SeriesAggregator(aggregatorSeries, SeriesBinder.current, DefaultAggregates.current);\n                var data = result.data = [];\n                for (var i$1 = 0; i$1 < categories.length; i$1++) {\n                    data[i$1] = aggregator.aggregatePoints(srcPoints[i$1], categories[i$1]);\n                    if (srcPoints[i$1]) {\n                        dataItems[i$1] = data[i$1];\n                    }\n                }\n                if (outOfRangeMinCategory && data.length) {\n                    result._outOfRangeMinPoint = {\n                        item: aggregator.aggregatePoints(outOfRangeMinCategory.points, outOfRangeMinCategory.category),\n                        categoryIx: outOfRangeMinIdx,\n                        category: outOfRangeMinCategory.category\n                    };\n                }\n                if (outOfRangeMaxCategory && data.length) {\n                    result._outOfRangeMaxPoint = {\n                        item: aggregator.aggregatePoints(outOfRangeMaxCategory.points, outOfRangeMaxCategory.category),\n                        categoryIx: outOfRangeMaxIdx,\n                        category: outOfRangeMaxCategory.category\n                    };\n                }\n                categoryAxis.options.dataItems = dataItems;\n                return result;\n            },\n            appendChart: function (chart, pane) {\n                var series = chart.options.series;\n                var categoryAxis = this.seriesCategoryAxis(series[0]);\n                var categories = categoryAxis.options.categories;\n                var categoriesToAdd = Math.max(0, categoriesCount(series) - categories.length);\n                while (categoriesToAdd--) {\n                    categories.push('');\n                }\n                this.valueAxisRangeTracker.update(chart.valueAxisRanges);\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\n            },\n            seriesPaneName: function (series) {\n                var options = this.options;\n                var axisName = series.axis;\n                var axisOptions = [].concat(options.valueAxis);\n                var axis = grep(axisOptions, function (a) {\n                    return a.name === axisName;\n                })[0];\n                var panes = options.panes || [{}];\n                var defaultPaneName = (panes[0] || {}).name || 'default';\n                var paneName = (axis || {}).pane || defaultPaneName;\n                return paneName;\n            },\n            seriesCategoryAxis: function (series) {\n                var axisName = series.categoryAxis;\n                var axis = axisName ? this.namedCategoryAxes[axisName] : this.categoryAxis;\n                if (!axis) {\n                    throw new Error('Unable to locate category axis with name ' + axisName);\n                }\n                return axis;\n            },\n            stackableChartOptions: function (firstSeries, pane) {\n                var stack = firstSeries.stack;\n                var isStacked100 = stack && stack.type === '100%';\n                var clip = pane.options.clip;\n                return {\n                    isStacked: stack,\n                    isStacked100: isStacked100,\n                    clip: clip\n                };\n            },\n            groupSeriesByCategoryAxis: function (series) {\n                var categoryAxes = [];\n                var unique = {};\n                for (var idx = 0; idx < series.length; idx++) {\n                    var name = series[idx].categoryAxis || '$$default$$';\n                    if (!unique.hasOwnProperty(name)) {\n                        unique[name] = true;\n                        categoryAxes.push(name);\n                    }\n                }\n                var groups = [];\n                for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {\n                    var axis = categoryAxes[axisIx];\n                    var axisSeries = groupSeries(series, axis, axisIx);\n                    if (axisSeries.length === 0) {\n                        continue;\n                    }\n                    groups.push(axisSeries);\n                }\n                return groups;\n            },\n            createBarChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var barChart = new BarChart(this, $.extend({\n                    series: series,\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    spacing: firstSeries.spacing\n                }, this.stackableChartOptions(firstSeries, pane)));\n                this.appendChart(barChart, pane);\n            },\n            createRangeBarChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var rangeColumnChart = new RangeBarChart(this, {\n                    series: series,\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    spacing: firstSeries.spacing\n                });\n                this.appendChart(rangeColumnChart, pane);\n            },\n            createBulletChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var bulletChart = new BulletChart(this, {\n                    series: series,\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    spacing: firstSeries.spacing,\n                    clip: pane.options.clip\n                });\n                this.appendChart(bulletChart, pane);\n            },\n            createLineChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var lineChart = new LineChart(this, $.extend({\n                    invertAxes: this.invertAxes,\n                    series: series\n                }, this.stackableChartOptions(firstSeries, pane)));\n                this.appendChart(lineChart, pane);\n            },\n            createAreaChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var areaChart = new AreaChart(this, $.extend({\n                    invertAxes: this.invertAxes,\n                    series: series\n                }, this.stackableChartOptions(firstSeries, pane)));\n                this.appendChart(areaChart, pane);\n            },\n            createOHLCChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var chart = new OHLCChart(this, {\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    series: series,\n                    spacing: firstSeries.spacing,\n                    clip: pane.options.clip\n                });\n                this.appendChart(chart, pane);\n            },\n            createCandlestickChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var chart = new CandlestickChart(this, {\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    series: series,\n                    spacing: firstSeries.spacing,\n                    clip: pane.options.clip\n                });\n                this.appendChart(chart, pane);\n            },\n            createBoxPlotChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var chart = new BoxPlotChart(this, {\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    series: series,\n                    spacing: firstSeries.spacing,\n                    clip: pane.options.clip\n                });\n                this.appendChart(chart, pane);\n            },\n            createWaterfallChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var waterfallChart = new WaterfallChart(this, {\n                    series: series,\n                    invertAxes: this.invertAxes,\n                    gap: firstSeries.gap,\n                    spacing: firstSeries.spacing\n                });\n                this.appendChart(waterfallChart, pane);\n            },\n            axisRequiresRounding: function (categoryAxisName, categoryAxisIndex) {\n                var this$1 = this;\n                var centeredSeries = filterSeriesByType(this.series, EQUALLY_SPACED_SERIES);\n                for (var seriesIx = 0; seriesIx < this.series.length; seriesIx++) {\n                    var currentSeries = this$1.series[seriesIx];\n                    if (currentSeries.type === LINE || currentSeries.type === AREA) {\n                        var line = currentSeries.line;\n                        if (line && line.style === STEP) {\n                            centeredSeries.push(currentSeries);\n                        }\n                    }\n                }\n                for (var seriesIx$1 = 0; seriesIx$1 < centeredSeries.length; seriesIx$1++) {\n                    var seriesAxis = centeredSeries[seriesIx$1].categoryAxis || '';\n                    if (seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) {\n                        return true;\n                    }\n                }\n            },\n            aggregatedAxis: function (categoryAxisName, categoryAxisIndex) {\n                var series = this.series;\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var seriesAxis = series[seriesIx].categoryAxis || '';\n                    if ((seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) && series[seriesIx].categoryField) {\n                        return true;\n                    }\n                }\n            },\n            createCategoryAxesLabels: function () {\n                var axes = this.axes;\n                for (var i = 0; i < axes.length; i++) {\n                    if (axes[i] instanceof CategoryAxis) {\n                        axes[i].createLabels();\n                    }\n                }\n            },\n            createCategoryAxes: function (panes) {\n                var this$1 = this;\n                var invertAxes = this.invertAxes;\n                var definitions = [].concat(this.options.categoryAxis);\n                var axes = [];\n                for (var i = 0; i < definitions.length; i++) {\n                    var axisOptions = definitions[i];\n                    var axisPane = this$1.findPane(axisOptions.pane);\n                    if (inArray(axisPane, panes)) {\n                        var name = axisOptions.name;\n                        var categories = axisOptions.categories;\n                        if (categories === void 0) {\n                            categories = [];\n                        }\n                        axisOptions = deepExtend({\n                            vertical: invertAxes,\n                            axisCrossingValue: invertAxes ? MAX_VALUE : 0\n                        }, axisOptions);\n                        if (!defined(axisOptions.justified)) {\n                            axisOptions.justified = this$1.isJustified();\n                        }\n                        if (this$1.axisRequiresRounding(name, i)) {\n                            axisOptions.justified = false;\n                        }\n                        var categoryAxis = void 0;\n                        if (isDateAxis(axisOptions, categories[0])) {\n                            categoryAxis = new DateCategoryAxis(axisOptions, this$1.chartService);\n                        } else {\n                            categoryAxis = new CategoryAxis(axisOptions, this$1.chartService);\n                        }\n                        if (name) {\n                            if (this$1.namedCategoryAxes[name]) {\n                                throw new Error('Category axis with name ' + name + ' is already defined');\n                            }\n                            this$1.namedCategoryAxes[name] = categoryAxis;\n                        }\n                        categoryAxis.axisIndex = i;\n                        axes.push(categoryAxis);\n                        this$1.appendAxis(categoryAxis);\n                    }\n                }\n                var primaryAxis = this.categoryAxis || axes[0];\n                this.categoryAxis = primaryAxis;\n                if (invertAxes) {\n                    this.axisY = primaryAxis;\n                } else {\n                    this.axisX = primaryAxis;\n                }\n            },\n            isJustified: function () {\n                var series = this.series;\n                for (var i = 0; i < series.length; i++) {\n                    var currentSeries = series[i];\n                    if (!inArray(currentSeries.type, [\n                            AREA,\n                            VERTICAL_AREA\n                        ])) {\n                        return false;\n                    }\n                }\n                return true;\n            },\n            createValueAxes: function (panes) {\n                var this$1 = this;\n                var tracker = this.valueAxisRangeTracker;\n                var defaultRange = tracker.query();\n                var definitions = [].concat(this.options.valueAxis);\n                var invertAxes = this.invertAxes;\n                var baseOptions = { vertical: !invertAxes };\n                var axes = [];\n                if (this.stack100) {\n                    baseOptions.roundToMajorUnit = false;\n                    baseOptions.labels = { format: 'P0' };\n                }\n                for (var i = 0; i < definitions.length; i++) {\n                    var axisOptions = definitions[i];\n                    var axisPane = this$1.findPane(axisOptions.pane);\n                    if (inArray(axisPane, panes)) {\n                        var name = axisOptions.name;\n                        var defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? {\n                            min: 0.1,\n                            max: 1\n                        } : {\n                            min: 0,\n                            max: 1\n                        };\n                        var range = tracker.query(name) || defaultRange || defaultAxisRange;\n                        if (i === 0 && range && defaultRange) {\n                            range.min = Math.min(range.min, defaultRange.min);\n                            range.max = Math.max(range.max, defaultRange.max);\n                        }\n                        var axisType = void 0;\n                        if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {\n                            axisType = dataviz.LogarithmicAxis;\n                        } else {\n                            axisType = dataviz.NumericAxis;\n                        }\n                        var valueAxis = new axisType(range.min, range.max, deepExtend({}, baseOptions, axisOptions), this$1.chartService);\n                        if (name) {\n                            if (this$1.namedValueAxes[name]) {\n                                throw new Error('Value axis with name ' + name + ' is already defined');\n                            }\n                            this$1.namedValueAxes[name] = valueAxis;\n                        }\n                        valueAxis.axisIndex = i;\n                        axes.push(valueAxis);\n                        this$1.appendAxis(valueAxis);\n                    }\n                }\n                var primaryAxis = this.valueAxis || axes[0];\n                this.valueAxis = primaryAxis;\n                if (invertAxes) {\n                    this.axisX = primaryAxis;\n                } else {\n                    this.axisY = primaryAxis;\n                }\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var coords = chart._eventCoordinates(e);\n                var point = new Point(coords.x, coords.y);\n                var pane = this.pointPane(point);\n                var categories = [];\n                var values = [];\n                if (!pane) {\n                    return;\n                }\n                var allAxes = pane.axes;\n                for (var i = 0; i < allAxes.length; i++) {\n                    var axis = allAxes[i];\n                    if (axis.getValue) {\n                        appendIfNotNull(values, axis.getValue(point));\n                    } else {\n                        appendIfNotNull(categories, axis.getCategory(point));\n                    }\n                }\n                if (categories.length === 0) {\n                    appendIfNotNull(categories, this.categoryAxis.getCategory(point));\n                }\n                if (categories.length > 0 && values.length > 0) {\n                    chart.trigger(eventType, {\n                        element: eventElement(e),\n                        originalEvent: e,\n                        category: singleItemOrArray(categories),\n                        value: singleItemOrArray(values)\n                    });\n                }\n            },\n            pointPane: function (point) {\n                var panes = this.panes;\n                for (var i = 0; i < panes.length; i++) {\n                    var currentPane = panes[i];\n                    if (currentPane.contentBox.containsPoint(point)) {\n                        return currentPane;\n                    }\n                }\n            },\n            updateAxisOptions: function (axis, options) {\n                var axesOptions = axis instanceof CategoryAxis ? [].concat(this.options.categoryAxis) : [].concat(this.options.valueAxis);\n                deepExtend(axesOptions[axis.axisIndex], options);\n            }\n        });\n        function groupSeries(series, axis, axisIx) {\n            return grep(series, function (s) {\n                return axisIx === 0 && !s.categoryAxis || s.categoryAxis === axis;\n            });\n        }\n        setDefaultOptions(CategoricalPlotArea, {\n            categoryAxis: { categories: [] },\n            valueAxis: {}\n        });\n        deepExtend(CategoricalPlotArea.prototype, PlotAreaEventsMixin);\n        var Highlight = Class.extend({\n            init: function () {\n                this._points = [];\n            },\n            destroy: function () {\n                this._points = [];\n            },\n            show: function (points) {\n                var this$1 = this;\n                var arrayPoints = [].concat(points);\n                this.hide();\n                for (var i = 0; i < arrayPoints.length; i++) {\n                    var point = arrayPoints[i];\n                    if (point && point.toggleHighlight && point.hasHighlight()) {\n                        this$1.togglePointHighlight(point, true);\n                        this$1._points.push(point);\n                    }\n                }\n            },\n            togglePointHighlight: function (point, show) {\n                var toggleHandler = (point.options.highlight || {}).toggle;\n                if (toggleHandler) {\n                    var eventArgs = {\n                        category: point.category,\n                        series: point.series,\n                        dataItem: point.dataItem,\n                        value: point.value,\n                        stackValue: point.stackValue,\n                        preventDefault: preventDefault,\n                        visual: point.highlightVisual(),\n                        show: show\n                    };\n                    toggleHandler(eventArgs);\n                    if (!eventArgs._defaultPrevented) {\n                        point.toggleHighlight(show);\n                    }\n                } else {\n                    point.toggleHighlight(show);\n                }\n            },\n            hide: function () {\n                var this$1 = this;\n                var points = this._points;\n                while (points.length) {\n                    this$1.togglePointHighlight(points.pop(), false);\n                }\n            },\n            isHighlighted: function (element) {\n                var points = this._points;\n                for (var i = 0; i < points.length; i++) {\n                    var point = points[i];\n                    if (element === point) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        });\n        function preventDefault() {\n            this._defaultPrevented = true;\n        }\n        function acceptKey(e, mouseKey) {\n            var key = (mouseKey || '').toLowerCase();\n            var event = e.event;\n            var accept = key === 'none' && !(event.ctrlKey || event.shiftKey || event.altKey) || event[key + 'Key'];\n            return accept;\n        }\n        function toChartAxisRanges(axisRanges) {\n            var ranges = {};\n            for (var idx = 0; idx < axisRanges.length; idx++) {\n                var axisRange = axisRanges[idx];\n                if (axisRange.axis.options.name) {\n                    ranges[axisRange.axis.options.name] = {\n                        min: axisRange.range.min,\n                        max: axisRange.range.max\n                    };\n                }\n            }\n            return ranges;\n        }\n        var Pannable = Class.extend({\n            init: function (plotArea, options) {\n                this.plotArea = plotArea;\n                this.options = deepExtend({}, this.options, options);\n            },\n            start: function (e) {\n                this._active = acceptKey(e, this.options.key);\n                return this._active;\n            },\n            move: function (e) {\n                if (this._active) {\n                    var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));\n                    if (axisRanges.length) {\n                        this.axisRanges = axisRanges;\n                        return toChartAxisRanges(axisRanges);\n                    }\n                }\n            },\n            end: function () {\n                var active = this._active;\n                this._active = false;\n                return active;\n            },\n            pan: function () {\n                var ref = this;\n                var plotArea = ref.plotArea;\n                var axisRanges = ref.axisRanges;\n                if (axisRanges.length) {\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        var range = axisRanges[idx];\n                        plotArea.updateAxisOptions(range.axis, range.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                delete this.plotArea;\n            },\n            _panAxes: function (e, position) {\n                var plotArea = this.plotArea;\n                var delta = -e[position].delta;\n                var lock = (this.options.lock || '').toLowerCase();\n                var updatedAxes = [];\n                if (delta !== 0 && (lock || '').toLowerCase() !== position) {\n                    var axes = plotArea.axes;\n                    for (var idx = 0; idx < axes.length; idx++) {\n                        var axis = axes[idx];\n                        if (position === X && !axis.options.vertical || position === Y && axis.options.vertical) {\n                            var range = axis.pan(delta);\n                            if (range) {\n                                range.limitRange = true;\n                                updatedAxes.push({\n                                    axis: axis,\n                                    range: range\n                                });\n                            }\n                        }\n                    }\n                }\n                return updatedAxes;\n            }\n        });\n        Pannable.prototype.options = {\n            key: 'none',\n            lock: 'none'\n        };\n        var ZoomSelection = Class.extend({\n            init: function (chart, options) {\n                this.chart = chart;\n                this.options = deepExtend({}, this.options, options);\n                this.createElement();\n            },\n            createElement: function () {\n                var marquee = this._marquee = document.createElement('div');\n                marquee.className = 'k-marquee';\n                var marqueeColor = document.createElement('div');\n                marqueeColor.className = 'k-marquee-color';\n                marquee.appendChild(marqueeColor);\n            },\n            removeElement: function () {\n                if (this._marquee.parentNode) {\n                    this._marquee.parentNode.removeChild(this._marquee);\n                }\n            },\n            setStyles: function (styles) {\n                elementStyles(this._marquee, styles);\n            },\n            start: function (e) {\n                if (acceptKey(e, this.options.key)) {\n                    var chart = this.chart;\n                    var point = chart._eventCoordinates(e);\n                    var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);\n                    if (zoomPane && zoomPane.clipBox()) {\n                        var clipBox = zoomPane.clipBox().clone();\n                        var offset = this._elementOffset();\n                        clipBox.translate(offset.left, offset.top);\n                        this._zoomPaneClipBox = clipBox;\n                        document.body.appendChild(this._marquee);\n                        this.setStyles({\n                            left: e.pageX + 1,\n                            top: e.pageY + 1,\n                            width: 0,\n                            height: 0\n                        });\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _elementOffset: function () {\n                var chartElement = this.chart.element;\n                var ref = elementStyles(chartElement, [\n                    'paddingLeft',\n                    'paddingTop'\n                ]);\n                var paddingLeft = ref.paddingLeft;\n                var paddingTop = ref.paddingTop;\n                var offset = dataviz.elementOffset(chartElement);\n                return {\n                    left: paddingLeft + offset.left,\n                    top: paddingTop + offset.top\n                };\n            },\n            move: function (e) {\n                var zoomPane = this._zoomPane;\n                if (zoomPane) {\n                    this.setStyles(this._selectionPosition(e));\n                }\n            },\n            end: function (e) {\n                var zoomPane = this._zoomPane;\n                if (zoomPane) {\n                    var elementOffset$$1 = this._elementOffset();\n                    var selectionPosition = this._selectionPosition(e);\n                    selectionPosition.left -= elementOffset$$1.left;\n                    selectionPosition.top -= elementOffset$$1.top;\n                    var start = {\n                        x: selectionPosition.left,\n                        y: selectionPosition.top\n                    };\n                    var end = {\n                        x: selectionPosition.left + selectionPosition.width,\n                        y: selectionPosition.top + selectionPosition.height\n                    };\n                    this._updateAxisRanges(start, end);\n                    this.removeElement();\n                    delete this._zoomPane;\n                    return toChartAxisRanges(this.axisRanges);\n                }\n            },\n            zoom: function () {\n                var axisRanges = this.axisRanges;\n                if (axisRanges && axisRanges.length) {\n                    var plotArea = this.chart._plotArea;\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        var axisRange = axisRanges[idx];\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                this.removeElement();\n                delete this._marquee;\n                delete this.chart;\n            },\n            _updateAxisRanges: function (start, end) {\n                var lock = (this.options.lock || '').toLowerCase();\n                var axisRanges = [];\n                var axes = this._zoomPane.axes;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    var axis = axes[idx];\n                    var vertical = axis.options.vertical;\n                    if (!(lock === X && !vertical) && !(lock === Y && vertical)) {\n                        var range = axis.pointsRange(start, end);\n                        if (range) {\n                            axisRanges.push({\n                                axis: axis,\n                                range: range\n                            });\n                        }\n                    }\n                }\n                this.axisRanges = axisRanges;\n            },\n            _selectionPosition: function (e) {\n                var clipBox = this._zoomPaneClipBox;\n                var startLocation = {\n                    x: e.x.startLocation,\n                    y: e.y.startLocation\n                };\n                var pageX = e.x.location;\n                var pageY = e.y.location;\n                var lock = (this.options.lock || '').toLowerCase();\n                var left = Math.min(startLocation.x, pageX);\n                var top = Math.min(startLocation.y, pageY);\n                var width = Math.abs(startLocation.x - pageX);\n                var height = Math.abs(startLocation.y - pageY);\n                if (lock === X) {\n                    left = clipBox.x1;\n                    width = clipBox.width();\n                }\n                if (lock === Y) {\n                    top = clipBox.y1;\n                    height = clipBox.height();\n                }\n                if (pageX > clipBox.x2) {\n                    width = clipBox.x2 - startLocation.x;\n                }\n                if (pageX < clipBox.x1) {\n                    width = startLocation.x - clipBox.x1;\n                }\n                if (pageY > clipBox.y2) {\n                    height = clipBox.y2 - startLocation.y;\n                }\n                if (pageY < clipBox.y1) {\n                    height = startLocation.y - clipBox.y1;\n                }\n                return {\n                    left: Math.max(left, clipBox.x1),\n                    top: Math.max(top, clipBox.y1),\n                    width: width,\n                    height: height\n                };\n            }\n        });\n        ZoomSelection.prototype.options = {\n            key: 'shift',\n            lock: 'none'\n        };\n        var MousewheelZoom = Class.extend({\n            init: function (chart, options) {\n                this.chart = chart;\n                this.options = deepExtend({}, this.options, options);\n            },\n            updateRanges: function (delta) {\n                var lock = (this.options.lock || '').toLowerCase();\n                var axisRanges = [];\n                var axes = this.chart._plotArea.axes;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    var axis = axes[idx];\n                    var vertical = axis.options.vertical;\n                    if (!(lock === X && !vertical) && !(lock === Y && vertical)) {\n                        var range = axis.zoomRange(-delta);\n                        if (range) {\n                            axisRanges.push({\n                                axis: axis,\n                                range: range\n                            });\n                        }\n                    }\n                }\n                this.axisRanges = axisRanges;\n                return toChartAxisRanges(axisRanges);\n            },\n            zoom: function () {\n                var axisRanges = this.axisRanges;\n                if (axisRanges && axisRanges.length) {\n                    var plotArea = this.chart._plotArea;\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        var axisRange = axisRanges[idx];\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                delete this.chart;\n            }\n        });\n        var LegendLayout = ChartElement.extend({\n            init: function (options, chartService) {\n                ChartElement.fn.init.call(this, options);\n                this.chartService = chartService;\n            },\n            render: function () {\n                var ref = this;\n                var children = ref.children;\n                var options = ref.options;\n                var vertical = options.vertical;\n                this.visual = new drawing.Layout(null, {\n                    spacing: vertical ? 0 : options.spacing,\n                    lineSpacing: vertical ? options.spacing : 0,\n                    orientation: vertical ? 'vertical' : 'horizontal'\n                });\n                for (var idx = 0; idx < children.length; idx++) {\n                    var legendItem = children[idx];\n                    legendItem.reflow(new Box());\n                    legendItem.renderVisual();\n                }\n            },\n            reflow: function (box) {\n                this.visual.rect(box.toRect());\n                this.visual.reflow();\n                var bbox = this.visual.clippedBBox();\n                if (bbox) {\n                    this.box = dataviz.rectToBox(bbox);\n                } else {\n                    this.box = new Box();\n                }\n            },\n            renderVisual: function () {\n                this.addVisual();\n            },\n            createVisual: function () {\n            }\n        });\n        var LegendItem = BoxElement.extend({\n            init: function (options) {\n                BoxElement.fn.init.call(this, options);\n                this.createContainer();\n                this.createMarker();\n                this.createLabel();\n            },\n            createContainer: function () {\n                this.container = new dataviz.FloatElement({\n                    vertical: false,\n                    wrap: false,\n                    align: CENTER\n                });\n                this.append(this.container);\n            },\n            createMarker: function () {\n                this.container.append(new ShapeElement(this.markerOptions()));\n            },\n            markerOptions: function () {\n                var options = this.options;\n                var markerColor = options.markerColor;\n                return deepExtend({}, options.markers, {\n                    background: markerColor,\n                    border: { color: markerColor }\n                });\n            },\n            createLabel: function () {\n                var options = this.options;\n                var labelOptions = deepExtend({}, options.labels);\n                this.container.append(new TextBox(options.text, labelOptions));\n            },\n            renderComplete: function () {\n                BoxElement.fn.renderComplete.call(this);\n                var cursor = this.options.cursor || {};\n                var eventSink = this._itemOverlay = Path.fromRect(this.container.box.toRect(), {\n                    fill: {\n                        color: WHITE,\n                        opacity: 0\n                    },\n                    stroke: null,\n                    cursor: cursor.style || cursor\n                });\n                this.appendVisual(eventSink);\n            },\n            click: function (widget, e) {\n                var args = this.eventArgs(e);\n                if (!widget.trigger(LEGEND_ITEM_CLICK, args)) {\n                    e.preventDefault();\n                }\n            },\n            hover: function (widget, e) {\n                var args = this.eventArgs(e);\n                if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {\n                    e.preventDefault();\n                    widget._legendItemHover(args.seriesIndex, args.pointIndex);\n                }\n                return true;\n            },\n            leave: function (widget) {\n                widget._unsetActivePoint();\n            },\n            eventArgs: function (e) {\n                var options = this.options;\n                return {\n                    element: eventElement(e),\n                    text: options.text,\n                    series: options.series,\n                    seriesIndex: options.series.index,\n                    pointIndex: options.pointIndex\n                };\n            },\n            renderVisual: function () {\n                var this$1 = this;\n                var options = this.options;\n                var customVisual = options.visual;\n                if (customVisual) {\n                    this.visual = customVisual({\n                        active: options.active,\n                        series: options.series,\n                        sender: this.getSender(),\n                        pointIndex: options.pointIndex,\n                        options: {\n                            markers: this.markerOptions(),\n                            labels: options.labels\n                        },\n                        createVisual: function () {\n                            this$1.createVisual();\n                            this$1.renderChildren();\n                            this$1.renderComplete();\n                            var defaultVisual = this$1.visual;\n                            delete this$1.visual;\n                            return defaultVisual;\n                        }\n                    });\n                    this.addVisual();\n                } else {\n                    BoxElement.fn.renderVisual.call(this);\n                }\n            }\n        });\n        var HORIZONTAL = 'horizontal';\n        var POINTER = 'pointer';\n        var CUSTOM = 'custom';\n        var Legend = ChartElement.extend({\n            init: function (options, chartService) {\n                ChartElement.fn.init.call(this, options);\n                this.chartService = chartService;\n                if (!inArray(this.options.position, [\n                        TOP,\n                        RIGHT,\n                        BOTTOM,\n                        LEFT,\n                        CUSTOM\n                    ])) {\n                    this.options.position = RIGHT;\n                }\n                this.createContainer();\n                this.createItems();\n            },\n            createContainer: function () {\n                var options = this.options;\n                var position = options.position;\n                var userAlign = options.align;\n                var align = position;\n                var vAlign = CENTER;\n                if (position === CUSTOM) {\n                    align = LEFT;\n                } else if (inArray(position, [\n                        TOP,\n                        BOTTOM\n                    ])) {\n                    if (userAlign === 'start') {\n                        align = LEFT;\n                    } else if (userAlign === 'end') {\n                        align = RIGHT;\n                    } else {\n                        align = CENTER;\n                    }\n                    vAlign = position;\n                } else if (userAlign) {\n                    if (userAlign === 'start') {\n                        vAlign = TOP;\n                    } else if (userAlign === 'end') {\n                        vAlign = BOTTOM;\n                    }\n                }\n                this.container = new BoxElement({\n                    margin: options.margin,\n                    padding: options.padding,\n                    background: options.background,\n                    border: options.border,\n                    vAlign: vAlign,\n                    align: align,\n                    zIndex: options.zIndex,\n                    shrinkToFit: true\n                });\n                this.append(this.container);\n            },\n            createItems: function () {\n                var chartService = this.getService();\n                var options = this.options;\n                var vertical = this.isVertical();\n                var innerElement = new LegendLayout({\n                    vertical: vertical,\n                    spacing: options.spacing\n                }, chartService);\n                var items = options.items;\n                if (options.reverse) {\n                    items = items.slice(0).reverse();\n                }\n                var count = items.length;\n                for (var i = 0; i < count; i++) {\n                    var item = items[i];\n                    innerElement.append(new LegendItem(deepExtend({}, {\n                        markers: options.markers,\n                        labels: options.labels\n                    }, options.item, item)));\n                }\n                innerElement.render();\n                this.container.append(innerElement);\n            },\n            isVertical: function () {\n                var ref = this.options;\n                var orientation = ref.orientation;\n                var position = ref.position;\n                var vertical = position === CUSTOM && orientation !== HORIZONTAL || (defined(orientation) ? orientation !== HORIZONTAL : inArray(position, [\n                    LEFT,\n                    RIGHT\n                ]));\n                return vertical;\n            },\n            hasItems: function () {\n                return this.container.children[0].children.length > 0;\n            },\n            reflow: function (targetBox) {\n                var options = this.options;\n                var legendBox = targetBox.clone();\n                if (!this.hasItems()) {\n                    this.box = legendBox;\n                    return;\n                }\n                if (options.position === CUSTOM) {\n                    this.containerCustomReflow(legendBox);\n                    this.box = legendBox;\n                } else {\n                    this.containerReflow(legendBox);\n                }\n            },\n            containerReflow: function (targetBox) {\n                var ref = this;\n                var options = ref.options;\n                var container = ref.container;\n                var position = options.position;\n                var width = options.width;\n                var height = options.height;\n                var pos = position === TOP || position === BOTTOM ? X : Y;\n                var vertical = this.isVertical();\n                var alignTarget = targetBox.clone();\n                var containerBox = targetBox.clone();\n                if (position === LEFT || position === RIGHT) {\n                    containerBox.y1 = alignTarget.y1 = 0;\n                }\n                if (vertical && height) {\n                    containerBox.y2 = containerBox.y1 + height;\n                    containerBox.align(alignTarget, Y, container.options.vAlign);\n                } else if (!vertical && width) {\n                    containerBox.x2 = containerBox.x1 + width;\n                    containerBox.align(alignTarget, X, container.options.align);\n                }\n                container.reflow(containerBox);\n                containerBox = container.box;\n                var box = containerBox.clone();\n                if (options.offsetX || options.offsetY) {\n                    containerBox.translate(options.offsetX, options.offsetY);\n                    this.container.reflow(containerBox);\n                }\n                box[pos + 1] = targetBox[pos + 1];\n                box[pos + 2] = targetBox[pos + 2];\n                this.box = box;\n            },\n            containerCustomReflow: function (targetBox) {\n                var ref = this;\n                var options = ref.options;\n                var container = ref.container;\n                var offsetX = options.offsetX;\n                var offsetY = options.offsetY;\n                var width = options.width;\n                var height = options.height;\n                var vertical = this.isVertical();\n                var containerBox = targetBox.clone();\n                if (vertical && height) {\n                    containerBox.y2 = containerBox.y1 + height;\n                } else if (!vertical && width) {\n                    containerBox.x2 = containerBox.x1 + width;\n                }\n                container.reflow(containerBox);\n                containerBox = container.box;\n                container.reflow(new Box(offsetX, offsetY, offsetX + containerBox.width(), offsetY + containerBox.height()));\n            },\n            renderVisual: function () {\n                if (this.hasItems()) {\n                    ChartElement.fn.renderVisual.call(this);\n                }\n            }\n        });\n        setDefaultOptions(Legend, {\n            position: RIGHT,\n            items: [],\n            labels: { margin: { left: 6 } },\n            offsetX: 0,\n            offsetY: 0,\n            margin: getSpacing(5),\n            padding: getSpacing(5),\n            border: {\n                color: BLACK,\n                width: 0\n            },\n            item: { cursor: POINTER },\n            spacing: 6,\n            background: '',\n            zIndex: 1,\n            markers: {\n                border: { width: 0 },\n                width: 15,\n                height: 3,\n                type: 'rect',\n                align: LEFT,\n                vAlign: CENTER\n            }\n        });\n        var PlotAreaFactory = Class.extend({\n            init: function () {\n                this._registry = [];\n            },\n            register: function (type, seriesTypes) {\n                this._registry.push({\n                    type: type,\n                    seriesTypes: seriesTypes\n                });\n            },\n            create: function (srcSeries, options, chartService) {\n                var registry = this._registry;\n                var match = registry[0];\n                var series;\n                for (var idx = 0; idx < registry.length; idx++) {\n                    var entry = registry[idx];\n                    series = filterSeriesByType(srcSeries, entry.seriesTypes);\n                    if (series.length > 0) {\n                        match = entry;\n                        break;\n                    }\n                }\n                return new match.type(series, options, chartService);\n            }\n        });\n        PlotAreaFactory.current = new PlotAreaFactory();\n        var ZOOM_ACCELERATION = 3;\n        function createDiv(className) {\n            var element = document.createElement('div');\n            if (className) {\n                element.className = className;\n            }\n            return element;\n        }\n        function closestHandle(element) {\n            var current = element;\n            while (current && !hasClasses(current, 'k-handle')) {\n                current = current.parentNode;\n            }\n            return current;\n        }\n        var Selection = Class.extend({\n            init: function (chart, categoryAxis, options, observer) {\n                var chartElement = chart.element;\n                var valueAxis = this.getValueAxis(categoryAxis);\n                this.options = deepExtend({}, this.options, options);\n                this.chart = chart;\n                this.observer = observer;\n                this.chartElement = chartElement;\n                this.categoryAxis = categoryAxis;\n                this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;\n                this.valueAxis = valueAxis;\n                this.initOptions();\n                if (this.options.visible) {\n                    this.createElements();\n                    this.set(this._index(this.options.from), this._index(this.options.to));\n                    this.bindEvents();\n                }\n            },\n            createElements: function () {\n                var options = this.options;\n                var wrapper = this.wrapper = createDiv('k-selector');\n                elementStyles(wrapper, {\n                    top: options.offset.top,\n                    left: options.offset.left,\n                    width: options.width,\n                    height: options.height\n                });\n                var selection = this.selection = createDiv('k-selection');\n                this.leftMask = createDiv('k-mask');\n                this.rightMask = createDiv('k-mask');\n                wrapper.appendChild(this.leftMask);\n                wrapper.appendChild(this.rightMask);\n                wrapper.appendChild(selection);\n                selection.appendChild(createDiv('k-selection-bg'));\n                var leftHandle = this.leftHandle = createDiv('k-handle k-left-handle');\n                var rightHandle = this.rightHandle = createDiv('k-handle k-right-handle');\n                leftHandle.appendChild(createDiv());\n                rightHandle.appendChild(createDiv());\n                selection.appendChild(leftHandle);\n                selection.appendChild(rightHandle);\n                this.chartElement.appendChild(wrapper);\n                var selectionStyles = elementStyles(selection, [\n                    'borderLeftWidth',\n                    'borderRightWidth',\n                    'height'\n                ]);\n                var leftHandleHeight = elementStyles(leftHandle, 'height').height;\n                var rightHandleHeight = elementStyles(rightHandle, 'height').height;\n                options.selection = {\n                    border: {\n                        left: selectionStyles.borderLeftWidth,\n                        right: selectionStyles.borderRightWidth\n                    }\n                };\n                elementStyles(leftHandle, { top: (selectionStyles.height - leftHandleHeight) / 2 });\n                elementStyles(rightHandle, { top: (selectionStyles.height - rightHandleHeight) / 2 });\n                wrapper.style.cssText = wrapper.style.cssText;\n            },\n            bindEvents: function () {\n                this._mousewheelHandler = this.options.mousewheel !== false ? this._mousewheel.bind(this) : stopPropagation;\n                var obj;\n                bindEvents(this.wrapper, (obj = {}, obj[MOUSEWHEEL] = this._mousewheelHandler, obj));\n                this._domEvents = services.DomEventsBuilder.create(this.wrapper, {\n                    start: this._start.bind(this),\n                    move: this._move.bind(this),\n                    end: this._end.bind(this),\n                    tap: this._tap.bind(this),\n                    press: this._press.bind(this),\n                    gesturestart: this._gesturestart.bind(this),\n                    gesturechange: this._gesturechange.bind(this),\n                    gestureend: this._gestureend.bind(this)\n                });\n            },\n            initOptions: function () {\n                var ref = this;\n                var options = ref.options;\n                var categoryAxis = ref.categoryAxis;\n                var valueAxis = ref.valueAxis;\n                var categoryAxisLineBox = categoryAxis.lineBox();\n                var valueAxisLineBox = valueAxis.lineBox();\n                var intlService = this.chart.chartService.intl;\n                if (this._dateAxis) {\n                    deepExtend(options, {\n                        min: parseDate(intlService, options.min),\n                        max: parseDate(intlService, options.max),\n                        from: parseDate(intlService, options.from),\n                        to: parseDate(intlService, options.to)\n                    });\n                }\n                var ref$1 = elementStyles(this.chartElement, [\n                    'paddingLeft',\n                    'paddingTop'\n                ]);\n                var paddingLeft = ref$1.paddingLeft;\n                var paddingTop = ref$1.paddingTop;\n                this.options = deepExtend({}, {\n                    width: categoryAxisLineBox.width(),\n                    height: valueAxisLineBox.height(),\n                    padding: {\n                        left: paddingLeft,\n                        top: paddingTop\n                    },\n                    offset: {\n                        left: valueAxisLineBox.x2 + paddingLeft,\n                        top: valueAxisLineBox.y1 + paddingTop\n                    },\n                    from: options.min,\n                    to: options.max\n                }, options);\n            },\n            destroy: function () {\n                if (this._domEvents) {\n                    this._domEvents.destroy();\n                    delete this._domEvents;\n                }\n                clearTimeout(this._mwTimeout);\n                this._state = null;\n                if (this.wrapper) {\n                    var obj;\n                    unbindEvents(this.wrapper, (obj = {}, obj[MOUSEWHEEL] = this._mousewheelHandler, obj));\n                    this.chartElement.removeChild(this.wrapper);\n                }\n            },\n            _rangeEventArgs: function (range) {\n                return {\n                    axis: this.categoryAxis.options,\n                    from: this._value(range.from),\n                    to: this._value(range.to)\n                };\n            },\n            _start: function (e) {\n                var options = this.options;\n                var target = eventElement(e);\n                if (this._state || !target) {\n                    return;\n                }\n                this.chart._unsetActivePoint();\n                this._state = {\n                    moveTarget: closestHandle(target) || target,\n                    startLocation: e.x ? e.x.location : 0,\n                    range: {\n                        from: this._index(options.from),\n                        to: this._index(options.to)\n                    }\n                };\n                var args = this._rangeEventArgs({\n                    from: this._index(options.from),\n                    to: this._index(options.to)\n                });\n                if (this.trigger(SELECT_START, args)) {\n                    this._state = null;\n                }\n            },\n            _press: function (e) {\n                var handle;\n                if (this._state) {\n                    handle = this._state.moveTarget;\n                } else {\n                    handle = closestHandle(eventElement(e));\n                }\n                if (handle) {\n                    dataviz.addClass(handle, 'k-handle-active');\n                }\n            },\n            _move: function (e) {\n                if (!this._state) {\n                    return;\n                }\n                var ref = this;\n                var state = ref._state;\n                var options = ref.options;\n                var categories = ref.categoryAxis.options.categories;\n                var range = state.range;\n                var target = state.moveTarget;\n                var from = this._index(options.from);\n                var to = this._index(options.to);\n                var min = this._index(options.min);\n                var max = this._index(options.max);\n                var delta = state.startLocation - e.x.location;\n                var oldRange = {\n                    from: range.from,\n                    to: range.to\n                };\n                var span = range.to - range.from;\n                var scale = elementStyles(this.wrapper, 'width').width / (categories.length - 1);\n                var offset = Math.round(delta / scale);\n                if (!target) {\n                    return;\n                }\n                if (hasClasses(target, 'k-selection k-selection-bg')) {\n                    range.from = Math.min(Math.max(min, from - offset), max - span);\n                    range.to = Math.min(range.from + span, max);\n                } else if (hasClasses(target, 'k-left-handle')) {\n                    range.from = Math.min(Math.max(min, from - offset), max - 1);\n                    range.to = Math.max(range.from + 1, range.to);\n                } else if (hasClasses(target, 'k-right-handle')) {\n                    range.to = Math.min(Math.max(min + 1, to - offset), max);\n                    range.from = Math.min(range.to - 1, range.from);\n                }\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\n                    this.move(range.from, range.to);\n                    this.trigger(SELECT, this._rangeEventArgs(range));\n                }\n            },\n            _end: function () {\n                if (this._state) {\n                    var moveTarget = this._state.moveTarget;\n                    if (moveTarget) {\n                        dataviz.removeClass(moveTarget, 'k-handle-active');\n                    }\n                    var range = this._state.range;\n                    this.set(range.from, range.to);\n                    this.trigger(SELECT_END, this._rangeEventArgs(range));\n                    delete this._state;\n                }\n            },\n            _tap: function (e) {\n                var ref = this;\n                var options = ref.options;\n                var categoryAxis = ref.categoryAxis;\n                var coords = this.chart._eventCoordinates(e);\n                var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));\n                var from = this._index(options.from);\n                var to = this._index(options.to);\n                var min = this._index(options.min);\n                var max = this._index(options.max);\n                var span = to - from;\n                var mid = from + span / 2;\n                var range = {};\n                var rightClick = e.event.which === 3;\n                var offset = Math.round(mid - categoryIx);\n                if (this._state || rightClick) {\n                    return;\n                }\n                this.chart._unsetActivePoint();\n                if (!categoryAxis.options.justified) {\n                    offset--;\n                }\n                range.from = Math.min(Math.max(min, from - offset), max - span);\n                range.to = Math.min(range.from + span, max);\n                this._start(e);\n                if (this._state) {\n                    this._state.range = range;\n                    this.trigger(SELECT, this._rangeEventArgs(range));\n                    this._end();\n                }\n            },\n            _mousewheel: function (e) {\n                var this$1 = this;\n                var delta = dataviz.mousewheelDelta(e);\n                this._start({ target: this.selection });\n                if (this._state) {\n                    var range = this._state.range;\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (Math.abs(delta) > 1) {\n                        delta *= ZOOM_ACCELERATION;\n                    }\n                    if (this.options.mousewheel.reverse) {\n                        delta *= -1;\n                    }\n                    if (this.expand(delta)) {\n                        this.trigger(SELECT, {\n                            axis: this.categoryAxis.options,\n                            delta: delta,\n                            originalEvent: e,\n                            from: this._value(range.from),\n                            to: this._value(range.to)\n                        });\n                    }\n                    if (this._mwTimeout) {\n                        clearTimeout(this._mwTimeout);\n                    }\n                    this._mwTimeout = setTimeout(function () {\n                        this$1._end();\n                    }, MOUSEWHEEL_DELAY);\n                }\n            },\n            _gesturestart: function (e) {\n                var options = this.options;\n                this._state = {\n                    range: {\n                        from: this._index(options.from),\n                        to: this._index(options.to)\n                    }\n                };\n                var args = this._rangeEventArgs(this._state.range);\n                if (this.trigger(SELECT_START, args)) {\n                    this._state = null;\n                } else {\n                    e.preventDefault();\n                }\n            },\n            _gestureend: function () {\n                if (this._state) {\n                    this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));\n                    delete this._state;\n                }\n            },\n            _gesturechange: function (e) {\n                var ref = this;\n                var chart = ref.chart;\n                var state = ref._state;\n                var options = ref.options;\n                var categoryAxis = ref.categoryAxis;\n                var range = state.range;\n                var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;\n                var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;\n                var left = Math.min(p0, p1);\n                var right = Math.max(p0, p1);\n                e.preventDefault();\n                range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;\n                range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;\n                this.move(range.from, range.to);\n                this.trigger(SELECT, this._rangeEventArgs(range));\n            },\n            _index: function (value) {\n                var index = value;\n                if (value instanceof Date) {\n                    index = this.categoryAxis.categoryIndex(value);\n                }\n                return index;\n            },\n            _value: function (index) {\n                var categories = this.categoryAxis.options.categories;\n                var value = index;\n                if (this._dateAxis) {\n                    if (index > categories.length - 1) {\n                        value = this.options.max;\n                    } else {\n                        value = categories[Math.ceil(index)];\n                    }\n                }\n                return value;\n            },\n            _slot: function (value) {\n                var categoryAxis = this.categoryAxis;\n                var index = this._index(value);\n                return categoryAxis.getSlot(index, index, true);\n            },\n            move: function (from, to) {\n                var options = this.options;\n                var offset = options.offset;\n                var padding = options.padding;\n                var border = options.selection.border;\n                var box = this._slot(from);\n                var leftMaskWidth = round(box.x1 - offset.left + padding.left);\n                elementStyles(this.leftMask, { width: leftMaskWidth });\n                elementStyles(this.selection, { left: leftMaskWidth });\n                box = this._slot(to);\n                var rightMaskWidth = round(options.width - (box.x1 - offset.left + padding.left));\n                elementStyles(this.rightMask, { width: rightMaskWidth });\n                var distance = options.width - rightMaskWidth;\n                if (distance !== options.width) {\n                    distance += border.right;\n                }\n                elementStyles(this.rightMask, { left: distance });\n                elementStyles(this.selection, { width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0) });\n            },\n            set: function (from, to) {\n                var options = this.options;\n                var min = this._index(options.min);\n                var max = this._index(options.max);\n                var fromValue = limitValue(this._index(from), min, max);\n                var toValue = limitValue(this._index(to), fromValue + 1, max);\n                if (options.visible) {\n                    this.move(fromValue, toValue);\n                }\n                options.from = this._value(fromValue);\n                options.to = this._value(toValue);\n            },\n            expand: function (delta) {\n                var options = this.options;\n                var min = this._index(options.min);\n                var max = this._index(options.max);\n                var zDir = options.mousewheel.zoom;\n                var from = this._index(options.from);\n                var to = this._index(options.to);\n                var range = {\n                    from: from,\n                    to: to\n                };\n                var oldRange = deepExtend({}, range);\n                if (this._state) {\n                    range = this._state.range;\n                }\n                if (zDir !== RIGHT) {\n                    range.from = limitValue(limitValue(from - delta, 0, to - 1), min, max);\n                }\n                if (zDir !== LEFT) {\n                    range.to = limitValue(limitValue(to + delta, range.from + 1, max), min, max);\n                }\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\n                    this.set(range.from, range.to);\n                    return true;\n                }\n            },\n            getValueAxis: function (categoryAxis) {\n                var axes = categoryAxis.pane.axes;\n                var axesCount = axes.length;\n                for (var i = 0; i < axesCount; i++) {\n                    var axis = axes[i];\n                    if (axis.options.vertical !== categoryAxis.options.vertical) {\n                        return axis;\n                    }\n                }\n            },\n            trigger: function (name, args) {\n                return (this.observer || this.chart).trigger(name, args);\n            }\n        });\n        function stopPropagation(e) {\n            e.stopPropagation();\n        }\n        setDefaultOptions(Selection, {\n            visible: true,\n            mousewheel: { zoom: 'both' },\n            min: MIN_VALUE,\n            max: MAX_VALUE\n        });\n        var Tooltip = BaseTooltip.extend({\n            show: function (point) {\n                if (!point || !point.tooltipAnchor || this._current && this._current === point) {\n                    return;\n                }\n                var options = deepExtend({}, this.options, point.options.tooltip);\n                var anchor = point.tooltipAnchor();\n                if (anchor) {\n                    this._current = point;\n                    BaseTooltip.fn.show.call(this, {\n                        point: point,\n                        anchor: anchor\n                    }, options, point);\n                } else {\n                    this.hide();\n                }\n            },\n            hide: function () {\n                delete this._current;\n                BaseTooltip.fn.hide.call(this);\n            }\n        });\n        var SharedTooltip = BaseTooltip.extend({\n            init: function (plotArea, options) {\n                BaseTooltip.fn.init.call(this, plotArea.chartService, options);\n                this.plotArea = plotArea;\n                this.formatService = plotArea.chartService.format;\n            },\n            showAt: function (points, coords) {\n                var tooltipPoints = grep(points, function (point) {\n                    var tooltip = point.series.tooltip;\n                    var excluded = tooltip && tooltip.visible === false;\n                    return !excluded;\n                });\n                if (tooltipPoints.length > 0) {\n                    var point = tooltipPoints[0];\n                    var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);\n                    var anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);\n                    this.show({\n                        anchor: anchor,\n                        shared: true,\n                        points: points,\n                        category: point.category,\n                        categoryText: this.formatService.auto(this.options.categoryFormat, point.category)\n                    }, this.options);\n                }\n            },\n            _slotAnchor: function (point, slot) {\n                var axis = this.plotArea.categoryAxis;\n                var align = {\n                    horizontal: 'left',\n                    vertical: 'center'\n                };\n                if (!axis.options.vertical) {\n                    point.x = slot.center().x;\n                }\n                return {\n                    point: point,\n                    align: align\n                };\n            },\n            _defaultAnchor: function (point, slot) {\n                var box = point.owner.pane.chartsBox();\n                var vertical = this.plotArea.categoryAxis.options.vertical;\n                var center = box.center();\n                var slotCenter = slot.center();\n                var align = {\n                    horizontal: 'center',\n                    vertical: 'center'\n                };\n                var centerPoint;\n                if (vertical) {\n                    centerPoint = new Point(center.x, slotCenter.y);\n                } else {\n                    centerPoint = new Point(slotCenter.x, center.y);\n                }\n                return {\n                    point: centerPoint,\n                    align: align\n                };\n            }\n        });\n        setDefaultOptions(SharedTooltip, { categoryFormat: '{0:d}' });\n        var BarChartAnimation = Animation.extend({\n            setup: function () {\n                var ref = this;\n                var element = ref.element;\n                var options = ref.options;\n                var bbox = element.bbox();\n                if (bbox) {\n                    this.origin = options.origin;\n                    var axis = options.vertical ? Y : X;\n                    var fromScale = this.fromScale = new GeometryPoint(1, 1);\n                    fromScale[axis] = START_SCALE;\n                    element.transform(transform().scale(fromScale.x, fromScale.y));\n                } else {\n                    this.abort();\n                }\n            },\n            step: function (pos) {\n                var scaleX = dataviz.interpolateValue(this.fromScale.x, 1, pos);\n                var scaleY = dataviz.interpolateValue(this.fromScale.y, 1, pos);\n                this.element.transform(transform().scale(scaleX, scaleY, this.origin));\n            },\n            abort: function () {\n                Animation.fn.abort.call(this);\n                this.element.transform(null);\n            }\n        });\n        setDefaultOptions(BarChartAnimation, { duration: INITIAL_ANIMATION_DURATION });\n        AnimationFactory.current.register(BAR, BarChartAnimation);\n        var BubbleAnimation = Animation.extend({\n            setup: function () {\n                var center = this.center = this.element.bbox().center();\n                this.element.transform(transform().scale(START_SCALE, START_SCALE, center));\n            },\n            step: function (pos) {\n                this.element.transform(transform().scale(pos, pos, this.center));\n            }\n        });\n        setDefaultOptions(BubbleAnimation, { easing: 'easeOutElastic' });\n        AnimationFactory.current.register(BUBBLE, BubbleAnimation);\n        var FadeInAnimation = Animation.extend({\n            setup: function () {\n                this.fadeTo = this.element.opacity();\n                this.element.opacity(0);\n            },\n            step: function (pos) {\n                this.element.opacity(pos * this.fadeTo);\n            }\n        });\n        setDefaultOptions(FadeInAnimation, {\n            duration: 200,\n            easing: 'linear'\n        });\n        AnimationFactory.current.register(FADEIN, FadeInAnimation);\n        var PieAnimation = Animation.extend({\n            setup: function () {\n                this.element.transform(transform().scale(START_SCALE, START_SCALE, this.options.center));\n            },\n            step: function (pos) {\n                this.element.transform(transform().scale(pos, pos, this.options.center));\n            }\n        });\n        setDefaultOptions(PieAnimation, {\n            easing: 'easeOutElastic',\n            duration: INITIAL_ANIMATION_DURATION\n        });\n        AnimationFactory.current.register(PIE, PieAnimation);\n        var ScatterLineChart = ScatterChart.extend({\n            render: function () {\n                ScatterChart.fn.render.call(this);\n                this.renderSegments();\n            },\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var style = currentSeries.style;\n                var pointType;\n                if (style === SMOOTH) {\n                    pointType = SplineSegment;\n                } else {\n                    pointType = LineSegment;\n                }\n                return new pointType(linePoints, currentSeries, seriesIx);\n            },\n            animationPoints: function () {\n                var points = ScatterChart.fn.animationPoints.call(this);\n                return points.concat(this._segments);\n            },\n            createMissingValue: function (value, missingValues) {\n                if (missingValues === ZERO) {\n                    var missingValue = {\n                        x: value.x,\n                        y: value.y\n                    };\n                    if (!hasValue(missingValue.x)) {\n                        missingValue.x = 0;\n                    }\n                    if (!hasValue(missingValue.y)) {\n                        missingValue.y = 0;\n                    }\n                    return missingValue;\n                }\n            }\n        });\n        deepExtend(ScatterLineChart.prototype, LineChartMixin);\n        var XYPlotArea = PlotAreaBase.extend({\n            initFields: function () {\n                this.namedXAxes = {};\n                this.namedYAxes = {};\n                this.xAxisRangeTracker = new AxisGroupRangeTracker();\n                this.yAxisRangeTracker = new AxisGroupRangeTracker();\n            },\n            render: function (panes) {\n                var this$1 = this;\n                if (panes === void 0) {\n                    panes = this.panes;\n                }\n                var seriesByPane = this.groupSeriesByPane();\n                for (var i = 0; i < panes.length; i++) {\n                    var pane = panes[i];\n                    var paneSeries = seriesByPane[pane.options.name || 'default'] || [];\n                    this$1.addToLegend(paneSeries);\n                    var filteredSeries = this$1.filterVisibleSeries(paneSeries);\n                    if (!filteredSeries) {\n                        continue;\n                    }\n                    this$1.createScatterChart(filterSeriesByType(filteredSeries, SCATTER), pane);\n                    this$1.createScatterLineChart(filterSeriesByType(filteredSeries, SCATTER_LINE), pane);\n                    this$1.createBubbleChart(filterSeriesByType(filteredSeries, BUBBLE), pane);\n                }\n                this.createAxes(panes);\n            },\n            appendChart: function (chart, pane) {\n                this.xAxisRangeTracker.update(chart.xAxisRanges);\n                this.yAxisRangeTracker.update(chart.yAxisRanges);\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\n            },\n            removeAxis: function (axis) {\n                var axisName = axis.options.name;\n                PlotAreaBase.fn.removeAxis.call(this, axis);\n                if (axis.options.vertical) {\n                    this.yAxisRangeTracker.reset(axisName);\n                    delete this.namedYAxes[axisName];\n                } else {\n                    this.xAxisRangeTracker.reset(axisName);\n                    delete this.namedXAxes[axisName];\n                }\n                if (axis === this.axisX) {\n                    delete this.axisX;\n                }\n                if (axis === this.axisY) {\n                    delete this.axisY;\n                }\n            },\n            seriesPaneName: function (series) {\n                var options = this.options;\n                var xAxisName = series.xAxis;\n                var xAxisOptions = [].concat(options.xAxis);\n                var xAxis = grep(xAxisOptions, function (a) {\n                    return a.name === xAxisName;\n                })[0];\n                var yAxisName = series.yAxis;\n                var yAxisOptions = [].concat(options.yAxis);\n                var yAxis = grep(yAxisOptions, function (a) {\n                    return a.name === yAxisName;\n                })[0];\n                var panes = options.panes || [{}];\n                var defaultPaneName = panes[0].name || 'default';\n                var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;\n                return paneName;\n            },\n            createScatterChart: function (series, pane) {\n                if (series.length > 0) {\n                    this.appendChart(new ScatterChart(this, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createScatterLineChart: function (series, pane) {\n                if (series.length > 0) {\n                    this.appendChart(new ScatterLineChart(this, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createBubbleChart: function (series, pane) {\n                if (series.length > 0) {\n                    this.appendChart(new BubbleChart(this, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createXYAxis: function (options, vertical, axisIndex) {\n                var axisName = options.name;\n                var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;\n                var tracker = vertical ? this.yAxisRangeTracker : this.xAxisRangeTracker;\n                var axisOptions = deepExtend({}, options, { vertical: vertical });\n                var isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC);\n                var defaultRange = tracker.query();\n                var defaultAxisRange = isLog ? {\n                    min: 0.1,\n                    max: 1\n                } : {\n                    min: 0,\n                    max: 1\n                };\n                var range = tracker.query(axisName) || defaultRange || defaultAxisRange;\n                var typeSamples = [\n                    axisOptions.min,\n                    axisOptions.max\n                ];\n                var series = this.series;\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var seriesAxisName = currentSeries[vertical ? 'yAxis' : 'xAxis'];\n                    if (seriesAxisName === axisOptions.name || axisIndex === 0 && !seriesAxisName) {\n                        var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;\n                        typeSamples.push(firstPointValue[vertical ? 'y' : 'x']);\n                        break;\n                    }\n                }\n                if (axisIndex === 0 && defaultRange) {\n                    range.min = Math.min(range.min, defaultRange.min);\n                    range.max = Math.max(range.max, defaultRange.max);\n                }\n                var inferredDate;\n                for (var i = 0; i < typeSamples.length; i++) {\n                    if (typeSamples[i] instanceof Date) {\n                        inferredDate = true;\n                        break;\n                    }\n                }\n                var axisType;\n                if (equalsIgnoreCase(axisOptions.type, DATE) || !axisOptions.type && inferredDate) {\n                    axisType = dataviz.DateValueAxis;\n                } else if (isLog) {\n                    axisType = dataviz.LogarithmicAxis;\n                } else {\n                    axisType = dataviz.NumericAxis;\n                }\n                var axis = new axisType(range.min, range.max, axisOptions, this.chartService);\n                axis.axisIndex = axisIndex;\n                if (axisName) {\n                    if (namedAxes[axisName]) {\n                        throw new Error((vertical ? 'Y' : 'X') + ' axis with name ' + axisName + ' is already defined');\n                    }\n                    namedAxes[axisName] = axis;\n                }\n                this.appendAxis(axis);\n                return axis;\n            },\n            createAxes: function (panes) {\n                var this$1 = this;\n                var options = this.options;\n                var xAxesOptions = [].concat(options.xAxis);\n                var xAxes = [];\n                var yAxesOptions = [].concat(options.yAxis);\n                var yAxes = [];\n                for (var idx = 0; idx < xAxesOptions.length; idx++) {\n                    var axisPane = this$1.findPane(xAxesOptions[idx].pane);\n                    if (inArray(axisPane, panes)) {\n                        xAxes.push(this$1.createXYAxis(xAxesOptions[idx], false, idx));\n                    }\n                }\n                for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {\n                    var axisPane$1 = this$1.findPane(yAxesOptions[idx$1].pane);\n                    if (inArray(axisPane$1, panes)) {\n                        yAxes.push(this$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));\n                    }\n                }\n                this.axisX = this.axisX || xAxes[0];\n                this.axisY = this.axisY || yAxes[0];\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var coords = chart._eventCoordinates(e);\n                var point = new Point(coords.x, coords.y);\n                var allAxes = this.axes;\n                var length = allAxes.length;\n                var xValues = [];\n                var yValues = [];\n                for (var i = 0; i < length; i++) {\n                    var axis = allAxes[i];\n                    var values = axis.options.vertical ? yValues : xValues;\n                    var currentValue = axis.getValue(point);\n                    if (currentValue !== null) {\n                        values.push(currentValue);\n                    }\n                }\n                if (xValues.length > 0 && yValues.length > 0) {\n                    chart.trigger(eventType, {\n                        element: eventElement(e),\n                        originalEvent: e,\n                        x: singleItemOrArray(xValues),\n                        y: singleItemOrArray(yValues)\n                    });\n                }\n            },\n            updateAxisOptions: function (axis, options) {\n                var vertical = axis.options.vertical;\n                var axes = this.groupAxes(this.panes);\n                var index = (vertical ? axes.y : axes.x).indexOf(axis);\n                var axisOptions = [].concat(vertical ? this.options.yAxis : this.options.xAxis)[index];\n                deepExtend(axisOptions, options);\n            }\n        });\n        setDefaultOptions(XYPlotArea, {\n            xAxis: {},\n            yAxis: {}\n        });\n        deepExtend(XYPlotArea.prototype, PlotAreaEventsMixin);\n        var PieSegment = ChartElement.extend({\n            init: function (value, sector, options) {\n                ChartElement.fn.init.call(this, options);\n                this.value = value;\n                this.sector = sector;\n            },\n            render: function () {\n                var labels = this.options.labels;\n                var chartService = this.owner.chartService;\n                var labelText = this.value;\n                if (this._rendered || this.visible === false) {\n                    return;\n                }\n                this._rendered = true;\n                if (labels.template) {\n                    var labelTemplate = TemplateService.compile(labels.template);\n                    labelText = labelTemplate({\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        series: this.series,\n                        percentage: this.percentage\n                    });\n                } else if (labels.format) {\n                    labelText = chartService.format.auto(labels.format, labelText);\n                }\n                if (labels.visible && labelText) {\n                    if (labels.position === CENTER || labels.position === INSIDE_END) {\n                        if (!labels.color) {\n                            var brightnessValue = new Color(this.options.color).percBrightness();\n                            if (brightnessValue > 180) {\n                                labels.color = BLACK;\n                            } else {\n                                labels.color = WHITE;\n                            }\n                        }\n                        if (!labels.background) {\n                            labels.background = this.options.color;\n                        }\n                    } else {\n                        var themeLabels = chartService.theme.seriesDefaults.labels;\n                        labels.color = labels.color || themeLabels.color;\n                        labels.background = labels.background || themeLabels.background;\n                    }\n                    this.label = new TextBox(labelText, deepExtend({}, labels, {\n                        align: CENTER,\n                        vAlign: '',\n                        animation: {\n                            type: FADEIN,\n                            delay: this.animationDelay\n                        }\n                    }));\n                    this.append(this.label);\n                }\n            },\n            reflow: function (targetBox) {\n                this.render();\n                this.box = targetBox;\n                this.reflowLabel();\n            },\n            reflowLabel: function () {\n                var ref = this;\n                var labelsOptions = ref.options.labels;\n                var label = ref.label;\n                var sector = this.sector.clone();\n                var labelsDistance = labelsOptions.distance;\n                var angle = sector.middle();\n                if (label) {\n                    var labelHeight = label.box.height();\n                    var labelWidth = label.box.width();\n                    var lp;\n                    if (labelsOptions.position === CENTER) {\n                        sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;\n                        lp = sector.point(angle);\n                        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else if (labelsOptions.position === INSIDE_END) {\n                        sector.radius = sector.radius - labelHeight / 2;\n                        lp = sector.point(angle);\n                        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else {\n                        var x1;\n                        lp = sector.clone().expand(labelsDistance).point(angle);\n                        if (lp.x >= sector.center.x) {\n                            x1 = lp.x + labelWidth;\n                            label.orientation = RIGHT;\n                        } else {\n                            x1 = lp.x - labelWidth;\n                            label.orientation = LEFT;\n                        }\n                        label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));\n                    }\n                }\n            },\n            createVisual: function () {\n                var this$1 = this;\n                var ref = this;\n                var sector = ref.sector;\n                var options = ref.options;\n                ChartElement.fn.createVisual.call(this);\n                if (this.value) {\n                    if (options.visual) {\n                        var startAngle = (sector.startAngle + 180) % 360;\n                        var visual = options.visual({\n                            category: this.category,\n                            dataItem: this.dataItem,\n                            value: this.value,\n                            series: this.series,\n                            percentage: this.percentage,\n                            center: new GeometryPoint(sector.center.x, sector.center.y),\n                            radius: sector.radius,\n                            innerRadius: sector.innerRadius,\n                            startAngle: startAngle,\n                            endAngle: startAngle + sector.angle,\n                            options: options,\n                            sender: this.getSender(),\n                            createVisual: function () {\n                                var group = new Group();\n                                this$1.createSegmentVisual(group);\n                                return group;\n                            }\n                        });\n                        if (visual) {\n                            this.visual.append(visual);\n                        }\n                    } else {\n                        this.createSegmentVisual(this.visual);\n                    }\n                }\n            },\n            createSegmentVisual: function (group) {\n                var ref = this;\n                var sector = ref.sector;\n                var options = ref.options;\n                var borderOptions = options.border || {};\n                var border = borderOptions.width > 0 ? {\n                    stroke: {\n                        color: borderOptions.color,\n                        width: borderOptions.width,\n                        opacity: borderOptions.opacity,\n                        dashType: borderOptions.dashType\n                    }\n                } : {};\n                var color = options.color;\n                var fill = {\n                    color: color,\n                    opacity: options.opacity\n                };\n                var visual = this.createSegment(sector, deepExtend({\n                    fill: fill,\n                    stroke: { opacity: options.opacity },\n                    zIndex: options.zIndex\n                }, border));\n                group.append(visual);\n                if (hasGradientOverlay(options)) {\n                    group.append(this.createGradientOverlay(visual, {\n                        baseColor: color,\n                        fallbackFill: fill\n                    }, deepExtend({\n                        center: [\n                            sector.center.x,\n                            sector.center.y\n                        ],\n                        innerRadius: sector.innerRadius,\n                        radius: sector.radius,\n                        userSpace: true\n                    }, options.overlay)));\n                }\n            },\n            createSegment: function (sector, options) {\n                if (options.singleSegment) {\n                    return new drawing.Circle(new geometry.Circle(new GeometryPoint(sector.center.x, sector.center.y), sector.radius), options);\n                }\n                return dataviz.ShapeBuilder.current.createRing(sector, options);\n            },\n            createAnimation: function () {\n                var ref = this;\n                var options = ref.options;\n                var center = ref.sector.center;\n                deepExtend(options, {\n                    animation: {\n                        center: [\n                            center.x,\n                            center.y\n                        ],\n                        delay: this.animationDelay\n                    }\n                });\n                ChartElement.fn.createAnimation.call(this);\n            },\n            createHighlight: function (options) {\n                var highlight = this.options.highlight || {};\n                var border = highlight.border || {};\n                return this.createSegment(this.sector, deepExtend({}, options, {\n                    fill: {\n                        color: highlight.color,\n                        opacity: highlight.opacity\n                    },\n                    stroke: {\n                        opacity: border.opacity,\n                        width: border.width,\n                        color: border.color\n                    }\n                }));\n            },\n            highlightVisual: function () {\n                return this.visual.children[0];\n            },\n            highlightVisualArgs: function () {\n                var sector = this.sector;\n                return {\n                    options: this.options,\n                    radius: sector.radius,\n                    innerRadius: sector.innerRadius,\n                    center: new GeometryPoint(sector.center.x, sector.center.y),\n                    startAngle: sector.startAngle,\n                    endAngle: sector.angle + sector.startAngle,\n                    visual: this.visual\n                };\n            },\n            tooltipAnchor: function () {\n                var sector = this.sector.clone().expand(TOOLTIP_OFFSET);\n                var midAndle = sector.middle();\n                var midPoint = sector.point(midAndle);\n                return {\n                    point: midPoint,\n                    align: tooltipAlignment(midAndle + 180)\n                };\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            }\n        });\n        var RAD_30 = round(dataviz.rad(30), DEFAULT_PRECISION);\n        var RAD_60 = round(dataviz.rad(60), DEFAULT_PRECISION);\n        function tooltipAlignment(angle) {\n            var radians = dataviz.rad(angle);\n            var sine = round(Math.sin(radians), DEFAULT_PRECISION);\n            var cosine = round(Math.cos(radians), DEFAULT_PRECISION);\n            var horizontal;\n            if (Math.abs(sine) > RAD_60) {\n                horizontal = CENTER;\n            } else if (cosine < 0) {\n                horizontal = RIGHT;\n            } else {\n                horizontal = LEFT;\n            }\n            var vertical;\n            if (Math.abs(sine) < RAD_30) {\n                vertical = CENTER;\n            } else if (sine < 0) {\n                vertical = BOTTOM;\n            } else {\n                vertical = TOP;\n            }\n            return {\n                horizontal: horizontal,\n                vertical: vertical\n            };\n        }\n        setDefaultOptions(PieSegment, {\n            color: WHITE,\n            overlay: { gradient: 'roundedBevel' },\n            border: { width: 0.5 },\n            labels: {\n                visible: false,\n                distance: 35,\n                font: datavizConstants.DEFAULT_FONT,\n                margin: getSpacing(0.5),\n                align: CIRCLE,\n                zIndex: 1,\n                position: OUTSIDE_END\n            },\n            animation: { type: PIE },\n            highlight: {\n                visible: true,\n                border: { width: 1 }\n            },\n            visible: true\n        });\n        deepExtend(PieSegment.prototype, PointEventsMixin);\n        var PieChartMixin = {\n            createLegendItem: function (value, point, options) {\n                var legendOptions = this.options.legend || {};\n                var labelsOptions = legendOptions.labels || {};\n                var inactiveItems = legendOptions.inactiveItems || {};\n                var inactiveItemsLabels = inactiveItems.labels || {};\n                if (options && options.visibleInLegend !== false) {\n                    var pointVisible = options.visible !== false;\n                    var labelTemplate = pointVisible ? labelsOptions.template : inactiveItemsLabels.template || labelsOptions.template;\n                    var text = options.category || '';\n                    if (labelTemplate) {\n                        text = TemplateService.compile(labelTemplate)({\n                            text: text,\n                            series: options.series,\n                            dataItem: options.dataItem,\n                            percentage: options.percentage,\n                            value: value\n                        });\n                    }\n                    var itemLabelOptions, markerColor;\n                    if (pointVisible) {\n                        itemLabelOptions = {};\n                        markerColor = point.color;\n                    } else {\n                        itemLabelOptions = {\n                            color: inactiveItemsLabels.color,\n                            font: inactiveItemsLabels.font\n                        };\n                        markerColor = (inactiveItems.markers || {}).color;\n                    }\n                    if (text) {\n                        this.legendItems.push({\n                            pointIndex: options.index,\n                            text: text,\n                            series: options.series,\n                            markerColor: markerColor,\n                            labels: itemLabelOptions\n                        });\n                    }\n                }\n            }\n        };\n        function segmentVisible(series, fields, index) {\n            var visible = fields.visible;\n            if (defined(visible)) {\n                return visible;\n            }\n            var pointVisibility = series.pointVisibility;\n            if (pointVisibility) {\n                return pointVisibility[index];\n            }\n        }\n        function seriesTotal(series) {\n            var data = series.data;\n            var sum = 0;\n            for (var i = 0; i < data.length; i++) {\n                var pointData = SeriesBinder.current.bindPoint(series, i);\n                var value = pointData.valueFields.value;\n                if (isString(value)) {\n                    value = parseFloat(value);\n                }\n                var visible = segmentVisible(series, pointData.fields, i);\n                if (isNumber(value) && visible !== false) {\n                    sum += Math.abs(value);\n                }\n            }\n            return sum;\n        }\n        var PIE_SECTOR_ANIM_DELAY = 70;\n        var PieChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                ChartElement.fn.init.call(this, options);\n                this.plotArea = plotArea;\n                this.chartService = plotArea.chartService;\n                this.points = [];\n                this.legendItems = [];\n                this.render();\n            },\n            render: function () {\n                this.traverseDataPoints(this.addValue.bind(this));\n            },\n            traverseDataPoints: function (callback) {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var seriesColors = ref.plotArea.options.seriesColors;\n                if (seriesColors === void 0) {\n                    seriesColors = [];\n                }\n                var colorsCount = seriesColors.length;\n                var series = options.series;\n                var seriesCount = series.length;\n                for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var data = currentSeries.data;\n                    var total = seriesTotal(currentSeries);\n                    var anglePerValue = 360 / total;\n                    var currentAngle = void 0;\n                    if (defined(currentSeries.startAngle)) {\n                        currentAngle = currentSeries.startAngle;\n                    } else {\n                        currentAngle = options.startAngle;\n                    }\n                    if (seriesIx !== seriesCount - 1) {\n                        if (currentSeries.labels.position === OUTSIDE_END) {\n                            currentSeries.labels.position = CENTER;\n                        }\n                    }\n                    for (var i = 0; i < data.length; i++) {\n                        var pointData = SeriesBinder.current.bindPoint(currentSeries, i);\n                        var value = pointData.valueFields.value;\n                        var plotValue = Math.abs(value);\n                        var fields = pointData.fields;\n                        var angle = plotValue * anglePerValue;\n                        var explode = data.length !== 1 && Boolean(fields.explode);\n                        if (!isFunction(currentSeries.color)) {\n                            currentSeries.color = fields.color || seriesColors[i % colorsCount];\n                        }\n                        var visible = segmentVisible(currentSeries, fields, i);\n                        callback(value, new dataviz.Ring(null, 0, 0, currentAngle, angle), {\n                            owner: this$1,\n                            category: fields.category || '',\n                            index: i,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            dataItem: data[i],\n                            percentage: total !== 0 ? plotValue / total : 0,\n                            explode: explode,\n                            visibleInLegend: fields.visibleInLegend,\n                            visible: visible,\n                            zIndex: seriesCount - seriesIx,\n                            animationDelay: this$1.animationDelay(i, seriesIx, seriesCount)\n                        });\n                        if (visible !== false) {\n                            currentAngle += angle;\n                        }\n                    }\n                }\n            },\n            evalSegmentOptions: function (options, value, fields) {\n                var series = fields.series;\n                evalOptions(options, {\n                    value: value,\n                    series: series,\n                    dataItem: fields.dataItem,\n                    category: fields.category,\n                    percentage: fields.percentage\n                }, {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'template',\n                        'visual',\n                        'toggle'\n                    ]\n                });\n            },\n            addValue: function (value, sector, fields) {\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n                this.evalSegmentOptions(segmentOptions, value, fields);\n                this.createLegendItem(value, segmentOptions, fields);\n                if (fields.visible === false) {\n                    return;\n                }\n                var segment = new PieSegment(value, sector, segmentOptions);\n                $.extend(segment, fields);\n                this.append(segment);\n                this.points.push(segment);\n            },\n            reflow: function (targetBox) {\n                var ref = this;\n                var options = ref.options;\n                var points = ref.points;\n                var seriesConfigs = ref.seriesConfigs;\n                if (seriesConfigs === void 0) {\n                    seriesConfigs = [];\n                }\n                var count = points.length;\n                var box = targetBox.clone();\n                var space = 5;\n                var minWidth = Math.min(box.width(), box.height());\n                var halfMinWidth = minWidth / 2;\n                var defaultPadding = minWidth - minWidth * 0.85;\n                var newBox = new Box(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth);\n                var newBoxCenter = newBox.center();\n                var boxCenter = box.center();\n                var seriesCount = options.series.length;\n                var leftSideLabels = [];\n                var rightSideLabels = [];\n                var padding = valueOrDefault(options.padding, defaultPadding);\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n                newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);\n                var radius = halfMinWidth - padding;\n                var center = new Point(radius + newBox.x1 + padding, radius + newBox.y1 + padding);\n                for (var i = 0; i < count; i++) {\n                    var segment = points[i];\n                    var sector = segment.sector;\n                    var seriesIndex = segment.seriesIx;\n                    sector.radius = radius;\n                    sector.center = center;\n                    if (seriesConfigs.length) {\n                        var seriesConfig = seriesConfigs[seriesIndex];\n                        sector.innerRadius = seriesConfig.innerRadius;\n                        sector.radius = seriesConfig.radius;\n                    }\n                    if (seriesIndex === seriesCount - 1 && segment.explode) {\n                        sector.center = sector.clone().setRadius(sector.radius * 0.15).point(sector.middle());\n                    }\n                    segment.reflow(newBox);\n                    var label = segment.label;\n                    if (label) {\n                        if (label.options.position === OUTSIDE_END) {\n                            if (seriesIndex === seriesCount - 1) {\n                                if (label.orientation === RIGHT) {\n                                    rightSideLabels.push(label);\n                                } else {\n                                    leftSideLabels.push(label);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (leftSideLabels.length > 0) {\n                    leftSideLabels.sort(this.labelComparator(true));\n                    this.leftLabelsReflow(leftSideLabels);\n                }\n                if (rightSideLabels.length > 0) {\n                    rightSideLabels.sort(this.labelComparator(false));\n                    this.rightLabelsReflow(rightSideLabels);\n                }\n                this.box = newBox;\n            },\n            leftLabelsReflow: function (labels) {\n                var distances = this.distanceBetweenLabels(labels);\n                this.distributeLabels(distances, labels);\n            },\n            rightLabelsReflow: function (labels) {\n                var distances = this.distanceBetweenLabels(labels);\n                this.distributeLabels(distances, labels);\n            },\n            distanceBetweenLabels: function (labels) {\n                var segment = last(this.points);\n                var sector = segment.sector;\n                var count = labels.length - 1;\n                var lr = sector.radius + segment.options.labels.distance;\n                var distances = [];\n                var firstBox = labels[0].box;\n                var distance = round(firstBox.y1 - (sector.center.y - lr - firstBox.height() - firstBox.height() / 2));\n                distances.push(distance);\n                for (var i = 0; i < count; i++) {\n                    var secondBox = labels[i + 1].box;\n                    firstBox = labels[i].box;\n                    distance = round(secondBox.y1 - firstBox.y2);\n                    distances.push(distance);\n                }\n                distance = round(sector.center.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);\n                distances.push(distance);\n                return distances;\n            },\n            distributeLabels: function (distances, labels) {\n                var this$1 = this;\n                var count = distances.length;\n                var left, right, remaining;\n                for (var i = 0; i < count; i++) {\n                    remaining = -distances[i];\n                    left = right = i;\n                    while (remaining > 0 && (left >= 0 || right < count)) {\n                        remaining = this$1._takeDistance(distances, i, --left, remaining);\n                        remaining = this$1._takeDistance(distances, i, ++right, remaining);\n                    }\n                }\n                this.reflowLabels(distances, labels);\n            },\n            _takeDistance: function (distances, anchor, position, amount) {\n                var result = amount;\n                if (distances[position] > 0) {\n                    var available = Math.min(distances[position], result);\n                    result -= available;\n                    distances[position] -= available;\n                    distances[anchor] += available;\n                }\n                return result;\n            },\n            reflowLabels: function (distances, labels) {\n                var this$1 = this;\n                var segment = last(this.points);\n                var sector = segment.sector;\n                var labelOptions = segment.options.labels;\n                var labelsCount = labels.length;\n                var labelDistance = labelOptions.distance;\n                var boxY = sector.center.y - (sector.radius + labelDistance) - labels[0].box.height();\n                var boxX;\n                distances[0] += 2;\n                for (var i = 0; i < labelsCount; i++) {\n                    var label = labels[i];\n                    var box = label.box;\n                    boxY += distances[i];\n                    boxX = this$1.hAlignLabel(box.x2, sector.clone().expand(labelDistance), boxY, boxY + box.height(), label.orientation === RIGHT);\n                    if (label.orientation === RIGHT) {\n                        if (labelOptions.align !== CIRCLE) {\n                            boxX = sector.radius + sector.center.x + labelDistance;\n                        }\n                        label.reflow(new Box(boxX + box.width(), boxY, boxX, boxY));\n                    } else {\n                        if (labelOptions.align !== CIRCLE) {\n                            boxX = sector.center.x - sector.radius - labelDistance;\n                        }\n                        label.reflow(new Box(boxX - box.width(), boxY, boxX, boxY));\n                    }\n                    boxY += box.height();\n                }\n            },\n            createVisual: function () {\n                var this$1 = this;\n                var ref = this;\n                var connectors = ref.options.connectors;\n                var points = ref.points;\n                var count = points.length;\n                var space = 4;\n                ChartElement.fn.createVisual.call(this);\n                this._connectorLines = [];\n                for (var i = 0; i < count; i++) {\n                    var segment = points[i];\n                    var sector = segment.sector;\n                    var label = segment.label;\n                    var angle = sector.middle();\n                    var connectorsColor = (segment.options.connectors || {}).color || connectors.color;\n                    if (label) {\n                        var connectorLine = new Path({\n                            stroke: {\n                                color: connectorsColor,\n                                width: connectors.width\n                            },\n                            animation: {\n                                type: FADEIN,\n                                delay: segment.animationDelay\n                            }\n                        });\n                        if (label.options.position === OUTSIDE_END && segment.value !== 0) {\n                            var box = label.box;\n                            var centerPoint = sector.center;\n                            var start = sector.point(angle);\n                            var middle = new Point(box.x1, box.center().y);\n                            var sr = void 0, end = void 0, crossing = void 0;\n                            start = sector.clone().expand(connectors.padding).point(angle);\n                            connectorLine.moveTo(start.x, start.y);\n                            if (label.orientation === RIGHT) {\n                                end = new Point(box.x1 - connectors.padding, box.center().y);\n                                crossing = intersection(centerPoint, start, middle, end);\n                                middle = new Point(end.x - space, end.y);\n                                crossing = crossing || middle;\n                                crossing.x = Math.min(crossing.x, middle.x);\n                                if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) || crossing.x < sector.center.x) {\n                                    sr = sector.center.x + sector.radius + space;\n                                    if (segment.options.labels.align !== COLUMN) {\n                                        if (sr < middle.x) {\n                                            connectorLine.lineTo(sr, start.y);\n                                        } else {\n                                            connectorLine.lineTo(start.x + space * 2, start.y);\n                                        }\n                                    } else {\n                                        connectorLine.lineTo(sr, start.y);\n                                    }\n                                    connectorLine.lineTo(middle.x, end.y);\n                                } else {\n                                    crossing.y = end.y;\n                                    connectorLine.lineTo(crossing.x, crossing.y);\n                                }\n                            } else {\n                                end = new Point(box.x2 + connectors.padding, box.center().y);\n                                crossing = intersection(centerPoint, start, middle, end);\n                                middle = new Point(end.x + space, end.y);\n                                crossing = crossing || middle;\n                                crossing.x = Math.max(crossing.x, middle.x);\n                                if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) || crossing.x > sector.center.x) {\n                                    sr = sector.center.x - sector.radius - space;\n                                    if (segment.options.labels.align !== COLUMN) {\n                                        if (sr > middle.x) {\n                                            connectorLine.lineTo(sr, start.y);\n                                        } else {\n                                            connectorLine.lineTo(start.x - space * 2, start.y);\n                                        }\n                                    } else {\n                                        connectorLine.lineTo(sr, start.y);\n                                    }\n                                    connectorLine.lineTo(middle.x, end.y);\n                                } else {\n                                    crossing.y = end.y;\n                                    connectorLine.lineTo(crossing.x, crossing.y);\n                                }\n                            }\n                            connectorLine.lineTo(end.x, end.y);\n                            this$1._connectorLines.push(connectorLine);\n                            this$1.visual.append(connectorLine);\n                        }\n                    }\n                }\n            },\n            labelComparator: function (reverse) {\n                var reverseValue = reverse ? -1 : 1;\n                return function (a, b) {\n                    var first = (a.parent.sector.middle() + 270) % 360;\n                    var second = (b.parent.sector.middle() + 270) % 360;\n                    return (first - second) * reverseValue;\n                };\n            },\n            hAlignLabel: function (originalX, sector, y1, y2, direction) {\n                var radius = sector.radius;\n                var sector_center = sector.center;\n                var cx = sector_center.x;\n                var cy = sector_center.y;\n                var t = Math.min(Math.abs(cy - y1), Math.abs(cy - y2));\n                if (t > radius) {\n                    return originalX;\n                }\n                return cx + Math.sqrt(radius * radius - t * t) * (direction ? 1 : -1);\n            },\n            pointInCircle: function (point, center, radius) {\n                return Math.pow(center.x - point.x, 2) + Math.pow(center.y - point.y, 2) < Math.pow(radius, 2);\n            },\n            formatPointValue: function (point, format) {\n                return this.chartService.format.auto(format, point.value);\n            },\n            animationDelay: function (categoryIndex) {\n                return categoryIndex * PIE_SECTOR_ANIM_DELAY;\n            }\n        });\n        function intersection(a1, a2, b1, b2) {\n            var uat = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);\n            var ub = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n            var result;\n            if (ub !== 0) {\n                var ua = uat / ub;\n                result = new Point(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y));\n            }\n            return result;\n        }\n        setDefaultOptions(PieChart, {\n            startAngle: 90,\n            connectors: {\n                width: 2,\n                color: '#939393',\n                padding: 8\n            },\n            inactiveItems: {\n                markers: {},\n                labels: {}\n            }\n        });\n        deepExtend(PieChart.prototype, PieChartMixin);\n        var PiePlotArea = PlotAreaBase.extend({\n            render: function () {\n                this.createPieChart(this.series);\n            },\n            createPieChart: function (series) {\n                var firstSeries = series[0];\n                var pieChart = new PieChart(this, {\n                    series: series,\n                    padding: firstSeries.padding,\n                    startAngle: firstSeries.startAngle,\n                    connectors: firstSeries.connectors,\n                    legend: this.options.legend\n                });\n                this.appendChart(pieChart);\n            },\n            appendChart: function (chart, pane) {\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\n                append(this.options.legend.items, chart.legendItems);\n            }\n        });\n        var DonutSegment = PieSegment.extend({\n            reflowLabel: function () {\n                var ref = this;\n                var labelsOptions = ref.options.labels;\n                var label = ref.label;\n                var sector = this.sector.clone();\n                var angle = sector.middle();\n                if (label) {\n                    var labelHeight = label.box.height();\n                    if (labelsOptions.position === CENTER) {\n                        sector.radius -= (sector.radius - sector.innerRadius) / 2;\n                        var lp = sector.point(angle);\n                        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else {\n                        PieSegment.fn.reflowLabel.call(this);\n                    }\n                }\n            },\n            createSegment: function (sector, options) {\n                return dataviz.ShapeBuilder.current.createRing(sector, options);\n            }\n        });\n        setDefaultOptions(DonutSegment, {\n            overlay: { gradient: 'roundedGlass' },\n            labels: { position: CENTER },\n            animation: { type: PIE }\n        });\n        deepExtend(DonutSegment.prototype, PointEventsMixin);\n        var DONUT_SECTOR_ANIM_DELAY = 50;\n        var DonutChart = PieChart.extend({\n            addValue: function (value, sector, fields) {\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n                this.evalSegmentOptions(segmentOptions, value, fields);\n                this.createLegendItem(value, segmentOptions, fields);\n                if (!value || fields.visible === false) {\n                    return;\n                }\n                var segment = new DonutSegment(value, sector, segmentOptions);\n                $.extend(segment, fields);\n                this.append(segment);\n                this.points.push(segment);\n            },\n            reflow: function (targetBox) {\n                var this$1 = this;\n                var options = this.options;\n                var box = targetBox.clone();\n                var space = 5;\n                var minWidth = Math.min(box.width(), box.height());\n                var halfMinWidth = minWidth / 2;\n                var defaultPadding = minWidth - minWidth * 0.85;\n                var series = options.series;\n                var seriesCount = series.length;\n                var padding = valueOrDefault(options.padding, defaultPadding);\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n                var totalSize = halfMinWidth - padding;\n                var seriesWithoutSize = 0;\n                var holeSize;\n                for (var i = 0; i < seriesCount; i++) {\n                    var currentSeries = series[i];\n                    if (i === 0) {\n                        if (defined(currentSeries.holeSize)) {\n                            holeSize = currentSeries.holeSize;\n                            totalSize -= currentSeries.holeSize;\n                        }\n                    }\n                    if (defined(currentSeries.size)) {\n                        totalSize -= currentSeries.size;\n                    } else {\n                        seriesWithoutSize++;\n                    }\n                    if (defined(currentSeries.margin) && i !== seriesCount - 1) {\n                        totalSize -= currentSeries.margin;\n                    }\n                }\n                if (!defined(holeSize)) {\n                    var currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);\n                    holeSize = currentSize * 0.75;\n                    totalSize -= holeSize;\n                }\n                var innerRadius = holeSize;\n                var margin = 0;\n                var size, radius;\n                this.seriesConfigs = [];\n                for (var i$1 = 0; i$1 < seriesCount; i$1++) {\n                    var currentSeries$1 = series[i$1];\n                    size = valueOrDefault(currentSeries$1.size, totalSize / seriesWithoutSize);\n                    innerRadius += margin;\n                    radius = innerRadius + size;\n                    this$1.seriesConfigs.push({\n                        innerRadius: innerRadius,\n                        radius: radius\n                    });\n                    margin = currentSeries$1.margin || 0;\n                    innerRadius = radius;\n                }\n                PieChart.fn.reflow.call(this, targetBox);\n            },\n            animationDelay: function (categoryIndex, seriesIndex, seriesCount) {\n                return categoryIndex * DONUT_SECTOR_ANIM_DELAY + INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1);\n            }\n        });\n        setDefaultOptions(DonutChart, {\n            startAngle: 90,\n            connectors: {\n                width: 2,\n                color: '#939393',\n                padding: 8\n            }\n        });\n        var DonutPlotArea = PiePlotArea.extend({\n            render: function () {\n                this.createDonutChart(this.series);\n            },\n            createDonutChart: function (series) {\n                var firstSeries = series[0];\n                var donutChart = new DonutChart(this, {\n                    series: series,\n                    padding: firstSeries.padding,\n                    connectors: firstSeries.connectors,\n                    legend: this.options.legend\n                });\n                this.appendChart(donutChart);\n            }\n        });\n        var DEFAULT_PADDING = 0.15;\n        var PolarPlotAreaBase = PlotAreaBase.extend({\n            initFields: function () {\n                this.valueAxisRangeTracker = new AxisGroupRangeTracker();\n            },\n            render: function () {\n                this.addToLegend(this.series);\n                this.createPolarAxis();\n                this.createCharts();\n                this.createValueAxis();\n            },\n            alignAxes: function () {\n                var axis = this.valueAxis;\n                var range = axis.range();\n                var crossingValue = axis.options.reverse ? range.max : range.min;\n                var slot = axis.getSlot(crossingValue);\n                var center = this.polarAxis.getSlot(0).center;\n                var axisBox = axis.box.translate(center.x - slot.x1, center.y - slot.y1);\n                axis.reflow(axisBox);\n            },\n            createValueAxis: function () {\n                var tracker = this.valueAxisRangeTracker;\n                var defaultRange = tracker.query();\n                var axisOptions = this.valueAxisOptions({\n                    roundToMajorUnit: false,\n                    zIndex: -1\n                });\n                var axisType, axisDefaultRange;\n                if (axisOptions.type === LOGARITHMIC) {\n                    axisType = dataviz.RadarLogarithmicAxis;\n                    axisDefaultRange = {\n                        min: 0.1,\n                        max: 1\n                    };\n                } else {\n                    axisType = dataviz.RadarNumericAxis;\n                    axisDefaultRange = {\n                        min: 0,\n                        max: 1\n                    };\n                }\n                var range = tracker.query(name) || defaultRange || axisDefaultRange;\n                if (range && defaultRange) {\n                    range.min = Math.min(range.min, defaultRange.min);\n                    range.max = Math.max(range.max, defaultRange.max);\n                }\n                var valueAxis = new axisType(range.min, range.max, axisOptions, this.chartService);\n                this.valueAxis = valueAxis;\n                this.appendAxis(valueAxis);\n            },\n            reflowAxes: function () {\n                var ref = this;\n                var options = ref.options.plotArea;\n                var valueAxis = ref.valueAxis;\n                var polarAxis = ref.polarAxis;\n                var box = ref.box;\n                var defaultPadding = Math.min(box.width(), box.height()) * DEFAULT_PADDING;\n                var padding = getSpacing(options.padding || {}, defaultPadding);\n                var axisBox = box.clone().unpad(padding);\n                var valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);\n                polarAxis.reflow(axisBox);\n                valueAxis.reflow(valueAxisBox);\n                var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();\n                valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));\n                this.axisBox = axisBox;\n                this.alignAxes(axisBox);\n            },\n            backgroundBox: function () {\n                return this.box;\n            }\n        });\n        var PolarScatterChart = ScatterChart.extend({\n            pointSlot: function (slotX, slotY) {\n                var valueRadius = slotX.center.y - slotY.y1;\n                var slot = Point.onCircle(slotX.center, slotX.startAngle, valueRadius);\n                return new Box(slot.x, slot.y, slot.x, slot.y);\n            }\n        });\n        setDefaultOptions(PolarScatterChart, { clip: false });\n        var PolarLineChart = ScatterLineChart.extend({});\n        PolarLineChart.prototype.pointSlot = PolarScatterChart.prototype.pointSlot;\n        setDefaultOptions(PolarLineChart, { clip: false });\n        var SplinePolarAreaSegment = SplineAreaSegment.extend({\n            closeFill: function (fillPath) {\n                var center = this._polarAxisCenter();\n                fillPath.lineTo(center.x, center.y);\n            },\n            _polarAxisCenter: function () {\n                var polarAxis = this.parent.plotArea.polarAxis;\n                var center = polarAxis.box.center();\n                return center;\n            },\n            strokeSegments: function () {\n                var segments = this._strokeSegments;\n                if (!segments) {\n                    var center = this._polarAxisCenter();\n                    var curveProcessor = new dataviz.CurveProcessor(false);\n                    var linePoints = LineSegment.prototype.points.call(this);\n                    linePoints.push(center);\n                    segments = this._strokeSegments = curveProcessor.process(linePoints);\n                    segments.pop();\n                }\n                return segments;\n            }\n        });\n        var PolarAreaSegment = AreaSegment.extend({\n            points: function () {\n                var ref = this;\n                var polarAxis = ref.parent.plotArea.polarAxis;\n                var stackPoints = ref.stackPoints;\n                var center = polarAxis.box.center();\n                var points = LineSegment.prototype.points.call(this, stackPoints);\n                points.unshift([\n                    center.x,\n                    center.y\n                ]);\n                points.push([\n                    center.x,\n                    center.y\n                ]);\n                return points;\n            }\n        });\n        var PolarAreaChart = PolarLineChart.extend({\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var style = (currentSeries.line || {}).style;\n                var segment;\n                if (style === SMOOTH) {\n                    segment = new SplinePolarAreaSegment(linePoints, null, false, currentSeries, seriesIx);\n                } else {\n                    segment = new PolarAreaSegment(linePoints, [], currentSeries, seriesIx);\n                }\n                return segment;\n            },\n            createMissingValue: function (value, missingValues) {\n                var missingValue;\n                if (hasValue(value.x) && missingValues !== INTERPOLATE) {\n                    missingValue = {\n                        x: value.x,\n                        y: value.y\n                    };\n                    if (missingValues === ZERO) {\n                        missingValue.y = 0;\n                    }\n                }\n                return missingValue;\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues || ZERO;\n            },\n            _hasMissingValuesGap: function () {\n                var this$1 = this;\n                var series = this.options.series;\n                for (var idx = 0; idx < series.length; idx++) {\n                    if (this$1.seriesMissingValues(series[idx]) === GAP) {\n                        return true;\n                    }\n                }\n            },\n            sortPoints: function (points) {\n                var this$1 = this;\n                points.sort(xComparer);\n                if (this._hasMissingValuesGap()) {\n                    for (var idx = 0; idx < points.length; idx++) {\n                        var point = points[idx];\n                        if (point) {\n                            var value = point.value;\n                            if (!hasValue(value.y) && this$1.seriesMissingValues(point.series) === GAP) {\n                                delete points[idx];\n                            }\n                        }\n                    }\n                }\n                return points;\n            }\n        });\n        function xComparer(a, b) {\n            return a.value.x - b.value.x;\n        }\n        var PolarPlotArea = PolarPlotAreaBase.extend({\n            createPolarAxis: function () {\n                var polarAxis = new dataviz.PolarAxis(this.options.xAxis, this.chartService);\n                this.polarAxis = polarAxis;\n                this.axisX = polarAxis;\n                this.appendAxis(polarAxis);\n            },\n            valueAxisOptions: function (defaults) {\n                return deepExtend(defaults, {\n                    majorGridLines: { type: ARC },\n                    minorGridLines: { type: ARC }\n                }, this.options.yAxis);\n            },\n            createValueAxis: function () {\n                PolarPlotAreaBase.fn.createValueAxis.call(this);\n                this.axisY = this.valueAxis;\n            },\n            appendChart: function (chart, pane) {\n                this.valueAxisRangeTracker.update(chart.yAxisRanges);\n                PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n            },\n            createCharts: function () {\n                var series = this.filterVisibleSeries(this.series);\n                var pane = this.panes[0];\n                this.createLineChart(filterSeriesByType(series, [POLAR_LINE]), pane);\n                this.createScatterChart(filterSeriesByType(series, [POLAR_SCATTER]), pane);\n                this.createAreaChart(filterSeriesByType(series, [POLAR_AREA]), pane);\n            },\n            createLineChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var lineChart = new PolarLineChart(this, { series: series });\n                this.appendChart(lineChart, pane);\n            },\n            createScatterChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var scatterChart = new PolarScatterChart(this, { series: series });\n                this.appendChart(scatterChart, pane);\n            },\n            createAreaChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var areaChart = new PolarAreaChart(this, { series: series });\n                this.appendChart(areaChart, pane);\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var coords = chart._eventCoordinates(e);\n                var point = new Point(coords.x, coords.y);\n                var xValue = this.axisX.getValue(point);\n                var yValue = this.axisY.getValue(point);\n                if (xValue !== null && yValue !== null) {\n                    chart.trigger(eventType, {\n                        element: eventElement(e),\n                        x: xValue,\n                        y: yValue\n                    });\n                }\n            },\n            createCrosshairs: function () {\n            }\n        });\n        setDefaultOptions(PolarPlotArea, {\n            xAxis: {},\n            yAxis: {}\n        });\n        deepExtend(PolarPlotArea.prototype, PlotAreaEventsMixin);\n        var RadarLineChart = LineChart.extend({\n            pointSlot: function (categorySlot, valueSlot) {\n                var valueRadius = categorySlot.center.y - valueSlot.y1;\n                var slot = Point.onCircle(categorySlot.center, categorySlot.middle(), valueRadius);\n                return new Box(slot.x, slot.y, slot.x, slot.y);\n            },\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var style = currentSeries.style;\n                var pointType;\n                if (style === SMOOTH) {\n                    pointType = SplineSegment;\n                } else {\n                    pointType = LineSegment;\n                }\n                var segment = new pointType(linePoints, currentSeries, seriesIx);\n                if (linePoints.length === currentSeries.data.length) {\n                    segment.options.closed = true;\n                }\n                return segment;\n            }\n        });\n        setDefaultOptions(RadarLineChart, { clip: false });\n        var SplineRadarAreaSegment = SplineAreaSegment.extend({\n            closeFill: function () {\n            }\n        });\n        var RadarAreaSegment = AreaSegment.extend({\n            points: function () {\n                return LineSegment.prototype.points.call(this, this.stackPoints);\n            }\n        });\n        var RadarAreaChart = RadarLineChart.extend({\n            createSegment: function (linePoints, currentSeries, seriesIx, prevSegment) {\n                var isStacked = this.options.isStacked;\n                var style = (currentSeries.line || {}).style;\n                var segment;\n                if (style === SMOOTH) {\n                    segment = new SplineRadarAreaSegment(linePoints, prevSegment, isStacked, currentSeries, seriesIx);\n                    segment.options.closed = true;\n                } else {\n                    var stackPoints;\n                    if (isStacked && seriesIx > 0 && prevSegment) {\n                        stackPoints = prevSegment.linePoints.slice(0).reverse();\n                    }\n                    linePoints.push(linePoints[0]);\n                    segment = new RadarAreaSegment(linePoints, stackPoints, currentSeries, seriesIx);\n                }\n                return segment;\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues || ZERO;\n            }\n        });\n        var RadarSegment = DonutSegment.extend({\n            init: function (value, options) {\n                DonutSegment.fn.init.call(this, value, null, options);\n            }\n        });\n        setDefaultOptions(RadarSegment, {\n            overlay: { gradient: 'none' },\n            labels: { distance: 10 }\n        });\n        var RadarClusterLayout = ChartElement.extend({\n            reflow: function (sector) {\n                var ref = this;\n                var options = ref.options;\n                var children = ref.children;\n                var gap = options.gap;\n                var spacing = options.spacing;\n                var count = children.length;\n                var slots = count + gap + spacing * (count - 1);\n                var slotAngle = sector.angle / slots;\n                var angle = sector.startAngle + slotAngle * (gap / 2);\n                for (var i = 0; i < count; i++) {\n                    var slotSector = sector.clone();\n                    slotSector.startAngle = angle;\n                    slotSector.angle = slotAngle;\n                    if (children[i].sector) {\n                        slotSector.radius = children[i].sector.radius;\n                    }\n                    children[i].reflow(slotSector);\n                    children[i].sector = slotSector;\n                    angle += slotAngle + slotAngle * spacing;\n                }\n            }\n        });\n        setDefaultOptions(RadarClusterLayout, {\n            gap: 1,\n            spacing: 0\n        });\n        var RadarStackLayout = ChartElement.extend({\n            reflow: function (sector) {\n                var ref = this;\n                var reverse = ref.options.reverse;\n                var children = ref.children;\n                var childrenCount = children.length;\n                var first = reverse ? childrenCount - 1 : 0;\n                var step = reverse ? -1 : 1;\n                this.box = new Box();\n                for (var i = first; i >= 0 && i < childrenCount; i += step) {\n                    var childSector = children[i].sector;\n                    childSector.startAngle = sector.startAngle;\n                    childSector.angle = sector.angle;\n                }\n            }\n        });\n        var RadarBarChart = BarChart.extend({\n            pointType: function () {\n                return RadarSegment;\n            },\n            clusterType: function () {\n                return RadarClusterLayout;\n            },\n            stackType: function () {\n                return RadarStackLayout;\n            },\n            categorySlot: function (categoryAxis, categoryIx) {\n                return categoryAxis.getSlot(categoryIx);\n            },\n            pointSlot: function (categorySlot, valueSlot) {\n                var slot = categorySlot.clone();\n                var y = categorySlot.center.y;\n                slot.radius = y - valueSlot.y1;\n                slot.innerRadius = y - valueSlot.y2;\n                return slot;\n            },\n            reflowPoint: function (point, pointSlot) {\n                point.sector = pointSlot;\n                point.reflow();\n            },\n            createAnimation: function () {\n                this.options.animation.center = this.box.toRect().center();\n                BarChart.fn.createAnimation.call(this);\n            }\n        });\n        RadarBarChart.prototype.reflow = CategoricalChart.prototype.reflow;\n        setDefaultOptions(RadarBarChart, {\n            clip: false,\n            animation: { type: 'pie' }\n        });\n        var RadarPlotArea = PolarPlotAreaBase.extend({\n            createPolarAxis: function () {\n                var categoryAxis = new dataviz.RadarCategoryAxis(this.options.categoryAxis, this.chartService);\n                this.polarAxis = categoryAxis;\n                this.categoryAxis = categoryAxis;\n                this.appendAxis(categoryAxis);\n                this.aggregateCategories();\n                this.createCategoryAxesLabels();\n            },\n            valueAxisOptions: function (defaults) {\n                if (this._hasBarCharts) {\n                    deepExtend(defaults, {\n                        majorGridLines: { type: ARC },\n                        minorGridLines: { type: ARC }\n                    });\n                }\n                if (this._isStacked100) {\n                    deepExtend(defaults, {\n                        roundToMajorUnit: false,\n                        labels: { format: 'P0' }\n                    });\n                }\n                return deepExtend(defaults, this.options.valueAxis);\n            },\n            aggregateCategories: function () {\n                CategoricalPlotArea.prototype.aggregateCategories.call(this, this.panes);\n            },\n            createCategoryAxesLabels: function () {\n                CategoricalPlotArea.prototype.createCategoryAxesLabels.call(this, this.panes);\n            },\n            filterSeries: function (currentSeries) {\n                return currentSeries;\n            },\n            createCharts: function () {\n                var series = this.filterVisibleSeries(this.series);\n                var pane = this.panes[0];\n                this.createAreaChart(filterSeriesByType(series, [RADAR_AREA]), pane);\n                this.createLineChart(filterSeriesByType(series, [RADAR_LINE]), pane);\n                this.createBarChart(filterSeriesByType(series, [RADAR_COLUMN]), pane);\n            },\n            chartOptions: function (series) {\n                var options = { series: series };\n                var firstSeries = series[0];\n                if (firstSeries) {\n                    var filteredSeries = this.filterVisibleSeries(series);\n                    var stack = firstSeries.stack;\n                    options.isStacked = stack && filteredSeries.length > 1;\n                    options.isStacked100 = stack && stack.type === '100%' && filteredSeries.length > 1;\n                    if (options.isStacked100) {\n                        this._isStacked100 = true;\n                    }\n                }\n                return options;\n            },\n            createAreaChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var areaChart = new RadarAreaChart(this, this.chartOptions(series));\n                this.appendChart(areaChart, pane);\n            },\n            createLineChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var lineChart = new RadarLineChart(this, this.chartOptions(series));\n                this.appendChart(lineChart, pane);\n            },\n            createBarChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var firstSeries = series[0];\n                var options = this.chartOptions(series);\n                options.gap = firstSeries.gap;\n                options.spacing = firstSeries.spacing;\n                var barChart = new RadarBarChart(this, options);\n                this.appendChart(barChart, pane);\n                this._hasBarCharts = true;\n            },\n            seriesCategoryAxis: function () {\n                return this.categoryAxis;\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var coords = chart._eventCoordinates(e);\n                var point = new Point(coords.x, coords.y);\n                var category = this.categoryAxis.getCategory(point);\n                var value = this.valueAxis.getValue(point);\n                if (category !== null && value !== null) {\n                    chart.trigger(eventType, {\n                        element: eventElement(e),\n                        category: category,\n                        value: value\n                    });\n                }\n            },\n            createCrosshairs: function () {\n            }\n        });\n        deepExtend(RadarPlotArea.prototype, PlotAreaEventsMixin, {\n            appendChart: CategoricalPlotArea.prototype.appendChart,\n            aggregateSeries: CategoricalPlotArea.prototype.aggregateSeries\n        });\n        setDefaultOptions(RadarPlotArea, {\n            categoryAxis: { categories: [] },\n            valueAxis: {}\n        });\n        var FunnelSegment = ChartElement.extend({\n            init: function (value, options, segmentOptions) {\n                ChartElement.fn.init.call(this, options);\n                this.value = value;\n                this.options.index = segmentOptions.index;\n            },\n            reflow: function (chartBox) {\n                var points = this.points;\n                var label = this.children[0];\n                this.box = new Box(points[0].x, points[0].y, points[1].x, points[2].y);\n                if (label) {\n                    label.reflow(new Box(chartBox.x1, points[0].y, chartBox.x2, points[2].y));\n                }\n            },\n            createVisual: function () {\n                var this$1 = this;\n                var options = this.options;\n                var visual;\n                ChartElement.fn.createVisual.call(this);\n                if (options.visual) {\n                    visual = options.visual({\n                        category: this.category,\n                        dataItem: this.dataItem,\n                        value: this.value,\n                        series: this.series,\n                        percentage: this.percentage,\n                        points: this.points,\n                        options: options,\n                        sender: this.getSender(),\n                        createVisual: function () {\n                            return this$1.createPath();\n                        }\n                    });\n                } else {\n                    visual = this.createPath();\n                }\n                if (visual) {\n                    this.visual.append(visual);\n                }\n            },\n            createPath: function () {\n                var options = this.options;\n                var border = options.border;\n                var path = Path.fromPoints(this.points, {\n                    fill: {\n                        color: options.color,\n                        opacity: options.opacity\n                    },\n                    stroke: {\n                        color: border.color,\n                        opacity: border.opacity,\n                        width: border.width\n                    }\n                }).close();\n                return path;\n            },\n            createHighlight: function (style) {\n                return Path.fromPoints(this.points, style);\n            },\n            highlightVisual: function () {\n                return this.visual.children[0];\n            },\n            highlightVisualArgs: function () {\n                var path = Path.fromPoints(this.points).close();\n                return {\n                    options: this.options,\n                    path: path\n                };\n            },\n            tooltipAnchor: function () {\n                var box = this.box;\n                return {\n                    point: new Point(box.center().x, box.y1),\n                    align: {\n                        horizontal: 'center',\n                        vertical: 'top'\n                    }\n                };\n            },\n            formatValue: function (format) {\n                var point = this;\n                return point.owner.formatPointValue(point, format);\n            }\n        });\n        setDefaultOptions(FunnelSegment, {\n            color: WHITE,\n            border: { width: 1 }\n        });\n        deepExtend(FunnelSegment.prototype, PointEventsMixin);\n        var FunnelChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                ChartElement.fn.init.call(this, options);\n                this.plotArea = plotArea;\n                this.points = [];\n                this.labels = [];\n                this.legendItems = [];\n                this.render();\n            },\n            formatPointValue: function (point, format) {\n                return this.chartService.format.auto(format, point.value);\n            },\n            render: function () {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var seriesColors = ref.plotArea.options.seriesColors;\n                if (seriesColors === void 0) {\n                    seriesColors = [];\n                }\n                var series = options.series[0];\n                var data = series.data;\n                if (!data) {\n                    return;\n                }\n                var total = seriesTotal(series);\n                for (var i = 0; i < data.length; i++) {\n                    var pointData = SeriesBinder.current.bindPoint(series, i);\n                    var value = pointData.valueFields.value;\n                    if (value === null || value === undefined) {\n                        continue;\n                    }\n                    var fields = pointData.fields;\n                    if (!isFunction(series.color)) {\n                        series.color = fields.color || seriesColors[i % seriesColors.length];\n                    }\n                    var visible = segmentVisible(series, fields, i);\n                    fields = deepExtend({\n                        index: i,\n                        owner: this$1,\n                        series: series,\n                        dataItem: data[i],\n                        percentage: Math.abs(value) / total\n                    }, fields, { visible: visible });\n                    var segment = this$1.createSegment(value, fields);\n                    var label = this$1.createLabel(value, fields);\n                    if (segment && label) {\n                        segment.append(label);\n                    }\n                }\n            },\n            evalSegmentOptions: function (options, value, fields) {\n                var series = fields.series;\n                evalOptions(options, {\n                    value: value,\n                    series: series,\n                    dataItem: fields.dataItem,\n                    index: fields.index\n                }, {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'toggle',\n                        'visual'\n                    ]\n                });\n            },\n            createSegment: function (value, fields) {\n                var seriesOptions = deepExtend({}, fields.series);\n                this.evalSegmentOptions(seriesOptions, value, fields);\n                this.createLegendItem(value, seriesOptions, fields);\n                if (fields.visible !== false) {\n                    var segment = new FunnelSegment(value, seriesOptions, fields);\n                    $.extend(segment, fields);\n                    this.append(segment);\n                    this.points.push(segment);\n                    return segment;\n                }\n            },\n            createLabel: function (value, fields) {\n                var series = fields.series;\n                var dataItem = fields.dataItem;\n                var labels = deepExtend({}, this.options.labels, series.labels);\n                var text = value;\n                if (labels.visible) {\n                    if (labels.template) {\n                        var labelTemplate = TemplateService.compile(labels.template);\n                        text = labelTemplate({\n                            dataItem: dataItem,\n                            value: value,\n                            percentage: fields.percentage,\n                            category: fields.category,\n                            series: series\n                        });\n                    } else if (labels.format) {\n                        text = this.plotArea.chartService.format.auto(labels.format, text);\n                    }\n                    if (!labels.color) {\n                        var brightnessValue = new Color(series.color).percBrightness();\n                        if (brightnessValue > 180) {\n                            labels.color = BLACK;\n                        } else {\n                            labels.color = WHITE;\n                        }\n                        if (!labels.background) {\n                            labels.background = series.color;\n                        }\n                    }\n                    this.evalSegmentOptions(labels, value, fields);\n                    var textBox = new TextBox(text, deepExtend({ vAlign: labels.position }, labels));\n                    this.labels.push(textBox);\n                    return textBox;\n                }\n            },\n            labelPadding: function () {\n                var labels = this.labels;\n                var padding = {\n                    left: 0,\n                    right: 0\n                };\n                for (var i = 0; i < labels.length; i++) {\n                    var label = labels[i];\n                    var align = label.options.align;\n                    if (align !== CENTER) {\n                        var width = labels[i].box.width();\n                        if (align === LEFT) {\n                            padding.left = Math.max(padding.left, width);\n                        } else {\n                            padding.right = Math.max(padding.right, width);\n                        }\n                    }\n                }\n                return padding;\n            },\n            dynamicSlopeReflow: function (box, width, totalHeight) {\n                var ref = this;\n                var options = ref.options;\n                var segments = ref.points;\n                var count = segments.length;\n                var firstSegment = segments[0];\n                var maxSegment = firstSegment;\n                for (var idx = 0; idx < segments.length; idx++) {\n                    if (segments[idx].percentage > maxSegment.percentage) {\n                        maxSegment = segments[idx];\n                    }\n                }\n                var lastUpperSide = firstSegment.percentage / maxSegment.percentage * width;\n                var previousOffset = (width - lastUpperSide) / 2;\n                var previousHeight = 0;\n                for (var idx$1 = 0; idx$1 < count; idx$1++) {\n                    var percentage = segments[idx$1].percentage;\n                    var nextSegment = segments[idx$1 + 1];\n                    var nextPercentage = nextSegment ? nextSegment.percentage : percentage;\n                    var points = segments[idx$1].points = [];\n                    var height = options.dynamicHeight ? totalHeight * percentage : totalHeight / count;\n                    var offset = void 0;\n                    if (!percentage) {\n                        offset = nextPercentage ? 0 : width / 2;\n                    } else {\n                        offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;\n                    }\n                    offset = limitValue(offset, 0, width);\n                    points.push(new GeometryPoint(box.x1 + previousOffset, box.y1 + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + width - previousOffset, box.y1 + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + width - offset, box.y1 + height + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + offset, box.y1 + height + previousHeight));\n                    previousOffset = offset;\n                    previousHeight += height + options.segmentSpacing;\n                    lastUpperSide = limitValue(width - 2 * offset, 0, width);\n                }\n            },\n            constantSlopeReflow: function (box, width, totalHeight) {\n                var ref = this;\n                var options = ref.options;\n                var segments = ref.points;\n                var count = segments.length;\n                var decreasingWidth = options.neckRatio <= 1;\n                var neckRatio = decreasingWidth ? options.neckRatio * width : width;\n                var previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2;\n                var topMostWidth = decreasingWidth ? width : width - previousOffset * 2;\n                var finalNarrow = (topMostWidth - neckRatio) / 2;\n                var previousHeight = 0;\n                for (var idx = 0; idx < count; idx++) {\n                    var points = segments[idx].points = [];\n                    var percentage = segments[idx].percentage;\n                    var offset = options.dynamicHeight ? finalNarrow * percentage : finalNarrow / count;\n                    var height = options.dynamicHeight ? totalHeight * percentage : totalHeight / count;\n                    points.push(new GeometryPoint(box.x1 + previousOffset, box.y1 + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + width - previousOffset, box.y1 + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));\n                    points.push(new GeometryPoint(box.x1 + previousOffset + offset, box.y1 + height + previousHeight));\n                    previousOffset += offset;\n                    previousHeight += height + options.segmentSpacing;\n                }\n            },\n            reflow: function (chartBox) {\n                var points = this.points;\n                var count = points.length;\n                if (!count) {\n                    return;\n                }\n                var options = this.options;\n                var box = chartBox.clone().unpad(this.labelPadding());\n                var totalHeight = box.height() - options.segmentSpacing * (count - 1);\n                var width = box.width();\n                if (options.dynamicSlope) {\n                    this.dynamicSlopeReflow(box, width, totalHeight);\n                } else {\n                    this.constantSlopeReflow(box, width, totalHeight);\n                }\n                for (var idx = 0; idx < count; idx++) {\n                    points[idx].reflow(chartBox);\n                }\n            }\n        });\n        setDefaultOptions(FunnelChart, {\n            neckRatio: 0.3,\n            width: 300,\n            dynamicSlope: false,\n            dynamicHeight: true,\n            segmentSpacing: 0,\n            labels: {\n                visible: false,\n                align: CENTER,\n                position: CENTER,\n                zIndex: 1\n            }\n        });\n        deepExtend(FunnelChart.prototype, PieChartMixin);\n        var FunnelPlotArea = PlotAreaBase.extend({\n            render: function () {\n                this.createFunnelChart(this.series);\n            },\n            createFunnelChart: function (series) {\n                var firstSeries = series[0];\n                var funnelChart = new FunnelChart(this, {\n                    series: series,\n                    legend: this.options.legend,\n                    neckRatio: firstSeries.neckRatio,\n                    dynamicHeight: firstSeries.dynamicHeight,\n                    dynamicSlope: firstSeries.dynamicSlope,\n                    segmentSpacing: firstSeries.segmentSpacing,\n                    highlight: firstSeries.highlight\n                });\n                this.appendChart(funnelChart);\n            },\n            appendChart: function (chart, pane) {\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\n                append(this.options.legend.items, chart.legendItems);\n            }\n        });\n        var COLOR = 'color';\n        var FIRST = 'first';\n        var FROM = 'from';\n        var MAX = 'max';\n        var MIN = 'min';\n        var NOTE_TEXT = 'noteText';\n        var SUMMARY_FIELD = 'summary';\n        var TO = 'to';\n        PlotAreaFactory.current.register(CategoricalPlotArea, [\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA,\n            CANDLESTICK,\n            OHLC,\n            BULLET,\n            VERTICAL_BULLET,\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT,\n            RANGE_COLUMN,\n            RANGE_BAR,\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ]);\n        PlotAreaFactory.current.register(XYPlotArea, [\n            SCATTER,\n            SCATTER_LINE,\n            BUBBLE\n        ]);\n        PlotAreaFactory.current.register(PiePlotArea, [PIE]);\n        PlotAreaFactory.current.register(DonutPlotArea, [DONUT]);\n        PlotAreaFactory.current.register(FunnelPlotArea, [FUNNEL]);\n        PlotAreaFactory.current.register(PolarPlotArea, [\n            POLAR_AREA,\n            POLAR_LINE,\n            POLAR_SCATTER\n        ]);\n        PlotAreaFactory.current.register(RadarPlotArea, [\n            RADAR_AREA,\n            RADAR_COLUMN,\n            RADAR_LINE\n        ]);\n        SeriesBinder.current.register([\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT,\n            ERROR_LOW_FIELD,\n            ERROR_HIGH_FIELD\n        ]);\n        SeriesBinder.current.register([\n            RANGE_COLUMN,\n            RANGE_BAR\n        ], [\n            FROM,\n            TO\n        ], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT\n        ]);\n        SeriesBinder.current.register([\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT,\n            SUMMARY_FIELD\n        ]);\n        SeriesBinder.current.register([\n            POLAR_AREA,\n            POLAR_LINE,\n            POLAR_SCATTER\n        ], [\n            X,\n            Y\n        ], [COLOR]);\n        SeriesBinder.current.register([\n            RADAR_AREA,\n            RADAR_COLUMN,\n            RADAR_LINE\n        ], [VALUE], [COLOR]);\n        SeriesBinder.current.register([FUNNEL], [VALUE], [\n            CATEGORY,\n            COLOR,\n            'visibleInLegend',\n            'visible'\n        ]);\n        DefaultAggregates.current.register([\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA,\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ], {\n            value: MAX,\n            color: FIRST,\n            noteText: FIRST,\n            errorLow: MIN,\n            errorHigh: MAX\n        });\n        DefaultAggregates.current.register([\n            RANGE_COLUMN,\n            RANGE_BAR\n        ], {\n            from: MIN,\n            to: MAX,\n            color: FIRST,\n            noteText: FIRST\n        });\n        DefaultAggregates.current.register([\n            RADAR_AREA,\n            RADAR_COLUMN,\n            RADAR_LINE\n        ], {\n            value: MAX,\n            color: FIRST\n        });\n        SeriesBinder.current.register([\n            SCATTER,\n            SCATTER_LINE,\n            BUBBLE\n        ], [\n            X,\n            Y\n        ], [\n            COLOR,\n            NOTE_TEXT,\n            X_ERROR_LOW_FIELD,\n            X_ERROR_HIGH_FIELD,\n            Y_ERROR_LOW_FIELD,\n            Y_ERROR_HIGH_FIELD\n        ]);\n        SeriesBinder.current.register([BUBBLE], [\n            X,\n            Y,\n            'size'\n        ], [\n            COLOR,\n            CATEGORY,\n            NOTE_TEXT\n        ]);\n        SeriesBinder.current.register([\n            CANDLESTICK,\n            OHLC\n        ], [\n            'open',\n            'high',\n            'low',\n            'close'\n        ], [\n            CATEGORY,\n            COLOR,\n            'downColor',\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            CANDLESTICK,\n            OHLC\n        ], {\n            open: MAX,\n            high: MAX,\n            low: MIN,\n            close: MAX,\n            color: FIRST,\n            downColor: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT\n        ], [\n            'lower',\n            'q1',\n            'median',\n            'q3',\n            'upper',\n            'mean',\n            'outliers'\n        ], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT\n        ], {\n            lower: MAX,\n            q1: MAX,\n            median: MAX,\n            q3: MAX,\n            upper: MAX,\n            mean: MAX,\n            outliers: FIRST,\n            color: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            BULLET,\n            VERTICAL_BULLET\n        ], [\n            'current',\n            'target'\n        ], [\n            CATEGORY,\n            COLOR,\n            'visibleInLegend',\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            BULLET,\n            VERTICAL_BULLET\n        ], {\n            current: MAX,\n            target: MAX,\n            color: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            PIE,\n            DONUT\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            'explode',\n            'visibleInLegend',\n            'visible'\n        ]);\n        var AXIS_NAMES = [\n            CATEGORY,\n            VALUE,\n            X,\n            Y\n        ];\n        var MOUSEMOVE = 'mousemove';\n        var CONTEXTMENU = 'contextmenu';\n        var MOUSEMOVE_DELAY = 20;\n        var Chart = Class.extend({\n            init: function (element, userOptions, themeOptions, context) {\n                var this$1 = this;\n                if (context === void 0) {\n                    context = {};\n                }\n                this.observers = [];\n                this.addObserver(context.observer);\n                this.chartService = new services.ChartService(this, context);\n                this.chartService.theme = themeOptions;\n                this._initElement(element);\n                var options = deepExtend({}, this.options, userOptions);\n                this._originalOptions = deepExtend({}, options);\n                this._theme = themeOptions;\n                this._initTheme(options, themeOptions);\n                this._initSurface();\n                this._initHandlers();\n                this._bindCategories();\n                dataviz.FontLoader.preloadFonts(userOptions, function () {\n                    if (!this$1._destroyed) {\n                        this$1._redraw();\n                        this$1._attachEvents();\n                    }\n                });\n            },\n            _initElement: function (element) {\n                this._setElementClass(element);\n                element.style.position = 'relative';\n                while (element.firstChild) {\n                    element.removeChild(element.firstChild);\n                }\n                this.element = element;\n            },\n            _setElementClass: function (element) {\n                dataviz.addClass(element, 'k-chart');\n            },\n            _initTheme: function (options, themeOptions) {\n                var seriesCopies = [];\n                var series = options.series || [];\n                for (var i = 0; i < series.length; i++) {\n                    seriesCopies.push($.extend({}, series[i]));\n                }\n                options.series = seriesCopies;\n                resolveAxisAliases(options);\n                this._applyDefaults(options, themeOptions);\n                if (options.seriesColors === null) {\n                    delete options.seriesColors;\n                }\n                this.options = deepExtend({}, themeOptions, options);\n                this._applySeriesColors();\n            },\n            getSize: function () {\n                return {\n                    width: this.element.offsetWidth,\n                    height: this.element.offsetHeight\n                };\n            },\n            resize: function (force) {\n                var size = this.getSize();\n                var currentSize = this._size;\n                if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                    this._size = size;\n                    this._resize(size, force);\n                    this.trigger('resize', size);\n                }\n            },\n            _resize: function () {\n                this._noTransitionsRedraw();\n            },\n            redraw: function (paneName) {\n                this._applyDefaults(this.options);\n                this._applySeriesColors();\n                if (paneName) {\n                    var plotArea = this._model._plotArea;\n                    var pane = plotArea.findPane(paneName);\n                    plotArea.redraw(pane);\n                } else {\n                    this._redraw();\n                }\n            },\n            getAxis: function (name) {\n                var axes = this._plotArea.axes;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    if (axes[idx].options.name === name) {\n                        return new ChartAxis(axes[idx]);\n                    }\n                }\n            },\n            findAxisByName: function (name) {\n                return this.getAxis(name);\n            },\n            plotArea: function () {\n                return new ChartPlotArea(this._plotArea);\n            },\n            toggleHighlight: function (show, filter) {\n                var plotArea = this._plotArea;\n                var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\n                var points;\n                if (isFunction(filter)) {\n                    points = plotArea.filterPoints(filter);\n                } else {\n                    var seriesName, categoryName;\n                    if (isObject(filter)) {\n                        seriesName = filter.series;\n                        categoryName = filter.category;\n                    } else {\n                        seriesName = categoryName = filter;\n                    }\n                    if (firstSeries.type === DONUT) {\n                        points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\n                    } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {\n                        points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\n                    } else {\n                        points = plotArea.pointsBySeriesName(seriesName);\n                    }\n                }\n                if (points) {\n                    this._togglePointsHighlight(show, points);\n                }\n            },\n            _togglePointsHighlight: function (show, points) {\n                var highlight = this._highlight;\n                for (var idx = 0; idx < points.length; idx++) {\n                    highlight.togglePointHighlight(points[idx], show);\n                }\n            },\n            showTooltip: function (filter) {\n                var shared = this._sharedTooltip();\n                var ref = this;\n                var tooltip = ref._tooltip;\n                var plotArea = ref._plotArea;\n                var point, categoryIndex;\n                if (isFunction(filter)) {\n                    point = plotArea.findPoint(filter);\n                    if (point && shared) {\n                        categoryIndex = point.categoryIx;\n                    }\n                } else if (shared && defined(filter)) {\n                    categoryIndex = plotArea.categoryAxis.categoryIndex(filter);\n                }\n                if (shared) {\n                    if (categoryIndex >= 0) {\n                        var points = this._plotArea.pointsByCategoryIndex(categoryIndex);\n                        tooltip.showAt(points);\n                    }\n                } else if (point) {\n                    tooltip.show(point);\n                }\n            },\n            hideTooltip: function () {\n                this._tooltip.hide();\n            },\n            _initSurface: function () {\n                var surface = this.surface;\n                var wrap = this._surfaceWrap();\n                var chartArea = this.options.chartArea;\n                if (chartArea.width) {\n                    dataviz.elementSize(wrap, { width: chartArea.width });\n                }\n                if (chartArea.height) {\n                    dataviz.elementSize(wrap, { height: chartArea.height });\n                }\n                if (!surface || surface.options.type !== this.options.renderAs) {\n                    if (surface) {\n                        surface.destroy();\n                    }\n                    this.surface = drawing.Surface.create(wrap, { type: this.options.renderAs });\n                } else {\n                    this.surface.clear();\n                    this.surface.resize();\n                }\n            },\n            _surfaceWrap: function () {\n                return this.element;\n            },\n            _redraw: function () {\n                var model = this._getModel();\n                this._destroyView();\n                this._model = model;\n                this._plotArea = model._plotArea;\n                model.renderVisual();\n                if (this.options.transitions !== false) {\n                    model.traverse(function (element) {\n                        if (element.animation) {\n                            element.animation.setup();\n                        }\n                    });\n                }\n                this._initSurface();\n                this.surface.draw(model.visual);\n                if (this.options.transitions !== false) {\n                    model.traverse(function (element) {\n                        if (element.animation) {\n                            element.animation.play();\n                        }\n                    });\n                }\n                this._tooltip = this._createTooltip();\n                this._highlight = new Highlight();\n                this._setupSelection();\n                this._createPannable();\n                this._createZoomSelection();\n                this._createMousewheelZoom();\n                this.trigger(RENDER);\n                if (!this._navState) {\n                    this._cancelDomEvents();\n                }\n            },\n            exportVisual: function (options) {\n                var visual;\n                if (options && (options.width || options.height)) {\n                    var chartArea = this.options.chartArea;\n                    var originalChartArea = this._originalOptions.chartArea;\n                    deepExtend(chartArea, options);\n                    var model = this._getModel();\n                    chartArea.width = originalChartArea.width;\n                    chartArea.height = originalChartArea.height;\n                    model.renderVisual();\n                    visual = model.visual;\n                } else {\n                    visual = this.surface.exportVisual();\n                }\n                return visual;\n            },\n            _sharedTooltip: function () {\n                return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip.shared;\n            },\n            _createPannable: function () {\n                var options = this.options;\n                if (options.pannable !== false) {\n                    this._pannable = new Pannable(this._plotArea, options.pannable);\n                }\n            },\n            _createZoomSelection: function () {\n                var zoomable = this.options.zoomable;\n                var selection = (zoomable || {}).selection;\n                if (zoomable !== false && selection !== false) {\n                    this._zoomSelection = new ZoomSelection(this, selection);\n                }\n            },\n            _createMousewheelZoom: function () {\n                var zoomable = this.options.zoomable;\n                var mousewheel = (zoomable || {}).mousewheel;\n                if (zoomable !== false && mousewheel !== false) {\n                    this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\n                }\n            },\n            _createTooltip: function () {\n                var ref = this;\n                var tooltipOptions = ref.options.tooltip;\n                var tooltip;\n                if (this._sharedTooltip()) {\n                    tooltip = new SharedTooltip(this._plotArea, tooltipOptions);\n                } else {\n                    tooltip = new Tooltip(this.chartService, tooltipOptions);\n                }\n                return tooltip;\n            },\n            _applyDefaults: function (options, themeOptions) {\n                applyAxisDefaults(options, themeOptions);\n                applySeriesDefaults(options, themeOptions);\n            },\n            _applySeriesColors: function () {\n                var options = this.options;\n                var series = options.series;\n                var colors = options.seriesColors || [];\n                for (var i = 0; i < series.length; i++) {\n                    var currentSeries = series[i];\n                    var seriesColor = colors[i % colors.length];\n                    var defaults = currentSeries._defaults;\n                    currentSeries.color = currentSeries.color || seriesColor;\n                    if (defaults) {\n                        defaults.color = defaults.color || seriesColor;\n                    }\n                }\n            },\n            _getModel: function () {\n                var options = this.options;\n                var plotArea = this._createPlotArea();\n                var model = new dataviz.RootElement(this._modelOptions());\n                model.chart = this;\n                model._plotArea = plotArea;\n                dataviz.Title.buildTitle(options.title, model);\n                if (options.legend.visible) {\n                    model.append(new Legend(plotArea.options.legend, this.chartService));\n                }\n                model.append(plotArea);\n                model.reflow();\n                return model;\n            },\n            _modelOptions: function () {\n                var ref = this;\n                var options = ref.options;\n                var element = ref.element;\n                var size = dataviz.elementSize(element);\n                this._size = null;\n                return deepExtend({\n                    width: Math.floor(size.width) || datavizConstants.DEFAULT_WIDTH,\n                    height: Math.floor(size.height) || datavizConstants.DEFAULT_HEIGHT,\n                    transitions: options.transitions\n                }, options.chartArea);\n            },\n            _createPlotArea: function (skipSeries) {\n                var options = this.options;\n                var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);\n                return plotArea;\n            },\n            _hasSelection: function () {\n                return this._selections && this._selections.length;\n            },\n            _setupSelection: function () {\n                var this$1 = this;\n                var ref = this;\n                var axes = ref._plotArea.axes;\n                var selections = this._selections = [];\n                for (var i = 0; i < axes.length; i++) {\n                    var axis = axes[i];\n                    var options = axis.options;\n                    if (axis instanceof CategoryAxis && options.select && !options.vertical) {\n                        var min = 0;\n                        var max = options.categories.length - 1;\n                        if (axis instanceof DateCategoryAxis) {\n                            min = options.categories[min];\n                            max = options.categories[max];\n                        }\n                        if (!options.justified) {\n                            if (axis instanceof DateCategoryAxis) {\n                                max = dataviz.addDuration(max, 1, options.baseUnit, options.weekStartDay);\n                            } else {\n                                max++;\n                            }\n                        }\n                        var selection = new Selection(this$1, axis, deepExtend({\n                            min: min,\n                            max: max\n                        }, options.select));\n                        selections.push(selection);\n                    }\n                }\n            },\n            _selectStart: function (e) {\n                return this.trigger(SELECT_START, e);\n            },\n            _select: function (e) {\n                return this.trigger(SELECT, e);\n            },\n            _selectEnd: function (e) {\n                return this.trigger(SELECT_END, e);\n            },\n            _initHandlers: function () {\n                this._clickHandler = this._click.bind(this);\n                this._mousewheelHandler = this._mousewheel.bind(this);\n                this._surfaceMouseenterHandler = this._mouseover.bind(this);\n                this._surfaceMouseleaveHandler = this._mouseout.bind(this);\n                this._mousemove = kendo.throttle(this._mousemove.bind(this), MOUSEMOVE_DELAY);\n            },\n            addObserver: function (observer) {\n                if (observer) {\n                    this.observers.push(observer);\n                }\n            },\n            removeObserver: function (observer) {\n                var index = this.observers.indexOf(observer);\n                if (index >= 0) {\n                    this.observers.splice(index, 1);\n                }\n            },\n            requiresHandlers: function (eventNames) {\n                var observers = this.observers;\n                for (var idx = 0; idx < observers.length; idx++) {\n                    if (observers[idx].requiresHandlers(eventNames)) {\n                        return true;\n                    }\n                }\n            },\n            trigger: function (name, args) {\n                if (args === void 0) {\n                    args = {};\n                }\n                if (name === SHOW_TOOLTIP) {\n                    args.anchor.point = this._toDocumentCoordinates(args.anchor.point);\n                }\n                args.sender = this;\n                var observers = this.observers;\n                var isDefaultPrevented = false;\n                for (var idx = 0; idx < observers.length; idx++) {\n                    if (observers[idx].trigger(name, args)) {\n                        isDefaultPrevented = true;\n                    }\n                }\n                return isDefaultPrevented;\n            },\n            _attachEvents: function () {\n                var ref = this;\n                var element = ref.element;\n                var surface = ref.surface;\n                surface.bind('mouseenter', this._surfaceMouseenterHandler);\n                surface.bind('mouseleave', this._surfaceMouseleaveHandler);\n                var obj;\n                bindEvents(element, (obj = {}, obj[CONTEXTMENU] = this._clickHandler, obj[MOUSEWHEEL] = this._mousewheelHandler, obj));\n                if (this._shouldAttachMouseMove()) {\n                    var obj$1;\n                    bindEvents(element, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mousemove, obj$1));\n                }\n                this.domEvents = services.DomEventsBuilder.create(this.element, {\n                    start: this._start.bind(this),\n                    move: this._move.bind(this),\n                    end: this._end.bind(this),\n                    tap: this._tap.bind(this),\n                    gesturestart: this._gesturestart.bind(this),\n                    gesturechange: this._gesturechange.bind(this),\n                    gestureend: this._gestureend.bind(this)\n                });\n            },\n            _cancelDomEvents: function () {\n                if (this.domEvents && this.domEvents.cancel) {\n                    this.domEvents.cancel();\n                }\n            },\n            _gesturestart: function (e) {\n                if (this._mousewheelZoom && !this._stopDragEvent(e)) {\n                    this._gestureDistance = e.distance;\n                    this._unsetActivePoint();\n                    this.surface.suspendTracking();\n                }\n            },\n            _gestureend: function (e) {\n                if (this._zooming && !this._stopDragEvent(e)) {\n                    if (this.surface) {\n                        this.surface.resumeTracking();\n                    }\n                    this._zooming = false;\n                    this.trigger(ZOOM_END, {});\n                }\n            },\n            _gesturechange: function (e) {\n                var mousewheelZoom = this._mousewheelZoom;\n                if (mousewheelZoom && !this._stopDragEvent(e)) {\n                    e.preventDefault();\n                    var previousGestureDistance = this._gestureDistance;\n                    var scaleDelta = -e.distance / previousGestureDistance + 1;\n                    if (Math.abs(scaleDelta) >= 0.1) {\n                        scaleDelta = Math.round(scaleDelta * 10);\n                        this._gestureDistance = e.distance;\n                        var args = {\n                            delta: scaleDelta,\n                            axisRanges: axisRanges(this._plotArea.axes),\n                            originalEvent: e\n                        };\n                        if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                            if (!this._zooming) {\n                                this._zooming = true;\n                            }\n                            var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta);\n                            if (ranges && !this.trigger(ZOOM, args)) {\n                                mousewheelZoom.zoom();\n                            }\n                        }\n                    }\n                }\n            },\n            _mouseout: function (e) {\n                if (e.element) {\n                    var element = this._drawingChartElement(e.element, e);\n                    if (element && element.leave) {\n                        element.leave(this, e.originalEvent);\n                    }\n                }\n            },\n            _start: function (e) {\n                var coords = this._eventCoordinates(e);\n                if (this._stopDragEvent(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n                    return;\n                }\n                if (this.requiresHandlers([\n                        DRAG_START,\n                        DRAG,\n                        DRAG_END\n                    ])) {\n                    this._startNavigation(e, coords, DRAG_START);\n                }\n                if (this._pannable && this._pannable.start(e)) {\n                    this.surface.suspendTracking();\n                    this._unsetActivePoint();\n                    this._suppressHover = true;\n                }\n                if (this._zoomSelection) {\n                    if (this._zoomSelection.start(e)) {\n                        this.trigger(ZOOM_START, {\n                            axisRanges: axisRanges(this._plotArea.axes),\n                            originalEvent: e\n                        });\n                    }\n                }\n            },\n            _move: function (e) {\n                var ref = this;\n                var state = ref._navState;\n                var pannable = ref._pannable;\n                if (this._stopDragEvent(e)) {\n                    return;\n                }\n                if (pannable) {\n                    var ranges = pannable.move(e);\n                    if (ranges && !this.trigger(DRAG, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        })) {\n                        pannable.pan();\n                    }\n                } else if (state) {\n                    var ranges$1 = {};\n                    var axes = state.axes;\n                    for (var i = 0; i < axes.length; i++) {\n                        var currentAxis = axes[i];\n                        var axisName = currentAxis.options.name;\n                        if (axisName) {\n                            var axis = currentAxis.options.vertical ? e.y : e.x;\n                            var delta = axis.startLocation - axis.location;\n                            if (delta !== 0) {\n                                ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);\n                            }\n                        }\n                    }\n                    state.axisRanges = ranges$1;\n                    this.trigger(DRAG, {\n                        axisRanges: ranges$1,\n                        originalEvent: e\n                    });\n                }\n                if (this._zoomSelection) {\n                    this._zoomSelection.move(e);\n                }\n            },\n            _end: function (e) {\n                if (this._stopDragEvent(e)) {\n                    return;\n                }\n                var pannable = this._pannable;\n                if (pannable && pannable.end(e)) {\n                    this.surface.resumeTracking();\n                    this.trigger(DRAG_END, {\n                        axisRanges: axisRanges(this._plotArea.axes),\n                        originalEvent: e\n                    });\n                    this._suppressHover = false;\n                } else {\n                    this._endNavigation(e, DRAG_END);\n                }\n                if (this._zoomSelection) {\n                    var ranges = this._zoomSelection.end(e);\n                    if (ranges && !this.trigger(ZOOM, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        })) {\n                        this._zoomSelection.zoom();\n                        this.trigger(ZOOM_END, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        });\n                    }\n                }\n            },\n            _stopDragEvent: function () {\n                return this._hasSelection();\n            },\n            _mousewheel: function (e) {\n                var this$1 = this;\n                var delta = dataviz.mousewheelDelta(e);\n                var mousewheelZoom = this._mousewheelZoom;\n                var coords = this._eventCoordinates(e);\n                if (!this._plotArea.backgroundContainsPoint(coords)) {\n                    return;\n                }\n                if (mousewheelZoom) {\n                    var args = {\n                        delta: delta,\n                        axisRanges: axisRanges(this._plotArea.axes),\n                        originalEvent: e\n                    };\n                    if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                        e.preventDefault();\n                        if (!this._zooming) {\n                            this._unsetActivePoint();\n                            this.surface.suspendTracking();\n                            this._zooming = true;\n                        }\n                        if (this._mwTimeout) {\n                            clearTimeout(this._mwTimeout);\n                        }\n                        args.axisRanges = mousewheelZoom.updateRanges(delta);\n                        if (args.axisRanges && !this.trigger(ZOOM, args)) {\n                            mousewheelZoom.zoom();\n                        }\n                        this._mwTimeout = setTimeout(function () {\n                            this$1.trigger(ZOOM_END, args);\n                            this$1._zooming = false;\n                            if (this$1.surface) {\n                                this$1.surface.resumeTracking();\n                            }\n                        }, MOUSEWHEEL_DELAY);\n                    }\n                } else {\n                    var state = this._navState;\n                    if (!state) {\n                        var prevented = this._startNavigation(e, coords, ZOOM_START);\n                        if (!prevented) {\n                            state = this._navState;\n                        }\n                    }\n                    if (state) {\n                        var totalDelta = state.totalDelta || delta;\n                        state.totalDelta = totalDelta + delta;\n                        var axes = this._navState.axes;\n                        var ranges = {};\n                        for (var i = 0; i < axes.length; i++) {\n                            var currentAxis = axes[i];\n                            var axisName = currentAxis.options.name;\n                            if (axisName) {\n                                ranges[axisName] = currentAxis.scaleRange(-totalDelta);\n                            }\n                        }\n                        this.trigger(ZOOM, {\n                            delta: delta,\n                            axisRanges: ranges,\n                            originalEvent: e\n                        });\n                        if (this._mwTimeout) {\n                            clearTimeout(this._mwTimeout);\n                        }\n                        this._mwTimeout = setTimeout(function () {\n                            this$1._endNavigation(e, ZOOM_END);\n                        }, MOUSEWHEEL_DELAY);\n                    }\n                }\n            },\n            _startNavigation: function (e, coords, chartEvent) {\n                var plotArea = this._model._plotArea;\n                var pane = plotArea.findPointPane(coords);\n                var axes = plotArea.axes.slice(0);\n                if (!pane) {\n                    return;\n                }\n                var ranges = axisRanges(axes);\n                var prevented = this.trigger(chartEvent, {\n                    axisRanges: ranges,\n                    originalEvent: e\n                });\n                if (prevented) {\n                    this._cancelDomEvents();\n                } else {\n                    this._suppressHover = true;\n                    this._unsetActivePoint();\n                    this._navState = {\n                        axisRanges: ranges,\n                        pane: pane,\n                        axes: axes\n                    };\n                }\n            },\n            _endNavigation: function (e, chartEvent) {\n                if (this._navState) {\n                    this.trigger(chartEvent, {\n                        axisRanges: this._navState.axisRanges,\n                        originalEvent: e\n                    });\n                    this._suppressHover = false;\n                    this._navState = null;\n                }\n            },\n            _getChartElement: function (e, match) {\n                var element = this.surface.eventTarget(e);\n                if (element) {\n                    return this._drawingChartElement(element, e, match);\n                }\n            },\n            _drawingChartElement: function (element, e, match) {\n                var current = element;\n                var chartElement;\n                while (current && !chartElement) {\n                    chartElement = current.chartElement;\n                    current = current.parent;\n                }\n                if (chartElement) {\n                    if (chartElement.aliasFor) {\n                        chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\n                    }\n                    if (match) {\n                        chartElement = chartElement.closest(match);\n                    }\n                    return chartElement;\n                }\n            },\n            _eventCoordinates: function (e) {\n                var coordinates = dataviz.eventCoordinates(e);\n                return this._toModelCoordinates(coordinates.x, coordinates.y);\n            },\n            _elementPadding: function () {\n                if (!this._padding) {\n                    var ref = elementStyles(this.element, [\n                        'paddingLeft',\n                        'paddingTop'\n                    ]);\n                    var paddingLeft = ref.paddingLeft;\n                    var paddingTop = ref.paddingTop;\n                    this._padding = {\n                        top: paddingTop,\n                        left: paddingLeft\n                    };\n                }\n                return this._padding;\n            },\n            _toDocumentCoordinates: function (point) {\n                var padding = this._elementPadding();\n                var offset = dataviz.elementOffset(this.element);\n                return {\n                    left: round(point.x + padding.left + offset.left),\n                    top: round(point.y + padding.top + offset.top)\n                };\n            },\n            _toModelCoordinates: function (clientX, clientY) {\n                var element = this.element;\n                var offset = dataviz.elementOffset(element);\n                var padding = this._elementPadding();\n                return new Point(clientX - offset.left - padding.left, clientY - offset.top - padding.top);\n            },\n            _tap: function (e) {\n                var this$1 = this;\n                var drawingElement = this.surface.eventTarget(e);\n                var element = this._drawingChartElement(drawingElement, e);\n                if (this._activePoint === element) {\n                    this._propagateClick(element, e);\n                } else {\n                    if (!this._startHover(drawingElement, e)) {\n                        this._unsetActivePoint();\n                    }\n                    this._propagateClick(element, e);\n                }\n                this.handlingTap = true;\n                setTimeout(function () {\n                    this$1.handlingTap = false;\n                }, 0);\n            },\n            _click: function (e) {\n                var element = this._getChartElement(e);\n                this._propagateClick(element, e);\n            },\n            _propagateClick: function (element, e) {\n                var this$1 = this;\n                var current = element;\n                while (current) {\n                    if (current.click) {\n                        current.click(this$1, e);\n                    }\n                    current = current.parent;\n                }\n            },\n            _startHover: function (element, e) {\n                var chartElement = this._drawingChartElement(element, e);\n                var ref = this;\n                var tooltip = ref._tooltip;\n                var highlight = ref._highlight;\n                if (this._suppressHover || !highlight || highlight.isHighlighted(chartElement) || this._sharedTooltip()) {\n                    return false;\n                }\n                var point = this._drawingChartElement(element, e, function (element) {\n                    return element.hover && !(element instanceof PlotAreaBase);\n                });\n                if (point && !point.hover(this, e)) {\n                    this._activePoint = point;\n                    var tooltipOptions = deepExtend({}, tooltipOptions, point.options.tooltip);\n                    if (tooltipOptions.visible) {\n                        tooltip.show(point);\n                    }\n                    highlight.show(point);\n                    return point;\n                }\n            },\n            _mouseover: function (e) {\n                var point = this._startHover(e.element, e.originalEvent);\n                if (point && point.tooltipTracking) {\n                    this._mouseMoveTrackHandler = this._mouseMoveTrackHandler || this._mouseMoveTracking.bind(this);\n                    var obj;\n                    bindEvents(document, (obj = {}, obj[MOUSEMOVE] = this._mouseMoveTrackHandler, obj));\n                }\n            },\n            _mouseMoveTracking: function (e) {\n                var ref = this;\n                var options = ref.options;\n                var tooltip = ref._tooltip;\n                var highlight = ref._highlight;\n                var point = ref._activePoint;\n                var coords = this._eventCoordinates(e);\n                if (this._plotArea.box.containsPoint(coords)) {\n                    if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\n                        var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\n                        if (seriesPoint && seriesPoint !== point) {\n                            seriesPoint.hover(this, e);\n                            this._activePoint = seriesPoint;\n                            var tooltipOptions = deepExtend({}, options.tooltip, point.options.tooltip);\n                            if (tooltipOptions.visible) {\n                                tooltip.show(seriesPoint);\n                            }\n                            highlight.show(seriesPoint);\n                        }\n                    }\n                } else {\n                    var obj;\n                    unbindEvents(document, (obj = {}, obj[MOUSEMOVE] = this._mouseMoveTrackHandler, obj));\n                    this._unsetActivePoint();\n                }\n            },\n            _mousemove: function (e) {\n                var coords = this._eventCoordinates(e);\n                this._trackCrosshairs(coords);\n                if (this._plotArea.hover) {\n                    this._plotArea.hover(this, e);\n                }\n                if (this._sharedTooltip()) {\n                    this._trackSharedTooltip(coords, e);\n                }\n            },\n            _trackCrosshairs: function (coords) {\n                var crosshairs = this._plotArea.crosshairs;\n                for (var i = 0; i < crosshairs.length; i++) {\n                    var current = crosshairs[i];\n                    if (current.box.containsPoint(coords)) {\n                        current.showAt(coords);\n                    } else {\n                        current.hide();\n                    }\n                }\n            },\n            _trackSharedTooltip: function (coords, e) {\n                var ref = this;\n                var tooltipOptions = ref.options.tooltip;\n                var plotArea = ref._plotArea;\n                var categoryAxis = ref._plotArea.categoryAxis;\n                var tooltip = ref._tooltip;\n                var highlight = ref._highlight;\n                if (plotArea.box.containsPoint(coords)) {\n                    var index = categoryAxis.pointCategoryIndex(coords);\n                    if (index !== this._tooltipCategoryIx) {\n                        var points = plotArea.pointsByCategoryIndex(index);\n                        var pointArgs = points.map(function (point) {\n                            return point.eventArgs(e);\n                        });\n                        var hoverArgs = pointArgs[0] || {};\n                        hoverArgs.categoryPoints = pointArgs;\n                        if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\n                            if (tooltipOptions.visible) {\n                                tooltip.showAt(points, coords);\n                            }\n                            highlight.show(points);\n                        } else {\n                            tooltip.hide();\n                        }\n                        this._tooltipCategoryIx = index;\n                    }\n                }\n            },\n            hideElements: function () {\n                var ref = this;\n                var plotArea = ref._plotArea;\n                var tooltip = ref._tooltip;\n                var highlight = ref._highlight;\n                this._mousemove.cancel();\n                plotArea.hideCrosshairs();\n                highlight.hide();\n                tooltip.hide();\n                delete this._tooltipCategoryIx;\n            },\n            _unsetActivePoint: function () {\n                var ref = this;\n                var tooltip = ref._tooltip;\n                var highlight = ref._highlight;\n                this._activePoint = null;\n                if (tooltip) {\n                    tooltip.hide();\n                }\n                if (highlight) {\n                    highlight.hide();\n                }\n            },\n            _deferRedraw: function () {\n                this._redraw();\n            },\n            _clearRedrawTimeout: function () {\n                if (this._redrawTimeout) {\n                    clearInterval(this._redrawTimeout);\n                    this._redrawTimeout = null;\n                }\n            },\n            _bindCategories: function () {\n                var this$1 = this;\n                var options = this.options;\n                var definitions = [].concat(options.categoryAxis);\n                for (var axisIx = 0; axisIx < definitions.length; axisIx++) {\n                    var axis = definitions[axisIx];\n                    if (axis.autoBind !== false) {\n                        this$1._bindCategoryAxisFromSeries(axis, axisIx);\n                    }\n                }\n            },\n            _bindCategoryAxisFromSeries: function (axis, axisIx) {\n                var this$1 = this;\n                var series = this.options.series;\n                var seriesLength = series.length;\n                var uniqueCategories = {};\n                var items = [];\n                var dateAxis;\n                for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    var s = series[seriesIx];\n                    var onAxis = s.categoryAxis === axis.name || !s.categoryAxis && axisIx === 0;\n                    var data = s.data;\n                    var dataLength = data.length;\n                    if (s.categoryField && onAxis && dataLength > 0) {\n                        dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));\n                        var getFn = dateAxis ? getDateField : getField;\n                        for (var dataIx = 0; dataIx < dataLength; dataIx++) {\n                            var dataRow = data[dataIx];\n                            var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);\n                            if (dateAxis || !uniqueCategories[category]) {\n                                items.push([\n                                    category,\n                                    dataRow\n                                ]);\n                                if (!dateAxis) {\n                                    uniqueCategories[category] = true;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (items.length > 0) {\n                    if (dateAxis) {\n                        items = uniqueDates(items, function (a, b) {\n                            return dataviz.dateComparer(a[0], b[0]);\n                        });\n                    }\n                    var result = transpose(items);\n                    axis.categories = result[0];\n                }\n            },\n            _isBindable: function (series) {\n                var valueFields = SeriesBinder.current.valueFields(series);\n                var result = true;\n                for (var i = 0; i < valueFields.length; i++) {\n                    var field = valueFields[i];\n                    if (field === VALUE) {\n                        field = 'field';\n                    } else {\n                        field = field + 'Field';\n                    }\n                    if (!defined(series[field])) {\n                        result = false;\n                        break;\n                    }\n                }\n                return result;\n            },\n            _noTransitionsRedraw: function () {\n                var options = this.options;\n                var transitionsState;\n                if (options.transitions) {\n                    options.transitions = false;\n                    transitionsState = true;\n                }\n                this.redraw();\n                if (transitionsState) {\n                    options.transitions = true;\n                }\n            },\n            _legendItemHover: function (seriesIndex, pointIndex) {\n                var ref = this;\n                var plotArea = ref._plotArea;\n                var highlight = ref._highlight;\n                var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];\n                var items;\n                if (inArray(currentSeries.type, [\n                        PIE,\n                        DONUT,\n                        FUNNEL\n                    ])) {\n                    items = plotArea.findPoint(function (point) {\n                        return point.series.index === seriesIndex && point.index === pointIndex;\n                    });\n                } else {\n                    items = plotArea.pointsBySeriesIndex(seriesIndex);\n                }\n                highlight.show(items);\n            },\n            _shouldAttachMouseMove: function () {\n                return this._plotArea.crosshairs.length || this._tooltip && this._sharedTooltip() || this.requiresHandlers([PLOT_AREA_HOVER]);\n            },\n            updateMouseMoveHandler: function () {\n                var obj;\n                unbindEvents(this.element, (obj = {}, obj[MOUSEMOVE] = this._mousemove, obj));\n                if (this._shouldAttachMouseMove()) {\n                    var obj$1;\n                    bindEvents(this.element, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mousemove, obj$1));\n                }\n            },\n            applyOptions: function (options, theme) {\n                clearMissingValues(this._originalOptions, options);\n                this._originalOptions = deepExtend(this._originalOptions, options);\n                this.options = deepExtend({}, this._originalOptions);\n                if (theme) {\n                    this._theme = theme;\n                    this.chartService.theme = theme;\n                }\n                this._initTheme(this.options, this._theme);\n            },\n            setOptions: function (options, theme) {\n                this.applyOptions(options, theme);\n                this._bindCategories();\n                this.redraw();\n                this.updateMouseMoveHandler();\n            },\n            destroy: function () {\n                this._destroyed = true;\n                var obj;\n                unbindEvents(this.element, (obj = {}, obj[CONTEXTMENU] = this._clickHandler, obj[MOUSEWHEEL] = this._mousewheelHandler, obj[MOUSEMOVE] = this._mousemove, obj));\n                if (this.domEvents) {\n                    this.domEvents.destroy();\n                    delete this.domEvents;\n                }\n                var obj$1;\n                unbindEvents(document, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mouseMoveTrackHandler, obj$1));\n                this._destroyView();\n                this.surface.destroy();\n                this.surface = null;\n                this._clearRedrawTimeout();\n            },\n            _destroyView: function () {\n                var ref = this;\n                var model = ref._model;\n                var selections = ref._selections;\n                if (model) {\n                    model.destroy();\n                    this._model = null;\n                }\n                if (selections) {\n                    while (selections.length > 0) {\n                        selections.shift().destroy();\n                    }\n                }\n                this._unsetActivePoint();\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                }\n                if (this._highlight) {\n                    this._highlight.destroy();\n                }\n                if (this._zoomSelection) {\n                    this._zoomSelection.destroy();\n                    delete this._zoomSelection;\n                }\n                if (this._pannable) {\n                    this._pannable.destroy();\n                    delete this._pannable;\n                }\n                if (this._mousewheelZoom) {\n                    this._mousewheelZoom.destroy();\n                    delete this._mousewheelZoom;\n                }\n            }\n        });\n        function resolveAxisAliases(options) {\n            var aliases = AXIS_NAMES;\n            for (var idx = 0; idx < aliases.length; idx++) {\n                var alias = aliases[idx] + 'Axes';\n                if (options[alias]) {\n                    options[aliases[idx] + 'Axis'] = options[alias];\n                    delete options[alias];\n                }\n            }\n        }\n        function pointByCategoryName(points, name) {\n            if (points) {\n                for (var idx = 0; idx < points.length; idx++) {\n                    if (points[idx].category === name) {\n                        return [points[idx]];\n                    }\n                }\n            }\n        }\n        function applyAxisDefaults(options, themeOptions) {\n            var themeAxisDefaults = (themeOptions || {}).axisDefaults || {};\n            var axisName, axisDefaults, axes;\n            function mapAxisOptions(axisOptions) {\n                var axisColor = (axisOptions || {}).color || axisDefaults.color;\n                var result = deepExtend({}, themeAxisDefaults, themeAxisDefaults[axisName], axisDefaults, axisDefaults[axisName], {\n                    line: { color: axisColor },\n                    labels: { color: axisColor },\n                    title: { color: axisColor }\n                }, axisOptions);\n                delete result[axisName];\n                return result;\n            }\n            for (var idx = 0; idx < AXIS_NAMES.length; idx++) {\n                axisName = AXIS_NAMES[idx] + 'Axis';\n                axisDefaults = options.axisDefaults || {};\n                axes = [].concat(options[axisName]);\n                axes = axes.map(mapAxisOptions);\n                options[axisName] = axes.length > 1 ? axes : axes[0];\n            }\n        }\n        function applySeriesDefaults(options, themeOptions) {\n            var series = options.series;\n            var seriesLength = series.length;\n            var seriesDefaults = options.seriesDefaults;\n            var commonDefaults = deepExtend({}, options.seriesDefaults);\n            var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};\n            var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\n            cleanupNestedSeriesDefaults(commonDefaults);\n            cleanupNestedSeriesDefaults(commonThemeDefaults);\n            for (var i = 0; i < seriesLength; i++) {\n                var seriesType = series[i].type || options.seriesDefaults.type;\n                var baseOptions = deepExtend({ data: [] }, commonThemeDefaults, themeSeriesDefaults[seriesType], { tooltip: options.tooltip }, commonDefaults, seriesDefaults[seriesType]);\n                series[i]._defaults = baseOptions;\n                series[i] = deepExtend({}, baseOptions, series[i]);\n            }\n        }\n        function cleanupNestedSeriesDefaults(seriesDefaults) {\n            delete seriesDefaults.bar;\n            delete seriesDefaults.column;\n            delete seriesDefaults.rangeColumn;\n            delete seriesDefaults.line;\n            delete seriesDefaults.verticalLine;\n            delete seriesDefaults.pie;\n            delete seriesDefaults.donut;\n            delete seriesDefaults.area;\n            delete seriesDefaults.verticalArea;\n            delete seriesDefaults.scatter;\n            delete seriesDefaults.scatterLine;\n            delete seriesDefaults.bubble;\n            delete seriesDefaults.candlestick;\n            delete seriesDefaults.ohlc;\n            delete seriesDefaults.boxPlot;\n            delete seriesDefaults.bullet;\n            delete seriesDefaults.verticalBullet;\n            delete seriesDefaults.polarArea;\n            delete seriesDefaults.polarLine;\n            delete seriesDefaults.radarArea;\n            delete seriesDefaults.radarLine;\n            delete seriesDefaults.waterfall;\n        }\n        function axisRanges(axes) {\n            var ranges = {};\n            for (var i = 0; i < axes.length; i++) {\n                var axis = axes[i];\n                var axisName = axis.options.name;\n                if (axisName) {\n                    ranges[axisName] = axis.range();\n                }\n            }\n            return ranges;\n        }\n        function sortDates(dates, comparer) {\n            if (comparer === void 0) {\n                comparer = dataviz.dateComparer;\n            }\n            for (var i = 1, length = dates.length; i < length; i++) {\n                if (comparer(dates[i], dates[i - 1]) < 0) {\n                    dates.sort(comparer);\n                    break;\n                }\n            }\n            return dates;\n        }\n        function uniqueDates(srcDates, comparer) {\n            if (comparer === void 0) {\n                comparer = dataviz.dateComparer;\n            }\n            var dates = sortDates(srcDates, comparer);\n            var length = dates.length;\n            var result = length > 0 ? [dates[0]] : [];\n            for (var i = 1; i < length; i++) {\n                if (comparer(dates[i], last(result)) !== 0) {\n                    result.push(dates[i]);\n                }\n            }\n            return result;\n        }\n        function transpose(rows) {\n            var rowCount = rows.length;\n            var result = [];\n            for (var rowIx = 0; rowIx < rowCount; rowIx++) {\n                var row = rows[rowIx];\n                var colCount = row.length;\n                for (var colIx = 0; colIx < colCount; colIx++) {\n                    result[colIx] = result[colIx] || [];\n                    result[colIx].push(row[colIx]);\n                }\n            }\n            return result;\n        }\n        function clearMissingValues(originalOptions, options) {\n            for (var field in options) {\n                var fieldValue = options[field];\n                var originalValue = originalOptions[field];\n                if (defined(originalValue)) {\n                    var nullValue = fieldValue === null;\n                    if (nullValue || !defined(fieldValue)) {\n                        delete originalOptions[field];\n                        if (nullValue) {\n                            delete options[field];\n                        }\n                    } else if (originalValue && isObject(fieldValue)) {\n                        if (isObject(originalValue)) {\n                            clearMissingValues(originalValue, fieldValue);\n                        }\n                    }\n                }\n            }\n        }\n        setDefaultOptions(Chart, {\n            renderAs: '',\n            chartArea: {},\n            legend: {\n                visible: true,\n                labels: {}\n            },\n            categoryAxis: {},\n            seriesDefaults: {\n                type: COLUMN,\n                data: [],\n                highlight: { visible: true },\n                labels: {},\n                negativeValues: { visible: false }\n            },\n            series: [],\n            seriesColors: null,\n            tooltip: { visible: false },\n            transitions: true,\n            valueAxis: {},\n            plotArea: {},\n            title: {},\n            xAxis: {},\n            yAxis: {},\n            panes: [{}],\n            pannable: false,\n            zoomable: false\n        });\n        kendo.deepExtend(kendo.dataviz, {\n            constants: constants,\n            Aggregates: Aggregates,\n            AreaChart: AreaChart,\n            AreaSegment: AreaSegment,\n            AxisGroupRangeTracker: AxisGroupRangeTracker,\n            Bar: Bar,\n            BarChart: BarChart,\n            BarLabel: BarLabel,\n            BoxPlotChart: BoxPlotChart,\n            BoxPlot: BoxPlot,\n            BubbleChart: BubbleChart,\n            Bullet: Bullet,\n            BulletChart: BulletChart,\n            CandlestickChart: CandlestickChart,\n            Candlestick: Candlestick,\n            CategoricalChart: CategoricalChart,\n            CategoricalErrorBar: CategoricalErrorBar,\n            CategoricalPlotArea: CategoricalPlotArea,\n            Chart: Chart,\n            ChartContainer: ChartContainer,\n            ClipAnimation: ClipAnimation,\n            ClusterLayout: ClusterLayout,\n            Crosshair: Crosshair,\n            CrosshairTooltip: CrosshairTooltip,\n            DefaultAggregates: DefaultAggregates,\n            DonutChart: DonutChart,\n            DonutPlotArea: DonutPlotArea,\n            DonutSegment: DonutSegment,\n            ErrorBarBase: ErrorBarBase,\n            ErrorRangeCalculator: ErrorRangeCalculator,\n            Highlight: Highlight,\n            SharedTooltip: SharedTooltip,\n            Legend: Legend,\n            LegendItem: LegendItem,\n            LegendLayout: LegendLayout,\n            LineChart: LineChart,\n            LinePoint: LinePoint,\n            LineSegment: LineSegment,\n            Pane: Pane,\n            PieAnimation: PieAnimation,\n            PieChart: PieChart,\n            PieChartMixin: PieChartMixin,\n            PiePlotArea: PiePlotArea,\n            PieSegment: PieSegment,\n            PlotAreaBase: PlotAreaBase,\n            PlotAreaEventsMixin: PlotAreaEventsMixin,\n            PlotAreaFactory: PlotAreaFactory,\n            PointEventsMixin: PointEventsMixin,\n            RangeBar: RangeBar,\n            RangeBarChart: RangeBarChart,\n            ScatterChart: ScatterChart,\n            ScatterErrorBar: ScatterErrorBar,\n            ScatterLineChart: ScatterLineChart,\n            Selection: Selection,\n            SeriesAggregator: SeriesAggregator,\n            SeriesBinder: SeriesBinder,\n            SplineSegment: SplineSegment,\n            SplineAreaSegment: SplineAreaSegment,\n            StackWrap: StackWrap,\n            Tooltip: Tooltip,\n            OHLCChart: OHLCChart,\n            OHLCPoint: OHLCPoint,\n            WaterfallChart: WaterfallChart,\n            WaterfallSegment: WaterfallSegment,\n            XYPlotArea: XYPlotArea,\n            MousewheelZoom: MousewheelZoom,\n            ZoomSelection: ZoomSelection,\n            Pannable: Pannable,\n            ChartAxis: ChartAxis,\n            ChartPlotArea: ChartPlotArea,\n            anyHasZIndex: anyHasZIndex,\n            appendIfNotNull: areNumbers,\n            areNumbers: areNumbers,\n            categoriesCount: categoriesCount,\n            countNumbers: countNumbers,\n            equalsIgnoreCase: equalsIgnoreCase,\n            evalOptions: evalOptions,\n            filterSeriesByType: filterSeriesByType,\n            getDateField: getDateField,\n            getField: getField,\n            hasGradientOverlay: hasGradientOverlay,\n            hasValue: hasValue,\n            isDateAxis: isDateAxis,\n            segmentVisible: segmentVisible,\n            seriesTotal: seriesTotal,\n            singleItemOrArray: singleItemOrArray\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/chart/chart', [\n        'dataviz/chart/kendo-chart',\n        'kendo.data',\n        'kendo.dataviz.core',\n        'kendo.dataviz.themes',\n        'kendo.drawing',\n        'kendo.userevents'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var NS = '.kendoChart';\n        var kendo = window.kendo;\n        var Class = kendo.Class;\n        var outerWidth = kendo._outerWidth;\n        var outerHeight = kendo._outerHeight;\n        var dataviz = kendo.dataviz;\n        var constants = dataviz.constants;\n        var KendoChart = dataviz.Chart;\n        var SeriesBinder = dataviz.SeriesBinder;\n        var Widget = kendo.ui.Widget;\n        var DataSource = kendo.data.DataSource;\n        var deepExtend = kendo.deepExtend;\n        var defined = dataviz.defined;\n        var getField = dataviz.getField;\n        var InstanceObserver = dataviz.InstanceObserver;\n        var inArray = dataviz.inArray;\n        var services = dataviz.services;\n        var proxy = $.proxy;\n        var isArray = $.isArray;\n        var template = kendo.template;\n        var MOUSELEAVE_NS = 'mouseleave' + NS;\n        var AXIS_LABEL_CLICK = constants.AXIS_LABEL_CLICK;\n        var LEGEND_ITEM_CLICK = constants.LEGEND_ITEM_CLICK;\n        var LEGEND_ITEM_HOVER = constants.LEGEND_ITEM_HOVER;\n        var SERIES_CLICK = constants.SERIES_CLICK;\n        var SERIES_HOVER = constants.SERIES_HOVER;\n        var PLOT_AREA_CLICK = constants.PLOT_AREA_CLICK;\n        var PLOT_AREA_HOVER = constants.PLOT_AREA_HOVER;\n        var DRAG = constants.DRAG;\n        var DRAG_END = constants.DRAG_END;\n        var DRAG_START = constants.DRAG_START;\n        var ZOOM_START = constants.ZOOM_START;\n        var ZOOM = constants.ZOOM;\n        var ZOOM_END = constants.ZOOM_END;\n        var SELECT_START = constants.SELECT_START;\n        var SELECT = constants.SELECT;\n        var SELECT_END = constants.SELECT_END;\n        var RENDER = constants.RENDER;\n        var NOTE_CLICK = constants.NOTE_CLICK;\n        var NOTE_HOVER = constants.NOTE_HOVER;\n        var CHANGE = 'change';\n        var DATABOUND = 'dataBound';\n        var LEAVE = 'leave';\n        var VALUE = constants.VALUE;\n        var PIE = constants.PIE;\n        var DONUT = constants.DONUT;\n        var FUNNEL = constants.FUNNEL;\n        var Observable = kendo.Observable;\n        var TOOLTIP_ANIMATION_DURATION = 150;\n        var TOOLTIP_SHOW_DELAY = 100;\n        var TOOLTIP_INVERSE = 'k-chart-tooltip-inverse';\n        var SHARED_TOOLTIP_CLASS = 'k-chart-shared-tooltip';\n        services.DomEventsBuilder.register({\n            create: function (element, events) {\n                return new kendo.UserEvents(element, deepExtend({\n                    global: true,\n                    multiTouch: true,\n                    fastTap: true\n                }, events));\n            }\n        });\n        var ChartInstanceObserver = InstanceObserver.extend({\n            handlerMap: {\n                showTooltip: '_showTooltip',\n                hideTooltip: '_hideTooltip',\n                legendItemClick: '_onLegendItemClick',\n                render: '_onRender'\n            }\n        });\n        var Chart = Widget.extend({\n            init: function (element, userOptions) {\n                var dataSource;\n                kendo.destroy(element);\n                Widget.fn.init.call(this, element);\n                if (userOptions) {\n                    dataSource = userOptions.dataSource;\n                    delete userOptions.dataSource;\n                }\n                this.options = deepExtend({}, this.options, userOptions);\n                this.wrapper = this.element;\n                this._attachEvents();\n                if (userOptions) {\n                    userOptions.dataSource = dataSource;\n                }\n                this.bind(this.events, this.options);\n                this._initDataSource(userOptions);\n                kendo.notify(this, dataviz.ui);\n            },\n            events: [\n                DATABOUND,\n                SERIES_CLICK,\n                SERIES_HOVER,\n                AXIS_LABEL_CLICK,\n                LEGEND_ITEM_CLICK,\n                LEGEND_ITEM_HOVER,\n                PLOT_AREA_CLICK,\n                PLOT_AREA_HOVER,\n                DRAG_START,\n                DRAG,\n                DRAG_END,\n                ZOOM_START,\n                ZOOM,\n                ZOOM_END,\n                SELECT_START,\n                SELECT,\n                SELECT_END,\n                NOTE_CLICK,\n                NOTE_HOVER,\n                RENDER\n            ],\n            options: {\n                name: 'Chart',\n                renderAs: '',\n                theme: 'default',\n                chartArea: {},\n                legend: {},\n                categoryAxis: {},\n                autoBind: true,\n                seriesDefaults: {},\n                series: [],\n                seriesColors: null,\n                tooltip: {},\n                transitions: true,\n                valueAxis: {},\n                plotArea: {},\n                title: {},\n                xAxis: {},\n                yAxis: {},\n                panes: [{}],\n                pannable: false,\n                zoomable: false\n            },\n            items: function () {\n                return $();\n            },\n            refresh: function () {\n                var chart = this;\n                var instance = chart._instance;\n                instance._applyDefaults(chart.options);\n                instance._applySeriesColors();\n                chart._bindSeries();\n                chart._bindCategories();\n                chart.trigger(DATABOUND);\n                chart._redraw();\n            },\n            getSize: function () {\n                return kendo.dimensions(this.element);\n            },\n            redraw: function (paneName) {\n                this._size = null;\n                this._instance.redraw(paneName);\n            },\n            setOptions: function (options) {\n                var chart = this, dataSource = options.dataSource;\n                delete options.dataSource;\n                Widget.fn._setEvents.call(chart, options);\n                this._instance.applyOptions(options, this._getThemeOptions(options));\n                this.options = this._instance.options;\n                this._tooltip.setOptions(this.options.tooltip);\n                this._sourceSeries = null;\n                if (dataSource) {\n                    chart.setDataSource(dataSource);\n                }\n                if (chart._hasDataSource) {\n                    chart._onDataChanged();\n                } else {\n                    chart._bindCategories();\n                    chart.redraw();\n                }\n                chart._instance.updateMouseMoveHandler();\n            },\n            setDataSource: function (dataSource) {\n                var chart = this;\n                chart.dataSource.unbind(CHANGE, chart._dataChangeHandler);\n                chart.dataSource = dataSource = DataSource.create(dataSource);\n                chart._hasDataSource = true;\n                chart._hasData = false;\n                dataSource.bind(CHANGE, chart._dataChangeHandler);\n                if (chart.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            destroy: function () {\n                var chart = this, dataSource = chart.dataSource;\n                chart.element.off(NS);\n                if (dataSource) {\n                    dataSource.unbind(CHANGE, chart._dataChangeHandler);\n                }\n                if (chart._instance) {\n                    chart._instance.destroy();\n                    delete this._instance;\n                }\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                    delete this._tooltip;\n                }\n                this._destroyCrosshairTooltips();\n                Widget.fn.destroy.call(chart);\n            },\n            findPaneByName: function (name) {\n                var panes = this._plotArea.panes;\n                for (var idx = 0; idx < panes.length; idx++) {\n                    if (panes[idx].options.name === name) {\n                        return new ChartPane(this, panes[idx]);\n                    }\n                }\n            },\n            findPaneByIndex: function (idx) {\n                var panes = this._plotArea.panes;\n                if (panes[idx]) {\n                    return new ChartPane(this, panes[idx]);\n                }\n            },\n            findSeries: function (callback) {\n                var plotArea = this._plotArea;\n                var series = plotArea.srcSeries || plotArea.series;\n                for (var idx = 0; idx < series.length; idx++) {\n                    if (callback(series[idx])) {\n                        return new ChartSeries(this, series[idx]);\n                    }\n                }\n            },\n            findSeriesByName: function (name) {\n                return this._createSeries({ name: name });\n            },\n            findSeriesByIndex: function (index) {\n                return this._createSeries({ index: index });\n            },\n            _createSeries: function (options) {\n                var seriesOptions = this._seriesOptions(options);\n                if (seriesOptions) {\n                    return new ChartSeries(this, seriesOptions);\n                }\n            },\n            _seriesOptions: function (options) {\n                var plotArea = this._plotArea;\n                var series = plotArea.srcSeries || plotArea.series;\n                var seriesOptions;\n                if (defined(options.index)) {\n                    seriesOptions = series[options.index];\n                } else if (defined(options.name)) {\n                    for (var idx = 0; idx < series.length; idx++) {\n                        if (series[idx].name === options.name) {\n                            seriesOptions = series[idx];\n                            break;\n                        }\n                    }\n                }\n                return seriesOptions;\n            },\n            _attachEvents: function () {\n                this.element.on(MOUSELEAVE_NS, proxy(this._mouseleave, this));\n            },\n            _mouseleave: function (e) {\n                var instance = this._instance;\n                var tooltip = this._tooltip;\n                var target = e.relatedTarget;\n                if (!(target && $(target).closest(tooltip.element).length) && instance && !instance.handlingTap) {\n                    instance.hideElements();\n                }\n            },\n            _getThemeOptions: function (userOptions) {\n                var themeName = (userOptions || {}).theme;\n                if (defined(themeName)) {\n                    var themes = dataviz.ui.themes || {};\n                    var theme = themes[themeName] || themes[themeName.toLowerCase()] || {};\n                    return theme.chart || {};\n                }\n            },\n            _initChart: function () {\n                this._createChart(this.options, this._getThemeOptions(this.options));\n                this.options = this._instance.options;\n            },\n            _createChart: function (options, themeOptions) {\n                this._instance = new KendoChart(this.element[0], options, themeOptions, {\n                    observer: new ChartInstanceObserver(this),\n                    sender: this\n                });\n            },\n            _initDataSource: function (userOptions) {\n                var chart = this, dataSource = (userOptions || {}).dataSource;\n                chart._dataChangeHandler = proxy(chart._onDataChanged, chart);\n                chart.dataSource = DataSource.create(dataSource).bind('change', chart._dataChangeHandler);\n                chart._bindCategories();\n                if (dataSource) {\n                    chart._hasDataSource = true;\n                }\n                this._initChart();\n                this._initTooltip();\n                if (dataSource) {\n                    if (chart.options.autoBind) {\n                        chart.dataSource.fetch();\n                    }\n                }\n            },\n            _destroyCrosshairTooltips: function () {\n                var tooltips = this._crosshairTooltips;\n                if (tooltips) {\n                    for (var key in tooltips) {\n                        tooltips[key].destroy();\n                    }\n                }\n                this._crosshairTooltips = {};\n            },\n            _getCrosshairTooltip: function (name, index) {\n                var tooltips = this._crosshairTooltips = this._crosshairTooltips || {};\n                var key = name + index;\n                var tooltip = tooltips[key];\n                if (!tooltip) {\n                    tooltip = tooltips[key] = new CrosshairTooltip(this.element);\n                }\n                return tooltip;\n            },\n            _showTooltip: function (e) {\n                if (e.crosshair) {\n                    var tooltip = this._getCrosshairTooltip(e.axisName, e.axisIndex);\n                    tooltip.show(e);\n                } else if (this._tooltip) {\n                    this._tooltip.show(e);\n                }\n            },\n            _hideTooltip: function (e) {\n                if (e.crosshair) {\n                    var tooltip = this._getCrosshairTooltip(e.axisName, e.axisIndex);\n                    tooltip.hide();\n                } else if (this._tooltip) {\n                    this._tooltip.hide(e);\n                }\n            },\n            _onRender: function (e) {\n                this._destroyCrosshairTooltips();\n                this._copyMembers(e.sender);\n                if (!this._hasDataSource || this._hasData || !this.options.autoBind) {\n                    this.trigger(RENDER);\n                }\n            },\n            _copyMembers: function (instance) {\n                this._instance = instance;\n                this.options = instance.options;\n                this._originalOptions = instance._originalOptions;\n                this.surface = instance.surface;\n                this._plotArea = instance._plotArea;\n                this._model = instance._model;\n                this._highlight = instance._highlight;\n                this._selections = instance._selections;\n                this._pannable = instance._pannable;\n                this._zoomSelection = instance._zoomSelection;\n                this._mousewheelZoom = instance._mousewheelZoom;\n            },\n            requiresHandlers: function (names) {\n                var events = this._events;\n                for (var idx = 0; idx < names.length; idx++) {\n                    if (defined(events[names[idx]])) {\n                        return true;\n                    }\n                }\n            },\n            _initTooltip: function () {\n                this._tooltip = this._createTooltip();\n                this._tooltip.bind(LEAVE, proxy(this._tooltipleave, this));\n            },\n            _onLegendItemClick: function (e) {\n                if (!this.trigger(LEGEND_ITEM_CLICK, e)) {\n                    this._legendItemClick(e.seriesIndex, e.pointIndex);\n                }\n            },\n            _legendItemClick: function (seriesIndex, pointIndex) {\n                var chart = this._instance, plotArea = chart._plotArea, currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];\n                if ($.inArray(currentSeries.type, [\n                        PIE,\n                        DONUT,\n                        FUNNEL\n                    ]) >= 0) {\n                    var pointVisibility = currentSeries.pointVisibility = currentSeries.pointVisibility || {};\n                    var visible = pointVisibility[pointIndex];\n                    pointVisibility[pointIndex] = defined(visible) ? !visible : false;\n                } else {\n                    currentSeries.visible = !currentSeries.visible;\n                    this._saveGroupVisibleState(currentSeries);\n                }\n                chart._noTransitionsRedraw();\n            },\n            _createTooltip: function () {\n                return new Tooltip(this.element, this.options.tooltip);\n            },\n            _tooltipleave: function () {\n                var chart = this._instance, plotArea = chart._plotArea, highlight = chart._highlight;\n                plotArea.hideCrosshairs();\n                highlight.hide();\n            },\n            _bindData: function (e) {\n                var chart = this, options = chart.options, series = chart._sourceSeries || options.series, seriesIx, seriesLength = series.length, data = chart.dataSource.view(), grouped = (chart.dataSource.group() || []).length > 0, processedSeries = [], currentSeries;\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    if (chart._isBindable(currentSeries) && grouped) {\n                        processedSeries = processedSeries.concat(groupSeries(currentSeries, data));\n                        this._applyGroupVisibleState(processedSeries, e);\n                    } else {\n                        processedSeries.push(currentSeries || []);\n                    }\n                }\n                chart._sourceSeries = series;\n                options.series = processedSeries;\n                this._instance._applySeriesColors();\n                chart._bindSeries();\n                chart._bindCategories();\n                this._hasData = true;\n            },\n            _onDataChanged: function (e) {\n                this._bindData(e);\n                this.trigger(DATABOUND);\n                this._redraw();\n            },\n            _applyGroupVisibleState: function (processedSeries, e) {\n                if (e && e.action) {\n                    var visibleState = this._groupVisibleState = this._groupVisibleState || {};\n                    for (var idx = 0; idx < processedSeries.length; idx++) {\n                        if (visibleState[processedSeries[idx]._groupValue] === false) {\n                            processedSeries[idx].visible = false;\n                        }\n                    }\n                } else {\n                    delete this._groupVisibleState;\n                }\n            },\n            _saveGroupVisibleState: function (series) {\n                if (defined(series._groupValue)) {\n                    if (!this._groupVisibleState) {\n                        this._groupVisibleState = {};\n                    }\n                    this._groupVisibleState[series._groupValue] = series.visible;\n                }\n            },\n            _bindSeries: function () {\n                var chart = this, data = chart.dataSource.view(), series = chart.options.series, seriesIx, seriesLength = series.length, currentSeries, groupIx, seriesData;\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    if (chart._isBindable(currentSeries)) {\n                        groupIx = currentSeries._groupIx;\n                        seriesData = defined(groupIx) ? (data[groupIx] || {}).items : data;\n                        if (currentSeries.autoBind !== false) {\n                            currentSeries.data = seriesData;\n                        }\n                    }\n                }\n            },\n            _bindCategories: function () {\n                var chart = this, data = chart.dataSource.view() || [], grouped = (chart.dataSource.group() || []).length > 0, categoriesData = data, options = chart.options, definitions = [].concat(options.categoryAxis), axisIx, axis;\n                if (grouped) {\n                    if (data.length) {\n                        categoriesData = data[0].items;\n                    }\n                }\n                for (axisIx = 0; axisIx < definitions.length; axisIx++) {\n                    axis = definitions[axisIx];\n                    if (axis.autoBind !== false) {\n                        chart._bindCategoryAxis(axis, categoriesData, axisIx);\n                    }\n                }\n            },\n            _bindCategoryAxis: function (axis, data, axisIx) {\n                var count = (data || []).length, categoryIx, category, row;\n                if (axis.field) {\n                    axis.categories = [];\n                    for (categoryIx = 0; categoryIx < count; categoryIx++) {\n                        row = data[categoryIx];\n                        category = getField(axis.field, row);\n                        if (categoryIx === 0) {\n                            axis.categories = [category];\n                            axis.dataItems = [row];\n                        } else {\n                            axis.categories.push(category);\n                            axis.dataItems.push(row);\n                        }\n                    }\n                } else if (this._instance) {\n                    this._instance._bindCategoryAxisFromSeries(axis, axisIx);\n                }\n            },\n            _isBindable: function (series) {\n                var valueFields = SeriesBinder.current.valueFields(series), result = true, field, i;\n                for (i = 0; i < valueFields.length; i++) {\n                    field = valueFields[i];\n                    if (field === VALUE) {\n                        field = 'field';\n                    } else {\n                        field = field + 'Field';\n                    }\n                    if (!defined(series[field])) {\n                        result = false;\n                        break;\n                    }\n                }\n                return result;\n            }\n        });\n        var proxyMembers = [\n            'getAxis',\n            'findAxisByName',\n            'plotArea',\n            'toggleHighlight',\n            'showTooltip',\n            'hideTooltip',\n            'exportVisual',\n            '_resize',\n            '_redraw',\n            '_noTransitionsRedraw',\n            '_legendItemHover',\n            '_eventCoordinates'\n        ];\n        function createProxyMember(name) {\n            Chart.fn[name] = function () {\n                var instance = this._instance;\n                if (instance) {\n                    return instance[name].apply(instance, arguments);\n                }\n            };\n        }\n        for (var idx = 0; idx < proxyMembers.length; idx++) {\n            createProxyMember(proxyMembers[idx]);\n        }\n        function groupSeries(series, data) {\n            var result = [], nameTemplate, legacyTemplate = series.groupNameTemplate, groupIx, dataLength = data.length, seriesClone;\n            if (dataLength === 0) {\n                seriesClone = deepExtend({}, series);\n                seriesClone.visibleInLegend = false;\n                return [seriesClone];\n            }\n            if (defined(legacyTemplate)) {\n                kendo.logToConsole('\\'groupNameTemplate\\' is obsolete and will be removed in future versions. ' + 'Specify the group name template as \\'series.name\\'');\n                if (legacyTemplate) {\n                    nameTemplate = template(legacyTemplate);\n                }\n            } else {\n                nameTemplate = template(series.name || '');\n                if (nameTemplate._slotCount === 0) {\n                    nameTemplate = template(defined(series.name) ? '#= group.value #: #= series.name #' : '#= group.value #');\n                }\n            }\n            for (groupIx = 0; groupIx < dataLength; groupIx++) {\n                seriesClone = deepExtend({}, series);\n                if (!kendo.isFunction(seriesClone.color)) {\n                    seriesClone.color = undefined;\n                }\n                seriesClone._groupIx = groupIx;\n                seriesClone._groupValue = data[groupIx].value;\n                result.push(seriesClone);\n                if (nameTemplate) {\n                    seriesClone.name = nameTemplate({\n                        series: seriesClone,\n                        group: data[groupIx]\n                    });\n                }\n            }\n            return result;\n        }\n        dataviz.ExportMixin.extend(Chart.fn);\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Chart.fn);\n        }\n        dataviz.ui.plugin(Chart);\n        var geom = kendo.geometry;\n        var Tooltip = Observable.extend({\n            init: function (chartElement, options) {\n                var tooltip = this;\n                Observable.fn.init.call(tooltip);\n                this.setOptions(options);\n                tooltip.chartElement = chartElement;\n                tooltip.template = Tooltip.template;\n                if (!tooltip.template) {\n                    tooltip.template = Tooltip.template = kendo.template('<div class=\\'k-tooltip k-chart-tooltip\\' ' + 'style=\\'display:none; position: absolute; font: #= d.font #;' + '#if (d.border) {# border: #= d.border.width #px solid; #}#' + 'opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);\\'>' + '</div>', {\n                        useWithBlock: false,\n                        paramName: 'd'\n                    });\n                }\n                tooltip.element = $(tooltip.template(tooltip.options));\n                tooltip.move = proxy(tooltip.move, tooltip);\n                tooltip._mouseleave = proxy(tooltip._mouseleave, tooltip);\n                var mobileScrollerSelector = kendo.format('[{0}=\\'content\\'],[{0}=\\'scroller\\']', kendo.attr('role'));\n                tooltip._mobileScroller = chartElement.closest(mobileScrollerSelector).data('kendoMobileScroller');\n            },\n            destroy: function () {\n                this._clearShowTimeout();\n                if (this.element) {\n                    this.element.off(MOUSELEAVE_NS).remove();\n                    this.element = null;\n                }\n            },\n            setOptions: function (options) {\n                this.options = deepExtend({}, this.options, options);\n            },\n            options: {\n                opacity: 1,\n                animation: { duration: TOOLTIP_ANIMATION_DURATION },\n                sharedTemplate: '<table>' + '<th colspan=\\'3\\'>#= categoryText #</th>' + '# for(var i = 0; i < points.length; i++) { #' + '# var point = points[i]; #' + '<tr>' + '<td><span class=\\'k-chart-shared-tooltip-marker\\' style=\\'background-color:#:point.series.color#\\'></span></td>' + '# if(point.series.name) { # ' + '<td> #= point.series.name #:</td>' + '# } #' + '<td>#= content(point) #</td>' + '</tr>' + '# } #' + '</table>',\n                categoryFormat: '{0:d}'\n            },\n            move: function () {\n                var tooltip = this, options = tooltip.options, element = tooltip.element, offset;\n                if (!tooltip.anchor || !tooltip.element) {\n                    return;\n                }\n                offset = tooltip._offset();\n                if (!tooltip.visible) {\n                    element.css({\n                        top: offset.top,\n                        left: offset.left\n                    });\n                }\n                tooltip.visible = true;\n                tooltip._ensureElement(document.body);\n                element.stop(true, true).show().animate({\n                    left: offset.left,\n                    top: offset.top\n                }, options.animation.duration);\n            },\n            _clearShowTimeout: function () {\n                if (this.showTimeout) {\n                    clearTimeout(this.showTimeout);\n                    this.showTimeout = null;\n                }\n            },\n            getAnchor: function (size) {\n                var anchor = this.anchor;\n                var point = anchor.point;\n                var align = anchor.align;\n                var x = point.left;\n                var y = point.top;\n                if (align.horizontal === 'center') {\n                    x -= size.width / 2;\n                } else if (align.horizontal === 'right') {\n                    x -= size.width;\n                }\n                if (align.vertical === 'center') {\n                    y -= size.height / 2;\n                } else if (align.vertical === 'bottom') {\n                    y -= size.height;\n                }\n                return {\n                    x: x,\n                    y: y\n                };\n            },\n            _offset: function () {\n                var tooltip = this, size = tooltip._measure(), anchor = tooltip.getAnchor(size), top = anchor.y, left = anchor.x, zoomLevel = kendo.support.zoomLevel(), viewport = $(window), scrollTop = window.pageYOffset || document.documentElement.scrollTop || 0, scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || 0, movable = (this._mobileScroller || {}).movable;\n                if (!movable || movable.scale === 1) {\n                    top += tooltip._fit(top - scrollTop, size.height, outerHeight(viewport) / zoomLevel);\n                    left += tooltip._fit(left - scrollLeft, size.width, outerWidth(viewport) / zoomLevel);\n                } else {\n                    var transform = geom.transform().scale(movable.scale, movable.scale, [\n                        movable.x,\n                        movable.y\n                    ]);\n                    var point = new geom.Point(left, top).transform(transform);\n                    left = point.x;\n                    top = point.y;\n                }\n                return {\n                    top: top,\n                    left: left\n                };\n            },\n            show: function (e) {\n                this.anchor = e.anchor;\n                this.element.css(e.style);\n                this.element.toggleClass(TOOLTIP_INVERSE, !!e.className);\n                this.element.toggleClass(SHARED_TOOLTIP_CLASS, !!e.shared);\n                var content = e.shared ? this._sharedContent(e) : this._pointContent(e.point);\n                this.element.html(content);\n                this._clearShowTimeout();\n                this.showTimeout = setTimeout(this.move, TOOLTIP_SHOW_DELAY);\n            },\n            hide: function () {\n                var tooltip = this;\n                clearTimeout(tooltip.showTimeout);\n                tooltip._hideElement();\n                if (tooltip.visible) {\n                    tooltip.point = null;\n                    tooltip.visible = false;\n                    tooltip.index = null;\n                }\n            },\n            _sharedContent: function (e) {\n                var tooltip = this, template, content;\n                template = kendo.template(tooltip.options.sharedTemplate);\n                content = template({\n                    points: e.points,\n                    category: e.category,\n                    categoryText: e.categoryText,\n                    content: tooltip._pointContent\n                });\n                return content;\n            },\n            _measure: function () {\n                this._ensureElement();\n                var size = {\n                    width: outerWidth(this.element),\n                    height: outerHeight(this.element)\n                };\n                return size;\n            },\n            _ensureElement: function () {\n                if (this.element) {\n                    this.element.appendTo(document.body).on(MOUSELEAVE_NS, this._mouseleave);\n                }\n            },\n            _mouseleave: function (e) {\n                var target = e.relatedTarget;\n                var chart = this.chartElement[0];\n                if (target && target !== chart && !$.contains(chart, target)) {\n                    this.trigger(LEAVE);\n                    this.hide();\n                }\n            },\n            _hideElement: function () {\n                var tooltip = this;\n                var element = this.element;\n                if (element) {\n                    element.fadeOut({\n                        always: function () {\n                            if (!tooltip.visible) {\n                                element.off(MOUSELEAVE_NS).remove();\n                            }\n                        }\n                    });\n                }\n            },\n            _pointContent: function (point) {\n                var tooltip = this, options = deepExtend({}, tooltip.options, point.options.tooltip), content, tooltipTemplate;\n                if (defined(point.value)) {\n                    content = point.value.toString();\n                }\n                if (options.template) {\n                    tooltipTemplate = template(options.template);\n                    content = tooltipTemplate({\n                        value: point.value,\n                        category: point.category,\n                        series: point.series,\n                        dataItem: point.dataItem,\n                        percentage: point.percentage,\n                        runningTotal: point.runningTotal,\n                        total: point.total,\n                        low: point.low,\n                        high: point.high,\n                        xLow: point.xLow,\n                        xHigh: point.xHigh,\n                        yLow: point.yLow,\n                        yHigh: point.yHigh\n                    });\n                } else if (options.format) {\n                    content = point.formatValue(options.format);\n                }\n                return content;\n            },\n            _fit: function (offset, size, viewPortSize) {\n                var output = 0;\n                if (offset + size > viewPortSize) {\n                    output = viewPortSize - (offset + size);\n                }\n                if (offset < 0) {\n                    output = -offset;\n                }\n                return output;\n            }\n        });\n        var CrosshairTooltip = Tooltip.extend({\n            init: function (chartElement, options) {\n                Tooltip.fn.init.call(this, chartElement, options);\n                this.element.addClass('k-chart-crosshair-tooltip');\n            },\n            show: function (e) {\n                var element = this.element;\n                if (element) {\n                    this.anchor = e.anchor;\n                    this.element.css(e.style);\n                    this.element.html(this.content(e));\n                    this.move();\n                }\n            },\n            move: function () {\n                var tooltip = this, element = tooltip.element, offset = tooltip._offset();\n                tooltip._ensureElement();\n                element.css({\n                    top: offset.top,\n                    left: offset.left\n                }).show();\n            },\n            content: function (e) {\n                var content = e.value, options = e.crosshair.options.tooltip;\n                if (options.template) {\n                    content = template(options.template)({ value: content });\n                }\n                return content;\n            },\n            hide: function () {\n                this.element.hide();\n            }\n        });\n        var ChartPane = Class.extend({\n            init: function (chart, pane) {\n                this._chart = chart;\n                this._pane = pane;\n                this.visual = pane.visual;\n                this.chartsVisual = pane.chartContainer.visual;\n                this.name = pane.options.name;\n            },\n            series: function () {\n                var chart = this._chart;\n                var seriesByPane = chart._plotArea.groupSeriesByPane();\n                var series = seriesByPane[this.name || 'default'];\n                var result = [];\n                if (series) {\n                    for (var idx = 0; idx < series.length; idx++) {\n                        result.push(new ChartSeries(chart, series[idx]));\n                    }\n                }\n                return result;\n            }\n        });\n        var ChartSeries = Class.extend({\n            init: function (chart, options) {\n                this._chart = chart;\n                this._options = options;\n            },\n            points: function (filter) {\n                var points = this._points;\n                if (!points) {\n                    var series = this._seriesOptions();\n                    var plotArea = this._chart._plotArea;\n                    this._points = points = plotArea.pointsBySeriesIndex(series.index);\n                }\n                if (kendo.isFunction(filter)) {\n                    points = this._filterPoints(points, filter);\n                }\n                return points;\n            },\n            data: function (data) {\n                var series = this._seriesOptions();\n                if (data) {\n                    var chart = this._chart;\n                    var plotArea = chart._plotArea;\n                    series.data = data;\n                    if (series.categoryField) {\n                        var axis = plotArea.seriesCategoryAxis(series);\n                        var options = [].concat(chart.options.categoryAxis);\n                        chart._instance._bindCategoryAxisFromSeries(options[axis.axisIndex], axis.axisIndex);\n                    }\n                    chart._noTransitionsRedraw();\n                    this._clearFields();\n                }\n                return series.data;\n            },\n            findPoint: function (filter) {\n                var points = this.points();\n                for (var idx = 0; idx < points.length; idx++) {\n                    if (filter(points[idx])) {\n                        return points[idx];\n                    }\n                }\n            },\n            toggleHighlight: function (show, elements) {\n                if (!elements) {\n                    elements = this.points();\n                } else if (kendo.isFunction(elements)) {\n                    elements = this.points(elements);\n                } else {\n                    elements = isArray(elements) ? elements : [elements];\n                }\n                this._chart._instance._togglePointsHighlight(show, elements);\n            },\n            toggleVisibility: function (visible, filter) {\n                var chart = this._chart;\n                var seriesOptions = this._seriesOptions();\n                var hasFilter = kendo.isFunction(filter);\n                if (!hasFilter) {\n                    seriesOptions.visible = visible;\n                    chart._saveGroupVisibleState(seriesOptions);\n                } else {\n                    if (inArray(seriesOptions.type, [\n                            PIE,\n                            DONUT,\n                            FUNNEL\n                        ])) {\n                        var data = this._filterData(filter);\n                        for (var idx = 0; idx < data.length; idx++) {\n                            data[idx].visible = visible;\n                        }\n                    } else {\n                        seriesOptions.visible = function (data) {\n                            return filter(data.dataItem) ? visible : true;\n                        };\n                    }\n                }\n                chart._noTransitionsRedraw();\n                this._clearFields();\n            },\n            _filterData: function (filter) {\n                var data = this._seriesOptions().data;\n                var length = data.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (filter(data[idx])) {\n                        result.push(data[idx]);\n                    }\n                }\n                return result;\n            },\n            _filterPoints: function (points, filter) {\n                var result = [];\n                var length = points.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (filter(points[idx])) {\n                        result.push(points[idx]);\n                    }\n                }\n                return result;\n            },\n            _seriesOptions: function () {\n                var series = this._series;\n                if (!series) {\n                    series = this._series = this._chart._seriesOptions(this._options);\n                }\n                return series;\n            },\n            _clearFields: function () {\n                delete this._points;\n                delete this._series;\n            }\n        });\n        dataviz.Tooltip = Tooltip;\n        dataviz.CrosshairTooltip = CrosshairTooltip;\n        dataviz.ChartInstanceObserver = ChartInstanceObserver;\n        dataviz.ChartPane = ChartPane;\n        dataviz.ChartSeries = ChartSeries;\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.chart', [\n        'dataviz/chart/kendo-chart',\n        'dataviz/chart/chart'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.chart',\n        name: 'Chart',\n        category: 'dataviz',\n        description: 'The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.',\n        depends: [\n            'data',\n            'userevents',\n            'drawing',\n            'dataviz.core',\n            'dataviz.themes'\n        ],\n        features: [{\n                id: 'dataviz.chart-pdf-export',\n                name: 'PDF export',\n                description: 'Export Chart as PDF',\n                depends: ['pdf']\n            }]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}