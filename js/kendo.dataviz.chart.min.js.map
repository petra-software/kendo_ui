{"version":3,"sources":["kendo.dataviz.chart.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","isUnicodeLetter","ch","RX_UNICODE_LETTER","test","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","RegExp","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","returnSelf","DefaultAggregates","_defaults","intersection","b1","b2","ua","ua_t","y","u_b","Point2D","applySeriesDefaults","themeOptions","seriesType","baseOptions","series","seriesLength","seriesDefaults","commonDefaults","themeSeriesDefaults","commonThemeDefaults","cleanupNestedSeriesDefaults","type","data","tooltip","bar","column","rangeColumn","line","verticalLine","pie","donut","area","verticalArea","scatter","scatterLine","bubble","candlestick","ohlc","boxPlot","bullet","verticalBullet","polarArea","polarLine","radarArea","radarLine","waterfall","applySeriesColors","currentSeries","seriesColor","defaults","colors","seriesColors","resolveAxisAliases","alias","each","CATEGORY","VALUE","X","Y","applyAxisDefaults","themeAxisDefaults","axisDefaults","axisName","axes","concat","axisOptions","axisColor","labels","title","categoriesCount","seriesCount","categories","getField","row","getter","getDateField","toDate","STRING","parseDate","isArray","toTime","addDuration","date","unit","weekStartDay","hours","getHours","YEARS","getFullYear","adjustDST","MONTHS","getMonth","WEEKS","startOfWeek","DAYS","getDate","HOURS","setUTCMinutes","addTicks","TIME_PER_HOUR","MINUTES","TIME_PER_MINUTE","getSeconds","setSeconds","SECONDS","TIME_PER_SECOND","MILLISECONDS","getMilliseconds","setMilliseconds","day","getDay","daysToSubtract","TIME_PER_DAY","floorDate","ceilDate","dateDiff","absoluteDateDiff","diff","offsetDiff","getTimezoneOffset","ticks","duration","TIME_PER_UNIT","dateIndex","start","baseUnit","baseUnitStep","startDate","timeIndex","singleItemOrArray","axisGroupBox","axisBox","contentBox","wrap","clone","Box2D","equalsIgnoreCase","dateEquals","appendIfNotNull","lteDateIndex","sortedDates","currentDate","low","high","countNumbers","num","count","areNumbers","axisRanges","axis","ranges","range","evalOptions","context","state","dryRun","property","propValue","excluded","depth","needsEval","MAX_EXPAND_DEPTH","hasOwnProperty","isFn","OBJECT","groupSeries","nameTemplate","groupIx","seriesClone","legacyTemplate","groupNameTemplate","dataLength","visibleInLegend","_slotCount","_groupIx","_groupValue","group","filterSeriesByType","types","indexOf","item","sortDates","dates","comparer","dateComparer","uniqueDates","srcDates","isDateAxis","sampleCategory","dateCategory","DATE","transpose","rows","rowIx","colIx","colCount","rowCount","ensureTree","fieldName","target","path","setter","seriesTotal","pointData","sum","SeriesBinder","bindPoint","valueFields","parseFloat","fields","visible","abs","hasGradientOverlay","overlay","gradient","anyHasZIndex","elements","zIndex","preventDefault","_defaultPrevented","pointByCategoryName","points","category","hasValue","toChartAxisRanges","axisRange","acceptKey","mouseKey","accept","ctrlKey","shiftKey","altKey","preloadFonts","fetchFonts","MAX_DEPTH","keys","forEach","clearMissingValues","originalOptions","fieldValue","originalValue","nullValue","isPlainObject","paneAnchor","pane","anchor","PlotAreaFactory","BarLabel","LegendItem","LegendLayout","Legend","CategoryAxis","DateCategoryAxis","DateValueAxis","ClusterLayout","StackWrap","PointEventsMixin","NoteMixin","Bar","BarChartAnimation","FadeInAnimation","ErrorRangeCalculator","CategoricalChart","BarChart","RangeBar","RangeBarChart","BulletChart","Bullet","Target","ErrorBarBase","CategoricalErrorBar","ScatterErrorBar","LinePoint","Bubble","LineSegment","LineChartMixin","ClipAnimationMixin","LineChart","ClipAnimation","StepLineSegment","SplineSegment","AreaSegmentMixin","AreaSegment","AreaChart","SplineAreaSegment","StepAreaSegment","ScatterChart","ScatterLineChart","BubbleChart","Candlestick","CandlestickChart","OHLCPoint","OHLCChart","BoxPlotChart","BoxPlot","VerticalBoxPlot","PieSegment","PieChartMixin","PieChart","DonutSegment","DonutChart","WaterfallChart","WaterfallSegment","Pane","ChartContainer","PlotAreaBase","PlotAreaEventsMixin","CategoricalPlotArea","AxisGroupRangeTracker","XYPlotArea","PiePlotArea","DonutPlotArea","PieAnimation","BubbleAnimation","Highlight","BaseTooltip","Tooltip","SharedTooltip","Crosshair","CrosshairTooltip","Aggregates","Selection","Pannable","ZoomSelection","MousewheelZoom","SeriesAggregator","ChartPlotArea","ChartPane","ChartAxis","ChartSeries","noop","proxy","Observable","DataSource","Widget","ui","isFunction","outerWidth","_outerWidth","outerHeight","_outerHeight","Axis","AxisLabel","BoxElement","ChartElement","Color","CurveProcessor","FloatElement","Note","LogarithmicAxis","NumericAxis","RootElement","Ring","ShapeElement","ShapeBuilder","TextBox","Title","alignPathToPixel","autoFormat","eventTargetElement","getSpacing","interpolate","interpolateValue","mwDelta","geom","geometry","draw","NS","ABOVE","AREA","AUTO","FIT","AXIS_LABEL_CLICK","BAR","BAR_ALIGN_MIN_WIDTH","BAR_BORDER_BRIGHTNESS","BELOW","BLACK","BOTH","BOTTOM","BOX_PLOT","BUBBLE","BULLET","CANDLESTICK","CENTER","CHANGE","CIRCLE","CONTEXTMENU_NS","CLIP","COLOR","COLUMN","COORD_PRECISION","CROSS","CSS_PREFIX","CUSTOM","DATABOUND","DEFAULT_FONT","DEFAULT_HEIGHT","DEFAULT_PRECISION","DEFAULT_WIDTH","DEFAULT_ERROR_BAR_WIDTH","DONUT","DONUT_SECTOR_ANIM_DELAY","DRAG","DRAG_END","DRAG_START","ERROR_LOW_FIELD","ERROR_HIGH_FIELD","X_ERROR_LOW_FIELD","X_ERROR_HIGH_FIELD","Y_ERROR_LOW_FIELD","Y_ERROR_HIGH_FIELD","FADEIN","FIRST","FROM","FUNNEL","GLASS","HORIZONTAL","HORIZONTAL_WATERFALL","INITIAL_ANIMATION_DURATION","INSIDE_BASE","INSIDE_END","INTERPOLATE","LEAVE","LEFT","LEGEND_ITEM_CLICK","LEGEND_ITEM_HOVER","LINE","LINE_MARKER_SIZE","LINEAR","LOGARITHMIC","MAX","MIN","MIN_CATEGORY_POINTS_RANGE","MIN_VALUE","MOUSELEAVE_NS","MOUSEMOVE_TRACKING","MOUSEMOVE_NS","MOUSEMOVE_DELAY","MOUSEWHEEL_DELAY","MOUSEWHEEL_NS","NOTE_CLICK","NOTE_HOVER","NOTE_TEXT","OHLC","OUTSIDE_END","PIE","PIE_SECTOR_ANIM_DELAY","PLOT_AREA_CLICK","PLOT_AREA_HOVER","POINTER","RANGE_BAR","RANGE_COLUMN","RENDER","RIGHT","ROUNDED_BEVEL","ROUNDED_GLASS","SCATTER","SCATTER_LINE","SELECT_START","SELECT","SELECT_END","SERIES_CLICK","SERIES_HOVER","START_SCALE","support","browser","msie","version","STEP","SMOOTH","STD_ERR","STD_DEV","SUMMARY_FIELD","TIME_PER_MILLISECOND","TIME_PER_WEEK","TIME_PER_MONTH","TIME_PER_YEAR","years","months","weeks","days","minutes","seconds","milliseconds","TO","TOP","TOOLTIP_ANIMATION_DURATION","TOOLTIP_OFFSET","TOOLTIP_SHOW_DELAY","TOOLTIP_HIDE_DELAY","TOOLTIP_INVERSE","VERTICAL_AREA","VERTICAL_BOX_PLOT","VERTICAL_BULLET","VERTICAL_LINE","WATERFALL","WHITE","ZERO","ZOOM_ACCELERATION","ZOOM_START","ZOOM","ZOOM_END","BASE_UNITS","EQUALLY_SPACED_SERIES","DateLabelFormats","Chart","userOptions","dataSource","chart","destroy","fn","call","addClass","css","_originalOptions","_initTheme","_initSurface","bind","events","wrapper","_initDataSource","notify","themes","themeName","theme","seriesCopies","_applyDefaults","_dataChangeHandler","_onDataChanged","_bindCategories","_hasDataSource","_redraw","_attachEvents","autoBind","fetch","setDataSource","unbind","_hasData","items","renderAs","chartArea","legend","categoryAxis","highlight","negativeValues","transitions","valueAxis","plotArea","xAxis","yAxis","panes","pannable","zoomable","refresh","_bindSeries","getSize","dimensions","_resize","t","redraw","paneName","_model","_plotArea","findPane","getAxis","findAxisByName","findPaneByName","findPaneByIndex","findSeries","srcSeries","findSeriesByName","_createSeries","findSeriesByIndex","seriesOptions","_seriesOptions","toggleHighlight","show","filter","seriesName","categoryName","firstSeries","filterPoints","pointsBySeriesName","charts","_togglePointsHighlight","_highlight","togglePointHighlight","showTooltip","point","categoryIndex","shared","_sharedTooltip","_tooltip","findPoint","categoryIx","pointsByCategoryIndex","showAt","hideTooltip","hide","surface","_surfaceWrap","clear","resize","Surface","view","model","_getModel","_destroyView","renderVisual","traverse","animation","setup","visual","play","_createTooltip","_setupSelection","_createPannable","_createZoomSelection","_createMousewheelZoom","exportVisual","originalChartArea","_pannable","selection","_zoomSelection","mousewheel","_mousewheelZoom","_tooltipleave","hideCrosshairs","_modelOptions","buildTitle","_createPlotArea","reflow","skipSeries","selections","_selections","_selectStartHandler","_selectStart","_selectHandler","_select","_selectEndHandler","_selectEnd","select","vertical","justified","_mouseover","_mouseout","on","_click","_mousewheel","_mouseleave","_mousemove","throttle","_shouldAttachMouseMove","UserEvents","_userEvents","global","multiTouch","fastTap","tap","_tap","_start","move","_move","end","_end","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","_gestureDistance","distance","_unsetActivePoint","suspendTracking","_zooming","resumeTracking","previousGestureDistance","scaleDelta","args","mousewheelZoom","delta","originalEvent","updateRanges","zoom","_drawingChartElement","leave","_events","coords","_eventCoordinates","backgroundContainsPoint","_startNavigation","currentAxis","_navState","pan","startLocation","location","translateRange","_endNavigation","prevented","totalDelta","origEvent","_mwTimeout","clearTimeout","setTimeout","scaleRange","chartEvent","findPointPane","cancel","_suppressHover","_getChartElement","match","eventTarget","chartElement","parent","aliasFor","closest","isTouch","client","clientX","clientY","_toModelCoordinates","offset","paddingLeft","parseInt","paddingTop","win","scrollLeft","top","scrollTop","drawingElement","_activePoint","_propagateClick","_startHover","_supressMouseleave","click","tooltipOptions","isHighlighted","hover","tooltipTracking","_mouseMoveTracking","seriesPoint","containsPoint","getNearestPoint","seriesIx","off","_trackCrosshairs","_trackSharedTooltip","crosshairs","pointArgs","hoverArgs","pointCategoryIndex","_tooltipCategoryIx","eventArgs","categoryPoints","relatedTarget","_sourceSeries","grouped","processedSeries","_isBindable","_applyGroupVisibleState","_deferRedraw","visibleState","action","_groupVisibleState","_saveGroupVisibleState","vml","_clearRedrawTimeout","_redrawTimeout","clearInterval","seriesData","axisIx","categoriesData","definitions","_bindCategoryAxis","dataItems","_bindCategoryAxisFromSeries","s","onAxis","dataIx","dataRow","getFn","dateAxis","uniqueCategories","categoryField","_legendItemClick","seriesIndex","pointIndex","_noTransitionsRedraw","transitionsState","_legendItemHover","pointsBySeriesIndex","setOptions","_setEvents","ExportMixin","PDFMixin","_registry","register","seriesTypes","registry","_valueFields","_otherFields","_nullValue","_undefinedValue","otherFields","binder","_makeValue","canonicalFields","pointIx","fieldData","srcValueFields","srcPointFields","_bindFromArray","sourceFields","_bindFromObject","initialValue","srcFields","srcFieldName","sourceFieldName","content","barLabel","textBox","position","margin","padding","background","border","aboveAxis","delay","createVisual","noclip","targetBox","children","align","vAlign","x1","y1","x2","y2","rotation","bottom","alignToClipBox","clipBox","parentBox","paddingBox","createContainer","createMarker","createLabel","container","markerOptions","markerColor","markers","labelOptions","renderComplete","cursor","eventSink","_itemOverlay","Path","fromRect","toRect","fill","opacity","stroke","appendVisual","widget","that","customVisual","active","renderChildren","defaultVisual","addVisual","render","legendItem","Layout","spacing","lineSpacing","orientation","rect","bbox","clippedBBox","rectToBox","createItems","offsetX","offsetY","userAlign","shrinkToFit","innerElement","isVertical","reverse","hasItems","containerCustomReflow","containerReflow","containerBox","alignTarget","translate","_initFields","_initCategories","_ticks","outOfRangeMin","outOfRangeMax","definedMin","definedMax","srcCategories","ceil","majorGridLines","rangeIndices","totalRange","totalRangeIndices","limit","_seriesMax","getScale","lineBox","scale","getTickPositions","stepSize","positions","getLabelsTickPositions","tickPositions","getMajorTickPositions","unshift","labelTickIndex","label","arrangeLabels","hideOutOfRangeLabels","firstLabel","lastLabel","getTicks","majorTicks","getMinorTickPositions","minorTicks","getHash","_hash","getSlot","from","to","p1","p2","lineStart","slotBox","singleSlot","slot","startValue","lineEnd","getCategory","zoomRange","rate","totalMax","totalMin","labelsCount","labelsRange","skip","step","createAxisLabel","dataItem","axisLabelText","shouldRenderNote","limitRange","pointsRange","diffStart","diffEnd","rangeMin","rangeMax","valueRange","useDefault","roundToBaseUnit","userSetBaseUnit","userSetBaseUnitStep","defaultBaseUnit","autoBaseUnit","_groupsStart","groupCategories","dateFormats","autoBaseUnitSteps","maxDateGroups","parseNoteValue","rounds","cat","lastCat","minDiff","_categoryRange","_range","categoryLimits","categoriesRange","minIdx","maxIdx","_roundToTotalStep","currentRange","datesRange","panRange","totalLimits","indicesRange","baseUnitIndex","autoBaseUnitStep","maxDiff","rangeDiff","stepIndex","autoUnit","stepOptions","unitSteps","nextStep","autoUnitIx","span","units","totalUnits","_timeScale","timeRange","maxCategory","lineSize","_collapse","nextDate","groups","upper","roundToNext","roundedStep","roundedDate","unitFormat","format","seriesMin","seriesMax","axisCrossingValue","axisCrossingValues","applyDefaults","timeUnits","baseUnitTime","autoMin","autoMax","userMajorUnit","majorUnit","autoMajorUnit","actualUnits","unitsToAdd","head","tail","minorUnit","getDivisions","stepValue","dir","startEdge","divisions","getValue","exact","limittedRange","endValue","gap","childBox","cluster","slots","slotSize","currentChild","positionAxis","childrenCount","snapTo","percentage","stackValue","runningTotal","total","createNote","notes","noteText","note","_rendered","errorBar","labelText","labelTemplate","formatValue","owner","formatPointValue","errorBars","rectVisual","sender","getChart","Group","createRect","strokeOpacity","getBorderColor","dashType","lineJoin","createGradientOverlay","baseColor","createHighlight","highlightVisual","highlightVisualArgs","borderColor","brightness","_brightness","toHex","tooltipAnchor","tooltipWidth","tooltipHeight","isStacked","overlapsBox","overlaps","Animation","fromScale","origin","Point","transform","abort","scaleX","scaleY","AnimationFactory","easing","fadeTo","errorValue","initGlobalRanges","prototype","percentRegex","standardDeviationRegex","average","deviation","multiple","errorRange","standardError","deviationMatch","exec","valueGetter","createValueGetter","getAverage","getStandardDeviation","globalRange","getStandardError","getErrorRange","pointValue","percentValue","Error","sqrt","isSample","squareDifferenceSum","seriesCategoryAxis","valueAxisRanges","seriesPoints","_evalSeries","invertAxes","clip","traverseDataPoints","addValue","pointOptions","pointType","plotValue","categoryPts","categorySum","otherValues","other","stack","otherStack","isStacked100","plotRange","positive","prevValue","isStackedBar","otherValue","seriesValueAxis","categoryAxisCrossingValue","stackLimits","stackName","pIx","updateStackRange","limits","errorTotals","chartSeries","limitsCache","negative","addErrorBar","lowValue","highValue","seriesErrorRanges","addPointErrorBar","stackedErrorRange","updateRange","createPoint","evalPointOptions","doEval","namedValueAxes","categorySlots","chartPoints","categorySlot","valueSlot","pointSlot","reflowPoint","reflowCategories","crossingValues","axisIndex","slotX","slotY","currentCategory","_outOfRangeCallback","_bindPoint","outOfRangePoint","bindCache","_bindCache","clusterType","stackType","stackWrap","negativeColor","getStackWrap","stackGroup","wraps","_stackGroup","stackAxis","zeroSlot","childrenLength","createAnimation","_setAnimationOptions","_setChildrenAnimation","pointVisual","fromOptions","toOptions","labelFrom","_createLabel","labelTo","rangeBar","plotLimits","wrapData","seriesItem","bulletOptions","shape","targetSlot","targetValueSlot","targetSlotX","targetSlotY","set","bodyVisual","endCaps","linePoints","valueBox","centerBox","center","capsWidth","getCapsWidth","capValue","capStart","capEnd","boxSize","createDefaultVisual","lineOptions","moveTo","lineTo","seriesAxes","marker","markerBorder","markerBox","_childBox","noteTargetBox","reflowLabel","alignTo","defaultColor","shadow","getElement","halfSize","Rect","radius","Circle","segment","closed","visualPoints","fromPoints","close","renderSegments","sortedPoints","pointCount","lastSegment","_segments","sortPoints","seriesMissingValues","createSegment","_addSegment","missingValues","assumeZero","nearestPoint","pointBox","pointDistance","allPoints","nearestPointDistance","distanceTo","clipPath","root","getRoot","animationPoints","_setEnd","segments","topRight","bottomRight","setX","calculateStepPoints","prevPoint","prevMarkerBoxCenter","markerBoxCenter","isInterpolate","revDir","curveProcessor","curve","process","firstPoint","lastPoint","valueAxisLineBox","categoryAxisLineBox","stackPoints","_linePoints","createArea","createLine","lineCap","prevSegment","_gapStackPoints","stackPoint","_stackPoints","currentSeriesIx","gapStackPoint","startIdx","endIdx","_previousSegmentPoint","_createGapStackPoint","segmentIx","seriesIdx","strokeSegments","_strokeSegments","createFill","createStroke","prevStrokeSegments","prevAnchor","stackSegments","firstAnchor","fillSegments","Segment","controlOut","controlIn","closeFill","fillPath","xAxisRanges","yAxisRanges","valueErrorField","lowField","highField","createMissingValue","xAxisName","yAxisName","xAxisRange","yAxisRange","namedXAxes","axisX","namedYAxes","axisY","currentSeriesPoints","missingValue","_maxSize","updateBubblesSize","pointsCount","animationOptions","minSize","maxSize","minR","maxR","minArea","maxArea","areaRange","areaRatio","baseZIndex","mid","ocSlot","lhSlot","open","realBody","lines","reflowNote","_mainVisual","mainVisual","createOverlay","createBody","createLines","drawLines","lineStyle","normalColor","valueParts","splitValue","downColor","oSlot","cSlot","oPoints","cPoints","lhPoints","lower","q1","median","q3","filterOutliers","outliers","mean","extremes","whiskerSlot","boxSlot","medianSlot","meanSlot","reflowBoxSlot","reflowWhiskerSlot","meanPoints","calcMeanPoints","whiskerPoints","calcWhiskerPoints","medianPoints","calcMedianPoints","renderOutliers","markersBorder","outlierValue","outerFence","reflowOutliers","sector","animationDelay","lp","labelWidth","labelHeight","labelsOptions","labelsDistance","angle","middle","expand","startAngle","innerRadius","ir","endAngle","createSegmentVisual","borderOptions","fallbackFill","userSpace","singleSegment","createRing","adjacentBox","createLegendItem","itemLabelOptions","pointVisible","legendOptions","inactiveItems","inactiveItemsLabels","legendItems","connectors","anglePerValue","explode","currentAngle","colorsCount","evalSegmentOptions","segmentOptions","seriesConfig","space","minWidth","halfMinWidth","defaultPadding","newBox","newBoxCenter","seriesConfigs","boxCenter","leftSideLabels","rightSideLabels","labelComparator","leftLabelsReflow","rightLabelsReflow","distances","distanceBetweenLabels","distributeLabels","secondBox","firstBox","lr","remaining","_takeDistance","reflowLabels","amount","available","boxX","labelDistance","boxY","hAlignLabel","connectorLine","connectorsColor","centerPoint","sr","crossing","_connectorLines","seriesId","pointInCircle","originalX","direction","cx","cy","holeSize","totalSize","seriesWithoutSize","currentSize","createSegments","summary","totalCategories","fromBox","toBox","guid","createTitle","chartContainer","titleOptions","appendAxis","appendChart","empty","removeAxis","removeChart","pop","visualStyle","createGridLines","stackRoot","clipRoot","gridLines","j","altAxis","allAxes","vGridLines","hGridLines","createGradient","chartsBox","axisValueField","shouldClip","_clipBox","clipRect","unclipLabels","initSeries","createPanes","createCrosshairs","setTitle","currentPane","paneOptions","panesLength","paneIndex","currentCrosshair","crosshair","removeCrosshairs","matchingPane","axisToRemove","filteredAxes","chartToRemove","filteredCharts","addToLegend","seriesVisible","groupAxes","paneAxes","paneIx","xAxes","yAxes","any","groupSeriesByPane","seriesByPane","seriesPaneName","filterVisibleSeries","unpad","reflowPanes","reflowAxes","reflowCharts","crossingAxes","valuesToAdd","alignAxisTo","targetAxis","crossingValue","targetCrossingValue","slotEdge","targetEdge","alignAxes","anchorCrossings","paneId","xAnchor","yAnchor","xAnchorCrossings","yAnchorCrossings","leftAnchors","rightAnchors","topAnchors","bottomAnchors","_overlap","_mirrored","mirror","shrinkAxisWidth","overflowX","shrink","shrinkAxisHeight","overflowY","shrinked","fitAxes","paneBox","reflowPaneAxes","autoRotateAxisLabels","groupedAxes","rotated","autoRotateLabels","chartPane","percents","remainingHeight","remainingPanes","autoHeightPanes","backgroundBox","axisA","axisB","axesCount","chartsBoxes","boxes","addBackgroundPaths","multipath","paths","bg","_bgVisual","MultiPath","paneByPoint","_dispatchEvent","namedCategoryAxes","valueAxisRangeTracker","stack100","createCategoryAxes","aggregateCategories","createCategoryAxesLabels","createCharts","createValueAxes","reset","paneSeries","visibleSeries","groupSeriesByCategoryAxis","createChartGroup","createAreaChart","createBarChart","createRangeBarChart","createBulletChart","createCandlestickChart","createBoxPlotChart","createOHLCChart","createWaterfallChart","createLineChart","axisPane","aggregateSeries","filterSeries","minCategory","outOfRangePoints","_outOfRangeMinPoint","_outOfRangeMaxPoint","aggregator","outOfRangeMinCategory","outOfRangeMaxCategory","srcData","srcPoints","aggregatorSeries","outOfRangeMinIdx","outOfRangeMaxIdx","aggregatePoints","categoriesToAdd","update","grep","defaultPaneName","stackableChartOptions","axisSeries","unique","categoryAxes","barChart","rangeColumnChart","bulletChart","lineChart","areaChart","waterfallChart","axisRequiresRounding","categoryAxisName","categoryAxisIndex","seriesAxis","centeredSeries","aggregatedAxis","createLabels","primaryAxis","_deferLabels","isJustified","axisType","defaultAxisRange","tracker","defaultRange","query","roundToMajorUnit","eventType","pointPane","updateAxisOptions","axesOptions","chartAxisRanges","chartRange","xAxisRangeTracker","yAxisRangeTracker","filteredSeries","createScatterChart","createScatterLineChart","createBubbleChart","createAxes","xAxisOptions","yAxisOptions","createXYAxis","seriesAxisName","firstPointValue","inferredDate","namedAxes","isLog","typeSamples","xAxesOptions","yAxesOptions","currentValue","xValues","yValues","createPieChart","pieChart","createDonutChart","donutChart","_points","hasHighlight","toggleHandler","toggle","mobileScrollerSelector","padding-top","padding-right","padding-bottom","padding-left","attr","_mobileScroller","_clearShowTimeout","remove","_offset","_ensureElement","stop","animate","showTimeout","_padding","_chartPadding","_measure","chartPadding","chartOffset","zoomLevel","viewport","pageYOffset","documentElement","pageXOffset","movable","_fit","setStyle","pointColor","percBrightness","toggleClass","backgroundColor","borderWidth","_hideElement","appendTo","contains","fadeOut","always","_pointContent","tooltipTemplate","xLow","xHigh","yLow","yHigh","_pointAnchor","viewPortSize","html","sharedTemplate","categoryFormat","_content","_slotAnchor","_defaultAnchor","hCenter","slotCenter","categoryText","stickyMode","moveLine","getBox","dim","axisLineBox","getAnchor","halfWidth","halfHeight","bottomLeft","topLeft","sumOrNull","avg","aggregates","getValueAxis","selectorPrefix","_dateAxis","find","leftMask","rightMask","leftHandle","rightHandle","_index","cssText","stopPropagation","userEvents","press","_press","add","removeClass","_state","_rangeEventArgs","_value","moveTarget","parents","handle","oldRange","is","p0","touches","rightClick","which","_slot","leftMaskWidth","rightMaskWidth","zDir","lock","_active","_panAxes","updatedAxes","_marquee","zoomPane","elementOffset","_zoomPane","_elementOffset","_zoomPaneClipBox","selectionPosition","_selectionPosition","_updateAxisRanges","initialDelta","defaultAggregates","fieldAggregate","sa","seriesFields","_seriesFields","rootAggregate","aggregate","_series","_binder","canonicalName","srcValues","_bindPoints","firstDataItem","_bindField","backgroundVisual","_chart","_pane","chartsVisual","_axis","_options","_filterPoints","_clearFields","toggleVisibility","hasFilter","_filterData","easeOutElastic","asin","sin","plugin","errorLow","errorHigh"],"mappings":"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","file":"kendo.dataviz.chart.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        function isUnicodeLetter(ch) {\n            return RX_UNICODE_LETTER.test(ch);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort,\n                isUnicodeLetter: isUnicodeLetter\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n        var RX_UNICODE_LETTER = new RegExp('[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]');\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.chart', [\n        'kendo.color',\n        'kendo.data',\n        'kendo.dataviz.core',\n        'kendo.dataviz.themes',\n        'kendo.drawing',\n        'kendo.userevents'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.chart',\n        name: 'Chart',\n        category: 'dataviz',\n        description: 'The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.',\n        depends: [\n            'data',\n            'userevents',\n            'drawing',\n            'dataviz.core',\n            'dataviz.themes'\n        ],\n        features: [\n            {\n                id: 'dataviz.chart-polar',\n                name: 'Polar & Radar',\n                description: 'Support for Polar and Radar charts.',\n                depends: ['dataviz.chart.polar'],\n                requireJS: false\n            },\n            {\n                id: 'dataviz.chart-funnel',\n                name: 'Funnel chart',\n                description: 'Support for Funnel chart.',\n                depends: ['dataviz.chart.funnel'],\n                requireJS: false\n            },\n            {\n                id: 'dataviz.chart-pdf-export',\n                name: 'PDF export',\n                description: 'Export Chart as PDF',\n                depends: ['pdf']\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var each = $.each, isArray = $.isArray, isPlainObject = $.isPlainObject, map = $.map, math = Math, noop = $.noop, extend = $.extend, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, Observable = kendo.Observable, DataSource = kendo.data.DataSource, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, getter = kendo.getter, isFn = kendo.isFunction, template = kendo.template, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, dataviz = kendo.dataviz, Axis = dataviz.Axis, AxisLabel = dataviz.AxisLabel, Box2D = dataviz.Box2D, BoxElement = dataviz.BoxElement, ChartElement = dataviz.ChartElement, Color = kendo.drawing.Color, CurveProcessor = dataviz.CurveProcessor, FloatElement = dataviz.FloatElement, Note = dataviz.Note, LogarithmicAxis = dataviz.LogarithmicAxis, NumericAxis = dataviz.NumericAxis, Point2D = dataviz.Point2D, RootElement = dataviz.RootElement, Ring = dataviz.Ring, ShapeElement = dataviz.ShapeElement, ShapeBuilder = dataviz.ShapeBuilder, TextBox = dataviz.TextBox, Title = dataviz.Title, alignPathToPixel = dataviz.alignPathToPixel, autoFormat = dataviz.autoFormat, dateComparer = dataviz.dateComparer, eventTargetElement = dataviz.eventTargetElement, getSpacing = dataviz.getSpacing, inArray = dataviz.inArray, interpolate = dataviz.interpolateValue, mwDelta = dataviz.mwDelta, round = dataviz.round, util = kendo.util, append = util.append, defined = util.defined, last = util.last, limitValue = util.limitValue, sparseArrayLimits = util.sparseArrayLimits, sparseArrayMin = util.sparseArrayMin, sparseArrayMax = util.sparseArrayMax, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, geom = dataviz.geometry, draw = dataviz.drawing;\n        var NS = '.kendoChart', ABOVE = 'above', AREA = 'area', AUTO = 'auto', FIT = 'fit', AXIS_LABEL_CLICK = dataviz.AXIS_LABEL_CLICK, BAR = 'bar', BAR_ALIGN_MIN_WIDTH = 6, BAR_BORDER_BRIGHTNESS = 0.8, BELOW = 'below', BLACK = '#000', BOTH = 'both', BOTTOM = 'bottom', BOX_PLOT = 'boxPlot', BUBBLE = 'bubble', BULLET = 'bullet', CANDLESTICK = 'candlestick', CATEGORY = 'category', CENTER = 'center', CHANGE = 'change', CIRCLE = 'circle', CONTEXTMENU_NS = 'contextmenu' + NS, CLIP = dataviz.CLIP, COLOR = 'color', COLUMN = 'column', COORD_PRECISION = dataviz.COORD_PRECISION, CROSS = 'cross', CSS_PREFIX = 'k-', CUSTOM = 'custom', DATABOUND = 'dataBound', DATE = 'date', DAYS = 'days', DEFAULT_FONT = dataviz.DEFAULT_FONT, DEFAULT_HEIGHT = dataviz.DEFAULT_HEIGHT, DEFAULT_PRECISION = dataviz.DEFAULT_PRECISION, DEFAULT_WIDTH = dataviz.DEFAULT_WIDTH, DEFAULT_ERROR_BAR_WIDTH = 4, DONUT = 'donut', DONUT_SECTOR_ANIM_DELAY = 50, DRAG = 'drag', DRAG_END = 'dragEnd', DRAG_START = 'dragStart', ERROR_LOW_FIELD = 'errorLow', ERROR_HIGH_FIELD = 'errorHigh', X_ERROR_LOW_FIELD = 'xErrorLow', X_ERROR_HIGH_FIELD = 'xErrorHigh', Y_ERROR_LOW_FIELD = 'yErrorLow', Y_ERROR_HIGH_FIELD = 'yErrorHigh', FADEIN = 'fadeIn', FIRST = 'first', FROM = 'from', FUNNEL = 'funnel', GLASS = 'glass', HORIZONTAL = 'horizontal', HORIZONTAL_WATERFALL = 'horizontalWaterfall', HOURS = 'hours', INITIAL_ANIMATION_DURATION = dataviz.INITIAL_ANIMATION_DURATION, INSIDE_BASE = 'insideBase', INSIDE_END = 'insideEnd', INTERPOLATE = 'interpolate', LEAVE = 'leave', LEFT = 'left', LEGEND_ITEM_CLICK = 'legendItemClick', LEGEND_ITEM_HOVER = 'legendItemHover', LINE = 'line', LINE_MARKER_SIZE = 8, LINEAR = 'linear', LOGARITHMIC = 'log', MAX = 'max', MAX_EXPAND_DEPTH = 5, MAX_VALUE = Number.MAX_VALUE, MIN = 'min', MIN_CATEGORY_POINTS_RANGE = 0.01, MIN_VALUE = -Number.MAX_VALUE, MINUTES = 'minutes', MONTHS = 'months', MOUSELEAVE_NS = 'mouseleave' + NS, MOUSEMOVE_TRACKING = 'mousemove.tracking', MOUSEMOVE_NS = 'mousemove' + NS, MOUSEMOVE_DELAY = 20, MOUSEWHEEL_DELAY = 150, MOUSEWHEEL_NS = 'DOMMouseScroll' + NS + ' mousewheel' + NS, NOTE_CLICK = dataviz.NOTE_CLICK, NOTE_HOVER = dataviz.NOTE_HOVER, NOTE_TEXT = 'noteText', OBJECT = 'object', OHLC = 'ohlc', OUTSIDE_END = 'outsideEnd', PIE = 'pie', PIE_SECTOR_ANIM_DELAY = 70, PLOT_AREA_CLICK = 'plotAreaClick', PLOT_AREA_HOVER = 'plotAreaHover', POINTER = 'pointer', RANGE_BAR = 'rangeBar', RANGE_COLUMN = 'rangeColumn', RENDER = 'render', RIGHT = 'right', ROUNDED_BEVEL = 'roundedBevel', ROUNDED_GLASS = 'roundedGlass', SCATTER = 'scatter', SCATTER_LINE = 'scatterLine', SECONDS = 'seconds', MILLISECONDS = 'milliseconds', SELECT_START = 'selectStart', SELECT = 'select', SELECT_END = 'selectEnd', SERIES_CLICK = 'seriesClick', SERIES_HOVER = 'seriesHover', START_SCALE = kendo.support.browser.msie && kendo.support.browser.version === 10 ? 0.001 : 0, STEP = 'step', SMOOTH = 'smooth', STD_ERR = 'stderr', STD_DEV = 'stddev', STRING = 'string', SUMMARY_FIELD = 'summary', TIME_PER_MILLISECOND = 1, TIME_PER_SECOND = 1000 * TIME_PER_MILLISECOND, TIME_PER_MINUTE = 60 * TIME_PER_SECOND, TIME_PER_HOUR = 60 * TIME_PER_MINUTE, TIME_PER_DAY = 24 * TIME_PER_HOUR, TIME_PER_WEEK = 7 * TIME_PER_DAY, TIME_PER_MONTH = 31 * TIME_PER_DAY, TIME_PER_YEAR = 365 * TIME_PER_DAY, TIME_PER_UNIT = {\n                'years': TIME_PER_YEAR,\n                'months': TIME_PER_MONTH,\n                'weeks': TIME_PER_WEEK,\n                'days': TIME_PER_DAY,\n                'hours': TIME_PER_HOUR,\n                'minutes': TIME_PER_MINUTE,\n                'seconds': TIME_PER_SECOND,\n                'milliseconds': TIME_PER_MILLISECOND\n            }, TO = 'to', TOP = 'top', TOOLTIP_ANIMATION_DURATION = 150, TOOLTIP_OFFSET = 5, TOOLTIP_SHOW_DELAY = 100, TOOLTIP_HIDE_DELAY = 100, TOOLTIP_INVERSE = 'chart-tooltip-inverse', VALUE = 'value', VERTICAL_AREA = 'verticalArea', VERTICAL_BOX_PLOT = 'verticalBoxPlot', VERTICAL_BULLET = 'verticalBullet', VERTICAL_LINE = 'verticalLine', WATERFALL = 'waterfall', WEEKS = 'weeks', WHITE = '#fff', X = 'x', Y = 'y', YEARS = 'years', ZERO = 'zero', ZOOM_ACCELERATION = 3, ZOOM_START = 'zoomStart', ZOOM = 'zoom', ZOOM_END = 'zoomEnd', BASE_UNITS = [\n                MILLISECONDS,\n                SECONDS,\n                MINUTES,\n                HOURS,\n                DAYS,\n                WEEKS,\n                MONTHS,\n                YEARS\n            ], EQUALLY_SPACED_SERIES = [\n                BAR,\n                COLUMN,\n                OHLC,\n                CANDLESTICK,\n                BOX_PLOT,\n                VERTICAL_BOX_PLOT,\n                BULLET,\n                RANGE_COLUMN,\n                RANGE_BAR,\n                WATERFALL,\n                HORIZONTAL_WATERFALL\n            ];\n        var DateLabelFormats = {\n            milliseconds: 'HH:mm:ss.fff',\n            seconds: 'HH:mm:ss',\n            minutes: 'HH:mm',\n            hours: 'HH:mm',\n            days: 'M/d',\n            weeks: 'M/d',\n            months: 'MMM \\'yy',\n            years: 'yyyy'\n        };\n        var Chart = Widget.extend({\n            init: function (element, userOptions) {\n                var chart = this, options, dataSource;\n                kendo.destroy(element);\n                Widget.fn.init.call(chart, element);\n                chart.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative');\n                if (userOptions) {\n                    dataSource = userOptions.dataSource;\n                    userOptions.dataSource = undefined;\n                }\n                options = deepExtend({}, chart.options, userOptions);\n                chart._originalOptions = deepExtend({}, options);\n                chart._initTheme(options);\n                chart._initSurface();\n                chart.bind(chart.events, chart.options);\n                chart.wrapper = chart.element;\n                if (userOptions) {\n                    userOptions.dataSource = dataSource;\n                }\n                chart._initDataSource(userOptions);\n                kendo.notify(chart, dataviz.ui);\n            },\n            _initTheme: function (options) {\n                var chart = this, themes = dataviz.ui.themes || {}, themeName = options.theme, theme = themes[themeName] || themes[themeName.toLowerCase()], themeOptions = themeName && theme ? theme.chart : {}, seriesCopies = [], series = options.series || [], i;\n                for (i = 0; i < series.length; i++) {\n                    seriesCopies.push($.extend({}, series[i]));\n                }\n                options.series = seriesCopies;\n                resolveAxisAliases(options);\n                chart._applyDefaults(options, themeOptions);\n                if (options.seriesColors === null) {\n                    options.seriesColors = undefined;\n                }\n                chart.options = deepExtend({}, themeOptions, options);\n                applySeriesColors(chart.options);\n            },\n            _initDataSource: function (userOptions) {\n                var chart = this, dataSource = (userOptions || {}).dataSource;\n                chart._dataChangeHandler = proxy(chart._onDataChanged, chart);\n                chart.dataSource = DataSource.create(dataSource).bind(CHANGE, chart._dataChangeHandler);\n                chart._bindCategories();\n                if (dataSource) {\n                    chart._hasDataSource = true;\n                }\n                preloadFonts(userOptions, function () {\n                    chart._redraw();\n                    chart._attachEvents();\n                });\n                if (dataSource) {\n                    if (chart.options.autoBind) {\n                        chart.dataSource.fetch();\n                    }\n                }\n            },\n            setDataSource: function (dataSource) {\n                var chart = this;\n                chart.dataSource.unbind(CHANGE, chart._dataChangeHandler);\n                chart.dataSource = dataSource = DataSource.create(dataSource);\n                chart._hasDataSource = true;\n                chart._hasData = false;\n                dataSource.bind(CHANGE, chart._dataChangeHandler);\n                if (chart.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            events: [\n                DATABOUND,\n                SERIES_CLICK,\n                SERIES_HOVER,\n                AXIS_LABEL_CLICK,\n                LEGEND_ITEM_CLICK,\n                LEGEND_ITEM_HOVER,\n                PLOT_AREA_CLICK,\n                PLOT_AREA_HOVER,\n                DRAG_START,\n                DRAG,\n                DRAG_END,\n                ZOOM_START,\n                ZOOM,\n                ZOOM_END,\n                SELECT_START,\n                SELECT,\n                SELECT_END,\n                NOTE_CLICK,\n                NOTE_HOVER,\n                RENDER\n            ],\n            items: function () {\n                return $();\n            },\n            options: {\n                name: 'Chart',\n                renderAs: '',\n                theme: 'default',\n                chartArea: {},\n                legend: {\n                    visible: true,\n                    labels: {}\n                },\n                categoryAxis: {},\n                autoBind: true,\n                seriesDefaults: {\n                    type: COLUMN,\n                    data: [],\n                    highlight: { visible: true },\n                    labels: {},\n                    negativeValues: { visible: false }\n                },\n                series: [],\n                seriesColors: null,\n                tooltip: { visible: false },\n                transitions: true,\n                valueAxis: {},\n                plotArea: {},\n                title: {},\n                xAxis: {},\n                yAxis: {},\n                panes: [{}],\n                pannable: false,\n                zoomable: false\n            },\n            refresh: function () {\n                var chart = this;\n                chart._applyDefaults(chart.options);\n                applySeriesColors(chart.options);\n                chart._bindSeries();\n                chart._bindCategories();\n                chart.trigger(DATABOUND);\n                chart._redraw();\n            },\n            getSize: function () {\n                return kendo.dimensions(this.element);\n            },\n            _resize: function () {\n                var t = this.options.transitions;\n                this.options.transitions = false;\n                this._redraw();\n                this.options.transitions = t;\n            },\n            redraw: function (paneName) {\n                var chart = this, pane, plotArea;\n                chart._applyDefaults(chart.options);\n                applySeriesColors(chart.options);\n                if (paneName) {\n                    plotArea = chart._model._plotArea;\n                    pane = plotArea.findPane(paneName);\n                    plotArea.redraw(pane);\n                } else {\n                    chart._redraw();\n                }\n            },\n            getAxis: function (name) {\n                var axes = this._plotArea.axes;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    if (axes[idx].options.name === name) {\n                        return new ChartAxis(axes[idx]);\n                    }\n                }\n            },\n            findAxisByName: function (name) {\n                return this.getAxis(name);\n            },\n            plotArea: function () {\n                return new ChartPlotArea(this._plotArea);\n            },\n            findPaneByName: function (name) {\n                var panes = this._plotArea.panes;\n                for (var idx = 0; idx < panes.length; idx++) {\n                    if (panes[idx].options.name === name) {\n                        return new ChartPane(this, panes[idx]);\n                    }\n                }\n            },\n            findPaneByIndex: function (idx) {\n                var panes = this._plotArea.panes;\n                if (panes[idx]) {\n                    return new ChartPane(this, panes[idx]);\n                }\n            },\n            findSeries: function (callback) {\n                var plotArea = this._plotArea;\n                var series = plotArea.srcSeries || plotArea.series;\n                for (var idx = 0; idx < series.length; idx++) {\n                    if (callback(series[idx])) {\n                        return new ChartSeries(this, series[idx]);\n                    }\n                }\n            },\n            findSeriesByName: function (name) {\n                return this._createSeries({ name: name });\n            },\n            findSeriesByIndex: function (index) {\n                return this._createSeries({ index: index });\n            },\n            _createSeries: function (options) {\n                var seriesOptions = this._seriesOptions(options);\n                if (seriesOptions) {\n                    return new ChartSeries(this, seriesOptions);\n                }\n            },\n            _seriesOptions: function (options) {\n                var plotArea = this._plotArea;\n                var series = plotArea.srcSeries || plotArea.series;\n                var seriesOptions;\n                if (defined(options.index)) {\n                    seriesOptions = series[options.index];\n                } else if (defined(options.name)) {\n                    for (var idx = 0; idx < series.length; idx++) {\n                        if (series[idx].name === options.name) {\n                            seriesOptions = series[idx];\n                            break;\n                        }\n                    }\n                }\n                return seriesOptions;\n            },\n            toggleHighlight: function (show, filter) {\n                var plotArea = this._plotArea;\n                var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\n                var seriesName, categoryName, points;\n                if (kendo.isFunction(filter)) {\n                    points = plotArea.filterPoints(filter);\n                } else {\n                    if (isPlainObject(filter)) {\n                        seriesName = filter.series;\n                        categoryName = filter.category;\n                    } else {\n                        seriesName = categoryName = filter;\n                    }\n                    if (firstSeries.type === DONUT) {\n                        points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\n                    } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {\n                        points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\n                    } else {\n                        points = plotArea.pointsBySeriesName(seriesName);\n                    }\n                }\n                if (points) {\n                    this._togglePointsHighlight(show, points);\n                }\n            },\n            _togglePointsHighlight: function (show, points) {\n                var highlight = this._highlight;\n                for (var idx = 0; idx < points.length; idx++) {\n                    highlight.togglePointHighlight(points[idx], show);\n                }\n            },\n            showTooltip: function (filter) {\n                var shared = this._sharedTooltip();\n                var tooltip = this._tooltip;\n                var plotArea = this._plotArea;\n                var point, categoryIndex;\n                if (kendo.isFunction(filter)) {\n                    point = plotArea.findPoint(filter);\n                    if (point && shared) {\n                        categoryIndex = point.categoryIx;\n                    }\n                } else if (shared && defined(filter)) {\n                    categoryIndex = plotArea.categoryAxis.categoryIndex(filter);\n                }\n                if (shared) {\n                    if (categoryIndex >= 0) {\n                        var points = this._plotArea.pointsByCategoryIndex(categoryIndex);\n                        tooltip.showAt(points);\n                    }\n                } else if (point) {\n                    tooltip.show(point);\n                }\n            },\n            hideTooltip: function () {\n                this._tooltip.hide();\n            },\n            _initSurface: function () {\n                var surface = this.surface;\n                var wrap = this._surfaceWrap();\n                var chartArea = this.options.chartArea;\n                if (chartArea.width) {\n                    wrap.css('width', chartArea.width);\n                }\n                if (chartArea.height) {\n                    wrap.css('height', chartArea.height);\n                }\n                if (!surface || surface.options.type !== this.options.renderAs) {\n                    if (surface) {\n                        surface.destroy();\n                    }\n                    this.surface = draw.Surface.create(wrap, { type: this.options.renderAs });\n                } else {\n                    this.surface.clear();\n                    this.surface.resize();\n                }\n            },\n            _surfaceWrap: function () {\n                return this.element;\n            },\n            _redraw: function () {\n                var chart = this, model = chart._getModel(), view;\n                chart._destroyView();\n                chart._model = model;\n                chart._plotArea = model._plotArea;\n                model.renderVisual();\n                if (this.options.transitions !== false) {\n                    model.traverse(function (element) {\n                        if (element.animation) {\n                            element.animation.setup();\n                        }\n                    });\n                }\n                chart._initSurface();\n                chart.surface.draw(model.visual);\n                if (this.options.transitions !== false) {\n                    model.traverse(function (element) {\n                        if (element.animation) {\n                            element.animation.play();\n                        }\n                    });\n                }\n                chart._tooltip = chart._createTooltip();\n                chart._highlight = new Highlight(view);\n                chart._setupSelection();\n                chart._createPannable();\n                chart._createZoomSelection();\n                chart._createMousewheelZoom();\n                if (!chart._hasDataSource || chart._hasData || !chart.options.autoBind) {\n                    chart.trigger(RENDER);\n                }\n            },\n            exportVisual: function (options) {\n                var visual;\n                if (options && (options.width || options.height)) {\n                    var chartArea = this.options.chartArea;\n                    var originalChartArea = this._originalOptions.chartArea;\n                    deepExtend(chartArea, options);\n                    var model = this._getModel();\n                    chartArea.width = originalChartArea.width;\n                    chartArea.height = originalChartArea.height;\n                    model.renderVisual();\n                    visual = model.visual;\n                } else {\n                    visual = this.surface.exportVisual();\n                }\n                return visual;\n            },\n            _sharedTooltip: function () {\n                var chart = this, options = chart.options;\n                return chart._plotArea instanceof CategoricalPlotArea && options.tooltip.shared;\n            },\n            _createPannable: function () {\n                var options = this.options;\n                if (options.pannable !== false) {\n                    this._pannable = new Pannable(this._plotArea, options.pannable);\n                }\n            },\n            _createZoomSelection: function () {\n                var zoomable = this.options.zoomable;\n                var selection = (zoomable || {}).selection;\n                if (zoomable !== false && selection !== false) {\n                    this._zoomSelection = new ZoomSelection(this, selection);\n                }\n            },\n            _createMousewheelZoom: function () {\n                var zoomable = this.options.zoomable;\n                var mousewheel = (zoomable || {}).mousewheel;\n                if (zoomable !== false && mousewheel !== false) {\n                    this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\n                }\n            },\n            _createTooltip: function () {\n                var chart = this, options = chart.options, element = chart.element, tooltip;\n                if (chart._sharedTooltip()) {\n                    tooltip = new SharedTooltip(element, chart._plotArea, options.tooltip);\n                } else {\n                    tooltip = new Tooltip(element, options.tooltip);\n                }\n                tooltip.bind(LEAVE, proxy(chart._tooltipleave, chart));\n                return tooltip;\n            },\n            _tooltipleave: function () {\n                var chart = this, plotArea = chart._plotArea, highlight = chart._highlight;\n                plotArea.hideCrosshairs();\n                highlight.hide();\n            },\n            _applyDefaults: function (options, themeOptions) {\n                applyAxisDefaults(options, themeOptions);\n                applySeriesDefaults(options, themeOptions);\n            },\n            _getModel: function () {\n                var chart = this, options = chart.options, model = new RootElement(chart._modelOptions()), plotArea;\n                model.chart = chart;\n                Title.buildTitle(options.title, model);\n                plotArea = model._plotArea = chart._createPlotArea();\n                if (options.legend.visible) {\n                    model.append(new Legend(plotArea.options.legend));\n                }\n                model.append(plotArea);\n                model.reflow();\n                return model;\n            },\n            _modelOptions: function () {\n                var chart = this, options = chart.options, element = chart.element, height = math.floor(element.height()), width = math.floor(element.width());\n                chart._size = null;\n                return deepExtend({\n                    width: width || DEFAULT_WIDTH,\n                    height: height || DEFAULT_HEIGHT,\n                    transitions: options.transitions\n                }, options.chartArea);\n            },\n            _createPlotArea: function (skipSeries) {\n                var chart = this, options = chart.options;\n                return PlotAreaFactory.current.create(skipSeries ? [] : options.series, options);\n            },\n            _setupSelection: function () {\n                var chart = this, plotArea = chart._plotArea, axes = plotArea.axes, selections = chart._selections = [], selection, i, axis, min, max, options;\n                if (!chart._selectStartHandler) {\n                    chart._selectStartHandler = proxy(chart._selectStart, chart);\n                    chart._selectHandler = proxy(chart._select, chart);\n                    chart._selectEndHandler = proxy(chart._selectEnd, chart);\n                }\n                for (i = 0; i < axes.length; i++) {\n                    axis = axes[i];\n                    options = axis.options;\n                    if (axis instanceof CategoryAxis && options.select && !options.vertical) {\n                        min = 0;\n                        max = options.categories.length - 1;\n                        if (axis instanceof DateCategoryAxis) {\n                            min = options.categories[min];\n                            max = options.categories[max];\n                        }\n                        if (!options.justified) {\n                            if (axis instanceof DateCategoryAxis) {\n                                max = addDuration(max, 1, options.baseUnit, options.weekStartDay);\n                            } else {\n                                max++;\n                            }\n                        }\n                        selection = new Selection(chart, axis, deepExtend({\n                            min: min,\n                            max: max\n                        }, options.select));\n                        selection.bind(SELECT_START, chart._selectStartHandler);\n                        selection.bind(SELECT, chart._selectHandler);\n                        selection.bind(SELECT_END, chart._selectEndHandler);\n                        selections.push(selection);\n                    }\n                }\n            },\n            _selectStart: function (e) {\n                return this.trigger(SELECT_START, e);\n            },\n            _select: function (e) {\n                return this.trigger(SELECT, e);\n            },\n            _selectEnd: function (e) {\n                return this.trigger(SELECT_END, e);\n            },\n            _attachEvents: function () {\n                var chart = this, element = chart.element, surface = chart.surface;\n                surface.bind('mouseenter', proxy(chart._mouseover, chart));\n                surface.bind('mouseleave', proxy(chart._mouseout, chart));\n                element.on(CONTEXTMENU_NS, proxy(chart._click, chart));\n                element.on(MOUSEWHEEL_NS, proxy(chart._mousewheel, chart));\n                element.on(MOUSELEAVE_NS, proxy(chart._mouseleave, chart));\n                chart._mousemove = kendo.throttle(proxy(chart._mousemove, chart), MOUSEMOVE_DELAY);\n                if (chart._shouldAttachMouseMove()) {\n                    element.on(MOUSEMOVE_NS, chart._mousemove);\n                }\n                if (kendo.UserEvents) {\n                    chart._userEvents = new kendo.UserEvents(element, {\n                        global: true,\n                        multiTouch: true,\n                        fastTap: true,\n                        tap: proxy(chart._tap, chart),\n                        start: proxy(chart._start, chart),\n                        move: proxy(chart._move, chart),\n                        end: proxy(chart._end, chart),\n                        gesturestart: proxy(chart._gesturestart, chart),\n                        gesturechange: proxy(chart._gesturechange, chart),\n                        gestureend: proxy(chart._gestureend, chart)\n                    });\n                }\n            },\n            _gesturestart: function (e) {\n                if (this._mousewheelZoom) {\n                    this._gestureDistance = e.distance;\n                    this._unsetActivePoint();\n                    this.surface.suspendTracking();\n                }\n            },\n            _gestureend: function () {\n                if (this._zooming) {\n                    if (this.surface) {\n                        this.surface.resumeTracking();\n                    }\n                    this._zooming = false;\n                    this.trigger(ZOOM_END, {});\n                }\n            },\n            _gesturechange: function (e) {\n                var chart = this;\n                var mousewheelZoom = chart._mousewheelZoom;\n                if (mousewheelZoom) {\n                    e.preventDefault();\n                    var previousGestureDistance = chart._gestureDistance;\n                    var scaleDelta = -e.distance / previousGestureDistance + 1;\n                    if (math.abs(scaleDelta) >= 0.1) {\n                        scaleDelta = math.round(scaleDelta * 10);\n                        chart._gestureDistance = e.distance;\n                        var args = {\n                            delta: scaleDelta,\n                            axisRanges: axisRanges(chart._plotArea.axes),\n                            originalEvent: e\n                        };\n                        if (chart._zooming || !chart.trigger(ZOOM_START, args)) {\n                            if (!chart._zooming) {\n                                chart._zooming = true;\n                            }\n                            var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta);\n                            if (ranges && !chart.trigger(ZOOM, args)) {\n                                mousewheelZoom.zoom();\n                            }\n                        }\n                    }\n                }\n            },\n            _mouseout: function (e) {\n                if (e.element) {\n                    var element = this._drawingChartElement(e.element, e);\n                    if (element && element.leave) {\n                        element.leave(this, e.originalEvent);\n                    }\n                }\n            },\n            _start: function (e) {\n                var chart = this, events = chart._events, coords = chart._eventCoordinates(e);\n                if (!chart._plotArea.backgroundContainsPoint(coords)) {\n                    return;\n                }\n                if (defined(events[DRAG_START] || events[DRAG] || events[DRAG_END])) {\n                    chart._startNavigation(e, coords, DRAG_START);\n                }\n                if (chart._pannable && chart._pannable.start(e)) {\n                    this.surface.suspendTracking();\n                    this._unsetActivePoint();\n                }\n                if (chart._zoomSelection) {\n                    if (chart._zoomSelection.start(e)) {\n                        this.trigger(ZOOM_START, {\n                            axisRanges: axisRanges(this._plotArea.axes),\n                            originalEvent: e\n                        });\n                    }\n                }\n            },\n            _move: function (e) {\n                var chart = this, state = chart._navState, pannable = chart._pannable, axes, ranges = {}, i, currentAxis, axisName, axis, delta;\n                if (pannable) {\n                    e.preventDefault();\n                    ranges = pannable.move(e);\n                    if (ranges && !chart.trigger(DRAG, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        })) {\n                        pannable.pan();\n                    }\n                } else if (state) {\n                    e.preventDefault();\n                    axes = state.axes;\n                    for (i = 0; i < axes.length; i++) {\n                        currentAxis = axes[i];\n                        axisName = currentAxis.options.name;\n                        if (axisName) {\n                            axis = currentAxis.options.vertical ? e.y : e.x;\n                            delta = axis.startLocation - axis.location;\n                            if (delta !== 0) {\n                                ranges[currentAxis.options.name] = currentAxis.translateRange(delta);\n                            }\n                        }\n                    }\n                    state.axisRanges = ranges;\n                    chart.trigger(DRAG, {\n                        axisRanges: ranges,\n                        originalEvent: e\n                    });\n                }\n                if (chart._zoomSelection) {\n                    chart._zoomSelection.move(e);\n                }\n            },\n            _end: function (e) {\n                var pannable = this._pannable;\n                if (pannable && pannable.end(e)) {\n                    this.surface.resumeTracking();\n                    this.trigger(DRAG_END, {\n                        axisRanges: axisRanges(this._plotArea.axes),\n                        originalEvent: e\n                    });\n                } else {\n                    this._endNavigation(e, DRAG_END);\n                }\n                if (this._zoomSelection) {\n                    var ranges = this._zoomSelection.end(e);\n                    if (ranges && !this.trigger(ZOOM, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        })) {\n                        this._zoomSelection.zoom();\n                        this.trigger(ZOOM_END, {\n                            axisRanges: ranges,\n                            originalEvent: e\n                        });\n                    }\n                }\n            },\n            _mousewheel: function (e) {\n                var chart = this, origEvent = e.originalEvent, prevented, delta = mwDelta(e), totalDelta, state = chart._navState, axes, i, currentAxis, axisName, ranges = {}, mousewheelZoom = chart._mousewheelZoom, coords = chart._eventCoordinates(origEvent);\n                if (!chart._plotArea.backgroundContainsPoint(coords)) {\n                    return;\n                }\n                if (mousewheelZoom) {\n                    var args = {\n                        delta: delta,\n                        axisRanges: axisRanges(this._plotArea.axes),\n                        originalEvent: e\n                    };\n                    if (chart._zooming || !chart.trigger(ZOOM_START, args)) {\n                        e.preventDefault();\n                        if (!chart._zooming) {\n                            chart._unsetActivePoint();\n                            chart.surface.suspendTracking();\n                            chart._zooming = true;\n                        }\n                        if (chart._mwTimeout) {\n                            clearTimeout(chart._mwTimeout);\n                        }\n                        args.axisRanges = ranges = mousewheelZoom.updateRanges(delta);\n                        if (ranges && !chart.trigger(ZOOM, args)) {\n                            mousewheelZoom.zoom();\n                        }\n                        chart._mwTimeout = setTimeout(function () {\n                            chart.trigger(ZOOM_END, args);\n                            chart._zooming = false;\n                            if (chart.surface) {\n                                chart.surface.resumeTracking();\n                            }\n                        }, MOUSEWHEEL_DELAY);\n                    }\n                } else {\n                    if (!state) {\n                        prevented = chart._startNavigation(origEvent, coords, ZOOM_START);\n                        if (!prevented) {\n                            state = chart._navState;\n                        }\n                    }\n                    if (state) {\n                        totalDelta = state.totalDelta || delta;\n                        state.totalDelta = totalDelta + delta;\n                        axes = chart._navState.axes;\n                        for (i = 0; i < axes.length; i++) {\n                            currentAxis = axes[i];\n                            axisName = currentAxis.options.name;\n                            if (axisName) {\n                                ranges[axisName] = currentAxis.scaleRange(-totalDelta);\n                            }\n                        }\n                        chart.trigger(ZOOM, {\n                            delta: delta,\n                            axisRanges: ranges,\n                            originalEvent: e\n                        });\n                        if (chart._mwTimeout) {\n                            clearTimeout(chart._mwTimeout);\n                        }\n                        chart._mwTimeout = setTimeout(function () {\n                            chart._endNavigation(e, ZOOM_END);\n                        }, MOUSEWHEEL_DELAY);\n                    }\n                }\n            },\n            _startNavigation: function (e, coords, chartEvent) {\n                var chart = this, plotArea = chart._model._plotArea, pane = plotArea.findPointPane(coords), axes = plotArea.axes.slice(0), prevented;\n                if (!pane) {\n                    return;\n                }\n                var ranges = axisRanges(axes);\n                prevented = chart.trigger(chartEvent, {\n                    axisRanges: ranges,\n                    originalEvent: e\n                });\n                if (prevented) {\n                    chart._userEvents.cancel();\n                } else {\n                    chart._suppressHover = true;\n                    chart._unsetActivePoint();\n                    chart._navState = {\n                        axisRanges: ranges,\n                        pane: pane,\n                        axes: axes\n                    };\n                }\n            },\n            _endNavigation: function (e, chartEvent) {\n                var chart = this;\n                if (chart._navState) {\n                    chart.trigger(chartEvent, {\n                        axisRanges: chart._navState.axisRanges,\n                        originalEvent: e\n                    });\n                    chart._suppressHover = false;\n                    chart._navState = null;\n                }\n            },\n            _getChartElement: function (e, match) {\n                var element = this.surface.eventTarget(e);\n                if (element) {\n                    return this._drawingChartElement(element, e, match);\n                }\n            },\n            _drawingChartElement: function (element, e, match) {\n                var chartElement;\n                while (element && !chartElement) {\n                    chartElement = element.chartElement;\n                    element = element.parent;\n                }\n                if (chartElement) {\n                    if (chartElement.aliasFor) {\n                        chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\n                    }\n                    if (match) {\n                        chartElement = chartElement.closest(match);\n                    }\n                    return chartElement;\n                }\n            },\n            _eventCoordinates: function (e) {\n                var chart = this, isTouch = defined((e.x || {}).client), clientX = isTouch ? e.x.client : e.clientX, clientY = isTouch ? e.y.client : e.clientY;\n                return chart._toModelCoordinates(clientX, clientY);\n            },\n            _toModelCoordinates: function (clientX, clientY) {\n                var element = this.element, offset = element.offset(), paddingLeft = parseInt(element.css('paddingLeft'), 10), paddingTop = parseInt(element.css('paddingTop'), 10), win = $(window);\n                return new Point2D(clientX - offset.left - paddingLeft + win.scrollLeft(), clientY - offset.top - paddingTop + win.scrollTop());\n            },\n            _tap: function (e) {\n                var chart = this, drawingElement = chart.surface.eventTarget(e), element = chart._drawingChartElement(drawingElement, e);\n                if (chart._activePoint === element) {\n                    chart._propagateClick(element, e);\n                } else {\n                    if (!chart._startHover(drawingElement, e)) {\n                        chart._unsetActivePoint();\n                    }\n                    chart._propagateClick(element, e);\n                }\n                chart._supressMouseleave = true;\n                setTimeout(function () {\n                    chart._supressMouseleave = false;\n                }, 0);\n            },\n            _click: function (e) {\n                var chart = this, element = chart._getChartElement(e);\n                chart._propagateClick(element, e);\n            },\n            _propagateClick: function (element, e) {\n                while (element) {\n                    if (element.click) {\n                        element.click(this, e);\n                    }\n                    element = element.parent;\n                }\n            },\n            _startHover: function (element, e) {\n                var chart = this, chartElement = chart._drawingChartElement(element, e), tooltip = chart._tooltip, highlight = chart._highlight, tooltipOptions = chart.options.tooltip, point;\n                if (chart._suppressHover || !highlight || highlight.isHighlighted(chartElement) || chart._sharedTooltip()) {\n                    return;\n                }\n                point = chart._drawingChartElement(element, e, function (element) {\n                    return element.hover && !(element instanceof PlotAreaBase);\n                });\n                if (point && !point.hover(chart, e)) {\n                    chart._activePoint = point;\n                    tooltipOptions = deepExtend({}, tooltipOptions, point.options.tooltip);\n                    if (tooltipOptions.visible) {\n                        tooltip.show(point);\n                    }\n                    highlight.show(point);\n                    return point;\n                }\n            },\n            _mouseover: function (e) {\n                var chart = this;\n                var point = chart._startHover(e.element, e.originalEvent);\n                if (point && point.tooltipTracking) {\n                    $(document).on(MOUSEMOVE_TRACKING, proxy(chart._mouseMoveTracking, chart));\n                }\n            },\n            _mouseMoveTracking: function (e) {\n                var chart = this, options = chart.options, tooltip = chart._tooltip, highlight = chart._highlight, coords = chart._eventCoordinates(e), point = chart._activePoint, tooltipOptions, seriesPoint;\n                if (chart._plotArea.box.containsPoint(coords)) {\n                    if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\n                        seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\n                        if (seriesPoint && seriesPoint != point) {\n                            seriesPoint.hover(chart, e);\n                            chart._activePoint = seriesPoint;\n                            tooltipOptions = deepExtend({}, options.tooltip, point.options.tooltip);\n                            if (tooltipOptions.visible) {\n                                tooltip.show(seriesPoint);\n                            }\n                            highlight.show(seriesPoint);\n                        }\n                    }\n                } else {\n                    $(document).off(MOUSEMOVE_TRACKING);\n                    chart._unsetActivePoint();\n                }\n            },\n            _mousemove: function (e) {\n                var coords = this._eventCoordinates(e);\n                this._trackCrosshairs(coords);\n                if (this._plotArea.hover) {\n                    this._plotArea.hover(this, e);\n                }\n                if (this._sharedTooltip()) {\n                    this._trackSharedTooltip(coords, e);\n                }\n            },\n            _trackCrosshairs: function (coords) {\n                var crosshairs = this._plotArea.crosshairs, i, current;\n                for (i = 0; i < crosshairs.length; i++) {\n                    current = crosshairs[i];\n                    if (current.box.containsPoint(coords)) {\n                        current.showAt(coords);\n                    } else {\n                        current.hide();\n                    }\n                }\n            },\n            _trackSharedTooltip: function (coords, e) {\n                var chart = this, options = chart.options, plotArea = chart._plotArea, categoryAxis = plotArea.categoryAxis, tooltip = chart._tooltip, tooltipOptions = options.tooltip, highlight = chart._highlight, index, points;\n                if (plotArea.box.containsPoint(coords)) {\n                    index = categoryAxis.pointCategoryIndex(coords);\n                    if (index !== chart._tooltipCategoryIx) {\n                        points = plotArea.pointsByCategoryIndex(index);\n                        var pointArgs = $.map(points, function (point) {\n                            return point.eventArgs(e);\n                        });\n                        var hoverArgs = pointArgs[0] || {};\n                        hoverArgs.categoryPoints = pointArgs;\n                        if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\n                            if (tooltipOptions.visible) {\n                                tooltip.showAt(points, coords);\n                            }\n                            highlight.show(points);\n                        } else {\n                            tooltip.hide();\n                        }\n                        chart._tooltipCategoryIx = index;\n                    }\n                }\n            },\n            _mouseleave: function (e) {\n                var chart = this, plotArea = chart._plotArea, tooltip = chart._tooltip, highlight = chart._highlight, target = e.relatedTarget;\n                if (!(target && $(target).closest(tooltip.element).length) && !chart._supressMouseleave) {\n                    chart._mousemove.cancel();\n                    plotArea.hideCrosshairs();\n                    highlight.hide();\n                    setTimeout(proxy(tooltip.hide, tooltip), TOOLTIP_HIDE_DELAY);\n                    chart._tooltipCategoryIx = null;\n                }\n            },\n            _unsetActivePoint: function () {\n                var chart = this, tooltip = chart._tooltip, highlight = chart._highlight;\n                chart._activePoint = null;\n                if (tooltip) {\n                    tooltip.hide();\n                }\n                if (highlight) {\n                    highlight.hide();\n                }\n            },\n            _onDataChanged: function (e) {\n                var chart = this, options = chart.options, series = chart._sourceSeries || options.series, seriesIx, seriesLength = series.length, data = chart.dataSource.view(), grouped = (chart.dataSource.group() || []).length > 0, processedSeries = [], currentSeries;\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    if (chart._isBindable(currentSeries) && grouped) {\n                        append(processedSeries, groupSeries(currentSeries, data));\n                        this._applyGroupVisibleState(processedSeries, e);\n                    } else {\n                        processedSeries.push(currentSeries || []);\n                    }\n                }\n                chart._sourceSeries = series;\n                options.series = processedSeries;\n                applySeriesColors(chart.options);\n                chart._bindSeries();\n                chart._bindCategories();\n                chart._hasData = true;\n                chart._deferRedraw();\n            },\n            _applyGroupVisibleState: function (processedSeries, e) {\n                if (e && e.action) {\n                    var visibleState = this._groupVisibleState = this._groupVisibleState || {};\n                    for (var idx = 0; idx < processedSeries.length; idx++) {\n                        if (visibleState[processedSeries[idx]._groupValue] === false) {\n                            processedSeries[idx].visible = false;\n                        }\n                    }\n                } else {\n                    delete this._groupVisibleState;\n                }\n            },\n            _saveGroupVisibleState: function (series) {\n                if (defined(series._groupValue)) {\n                    if (!this._groupVisibleState) {\n                        this._groupVisibleState = {};\n                    }\n                    this._groupVisibleState[series._groupValue] = series.visible;\n                }\n            },\n            _deferRedraw: function () {\n                var chart = this;\n                if (kendo.support.vml) {\n                    chart._clearRedrawTimeout();\n                    chart._redrawTimeout = setTimeout(function () {\n                        if (!chart.surface) {\n                            return;\n                        }\n                        chart.trigger(DATABOUND);\n                        chart._redraw();\n                    }, 0);\n                } else {\n                    chart.trigger(DATABOUND);\n                    chart._redraw();\n                }\n            },\n            _clearRedrawTimeout: function () {\n                if (this._redrawTimeout) {\n                    clearInterval(this._redrawTimeout);\n                    this._redrawTimeout = null;\n                }\n            },\n            _bindSeries: function () {\n                var chart = this, data = chart.dataSource.view(), series = chart.options.series, seriesIx, seriesLength = series.length, currentSeries, groupIx, seriesData;\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    if (chart._isBindable(currentSeries)) {\n                        groupIx = currentSeries._groupIx;\n                        seriesData = defined(groupIx) ? (data[groupIx] || {}).items : data;\n                        if (currentSeries.autoBind !== false) {\n                            currentSeries.data = seriesData;\n                        }\n                    }\n                }\n            },\n            _bindCategories: function () {\n                var chart = this, data = chart.dataSource.view() || [], grouped = (chart.dataSource.group() || []).length > 0, categoriesData = data, options = chart.options, definitions = [].concat(options.categoryAxis), axisIx, axis;\n                if (grouped) {\n                    if (data.length) {\n                        categoriesData = data[0].items;\n                    }\n                }\n                for (axisIx = 0; axisIx < definitions.length; axisIx++) {\n                    axis = definitions[axisIx];\n                    if (axis.autoBind !== false) {\n                        chart._bindCategoryAxis(axis, categoriesData, axisIx);\n                    }\n                }\n            },\n            _bindCategoryAxis: function (axis, data, axisIx) {\n                var count = (data || []).length, categoryIx, category, row;\n                if (axis.field) {\n                    axis.categories = [];\n                    for (categoryIx = 0; categoryIx < count; categoryIx++) {\n                        row = data[categoryIx];\n                        category = getField(axis.field, row);\n                        if (categoryIx === 0) {\n                            axis.categories = [category];\n                            axis.dataItems = [row];\n                        } else {\n                            axis.categories.push(category);\n                            axis.dataItems.push(row);\n                        }\n                    }\n                } else {\n                    this._bindCategoryAxisFromSeries(axis, axisIx);\n                }\n            },\n            _bindCategoryAxisFromSeries: function (axis, axisIx) {\n                var chart = this, items = [], result, series = chart.options.series, seriesLength = series.length, seriesIx, s, onAxis, data, dataIx, dataLength, dataRow, category, uniqueCategories = {}, getFn, dateAxis;\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    s = series[seriesIx];\n                    onAxis = s.categoryAxis === axis.name || !s.categoryAxis && axisIx === 0;\n                    data = s.data;\n                    dataLength = data.length;\n                    if (s.categoryField && onAxis && dataLength > 0) {\n                        dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));\n                        getFn = dateAxis ? getDateField : getField;\n                        for (dataIx = 0; dataIx < dataLength; dataIx++) {\n                            dataRow = data[dataIx];\n                            category = getFn(s.categoryField, dataRow);\n                            if (dateAxis || !uniqueCategories[category]) {\n                                items.push([\n                                    category,\n                                    dataRow\n                                ]);\n                                if (!dateAxis) {\n                                    uniqueCategories[category] = true;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (items.length > 0) {\n                    if (dateAxis) {\n                        items = uniqueDates(items, function (a, b) {\n                            return dateComparer(a[0], b[0]);\n                        });\n                    }\n                    result = transpose(items);\n                    axis.categories = result[0];\n                    axis.dataItems = result[1];\n                }\n            },\n            _isBindable: function (series) {\n                var valueFields = SeriesBinder.current.valueFields(series), result = true, field, i;\n                for (i = 0; i < valueFields.length; i++) {\n                    field = valueFields[i];\n                    if (field === VALUE) {\n                        field = 'field';\n                    } else {\n                        field = field + 'Field';\n                    }\n                    if (!defined(series[field])) {\n                        result = false;\n                        break;\n                    }\n                }\n                return result;\n            },\n            _legendItemClick: function (seriesIndex, pointIndex) {\n                var chart = this, plotArea = chart._plotArea, currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex], visible, point;\n                if (inArray(currentSeries.type, [\n                        PIE,\n                        DONUT,\n                        FUNNEL\n                    ])) {\n                    point = currentSeries.data[pointIndex];\n                    if (!defined(point.visible)) {\n                        visible = false;\n                    } else {\n                        visible = !point.visible;\n                    }\n                    point.visible = visible;\n                } else {\n                    currentSeries.visible = !currentSeries.visible;\n                    this._saveGroupVisibleState(currentSeries);\n                }\n                this._noTransitionsRedraw();\n            },\n            _noTransitionsRedraw: function () {\n                var options = this.options;\n                var transitionsState;\n                if (options.transitions) {\n                    options.transitions = false;\n                    transitionsState = true;\n                }\n                this.redraw();\n                if (transitionsState) {\n                    options.transitions = true;\n                }\n            },\n            _legendItemHover: function (seriesIndex, pointIndex) {\n                var chart = this, plotArea = chart._plotArea, highlight = chart._highlight, currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex], items;\n                if (inArray(currentSeries.type, [\n                        PIE,\n                        DONUT,\n                        FUNNEL\n                    ])) {\n                    items = plotArea.findPoint(function (point) {\n                        return point.series.index === seriesIndex && point.index === pointIndex;\n                    });\n                } else {\n                    items = plotArea.pointsBySeriesIndex(seriesIndex);\n                }\n                highlight.show(items);\n            },\n            _shouldAttachMouseMove: function () {\n                var chart = this;\n                var events = chart._events;\n                return chart._plotArea.crosshairs.length || chart._tooltip && chart._sharedTooltip() || defined(events[PLOT_AREA_HOVER]);\n            },\n            setOptions: function (options) {\n                var chart = this, dataSource = options.dataSource;\n                options.dataSource = undefined;\n                clearMissingValues(chart._originalOptions, options);\n                chart._originalOptions = deepExtend(chart._originalOptions, options);\n                chart.options = deepExtend({}, chart._originalOptions);\n                chart._sourceSeries = null;\n                $(document).off(MOUSEMOVE_NS);\n                Widget.fn._setEvents.call(chart, options);\n                chart._initTheme(chart.options);\n                if (dataSource) {\n                    chart.setDataSource(dataSource);\n                }\n                if (chart._hasDataSource) {\n                    chart._onDataChanged();\n                } else {\n                    chart._bindCategories();\n                    chart.redraw();\n                }\n                if (chart._shouldAttachMouseMove()) {\n                    chart.element.on(MOUSEMOVE_NS, chart._mousemove);\n                }\n            },\n            destroy: function () {\n                var chart = this, dataSource = chart.dataSource;\n                chart.element.off(NS);\n                if (dataSource) {\n                    dataSource.unbind(CHANGE, chart._dataChangeHandler);\n                }\n                $(document).off(MOUSEMOVE_TRACKING);\n                if (chart._userEvents) {\n                    chart._userEvents.destroy();\n                }\n                chart._destroyView();\n                chart.surface.destroy();\n                chart.surface = null;\n                chart._clearRedrawTimeout();\n                Widget.fn.destroy.call(chart);\n            },\n            _destroyView: function () {\n                var chart = this, model = chart._model, selections = chart._selections;\n                if (model) {\n                    model.destroy();\n                    chart._model = null;\n                }\n                if (selections) {\n                    while (selections.length > 0) {\n                        selections.shift().destroy();\n                    }\n                }\n                chart._unsetActivePoint();\n                if (chart._tooltip) {\n                    chart._tooltip.destroy();\n                }\n                if (chart._highlight) {\n                    chart._highlight.destroy();\n                }\n                if (chart._zoomSelection) {\n                    chart._zoomSelection.destroy();\n                    delete chart._zoomSelection;\n                }\n                if (chart._pannable) {\n                    chart._pannable.destroy();\n                    delete chart._pannable;\n                }\n                if (chart._mousewheelZoom) {\n                    chart._mousewheelZoom.destroy();\n                    delete chart._mousewheelZoom;\n                }\n            }\n        });\n        dataviz.ExportMixin.extend(Chart.fn);\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Chart.fn);\n        }\n        var PlotAreaFactory = Class.extend({\n            init: function () {\n                this._registry = [];\n            },\n            register: function (type, seriesTypes) {\n                this._registry.push({\n                    type: type,\n                    seriesTypes: seriesTypes\n                });\n            },\n            create: function (srcSeries, options) {\n                var registry = this._registry, match = registry[0], i, entry, series;\n                for (i = 0; i < registry.length; i++) {\n                    entry = registry[i];\n                    series = filterSeriesByType(srcSeries, entry.seriesTypes);\n                    if (series.length > 0) {\n                        match = entry;\n                        break;\n                    }\n                }\n                return new match.type(series, options);\n            }\n        });\n        PlotAreaFactory.current = new PlotAreaFactory();\n        var SeriesBinder = Class.extend({\n            init: function () {\n                this._valueFields = {};\n                this._otherFields = {};\n                this._nullValue = {};\n                this._undefinedValue = {};\n            },\n            register: function (seriesTypes, valueFields, otherFields) {\n                var binder = this, i, type;\n                valueFields = valueFields || [VALUE];\n                for (i = 0; i < seriesTypes.length; i++) {\n                    type = seriesTypes[i];\n                    binder._valueFields[type] = valueFields;\n                    binder._otherFields[type] = otherFields;\n                    binder._nullValue[type] = binder._makeValue(valueFields, null);\n                    binder._undefinedValue[type] = binder._makeValue(valueFields, undefined);\n                }\n            },\n            canonicalFields: function (series) {\n                return this.valueFields(series).concat(this.otherFields(series));\n            },\n            valueFields: function (series) {\n                return this._valueFields[series.type] || [VALUE];\n            },\n            otherFields: function (series) {\n                return this._otherFields[series.type] || [VALUE];\n            },\n            bindPoint: function (series, pointIx, item) {\n                var binder = this, data = series.data, pointData = defined(item) ? item : data[pointIx], result = { valueFields: { value: pointData } }, fields, fieldData, srcValueFields, srcPointFields, valueFields = binder.valueFields(series), otherFields = binder._otherFields[series.type], value;\n                if (pointData === null) {\n                    value = binder._nullValue[series.type];\n                } else if (!defined(pointData)) {\n                    value = binder._undefinedValue[series.type];\n                } else if (isArray(pointData)) {\n                    fieldData = pointData.slice(valueFields.length);\n                    value = binder._bindFromArray(pointData, valueFields);\n                    fields = binder._bindFromArray(fieldData, otherFields);\n                } else if (typeof pointData === OBJECT) {\n                    srcValueFields = binder.sourceFields(series, valueFields);\n                    srcPointFields = binder.sourceFields(series, otherFields);\n                    value = binder._bindFromObject(pointData, valueFields, srcValueFields);\n                    fields = binder._bindFromObject(pointData, otherFields, srcPointFields);\n                }\n                if (defined(value)) {\n                    if (valueFields.length === 1) {\n                        result.valueFields.value = value[valueFields[0]];\n                    } else {\n                        result.valueFields = value;\n                    }\n                }\n                result.fields = fields || {};\n                return result;\n            },\n            _makeValue: function (fields, initialValue) {\n                var value = {}, i, length = fields.length, fieldName;\n                for (i = 0; i < length; i++) {\n                    fieldName = fields[i];\n                    value[fieldName] = initialValue;\n                }\n                return value;\n            },\n            _bindFromArray: function (array, fields) {\n                var value = {}, i, length;\n                if (fields) {\n                    length = math.min(fields.length, array.length);\n                    for (i = 0; i < length; i++) {\n                        value[fields[i]] = array[i];\n                    }\n                }\n                return value;\n            },\n            _bindFromObject: function (object, fields, srcFields) {\n                var value = {}, i, length, fieldName, srcFieldName;\n                if (fields) {\n                    length = fields.length;\n                    srcFields = srcFields || fields;\n                    for (i = 0; i < length; i++) {\n                        fieldName = fields[i];\n                        srcFieldName = srcFields[i];\n                        value[fieldName] = getField(srcFieldName, object);\n                    }\n                }\n                return value;\n            },\n            sourceFields: function (series, canonicalFields) {\n                var i, length, fieldName, sourceFields, sourceFieldName;\n                if (canonicalFields) {\n                    length = canonicalFields.length;\n                    sourceFields = [];\n                    for (i = 0; i < length; i++) {\n                        fieldName = canonicalFields[i];\n                        sourceFieldName = fieldName === VALUE ? 'field' : fieldName + 'Field';\n                        sourceFields.push(series[sourceFieldName] || fieldName);\n                    }\n                }\n                return sourceFields;\n            }\n        });\n        SeriesBinder.current = new SeriesBinder();\n        var BarLabel = ChartElement.extend({\n            init: function (content, options) {\n                var barLabel = this;\n                ChartElement.fn.init.call(barLabel, options);\n                this.textBox = new TextBox(content, barLabel.options);\n                barLabel.append(this.textBox);\n            },\n            options: {\n                position: OUTSIDE_END,\n                margin: getSpacing(3),\n                padding: getSpacing(4),\n                color: BLACK,\n                background: '',\n                border: {\n                    width: 1,\n                    color: ''\n                },\n                aboveAxis: true,\n                vertical: false,\n                animation: {\n                    type: FADEIN,\n                    delay: INITIAL_ANIMATION_DURATION\n                },\n                zIndex: 2\n            },\n            createVisual: function () {\n                this.textBox.options.noclip = this.options.noclip;\n            },\n            reflow: function (targetBox) {\n                var barLabel = this, options = barLabel.options, vertical = options.vertical, aboveAxis = options.aboveAxis, text = barLabel.children[0], box = text.box, padding = text.options.padding;\n                text.options.align = vertical ? CENTER : LEFT;\n                text.options.vAlign = vertical ? TOP : CENTER;\n                if (options.position == INSIDE_END) {\n                    if (vertical) {\n                        text.options.vAlign = TOP;\n                        if (!aboveAxis && box.height() < targetBox.height()) {\n                            text.options.vAlign = BOTTOM;\n                        }\n                    } else {\n                        text.options.align = aboveAxis ? RIGHT : LEFT;\n                    }\n                } else if (options.position == CENTER) {\n                    text.options.vAlign = CENTER;\n                    text.options.align = CENTER;\n                } else if (options.position == INSIDE_BASE) {\n                    if (vertical) {\n                        text.options.vAlign = aboveAxis ? BOTTOM : TOP;\n                    } else {\n                        text.options.align = aboveAxis ? LEFT : RIGHT;\n                    }\n                } else if (options.position == OUTSIDE_END) {\n                    if (vertical) {\n                        if (aboveAxis) {\n                            targetBox = new Box2D(targetBox.x1, targetBox.y1 - box.height(), targetBox.x2, targetBox.y1);\n                        } else {\n                            targetBox = new Box2D(targetBox.x1, targetBox.y2, targetBox.x2, targetBox.y2 + box.height());\n                        }\n                    } else {\n                        text.options.align = CENTER;\n                        if (aboveAxis) {\n                            targetBox = new Box2D(targetBox.x2, targetBox.y1, targetBox.x2 + box.width(), targetBox.y2);\n                        } else {\n                            targetBox = new Box2D(targetBox.x1 - box.width(), targetBox.y1, targetBox.x1, targetBox.y2);\n                        }\n                    }\n                }\n                if (!options.rotation) {\n                    if (vertical) {\n                        padding.left = padding.right = (targetBox.width() - text.contentBox.width()) / 2;\n                    } else {\n                        padding.top = padding.bottom = (targetBox.height() - text.contentBox.height()) / 2;\n                    }\n                }\n                text.reflow(targetBox);\n            },\n            alignToClipBox: function (clipBox) {\n                var barLabel = this, vertical = barLabel.options.vertical, field = vertical ? Y : X, start = field + '1', end = field + '2', text = barLabel.children[0], parentBox = barLabel.parent.box, targetBox;\n                if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {\n                    targetBox = text.paddingBox.clone();\n                    targetBox[start] = math.max(parentBox[start], clipBox[start]);\n                    targetBox[end] = math.min(parentBox[end], clipBox[end]);\n                    this.reflow(targetBox);\n                }\n            }\n        });\n        var LegendItem = BoxElement.extend({\n            init: function (options) {\n                var item = this;\n                BoxElement.fn.init.call(item, options);\n                item.createContainer();\n                item.createMarker();\n                item.createLabel();\n            },\n            createContainer: function () {\n                var item = this;\n                item.container = new FloatElement({\n                    vertical: false,\n                    wrap: false,\n                    align: CENTER\n                });\n                item.append(item.container);\n            },\n            createMarker: function () {\n                this.container.append(new ShapeElement(this.markerOptions()));\n            },\n            markerOptions: function () {\n                var options = this.options;\n                var markerColor = options.markerColor;\n                return deepExtend({}, options.markers, {\n                    background: markerColor,\n                    border: { color: markerColor }\n                });\n            },\n            createLabel: function () {\n                var item = this, options = item.options, labelOptions = deepExtend({}, options.labels);\n                item.container.append(new TextBox(options.text, labelOptions));\n            },\n            renderComplete: function () {\n                ChartElement.fn.renderComplete.call(this);\n                var cursor = this.options.cursor || {};\n                var eventSink = this._itemOverlay = draw.Path.fromRect(this.container.box.toRect(), {\n                    fill: {\n                        color: WHITE,\n                        opacity: 0\n                    },\n                    stroke: null,\n                    cursor: cursor.style || cursor\n                });\n                this.appendVisual(eventSink);\n            },\n            click: function (widget, e) {\n                var args = this.eventArgs(e);\n                if (!widget.trigger(LEGEND_ITEM_CLICK, args)) {\n                    e.preventDefault();\n                    widget._legendItemClick(args.seriesIndex, args.pointIndex);\n                }\n            },\n            hover: function (widget, e) {\n                var args = this.eventArgs(e);\n                if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {\n                    e.preventDefault();\n                    widget._legendItemHover(args.seriesIndex, args.pointIndex);\n                }\n                return true;\n            },\n            leave: function (widget) {\n                widget._unsetActivePoint();\n            },\n            eventArgs: function (e) {\n                var options = this.options;\n                return {\n                    element: eventTargetElement(e),\n                    text: options.text,\n                    series: options.series,\n                    seriesIndex: options.series.index,\n                    pointIndex: options.pointIndex\n                };\n            },\n            renderVisual: function () {\n                var that = this;\n                var options = that.options;\n                var customVisual = options.visual;\n                if (customVisual) {\n                    that.visual = customVisual({\n                        active: options.active,\n                        series: options.series,\n                        pointIndex: options.pointIndex,\n                        options: {\n                            markers: that.markerOptions(),\n                            labels: options.labels\n                        },\n                        createVisual: function () {\n                            that.createVisual();\n                            that.renderChildren();\n                            that.renderComplete();\n                            var defaultVisual = that.visual;\n                            delete that.visual;\n                            return defaultVisual;\n                        }\n                    });\n                    this.addVisual();\n                } else {\n                    ChartElement.fn.renderVisual.call(that);\n                }\n            }\n        });\n        var LegendLayout = ChartElement.extend({\n            render: function () {\n                var legendItem, items = this.children;\n                var options = this.options;\n                var vertical = options.vertical;\n                this.visual = new draw.Layout(null, {\n                    spacing: vertical ? 0 : options.spacing,\n                    lineSpacing: vertical ? options.spacing : 0,\n                    orientation: vertical ? 'vertical' : 'horizontal'\n                });\n                for (var idx = 0; idx < items.length; idx++) {\n                    legendItem = items[idx];\n                    legendItem.reflow(new Box2D());\n                    legendItem.renderVisual();\n                }\n            },\n            reflow: function (box) {\n                this.visual.rect(box.toRect());\n                this.visual.reflow();\n                var bbox = this.visual.clippedBBox();\n                if (bbox) {\n                    this.box = dataviz.rectToBox(bbox);\n                } else {\n                    this.box = new Box2D();\n                }\n            },\n            renderVisual: function () {\n                this.addVisual();\n            },\n            createVisual: noop\n        });\n        var Legend = ChartElement.extend({\n            init: function (options) {\n                var legend = this;\n                ChartElement.fn.init.call(legend, options);\n                if (!inArray(legend.options.position, [\n                        TOP,\n                        RIGHT,\n                        BOTTOM,\n                        LEFT,\n                        CUSTOM\n                    ])) {\n                    legend.options.position = RIGHT;\n                }\n                legend.createContainer();\n                legend.createItems();\n            },\n            options: {\n                position: RIGHT,\n                items: [],\n                labels: { margin: { left: 6 } },\n                offsetX: 0,\n                offsetY: 0,\n                margin: getSpacing(5),\n                padding: getSpacing(5),\n                border: {\n                    color: BLACK,\n                    width: 0\n                },\n                item: { cursor: POINTER },\n                spacing: 6,\n                background: '',\n                zIndex: 1,\n                markers: {\n                    border: { width: 1 },\n                    width: 7,\n                    height: 7,\n                    type: 'rect',\n                    align: LEFT,\n                    vAlign: CENTER\n                }\n            },\n            createContainer: function () {\n                var legend = this, options = legend.options, userAlign = options.align, position = options.position, align = position, vAlign = CENTER;\n                if (position == CUSTOM) {\n                    align = LEFT;\n                } else if (inArray(position, [\n                        TOP,\n                        BOTTOM\n                    ])) {\n                    if (userAlign == 'start') {\n                        align = LEFT;\n                    } else if (userAlign == 'end') {\n                        align = RIGHT;\n                    } else {\n                        align = CENTER;\n                    }\n                    vAlign = position;\n                } else if (userAlign) {\n                    if (userAlign == 'start') {\n                        vAlign = TOP;\n                    } else if (userAlign == 'end') {\n                        vAlign = BOTTOM;\n                    }\n                }\n                legend.container = new BoxElement({\n                    margin: options.margin,\n                    padding: options.padding,\n                    background: options.background,\n                    border: options.border,\n                    vAlign: vAlign,\n                    align: align,\n                    zIndex: options.zIndex,\n                    shrinkToFit: true\n                });\n                legend.append(legend.container);\n            },\n            createItems: function () {\n                var legend = this, options = legend.options, items = options.items, count = items.length, vertical = legend.isVertical(), innerElement, i, item;\n                innerElement = new LegendLayout({\n                    vertical: vertical,\n                    spacing: options.spacing\n                });\n                if (options.reverse) {\n                    items = items.slice(0).reverse();\n                }\n                for (i = 0; i < count; i++) {\n                    item = items[i];\n                    innerElement.append(new LegendItem(deepExtend({}, {\n                        markers: options.markers,\n                        labels: options.labels\n                    }, options.item, item)));\n                }\n                innerElement.render();\n                legend.container.append(innerElement);\n            },\n            isVertical: function () {\n                var legend = this, options = legend.options, orientation = options.orientation, position = options.position, vertical = position == CUSTOM && orientation != HORIZONTAL || (defined(orientation) ? orientation != HORIZONTAL : inArray(position, [\n                        LEFT,\n                        RIGHT\n                    ]));\n                return vertical;\n            },\n            hasItems: function () {\n                return this.container.children[0].children.length > 0;\n            },\n            reflow: function (targetBox) {\n                var legend = this, options = legend.options;\n                targetBox = targetBox.clone();\n                if (!legend.hasItems()) {\n                    legend.box = targetBox;\n                    return;\n                }\n                if (options.position === CUSTOM) {\n                    legend.containerCustomReflow(targetBox);\n                    legend.box = targetBox;\n                } else {\n                    legend.containerReflow(targetBox);\n                }\n            },\n            containerReflow: function (targetBox) {\n                var legend = this, options = legend.options, position = options.position, pos = position == TOP || position == BOTTOM ? X : Y, containerBox = targetBox.clone(), container = legend.container, width = options.width, height = options.height, vertical = legend.isVertical(), alignTarget = targetBox.clone(), box;\n                if (position == LEFT || position == RIGHT) {\n                    containerBox.y1 = alignTarget.y1 = 0;\n                }\n                if (vertical && height) {\n                    containerBox.y2 = containerBox.y1 + height;\n                    containerBox.align(alignTarget, Y, container.options.vAlign);\n                } else if (!vertical && width) {\n                    containerBox.x2 = containerBox.x1 + width;\n                    containerBox.align(alignTarget, X, container.options.align);\n                }\n                container.reflow(containerBox);\n                containerBox = container.box;\n                box = containerBox.clone();\n                if (options.offsetX || options.offsetY) {\n                    containerBox.translate(options.offsetX, options.offsetY);\n                    legend.container.reflow(containerBox);\n                }\n                box[pos + 1] = targetBox[pos + 1];\n                box[pos + 2] = targetBox[pos + 2];\n                legend.box = box;\n            },\n            containerCustomReflow: function (targetBox) {\n                var legend = this, options = legend.options, offsetX = options.offsetX, offsetY = options.offsetY, container = legend.container, width = options.width, height = options.height, vertical = legend.isVertical(), containerBox = targetBox.clone();\n                if (vertical && height) {\n                    containerBox.y2 = containerBox.y1 + height;\n                } else if (!vertical && width) {\n                    containerBox.x2 = containerBox.x1 + width;\n                }\n                container.reflow(containerBox);\n                containerBox = container.box;\n                container.reflow(Box2D(offsetX, offsetY, offsetX + containerBox.width(), offsetY + containerBox.height()));\n            },\n            renderVisual: function () {\n                if (this.hasItems()) {\n                    ChartElement.fn.renderVisual.call(this);\n                }\n            }\n        });\n        var CategoryAxis = Axis.extend({\n            init: function (options) {\n                var axis = this;\n                options = options || {};\n                this._initFields();\n                this._initCategories(options);\n                Axis.fn.init.call(axis, options);\n            },\n            _initFields: function () {\n                this._ticks = {};\n                this.outOfRangeMin = 0;\n                this.outOfRangeMax = 0;\n            },\n            _initCategories: function (options) {\n                var categories = (options.categories || []).slice(0);\n                var definedMin = defined(options.min);\n                var definedMax = defined(options.max);\n                options.categories = categories;\n                if ((definedMin || definedMax) && categories.length) {\n                    options.srcCategories = options.categories;\n                    var min = definedMin ? math.floor(options.min) : 0;\n                    var max = definedMax ? options.justified ? math.floor(options.max) + 1 : math.ceil(options.max) : categories.length;\n                    options.categories = options.categories.slice(min, max);\n                }\n            },\n            options: {\n                type: CATEGORY,\n                categories: [],\n                vertical: false,\n                majorGridLines: {\n                    visible: false,\n                    width: 1,\n                    color: BLACK\n                },\n                labels: { zIndex: 1 },\n                justified: false\n            },\n            rangeIndices: function () {\n                var options = this.options;\n                var length = options.categories.length || 1;\n                var min = isNumber(options.min) ? options.min % 1 : 0;\n                var max;\n                if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {\n                    max = length - (1 - options.max % 1);\n                } else {\n                    max = length - (options.justified ? 1 : 0);\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            totalRangeIndices: function (limit) {\n                var options = this.options;\n                var min = isNumber(options.min) ? options.min : 0;\n                var max;\n                if (isNumber(options.max)) {\n                    max = options.max;\n                } else if (isNumber(options.min)) {\n                    max = min + options.categories.length;\n                } else {\n                    max = (options.srcCategories || options.categories).length - (options.justified ? 1 : 0) || 1;\n                }\n                if (limit) {\n                    var totalRange = this.totalRange();\n                    min = limitValue(min, 0, totalRange.max);\n                    max = limitValue(max, 0, totalRange.max);\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            range: function () {\n                var options = this.options;\n                return {\n                    min: isNumber(options.min) ? options.min : 0,\n                    max: isNumber(options.max) ? options.max : options.categories.length\n                };\n            },\n            totalRange: function () {\n                var options = this.options;\n                return {\n                    min: 0,\n                    max: math.max(this._seriesMax || 0, (options.srcCategories || options.categories).length) - (options.justified ? 1 : 0)\n                };\n            },\n            getScale: function () {\n                var range = this.rangeIndices();\n                var min = range.min;\n                var max = range.max;\n                var lineBox = this.lineBox();\n                var size = this.options.vertical ? lineBox.height() : lineBox.width();\n                var scale = size / (max - min || 1);\n                return scale * (this.options.reverse ? -1 : 1);\n            },\n            getTickPositions: function (stepSize) {\n                var axis = this, options = axis.options, vertical = options.vertical, lineBox = axis.lineBox(), reverse = options.reverse, scale = axis.getScale(), range = axis.rangeIndices(), min = range.min, max = range.max, current = min % 1 !== 0 ? math.floor(min / 1) + stepSize : min, pos = lineBox[(vertical ? Y : X) + (reverse ? 2 : 1)], positions = [];\n                while (current <= max) {\n                    positions.push(pos + round(scale * (current - min), COORD_PRECISION));\n                    current += stepSize;\n                }\n                return positions;\n            },\n            getLabelsTickPositions: function () {\n                var tickPositions = this.getMajorTickPositions().slice(0);\n                var range = this.rangeIndices();\n                var scale = this.getScale();\n                var box = this.lineBox();\n                var options = this.options;\n                var axis = options.vertical ? Y : X;\n                var start = options.reverse ? 2 : 1;\n                var end = options.reverse ? 1 : 2;\n                if (range.min % 1 !== 0) {\n                    tickPositions.unshift(box[axis + start] - scale * (range.min % 1));\n                }\n                if (range.max % 1 !== 0) {\n                    tickPositions.push(box[axis + end] + scale * (1 - range.max % 1));\n                }\n                return tickPositions;\n            },\n            labelTickIndex: function (label) {\n                var index = label.index;\n                var range = this.rangeIndices();\n                if (range.min > 0) {\n                    index = index - math.floor(range.min);\n                }\n                return index;\n            },\n            arrangeLabels: function () {\n                Axis.fn.arrangeLabels.call(this);\n                this.hideOutOfRangeLabels();\n            },\n            hideOutOfRangeLabels: function () {\n                var box = this.box, labels = this.labels, valueAxis = this.options.vertical ? Y : X, start = box[valueAxis + 1], end = box[valueAxis + 2], firstLabel = labels[0], lastLabel = last(labels);\n                if (labels.length) {\n                    if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {\n                        firstLabel.options.visible = false;\n                    }\n                    if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {\n                        lastLabel.options.visible = false;\n                    }\n                }\n            },\n            getMajorTickPositions: function () {\n                return this.getTicks().majorTicks;\n            },\n            getMinorTickPositions: function () {\n                return this.getTicks().minorTicks;\n            },\n            getTicks: function () {\n                var axis = this, cache = axis._ticks, options = axis.options, range = axis.rangeIndices(), reverse = options.reverse, justified = options.justified, lineBox = axis.lineBox(), hash;\n                hash = lineBox.getHash() + range.min + ',' + range.max + reverse + justified;\n                if (cache._hash !== hash) {\n                    cache._hash = hash;\n                    cache.majorTicks = axis.getTickPositions(1);\n                    cache.minorTicks = axis.getTickPositions(0.5);\n                }\n                return cache;\n            },\n            getSlot: function (from, to, limit) {\n                var axis = this, options = axis.options, reverse = options.reverse, justified = options.justified, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.rangeIndices(), min = range.min, scale = this.getScale(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)], slotBox = lineBox.clone(), p1, p2;\n                var singleSlot = !defined(to);\n                from = valueOrDefault(from, 0);\n                to = valueOrDefault(to, from);\n                to = math.max(to - 1, from);\n                to = math.max(from, to);\n                p1 = lineStart + (from - min) * scale;\n                p2 = lineStart + (to + 1 - min) * scale;\n                if (singleSlot && justified) {\n                    p2 = p1;\n                }\n                if (limit) {\n                    p1 = limitValue(p1, lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n                    p2 = limitValue(p2, lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n                }\n                slotBox[valueAxis + 1] = reverse ? p2 : p1;\n                slotBox[valueAxis + 2] = reverse ? p1 : p2;\n                return slotBox;\n            },\n            slot: function (from, to, limit) {\n                if (typeof from === 'string') {\n                    from = this.categoryIndex(from);\n                }\n                if (typeof to === 'string') {\n                    to = this.categoryIndex(to);\n                }\n                return Axis.fn.slot.call(this, from, to, limit);\n            },\n            pointCategoryIndex: function (point) {\n                var axis = this, options = axis.options, reverse = options.reverse, justified = options.justified, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.rangeIndices(), startValue = reverse ? range.max : range.min, scale = this.getScale(), lineStart = lineBox[valueAxis + 1], lineEnd = lineBox[valueAxis + 2], pos = point[valueAxis];\n                if (pos < lineStart || pos > lineEnd) {\n                    return null;\n                }\n                var size = pos - lineStart;\n                var value = size / scale;\n                value = startValue + value;\n                var diff = value % 1;\n                if (justified) {\n                    value = math.round(value);\n                } else if (diff === 0 && value > 0) {\n                    value--;\n                }\n                return math.floor(value);\n            },\n            getCategory: function (point) {\n                var index = this.pointCategoryIndex(point);\n                if (index === null) {\n                    return null;\n                }\n                return this.options.categories[index];\n            },\n            categoryIndex: function (value) {\n                var options = this.options;\n                var index = indexOf(value, options.srcCategories || options.categories);\n                return index - math.floor(options.min || 0);\n            },\n            translateRange: function (delta) {\n                var axis = this, options = axis.options, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = options.categories.length, scale = size / range, offset = round(delta / scale, DEFAULT_PRECISION);\n                return {\n                    min: offset,\n                    max: range + offset\n                };\n            },\n            zoomRange: function (rate) {\n                var rangeIndices = this.totalRangeIndices();\n                var totalRange = this.totalRange();\n                var totalMax = totalRange.max;\n                var totalMin = totalRange.min;\n                var min = limitValue(rangeIndices.min + rate, totalMin, totalMax);\n                var max = limitValue(rangeIndices.max - rate, totalMin, totalMax);\n                if (max - min > 0) {\n                    return {\n                        min: min,\n                        max: max\n                    };\n                }\n            },\n            scaleRange: function (scale) {\n                var axis = this, options = axis.options, range = options.categories.length, delta = scale * range;\n                return {\n                    min: -delta,\n                    max: range + delta\n                };\n            },\n            labelsCount: function () {\n                var labelsRange = this.labelsRange();\n                return labelsRange.max - labelsRange.min;\n            },\n            labelsRange: function () {\n                var options = this.options;\n                var labelOptions = options.labels;\n                var justified = options.justified;\n                var range = this.totalRangeIndices(true);\n                var min = range.min;\n                var max = range.max;\n                var start = math.floor(min);\n                var skip;\n                if (!justified) {\n                    min = math.floor(min);\n                    max = math.ceil(max);\n                } else {\n                    min = math.ceil(min);\n                    max = math.floor(max);\n                }\n                if (min > labelOptions.skip) {\n                    skip = labelOptions.skip + labelOptions.step * math.ceil((min - labelOptions.skip) / labelOptions.step);\n                } else {\n                    skip = labelOptions.skip;\n                }\n                return {\n                    min: skip - start,\n                    max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start\n                };\n            },\n            createAxisLabel: function (index, labelOptions) {\n                var axis = this, options = axis.options, dataItem = options.dataItems ? options.dataItems[index] : null, category = valueOrDefault(options.categories[index], ''), text = axis.axisLabelText(category, dataItem, labelOptions);\n                return new AxisLabel(category, text, index, dataItem, labelOptions);\n            },\n            shouldRenderNote: function (value) {\n                var categories = this.options.categories;\n                return categories.length && (categories.length > value && value >= 0);\n            },\n            pan: function (delta) {\n                var range = this.totalRangeIndices(true), scale = this.getScale(), offset = round(delta / scale, DEFAULT_PRECISION), totalRange = this.totalRange(), min = range.min + offset, max = range.max + offset;\n                return this.limitRange(min, max, 0, totalRange.max, offset);\n            },\n            pointsRange: function (start, end) {\n                var axis = this, options = axis.options, reverse = options.reverse, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.totalRangeIndices(true), scale = this.getScale(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];\n                var diffStart = start[valueAxis] - lineStart;\n                var diffEnd = end[valueAxis] - lineStart;\n                var min = range.min + diffStart / scale;\n                var max = range.min + diffEnd / scale;\n                var rangeMin = math.min(min, max);\n                var rangeMax = math.max(min, max);\n                if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {\n                    return {\n                        min: rangeMin,\n                        max: rangeMax\n                    };\n                }\n            },\n            valueRange: function () {\n                return this.range();\n            }\n        });\n        var DateCategoryAxis = CategoryAxis.extend({\n            init: function (options) {\n                var axis = this, baseUnit, useDefault;\n                options = options || {};\n                options = deepExtend({ roundToBaseUnit: true }, options, {\n                    categories: toDate(options.categories),\n                    min: toDate(options.min),\n                    max: toDate(options.max)\n                });\n                options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n                options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n                if (options.categories && options.categories.length > 0) {\n                    baseUnit = (options.baseUnit || '').toLowerCase();\n                    useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n                    if (useDefault) {\n                        options.baseUnit = axis.defaultBaseUnit(options);\n                    }\n                    if (baseUnit === FIT || options.baseUnitStep === AUTO) {\n                        axis.autoBaseUnit(options);\n                    }\n                    this._groupsStart = addDuration(options.categories[0], 0, options.baseUnit, options.weekStartDay);\n                    axis.groupCategories(options);\n                } else {\n                    options.baseUnit = options.baseUnit || DAYS;\n                }\n                this._initFields();\n                Axis.fn.init.call(axis, options);\n            },\n            options: {\n                type: DATE,\n                labels: { dateFormats: DateLabelFormats },\n                autoBaseUnitSteps: {\n                    milliseconds: [\n                        1,\n                        10,\n                        100\n                    ],\n                    seconds: [\n                        1,\n                        2,\n                        5,\n                        15,\n                        30\n                    ],\n                    minutes: [\n                        1,\n                        2,\n                        5,\n                        15,\n                        30\n                    ],\n                    hours: [\n                        1,\n                        2,\n                        3\n                    ],\n                    days: [\n                        1,\n                        2,\n                        3\n                    ],\n                    weeks: [\n                        1,\n                        2\n                    ],\n                    months: [\n                        1,\n                        2,\n                        3,\n                        6\n                    ],\n                    years: [\n                        1,\n                        2,\n                        3,\n                        5,\n                        10,\n                        25,\n                        50\n                    ]\n                },\n                maxDateGroups: 10\n            },\n            shouldRenderNote: function (value) {\n                var axis = this, range = axis.range(), categories = axis.options.categories || [];\n                return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n            },\n            parseNoteValue: function (value) {\n                return toDate(value);\n            },\n            translateRange: function (delta) {\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, weekStartDay = options.weekStartDay, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = axis.range(), scale = size / (range.max - range.min), offset = round(delta / scale, DEFAULT_PRECISION), from, to;\n                if (range.min && range.max) {\n                    from = addTicks(options.min || range.min, offset);\n                    to = addTicks(options.max || range.max, offset);\n                    range = {\n                        min: addDuration(from, 0, baseUnit, weekStartDay),\n                        max: addDuration(to, 0, baseUnit, weekStartDay)\n                    };\n                }\n                return range;\n            },\n            scaleRange: function (delta) {\n                var axis = this, rounds = math.abs(delta), range = axis.range(), from = range.min, to = range.max, step;\n                if (range.min && range.max) {\n                    while (rounds--) {\n                        range = dateDiff(from, to);\n                        step = math.round(range * 0.1);\n                        if (delta < 0) {\n                            from = addTicks(from, step);\n                            to = addTicks(to, -step);\n                        } else {\n                            from = addTicks(from, -step);\n                            to = addTicks(to, step);\n                        }\n                    }\n                    range = {\n                        min: from,\n                        max: to\n                    };\n                }\n                return range;\n            },\n            defaultBaseUnit: function (options) {\n                var categories = options.categories, count = defined(categories) ? categories.length : 0, categoryIx, cat, diff, minDiff = MAX_VALUE, lastCat, unit;\n                for (categoryIx = 0; categoryIx < count; categoryIx++) {\n                    cat = categories[categoryIx];\n                    if (cat && lastCat) {\n                        diff = absoluteDateDiff(cat, lastCat);\n                        if (diff > 0) {\n                            minDiff = math.min(minDiff, diff);\n                            if (minDiff >= TIME_PER_YEAR) {\n                                unit = YEARS;\n                            } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n                                unit = MONTHS;\n                            } else if (minDiff >= TIME_PER_WEEK) {\n                                unit = WEEKS;\n                            } else if (minDiff >= TIME_PER_DAY) {\n                                unit = DAYS;\n                            } else if (minDiff >= TIME_PER_HOUR) {\n                                unit = HOURS;\n                            } else if (minDiff >= TIME_PER_MINUTE) {\n                                unit = MINUTES;\n                            } else {\n                                unit = SECONDS;\n                            }\n                        }\n                    }\n                    lastCat = cat;\n                }\n                return unit || DAYS;\n            },\n            _categoryRange: function (categories) {\n                var range = categories._range;\n                if (!range) {\n                    range = categories._range = sparseArrayLimits(categories);\n                }\n                return range;\n            },\n            totalRange: function () {\n                return {\n                    min: 0,\n                    max: this.options.categories.length\n                };\n            },\n            rangeIndices: function () {\n                var options = this.options;\n                var baseUnit = options.baseUnit;\n                var baseUnitStep = options.baseUnitStep || 1;\n                var categories = options.categories;\n                var categoryLimits = this.categoriesRange();\n                var min = toDate(options.min || categoryLimits.min);\n                var max = toDate(options.max || categoryLimits.max);\n                var minIdx = 0, maxIdx = 0;\n                if (categories.length) {\n                    minIdx = dateIndex(min, categories[0], baseUnit, baseUnitStep);\n                    maxIdx = dateIndex(max, categories[0], baseUnit, baseUnitStep);\n                    if (options.roundToBaseUnit) {\n                        minIdx = math.floor(minIdx);\n                        maxIdx = options.justified ? math.floor(maxIdx) : math.ceil(maxIdx);\n                    }\n                }\n                return {\n                    min: minIdx,\n                    max: maxIdx\n                };\n            },\n            labelsRange: function () {\n                var options = this.options;\n                var labelOptions = options.labels;\n                var range = this.rangeIndices();\n                var min = math.floor(range.min);\n                var max = math.ceil(range.max);\n                return {\n                    min: min + labelOptions.skip,\n                    max: options.categories.length ? max + (options.justified ? 1 : 0) : 0\n                };\n            },\n            categoriesRange: function () {\n                var options = this.options;\n                var range = this._categoryRange(options.srcCategories || options.categories);\n                var max = toDate(range.max);\n                if (!options.justified && dateEquals(max, this._roundToTotalStep(max, options, false))) {\n                    max = this._roundToTotalStep(max, options, true, true);\n                }\n                return {\n                    min: toDate(range.min),\n                    max: max\n                };\n            },\n            currentRange: function () {\n                var options = this.options;\n                var round = options.roundToBaseUnit !== false;\n                var totalRange = this.categoriesRange();\n                var min = options.min;\n                var max = options.max;\n                if (!min) {\n                    min = round ? this._roundToTotalStep(totalRange.min, options, false) : totalRange.min;\n                }\n                if (!max) {\n                    max = round ? this._roundToTotalStep(totalRange.max, options, !options.justified) : totalRange.max;\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            datesRange: function () {\n                var range = this._categoryRange(this.options.srcCategories || this.options.categories);\n                return {\n                    min: toDate(range.min),\n                    max: toDate(range.max)\n                };\n            },\n            pan: function (delta) {\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = this.currentRange(), totalLimits = this.totalLimits(), min = range.min, max = range.max, scale = size / (max - min), offset = round(delta / scale, DEFAULT_PRECISION), panRange, from, to;\n                from = addTicks(min, offset);\n                to = addTicks(max, offset);\n                panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n                if (panRange) {\n                    panRange.min = toDate(panRange.min);\n                    panRange.max = toDate(panRange.max);\n                    panRange.baseUnit = baseUnit;\n                    panRange.baseUnitStep = options.baseUnitStep || 1;\n                    panRange.userSetBaseUnit = options.userSetBaseUnit;\n                    panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n                    return panRange;\n                }\n            },\n            pointsRange: function (start, end) {\n                var pointsRange = CategoryAxis.fn.pointsRange.call(this, start, end);\n                var datesRange = this.currentRange();\n                var indicesRange = this.rangeIndices();\n                var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n                var options = this.options;\n                var min = addTicks(datesRange.min, pointsRange.min * scale);\n                var max = addTicks(datesRange.min, pointsRange.max * scale);\n                return {\n                    min: min,\n                    max: max,\n                    baseUnit: options.userSetBaseUnit,\n                    baseUnitStep: options.userSetBaseUnitStep\n                };\n            },\n            zoomRange: function (delta) {\n                var options = this.options;\n                var totalLimits = this.totalLimits();\n                var currentRange = this.currentRange();\n                var baseUnit = options.baseUnit;\n                var baseUnitStep = options.baseUnitStep || 1;\n                var weekStartDay = options.weekStartDay;\n                var rangeMax = currentRange.max;\n                var rangeMin = currentRange.min;\n                var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);\n                var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);\n                if (options.userSetBaseUnit == FIT) {\n                    var autoBaseUnitSteps = options.autoBaseUnitSteps;\n                    var maxDateGroups = options.maxDateGroups;\n                    var baseUnitIndex = indexOf(baseUnit, BASE_UNITS);\n                    var autoBaseUnitStep;\n                    var diff = dateDiff(max, min);\n                    var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n                    var rangeDiff = dateDiff(rangeMax, rangeMin);\n                    var ticks;\n                    if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n                        baseUnit = BASE_UNITS[baseUnitIndex - 1];\n                        autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n                        ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n                        min = addTicks(rangeMin, ticks);\n                        max = addTicks(rangeMax, -ticks);\n                    } else if (diff > maxDiff && baseUnit !== YEARS) {\n                        var stepIndex = 0;\n                        do {\n                            baseUnitIndex++;\n                            baseUnit = BASE_UNITS[baseUnitIndex];\n                            stepIndex = 0;\n                            ticks = 2 * TIME_PER_UNIT[baseUnit];\n                            do {\n                                autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n                                stepIndex++;\n                            } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n                        } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n                        ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n                        if (ticks > 0) {\n                            min = addTicks(rangeMin, -ticks);\n                            max = addTicks(rangeMax, ticks);\n                            min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n                            max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n                        }\n                    }\n                }\n                min = toDate(limitValue(min, totalLimits.min, totalLimits.max));\n                max = toDate(limitValue(max, totalLimits.min, totalLimits.max));\n                if (min && max && dateDiff(max, min) > 0) {\n                    return {\n                        min: min,\n                        max: max,\n                        baseUnit: options.userSetBaseUnit,\n                        baseUnitStep: options.userSetBaseUnitStep\n                    };\n                }\n            },\n            totalLimits: function () {\n                var options = this.options;\n                var datesRange = this.datesRange();\n                var min = this._roundToTotalStep(toDate(datesRange.min), options, false);\n                var max = datesRange.max;\n                if (!options.justified) {\n                    max = this._roundToTotalStep(max, options, true, dateEquals(max, this._roundToTotalStep(max, options, false)));\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            range: function (options) {\n                options = options || this.options;\n                var categories = options.categories, autoUnit = options.baseUnit === FIT, baseUnit = autoUnit ? BASE_UNITS[0] : options.baseUnit, baseUnitStep = options.baseUnitStep || 1, stepOptions = {\n                        baseUnit: baseUnit,\n                        baseUnitStep: baseUnitStep,\n                        weekStartDay: options.weekStartDay\n                    }, categoryLimits = this._categoryRange(categories), min = toDate(options.min || categoryLimits.min), max = toDate(options.max || categoryLimits.max);\n                return {\n                    min: this._roundToTotalStep(min, stepOptions, false),\n                    max: this._roundToTotalStep(max, stepOptions, true, true)\n                };\n            },\n            autoBaseUnit: function (options) {\n                var axis = this, categoryLimits = this._categoryRange(options.categories), min = toDate(options.min || categoryLimits.min), max = toDate(options.max || categoryLimits.max), autoUnit = options.baseUnit === FIT, autoUnitIx = 0, baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit, span = max - min, units = span / TIME_PER_UNIT[baseUnit], totalUnits = units, maxDateGroups = options.maxDateGroups || axis.options.maxDateGroups, autoBaseUnitSteps = deepExtend({}, axis.options.autoBaseUnitSteps, options.autoBaseUnitSteps), unitSteps, step, nextStep;\n                while (!step || units >= maxDateGroups) {\n                    unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n                    nextStep = unitSteps.shift();\n                    if (nextStep) {\n                        step = nextStep;\n                        units = totalUnits / step;\n                    } else if (baseUnit === last(BASE_UNITS)) {\n                        step = math.ceil(totalUnits / maxDateGroups);\n                        break;\n                    } else if (autoUnit) {\n                        baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n                        totalUnits = span / TIME_PER_UNIT[baseUnit];\n                        unitSteps = null;\n                    } else {\n                        if (units > maxDateGroups) {\n                            step = math.ceil(totalUnits / maxDateGroups);\n                        }\n                        break;\n                    }\n                }\n                options.baseUnitStep = step;\n                options.baseUnit = baseUnit;\n            },\n            _timeScale: function () {\n                var axis = this, range = axis.range(), options = axis.options, lineBox = axis.lineBox(), vertical = options.vertical, lineSize = vertical ? lineBox.height() : lineBox.width(), timeRange;\n                if (options.justified && options._collapse !== false) {\n                    var categoryLimits = this._categoryRange(options.categories);\n                    var maxCategory = toTime(categoryLimits.max);\n                    timeRange = toDate(maxCategory) - range.min;\n                } else {\n                    timeRange = range.max - range.min;\n                }\n                return lineSize / timeRange;\n            },\n            groupCategories: function (options) {\n                var axis = this, categories = options.categories, maxCategory = toDate(sparseArrayMax(categories)), baseUnit = options.baseUnit, baseUnitStep = options.baseUnitStep || 1, range = axis.range(options), max = range.max, date, nextDate, groups = [];\n                for (date = range.min; date < max; date = nextDate) {\n                    groups.push(date);\n                    nextDate = addDuration(date, baseUnitStep, baseUnit, options.weekStartDay);\n                    if (nextDate > maxCategory && !options.max) {\n                        break;\n                    }\n                }\n                options.srcCategories = categories;\n                options.categories = groups;\n            },\n            _roundToTotalStep: function (value, options, upper, roundToNext) {\n                options = options || this.options;\n                var baseUnit = options.baseUnit;\n                var baseUnitStep = options.baseUnitStep || 1;\n                var start = this._groupsStart;\n                if (start) {\n                    var step = dateIndex(value, start, baseUnit, baseUnitStep);\n                    var roundedStep = upper ? math.ceil(step) : math.floor(step);\n                    if (roundToNext) {\n                        roundedStep++;\n                    }\n                    return addDuration(start, roundedStep * baseUnitStep, baseUnit, options.weekStartDay);\n                } else {\n                    return addDuration(value, upper ? baseUnitStep : 0, baseUnit, options.weekStartDay);\n                }\n            },\n            createAxisLabel: function (index, labelOptions) {\n                var options = this.options, dataItem = options.dataItems ? options.dataItems[index] : null, date = options.categories[index], baseUnit = options.baseUnit, visible = true, unitFormat = labelOptions.dateFormats[baseUnit];\n                if (options.justified) {\n                    var roundedDate = floorDate(date, baseUnit, options.weekStartDay);\n                    visible = dateEquals(roundedDate, date);\n                } else if (!options.roundToBaseUnit) {\n                    visible = !dateEquals(this.range().max, date);\n                }\n                if (visible) {\n                    labelOptions.format = labelOptions.format || unitFormat;\n                    var text = this.axisLabelText(date, dataItem, labelOptions);\n                    if (text) {\n                        return new AxisLabel(date, text, index, dataItem, labelOptions);\n                    }\n                }\n            },\n            categoryIndex: function (value) {\n                var axis = this;\n                var options = axis.options;\n                var categories = options.categories;\n                var index = -1;\n                if (categories.length) {\n                    index = math.floor(dateIndex(toDate(value), categories[0], options.baseUnit, options.baseUnitStep || 1));\n                }\n                return index;\n            },\n            getSlot: function (a, b, limit) {\n                var axis = this;\n                if (typeof a === OBJECT) {\n                    a = axis.categoryIndex(a);\n                }\n                if (typeof b === OBJECT) {\n                    b = axis.categoryIndex(b);\n                }\n                return CategoryAxis.fn.getSlot.call(axis, a, b, limit);\n            },\n            valueRange: function () {\n                var options = this.options;\n                var range = this._categoryRange(options.srcCategories || options.categories);\n                return {\n                    min: toDate(range.min),\n                    max: toDate(range.max)\n                };\n            }\n        });\n        var DateValueAxis = Axis.extend({\n            init: function (seriesMin, seriesMax, options) {\n                var axis = this;\n                options = options || {};\n                deepExtend(options, {\n                    min: toDate(options.min),\n                    max: toDate(options.max),\n                    axisCrossingValue: toDate(options.axisCrossingValues || options.axisCrossingValue)\n                });\n                this.seriesMin = toDate(seriesMin);\n                this.seriesMax = toDate(seriesMax);\n                options = axis.applyDefaults(this.seriesMin, this.seriesMax, options);\n                Axis.fn.init.call(axis, options);\n            },\n            options: {\n                type: DATE,\n                majorGridLines: {\n                    visible: true,\n                    width: 1,\n                    color: BLACK\n                },\n                labels: { dateFormats: DateLabelFormats }\n            },\n            applyDefaults: function (seriesMin, seriesMax, options) {\n                var axis = this, min = options.min || seriesMin, max = options.max || seriesMax, baseUnit = options.baseUnit || (max && min ? axis.timeUnits(absoluteDateDiff(max, min)) : HOURS), baseUnitTime = TIME_PER_UNIT[baseUnit], autoMin = floorDate(toTime(min) - 1, baseUnit) || toDate(max), autoMax = ceilDate(toTime(max) + 1, baseUnit), userMajorUnit = options.majorUnit ? options.majorUnit : undefined, majorUnit = userMajorUnit || dataviz.ceil(dataviz.autoMajorUnit(autoMin.getTime(), autoMax.getTime()), baseUnitTime) / baseUnitTime, actualUnits = duration(autoMin, autoMax, baseUnit), totalUnits = dataviz.ceil(actualUnits, majorUnit), unitsToAdd = totalUnits - actualUnits, head = math.floor(unitsToAdd / 2), tail = unitsToAdd - head;\n                if (!options.baseUnit) {\n                    delete options.baseUnit;\n                }\n                options.baseUnit = options.baseUnit || baseUnit;\n                options.min = options.min || addDuration(autoMin, -head, baseUnit);\n                options.max = options.max || addDuration(autoMax, tail, baseUnit);\n                options.minorUnit = options.minorUnit || majorUnit / 5;\n                options.majorUnit = majorUnit;\n                this.totalMin = toTime(floorDate(toTime(seriesMin) - 1, baseUnit));\n                this.totalMax = toTime(ceilDate(toTime(seriesMax) + 1, baseUnit));\n                return options;\n            },\n            range: function () {\n                var options = this.options;\n                return {\n                    min: options.min,\n                    max: options.max\n                };\n            },\n            getDivisions: function (stepValue) {\n                var options = this.options;\n                return math.floor(duration(options.min, options.max, options.baseUnit) / stepValue + 1);\n            },\n            getTickPositions: function (step) {\n                var options = this.options;\n                var vertical = options.vertical;\n                var reverse = options.reverse;\n                var lineBox = this.lineBox();\n                var dir = (vertical ? -1 : 1) * (reverse ? -1 : 1);\n                var startEdge = dir === 1 ? 1 : 2;\n                var start = lineBox[(vertical ? Y : X) + startEdge];\n                var divisions = this.getDivisions(step);\n                var timeRange = dateDiff(options.max, options.min);\n                var lineSize = vertical ? lineBox.height() : lineBox.width();\n                var scale = lineSize / timeRange;\n                var positions = [start];\n                for (var i = 1; i < divisions; i++) {\n                    var date = addDuration(options.min, i * step, options.baseUnit);\n                    var pos = start + dateDiff(date, options.min) * scale * dir;\n                    positions.push(round(pos, COORD_PRECISION));\n                }\n                return positions;\n            },\n            getMajorTickPositions: function () {\n                var axis = this;\n                return axis.getTickPositions(axis.options.majorUnit);\n            },\n            getMinorTickPositions: function () {\n                var axis = this;\n                return axis.getTickPositions(axis.options.minorUnit);\n            },\n            getSlot: function (a, b, limit) {\n                return NumericAxis.fn.getSlot.call(this, toDate(a), toDate(b), limit);\n            },\n            getValue: function (point) {\n                var value = NumericAxis.fn.getValue.call(this, point);\n                return value !== null ? toDate(value) : null;\n            },\n            labelsCount: function () {\n                return this.getDivisions(this.options.majorUnit);\n            },\n            createAxisLabel: function (index, labelOptions) {\n                var options = this.options;\n                var offset = index * options.majorUnit;\n                var date = options.min;\n                if (offset > 0) {\n                    date = addDuration(date, offset, options.baseUnit);\n                }\n                var unitFormat = labelOptions.dateFormats[options.baseUnit];\n                labelOptions.format = labelOptions.format || unitFormat;\n                var text = this.axisLabelText(date, null, labelOptions);\n                return new AxisLabel(date, text, index, null, labelOptions);\n            },\n            timeUnits: function (delta) {\n                var unit = HOURS;\n                if (delta >= TIME_PER_YEAR) {\n                    unit = YEARS;\n                } else if (delta >= TIME_PER_MONTH) {\n                    unit = MONTHS;\n                } else if (delta >= TIME_PER_WEEK) {\n                    unit = WEEKS;\n                } else if (delta >= TIME_PER_DAY) {\n                    unit = DAYS;\n                }\n                return unit;\n            },\n            translateRange: function (delta, exact) {\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, weekStartDay = options.weekStartDay, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = axis.range(), scale = size / dateDiff(range.max, range.min), offset = round(delta / scale, DEFAULT_PRECISION), from = addTicks(options.min, offset), to = addTicks(options.max, offset);\n                if (!exact) {\n                    from = addDuration(from, 0, baseUnit, weekStartDay);\n                    to = addDuration(to, 0, baseUnit, weekStartDay);\n                }\n                return {\n                    min: from,\n                    max: to\n                };\n            },\n            scaleRange: function (delta) {\n                var axis = this, options = axis.options, rounds = math.abs(delta), from = options.min, to = options.max, range, step;\n                while (rounds--) {\n                    range = dateDiff(from, to);\n                    step = math.round(range * 0.1);\n                    if (delta < 0) {\n                        from = addTicks(from, step);\n                        to = addTicks(to, -step);\n                    } else {\n                        from = addTicks(from, -step);\n                        to = addTicks(to, step);\n                    }\n                }\n                return {\n                    min: from,\n                    max: to\n                };\n            },\n            shouldRenderNote: function (value) {\n                var range = this.range();\n                return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;\n            },\n            pan: function (delta) {\n                var range = this.translateRange(delta, true);\n                var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax);\n                if (limittedRange) {\n                    return {\n                        min: toDate(limittedRange.min),\n                        max: toDate(limittedRange.max)\n                    };\n                }\n            },\n            pointsRange: function (start, end) {\n                var startValue = this.getValue(start);\n                var endValue = this.getValue(end);\n                var min = math.min(startValue, endValue);\n                var max = math.max(startValue, endValue);\n                return {\n                    min: toDate(min),\n                    max: toDate(max)\n                };\n            },\n            zoomRange: function (delta) {\n                var range = this.scaleRange(delta);\n                var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));\n                var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));\n                return {\n                    min: min,\n                    max: max\n                };\n            }\n        });\n        var ClusterLayout = ChartElement.extend({\n            options: {\n                vertical: false,\n                gap: 0,\n                spacing: 0\n            },\n            reflow: function (box) {\n                var cluster = this, options = cluster.options, vertical = options.vertical, axis = vertical ? Y : X, children = cluster.children, gap = options.gap, spacing = options.spacing, count = children.length, slots = count + gap + spacing * (count - 1), slotSize = (vertical ? box.height() : box.width()) / slots, position = box[axis + 1] + slotSize * (gap / 2), childBox, i;\n                for (i = 0; i < count; i++) {\n                    childBox = (children[i].box || box).clone();\n                    childBox[axis + 1] = position;\n                    childBox[axis + 2] = position + slotSize;\n                    children[i].reflow(childBox);\n                    if (i < count - 1) {\n                        position += slotSize * spacing;\n                    }\n                    position += slotSize;\n                }\n            }\n        });\n        var StackWrap = ChartElement.extend({\n            options: { vertical: true },\n            reflow: function (targetBox) {\n                var options = this.options, vertical = options.vertical, positionAxis = vertical ? X : Y, children = this.children, box = this.box = new Box2D(), childrenCount = children.length, i;\n                for (i = 0; i < childrenCount; i++) {\n                    var currentChild = children[i], childBox;\n                    if (currentChild.visible !== false) {\n                        childBox = currentChild.box.clone();\n                        childBox.snapTo(targetBox, positionAxis);\n                        if (i === 0) {\n                            box = this.box = childBox.clone();\n                        }\n                        currentChild.reflow(childBox);\n                        box.wrap(childBox);\n                    }\n                }\n            }\n        });\n        var PointEventsMixin = {\n            click: function (chart, e) {\n                return chart.trigger(SERIES_CLICK, this.eventArgs(e));\n            },\n            hover: function (chart, e) {\n                return chart.trigger(SERIES_HOVER, this.eventArgs(e));\n            },\n            eventArgs: function (e) {\n                return {\n                    value: this.value,\n                    percentage: this.percentage,\n                    stackValue: this.stackValue,\n                    category: this.category,\n                    series: this.series,\n                    dataItem: this.dataItem,\n                    runningTotal: this.runningTotal,\n                    total: this.total,\n                    element: eventTargetElement(e),\n                    originalEvent: e,\n                    point: this\n                };\n            }\n        };\n        var NoteMixin = {\n            createNote: function () {\n                var element = this, options = element.options.notes, text = element.noteText || options.label.text;\n                if (options.visible !== false && defined(text) && text !== null) {\n                    element.note = new Note(element.value, text, element.dataItem, element.category, element.series, element.options.notes);\n                    element.append(element.note);\n                }\n            }\n        };\n        var Bar = ChartElement.extend({\n            init: function (value, options) {\n                var bar = this;\n                ChartElement.fn.init.call(bar);\n                bar.options = options;\n                bar.color = options.color || WHITE;\n                bar.aboveAxis = valueOrDefault(bar.options.aboveAxis, true);\n                bar.value = value;\n            },\n            defaults: {\n                border: { width: 1 },\n                vertical: true,\n                overlay: { gradient: GLASS },\n                labels: {\n                    visible: false,\n                    format: '{0}'\n                },\n                opacity: 1,\n                notes: { label: {} }\n            },\n            render: function () {\n                if (this._rendered) {\n                    return;\n                } else {\n                    this._rendered = true;\n                }\n                this.createLabel();\n                this.createNote();\n                if (this.errorBar) {\n                    this.append(this.errorBar);\n                }\n            },\n            createLabel: function () {\n                var options = this.options;\n                var labels = options.labels;\n                var labelText;\n                if (labels.visible) {\n                    if (labels.template) {\n                        var labelTemplate = template(labels.template);\n                        labelText = labelTemplate({\n                            dataItem: this.dataItem,\n                            category: this.category,\n                            value: this.value,\n                            percentage: this.percentage,\n                            stackValue: this.stackValue,\n                            runningTotal: this.runningTotal,\n                            total: this.total,\n                            series: this.series\n                        });\n                    } else {\n                        labelText = this.formatValue(labels.format);\n                    }\n                    this.label = new BarLabel(labelText, deepExtend({ vertical: options.vertical }, options.labels));\n                    this.append(this.label);\n                }\n            },\n            formatValue: function (format) {\n                return this.owner.formatPointValue(this, format);\n            },\n            reflow: function (targetBox) {\n                this.render();\n                var bar = this, label = bar.label;\n                bar.box = targetBox;\n                if (label) {\n                    label.options.aboveAxis = bar.aboveAxis;\n                    label.reflow(targetBox);\n                }\n                if (bar.note) {\n                    bar.note.reflow(targetBox);\n                }\n                if (bar.errorBars) {\n                    for (var i = 0; i < bar.errorBars.length; i++) {\n                        bar.errorBars[i].reflow(targetBox);\n                    }\n                }\n            },\n            createVisual: function () {\n                var bar = this;\n                var box = bar.box;\n                var options = bar.options;\n                var customVisual = options.visual;\n                if (bar.visible !== false) {\n                    ChartElement.fn.createVisual.call(bar);\n                    if (customVisual) {\n                        var visual = this.rectVisual = customVisual({\n                            category: bar.category,\n                            dataItem: bar.dataItem,\n                            value: bar.value,\n                            sender: bar.getChart(),\n                            series: bar.series,\n                            percentage: bar.percentage,\n                            stackValue: this.stackValue,\n                            runningTotal: bar.runningTotal,\n                            total: bar.total,\n                            rect: box.toRect(),\n                            createVisual: function () {\n                                var group = new draw.Group();\n                                bar.createRect(group);\n                                return group;\n                            },\n                            options: options\n                        });\n                        if (visual) {\n                            bar.visual.append(visual);\n                        }\n                    } else if (box.width() > 0 && box.height() > 0) {\n                        bar.createRect(bar.visual);\n                    }\n                }\n            },\n            createRect: function (visual) {\n                var options = this.options;\n                var border = options.border;\n                var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;\n                var rect = this.box.toRect();\n                rect.size.width = Math.round(rect.size.width);\n                var path = this.rectVisual = draw.Path.fromRect(rect, {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: {\n                        color: this.getBorderColor(),\n                        width: border.width,\n                        opacity: strokeOpacity,\n                        dashType: border.dashType\n                    }\n                });\n                var width = this.box.width();\n                var height = this.box.height();\n                var size = options.vertical ? width : height;\n                if (size > BAR_ALIGN_MIN_WIDTH) {\n                    alignPathToPixel(path);\n                    if (width < 1 || height < 1) {\n                        path.options.stroke.lineJoin = 'round';\n                    }\n                }\n                visual.append(path);\n                if (hasGradientOverlay(options)) {\n                    visual.append(this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({\n                        end: !options.vertical ? [\n                            0,\n                            1\n                        ] : undefined\n                    }, options.overlay)));\n                }\n            },\n            createHighlight: function (style) {\n                var highlight = draw.Path.fromRect(this.box.toRect(), style);\n                return alignPathToPixel(highlight);\n            },\n            highlightVisual: function () {\n                return this.rectVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    options: this.options,\n                    rect: this.box.toRect(),\n                    visual: this.rectVisual\n                };\n            },\n            getBorderColor: function () {\n                var bar = this, options = bar.options, color = bar.color, border = options.border, borderColor = border.color, brightness = border._brightness || BAR_BORDER_BRIGHTNESS;\n                if (!defined(borderColor)) {\n                    borderColor = new Color(color).brightness(brightness).toHex();\n                }\n                return borderColor;\n            },\n            tooltipAnchor: function (tooltipWidth, tooltipHeight) {\n                var bar = this, options = bar.options, box = bar.box, vertical = options.vertical, aboveAxis = bar.aboveAxis, clipBox = bar.owner.pane.clipBox() || box, x, y;\n                if (vertical) {\n                    x = math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;\n                    y = aboveAxis ? math.max(box.y1, clipBox.y1) : math.min(box.y2, clipBox.y2) - tooltipHeight;\n                } else {\n                    var x1 = math.max(box.x1, clipBox.x1), x2 = math.min(box.x2, clipBox.x2);\n                    if (options.isStacked) {\n                        x = aboveAxis ? x2 - tooltipWidth : x1;\n                        y = math.max(box.y1, clipBox.y1) - tooltipHeight - TOOLTIP_OFFSET;\n                    } else {\n                        x = aboveAxis ? x2 + TOOLTIP_OFFSET : x1 - tooltipWidth - TOOLTIP_OFFSET;\n                        y = math.max(box.y1, clipBox.y1);\n                    }\n                }\n                return new Point2D(x, y);\n            },\n            overlapsBox: function (box) {\n                return this.box.overlaps(box);\n            }\n        });\n        deepExtend(Bar.fn, PointEventsMixin);\n        deepExtend(Bar.fn, NoteMixin);\n        var BarChartAnimation = draw.Animation.extend({\n            options: { duration: INITIAL_ANIMATION_DURATION },\n            setup: function () {\n                var element = this.element;\n                var options = this.options;\n                var bbox = element.bbox();\n                if (bbox) {\n                    this.origin = options.origin;\n                    var axis = options.vertical ? Y : X;\n                    var fromScale = this.fromScale = new geom.Point(1, 1);\n                    fromScale[axis] = START_SCALE;\n                    element.transform(geom.transform().scale(fromScale.x, fromScale.y));\n                } else {\n                    this.abort();\n                }\n            },\n            step: function (pos) {\n                var scaleX = interpolate(this.fromScale.x, 1, pos);\n                var scaleY = interpolate(this.fromScale.y, 1, pos);\n                this.element.transform(geom.transform().scale(scaleX, scaleY, this.origin));\n            },\n            abort: function () {\n                draw.Animation.fn.abort.call(this);\n                this.element.transform(null);\n            }\n        });\n        draw.AnimationFactory.current.register(BAR, BarChartAnimation);\n        var FadeInAnimation = draw.Animation.extend({\n            options: {\n                duration: 200,\n                easing: LINEAR\n            },\n            setup: function () {\n                this.fadeTo = this.element.opacity();\n                this.element.opacity(0);\n            },\n            step: function (pos) {\n                this.element.opacity(pos * this.fadeTo);\n            }\n        });\n        draw.AnimationFactory.current.register(FADEIN, FadeInAnimation);\n        var ErrorRangeCalculator = function (errorValue, series, field) {\n            var that = this;\n            that.initGlobalRanges(errorValue, series, field);\n        };\n        ErrorRangeCalculator.prototype = ErrorRangeCalculator.fn = {\n            percentRegex: /percent(?:\\w*)\\((\\d+)\\)/,\n            standardDeviationRegex: new RegExp('^' + STD_DEV + '(?:\\\\((\\\\d+(?:\\\\.\\\\d+)?)\\\\))?$'),\n            initGlobalRanges: function (errorValue, series, field) {\n                var that = this, data = series.data, deviationMatch = that.standardDeviationRegex.exec(errorValue);\n                if (deviationMatch) {\n                    that.valueGetter = that.createValueGetter(series, field);\n                    var average = that.getAverage(data), deviation = that.getStandardDeviation(data, average, false), multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1, errorRange = {\n                            low: average.value - deviation * multiple,\n                            high: average.value + deviation * multiple\n                        };\n                    that.globalRange = function () {\n                        return errorRange;\n                    };\n                } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {\n                    that.valueGetter = that.createValueGetter(series, field);\n                    var standardError = that.getStandardError(data, that.getAverage(data));\n                    that.globalRange = function (value) {\n                        return {\n                            low: value - standardError,\n                            high: value + standardError\n                        };\n                    };\n                }\n            },\n            createValueGetter: function (series, field) {\n                var data = series.data, binder = SeriesBinder.current, valueFields = binder.valueFields(series), item = defined(data[0]) ? data[0] : {}, idx, srcValueFields, valueGetter;\n                if (isArray(item)) {\n                    idx = field ? indexOf(field, valueFields) : 0;\n                    valueGetter = getter('[' + idx + ']');\n                } else if (isNumber(item)) {\n                    valueGetter = getter();\n                } else if (typeof item === OBJECT) {\n                    srcValueFields = binder.sourceFields(series, valueFields);\n                    valueGetter = getter(srcValueFields[indexOf(field, valueFields)]);\n                }\n                return valueGetter;\n            },\n            getErrorRange: function (pointValue, errorValue) {\n                var that = this, low, high, value;\n                if (!defined(errorValue)) {\n                    return;\n                }\n                if (that.globalRange) {\n                    return that.globalRange(pointValue);\n                }\n                if (isArray(errorValue)) {\n                    low = pointValue - errorValue[0];\n                    high = pointValue + errorValue[1];\n                } else if (isNumber(value = parseFloat(errorValue))) {\n                    low = pointValue - value;\n                    high = pointValue + value;\n                } else if (value = that.percentRegex.exec(errorValue)) {\n                    var percentValue = pointValue * (parseFloat(value[1]) / 100);\n                    low = pointValue - math.abs(percentValue);\n                    high = pointValue + math.abs(percentValue);\n                } else {\n                    throw new Error('Invalid ErrorBar value: ' + errorValue);\n                }\n                return {\n                    low: low,\n                    high: high\n                };\n            },\n            getStandardError: function (data, average) {\n                return this.getStandardDeviation(data, average, true) / math.sqrt(average.count);\n            },\n            getStandardDeviation: function (data, average, isSample) {\n                var squareDifferenceSum = 0, length = data.length, total = isSample ? average.count - 1 : average.count, value;\n                for (var i = 0; i < length; i++) {\n                    value = this.valueGetter(data[i]);\n                    if (isNumber(value)) {\n                        squareDifferenceSum += math.pow(value - average.value, 2);\n                    }\n                }\n                return math.sqrt(squareDifferenceSum / total);\n            },\n            getAverage: function (data) {\n                var sum = 0, count = 0, length = data.length, value;\n                for (var i = 0; i < length; i++) {\n                    value = this.valueGetter(data[i]);\n                    if (isNumber(value)) {\n                        sum += value;\n                        count++;\n                    }\n                }\n                return {\n                    value: sum / count,\n                    count: count\n                };\n            }\n        };\n        var CategoricalChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                var chart = this;\n                ChartElement.fn.init.call(chart, options);\n                chart.plotArea = plotArea;\n                chart.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);\n                chart.valueAxisRanges = {};\n                chart.points = [];\n                chart.categoryPoints = [];\n                chart.seriesPoints = [];\n                chart.seriesOptions = [];\n                chart._evalSeries = [];\n                chart.render();\n            },\n            options: {\n                series: [],\n                invertAxes: false,\n                isStacked: false,\n                clip: true\n            },\n            render: function () {\n                var chart = this;\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\n            },\n            pointOptions: function (series, seriesIx) {\n                var options = this.seriesOptions[seriesIx];\n                if (!options) {\n                    var defaults = this.pointType().fn.defaults;\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, { vertical: !this.options.invertAxes }, series);\n                }\n                return options;\n            },\n            plotValue: function (point) {\n                if (!point) {\n                    return 0;\n                }\n                if (this.options.isStacked100 && isNumber(point.value)) {\n                    var categoryIx = point.categoryIx;\n                    var categoryPts = this.categoryPoints[categoryIx];\n                    var categorySum = 0;\n                    var otherValues = [];\n                    for (var i = 0; i < categoryPts.length; i++) {\n                        var other = categoryPts[i];\n                        if (other) {\n                            var stack = point.series.stack;\n                            var otherStack = other.series.stack;\n                            if (stack && otherStack && stack.group !== otherStack.group) {\n                                continue;\n                            }\n                            if (isNumber(other.value)) {\n                                categorySum += math.abs(other.value);\n                                otherValues.push(math.abs(other.value));\n                            }\n                        }\n                    }\n                    if (categorySum > 0) {\n                        return point.value / categorySum;\n                    }\n                }\n                return point.value;\n            },\n            plotRange: function (point, startValue) {\n                var categoryIx = point.categoryIx;\n                var categoryPts = this.categoryPoints[categoryIx];\n                if (this.options.isStacked) {\n                    startValue = startValue || 0;\n                    var plotValue = this.plotValue(point);\n                    var positive = plotValue >= 0;\n                    var prevValue = startValue;\n                    var isStackedBar = false;\n                    for (var i = 0; i < categoryPts.length; i++) {\n                        var other = categoryPts[i];\n                        if (point === other) {\n                            break;\n                        }\n                        var stack = point.series.stack;\n                        var otherStack = other.series.stack;\n                        if (stack && otherStack) {\n                            if (typeof stack === STRING && stack !== otherStack) {\n                                continue;\n                            }\n                            if (stack.group && stack.group !== otherStack.group) {\n                                continue;\n                            }\n                        }\n                        var otherValue = this.plotValue(other);\n                        if (otherValue >= 0 && positive || otherValue < 0 && !positive) {\n                            prevValue += otherValue;\n                            plotValue += otherValue;\n                            isStackedBar = true;\n                            if (this.options.isStacked100) {\n                                plotValue = math.min(plotValue, 1);\n                            }\n                        }\n                    }\n                    if (isStackedBar) {\n                        prevValue -= startValue;\n                    }\n                    return [\n                        prevValue,\n                        plotValue\n                    ];\n                }\n                var series = point.series;\n                var valueAxis = this.seriesValueAxis(series);\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                return [\n                    axisCrossingValue,\n                    point.value || axisCrossingValue\n                ];\n            },\n            stackLimits: function (axisName, stackName) {\n                var min = MAX_VALUE;\n                var max = MIN_VALUE;\n                for (var i = 0; i < this.categoryPoints.length; i++) {\n                    var categoryPts = this.categoryPoints[i];\n                    if (!categoryPts) {\n                        continue;\n                    }\n                    for (var pIx = 0; pIx < categoryPts.length; pIx++) {\n                        var point = categoryPts[pIx];\n                        if (point) {\n                            if (point.series.stack === stackName || point.series.axis === axisName) {\n                                var to = this.plotRange(point, 0)[1];\n                                if (defined(to) && isFinite(to)) {\n                                    max = math.max(max, to);\n                                    min = math.min(min, to);\n                                }\n                            }\n                        }\n                    }\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            updateStackRange: function () {\n                var chart = this;\n                var chartSeries = chart.options.series;\n                var isStacked = chart.options.isStacked;\n                var limits;\n                var limitsCache = {};\n                if (isStacked) {\n                    for (var i = 0; i < chartSeries.length; i++) {\n                        var series = chartSeries[i];\n                        var axisName = series.axis;\n                        var key = axisName + series.stack;\n                        limits = limitsCache[key];\n                        if (!limits) {\n                            limits = chart.stackLimits(axisName, series.stack);\n                            var errorTotals = chart.errorTotals;\n                            if (errorTotals) {\n                                if (errorTotals.negative.length) {\n                                    limits.min = math.min(limits.min, sparseArrayMin(errorTotals.negative));\n                                }\n                                if (errorTotals.positive.length) {\n                                    limits.max = math.max(limits.max, sparseArrayMax(errorTotals.positive));\n                                }\n                            }\n                            if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {\n                                limitsCache[key] = limits;\n                            } else {\n                                limits = null;\n                            }\n                        }\n                        if (limits) {\n                            chart.valueAxisRanges[axisName] = limits;\n                        }\n                    }\n                }\n            },\n            addErrorBar: function (point, data, categoryIx) {\n                var chart = this, value = point.value, series = point.series, seriesIx = point.seriesIx, errorBars = point.options.errorBars, errorRange, lowValue = data.fields[ERROR_LOW_FIELD], highValue = data.fields[ERROR_HIGH_FIELD];\n                if (isNumber(lowValue) && isNumber(highValue)) {\n                    errorRange = {\n                        low: lowValue,\n                        high: highValue\n                    };\n                } else if (errorBars && defined(errorBars.value)) {\n                    chart.seriesErrorRanges = chart.seriesErrorRanges || [];\n                    chart.seriesErrorRanges[seriesIx] = chart.seriesErrorRanges[seriesIx] || new ErrorRangeCalculator(errorBars.value, series, VALUE);\n                    errorRange = chart.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);\n                }\n                if (errorRange) {\n                    point.low = errorRange.low;\n                    point.high = errorRange.high;\n                    chart.addPointErrorBar(point, categoryIx);\n                }\n            },\n            addPointErrorBar: function (point, categoryIx) {\n                var chart = this, series = point.series, low = point.low, high = point.high, isVertical = !chart.options.invertAxes, options = point.options.errorBars, errorBar, stackedErrorRange;\n                if (chart.options.isStacked) {\n                    stackedErrorRange = chart.stackedErrorRange(point, categoryIx);\n                    low = stackedErrorRange.low;\n                    high = stackedErrorRange.high;\n                } else {\n                    var fields = {\n                        categoryIx: categoryIx,\n                        series: series\n                    };\n                    chart.updateRange({ value: low }, fields);\n                    chart.updateRange({ value: high }, fields);\n                }\n                errorBar = new CategoricalErrorBar(low, high, isVertical, chart, series, options);\n                point.errorBars = [errorBar];\n                point.append(errorBar);\n            },\n            stackedErrorRange: function (point, categoryIx) {\n                var chart = this, plotValue = chart.plotRange(point, 0)[1] - point.value, low = point.low + plotValue, high = point.high + plotValue;\n                chart.errorTotals = chart.errorTotals || {\n                    positive: [],\n                    negative: []\n                };\n                if (low < 0) {\n                    chart.errorTotals.negative[categoryIx] = math.min(chart.errorTotals.negative[categoryIx] || 0, low);\n                }\n                if (high > 0) {\n                    chart.errorTotals.positive[categoryIx] = math.max(chart.errorTotals.positive[categoryIx] || 0, high);\n                }\n                return {\n                    low: low,\n                    high: high\n                };\n            },\n            addValue: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var categoryPoints = chart.categoryPoints[categoryIx];\n                if (!categoryPoints) {\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                var seriesPoints = chart.seriesPoints[seriesIx];\n                if (!seriesPoints) {\n                    chart.seriesPoints[seriesIx] = seriesPoints = [];\n                }\n                var point = chart.createPoint(data, fields);\n                if (point) {\n                    $.extend(point, fields);\n                    point.owner = chart;\n                    point.dataItem = series.data[categoryIx];\n                    point.noteText = data.fields.noteText;\n                    chart.addErrorBar(point, data, categoryIx);\n                }\n                chart.points.push(point);\n                seriesPoints.push(point);\n                categoryPoints.push(point);\n                chart.updateRange(data.valueFields, fields);\n            },\n            evalPointOptions: function (options, value, category, categoryIx, series, seriesIx) {\n                var state = {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'aggregate',\n                        '_events',\n                        'tooltip',\n                        'template',\n                        'visual',\n                        'toggle',\n                        '_outOfRangeMinPoint',\n                        '_outOfRangeMaxPoint'\n                    ]\n                };\n                var doEval = this._evalSeries[seriesIx];\n                if (!defined(doEval)) {\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n                }\n                if (doEval) {\n                    options = deepExtend({}, options);\n                    evalOptions(options, {\n                        value: value,\n                        category: category,\n                        index: categoryIx,\n                        series: series,\n                        dataItem: series.data[categoryIx]\n                    }, state);\n                }\n                return options;\n            },\n            updateRange: function (data, fields) {\n                var chart = this, axisName = fields.series.axis, value = data.value, axisRange = chart.valueAxisRanges[axisName];\n                if (isFinite(value) && value !== null) {\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = math.min(axisRange.min, value);\n                    axisRange.max = math.max(axisRange.max, value);\n                }\n            },\n            seriesValueAxis: function (series) {\n                var plotArea = this.plotArea, axisName = series.axis, axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;\n                if (!axis) {\n                    throw new Error('Unable to locate value axis with name ' + axisName);\n                }\n                return axis;\n            },\n            reflow: function (targetBox) {\n                var chart = this, pointIx = 0, categorySlots = chart.categorySlots = [], chartPoints = chart.points, categoryAxis = chart.categoryAxis, value, valueAxis, point;\n                chart.traverseDataPoints(function (data, fields) {\n                    var categoryIx = fields.categoryIx;\n                    var currentSeries = fields.series;\n                    value = chart.pointValue(data);\n                    valueAxis = chart.seriesValueAxis(currentSeries);\n                    point = chartPoints[pointIx++];\n                    var categorySlot = categorySlots[categoryIx];\n                    if (!categorySlot) {\n                        categorySlots[categoryIx] = categorySlot = chart.categorySlot(categoryAxis, categoryIx, valueAxis);\n                    }\n                    if (point) {\n                        var plotRange = chart.plotRange(point, valueAxis.startValue());\n                        var valueSlot = valueAxis.getSlot(plotRange[0], plotRange[1], !chart.options.clip);\n                        if (valueSlot) {\n                            var pointSlot = chart.pointSlot(categorySlot, valueSlot);\n                            point.aboveAxis = chart.aboveAxis(point, valueAxis);\n                            point.stackValue = plotRange[1];\n                            if (chart.options.isStacked100) {\n                                point.percentage = chart.plotValue(point);\n                            }\n                            chart.reflowPoint(point, pointSlot);\n                        } else {\n                            point.visible = false;\n                        }\n                    }\n                });\n                chart.reflowCategories(categorySlots);\n                chart.box = targetBox;\n            },\n            aboveAxis: function (point, valueAxis) {\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                var value = point.value;\n                return valueAxis.options.reverse ? value < axisCrossingValue : value >= axisCrossingValue;\n            },\n            categoryAxisCrossingValue: function (valueAxis) {\n                var categoryAxis = this.categoryAxis, options = valueAxis.options, crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue);\n                return crossingValues[categoryAxis.axisIndex || 0] || 0;\n            },\n            reflowPoint: function (point, pointSlot) {\n                point.reflow(pointSlot);\n            },\n            reflowCategories: function () {\n            },\n            pointSlot: function (categorySlot, valueSlot) {\n                var chart = this, options = chart.options, invertAxes = options.invertAxes, slotX = invertAxes ? valueSlot : categorySlot, slotY = invertAxes ? categorySlot : valueSlot;\n                return new Box2D(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n            },\n            categorySlot: function (categoryAxis, categoryIx) {\n                return categoryAxis.getSlot(categoryIx);\n            },\n            traverseDataPoints: function (callback) {\n                var chart = this, options = chart.options, series = options.series, categories = chart.categoryAxis.options.categories || [], count = categoriesCount(series), categoryIx, seriesIx, pointData, currentCategory, currentSeries, seriesCount = series.length;\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    this._outOfRangeCallback(series[seriesIx], '_outOfRangeMinPoint', seriesIx, callback);\n                }\n                for (categoryIx = 0; categoryIx < count; categoryIx++) {\n                    for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                        currentSeries = series[seriesIx];\n                        currentCategory = categories[categoryIx];\n                        pointData = this._bindPoint(currentSeries, seriesIx, categoryIx);\n                        callback(pointData, {\n                            category: currentCategory,\n                            categoryIx: categoryIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx\n                        });\n                    }\n                }\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    this._outOfRangeCallback(series[seriesIx], '_outOfRangeMaxPoint', seriesIx, callback);\n                }\n            },\n            _outOfRangeCallback: function (series, field, seriesIx, callback) {\n                var outOfRangePoint = series[field];\n                if (outOfRangePoint) {\n                    var categoryIx = outOfRangePoint.categoryIx;\n                    var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);\n                    callback(pointData, {\n                        category: outOfRangePoint.category,\n                        categoryIx: categoryIx,\n                        series: series,\n                        seriesIx: seriesIx\n                    });\n                }\n            },\n            _bindPoint: function (series, seriesIx, categoryIx, item) {\n                if (!this._bindCache) {\n                    this._bindCache = [];\n                }\n                var bindCache = this._bindCache[seriesIx];\n                if (!bindCache) {\n                    bindCache = this._bindCache[seriesIx] = [];\n                }\n                var data = bindCache[categoryIx];\n                if (!data) {\n                    data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);\n                }\n                return data;\n            },\n            formatPointValue: function (point, format) {\n                if (point.value === null) {\n                    return '';\n                }\n                return autoFormat(format, point.value);\n            },\n            pointValue: function (data) {\n                return data.valueFields.value;\n            }\n        });\n        var BarChart = CategoricalChart.extend({\n            options: { animation: { type: BAR } },\n            render: function () {\n                var chart = this;\n                CategoricalChart.fn.render.apply(chart);\n                chart.updateStackRange();\n            },\n            pointType: function () {\n                return Bar;\n            },\n            clusterType: function () {\n                return ClusterLayout;\n            },\n            stackType: function () {\n                return StackWrap;\n            },\n            stackLimits: function (axisName, stackName) {\n                var limits = CategoricalChart.fn.stackLimits.call(this, axisName, stackName);\n                return limits;\n            },\n            createPoint: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var value = chart.pointValue(data);\n                var options = chart.options;\n                var children = chart.children;\n                var isStacked = chart.options.isStacked;\n                var point;\n                var pointType = chart.pointType();\n                var pointOptions;\n                var cluster;\n                var clusterType = chart.clusterType();\n                pointOptions = this.pointOptions(series, seriesIx);\n                var labelOptions = pointOptions.labels;\n                if (isStacked) {\n                    if (labelOptions.position == OUTSIDE_END) {\n                        labelOptions.position = INSIDE_END;\n                    }\n                }\n                pointOptions.isStacked = isStacked;\n                var color = data.fields.color || series.color;\n                if (value < 0 && pointOptions.negativeColor) {\n                    color = pointOptions.negativeColor;\n                }\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                if (kendo.isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                point = new pointType(value, pointOptions);\n                point.color = color;\n                cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new clusterType({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    chart.append(cluster);\n                }\n                if (isStacked) {\n                    var stackWrap = chart.getStackWrap(series, cluster);\n                    stackWrap.append(point);\n                } else {\n                    cluster.append(point);\n                }\n                return point;\n            },\n            getStackWrap: function (series, cluster) {\n                var stack = series.stack;\n                var stackGroup = stack ? stack.group || stack : stack;\n                var wraps = cluster.children;\n                var stackWrap;\n                if (typeof stackGroup === STRING) {\n                    for (var i = 0; i < wraps.length; i++) {\n                        if (wraps[i]._stackGroup === stackGroup) {\n                            stackWrap = wraps[i];\n                            break;\n                        }\n                    }\n                } else {\n                    stackWrap = wraps[0];\n                }\n                if (!stackWrap) {\n                    var stackType = this.stackType();\n                    stackWrap = new stackType({ vertical: !this.options.invertAxes });\n                    stackWrap._stackGroup = stackGroup;\n                    cluster.append(stackWrap);\n                }\n                return stackWrap;\n            },\n            categorySlot: function (categoryAxis, categoryIx, valueAxis) {\n                var chart = this, options = chart.options, categorySlot = categoryAxis.getSlot(categoryIx), startValue = valueAxis.startValue(), stackAxis, zeroSlot;\n                if (options.isStacked) {\n                    zeroSlot = valueAxis.getSlot(startValue, startValue, true);\n                    stackAxis = options.invertAxes ? X : Y;\n                    categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];\n                }\n                return categorySlot;\n            },\n            reflowCategories: function (categorySlots) {\n                var chart = this, children = chart.children, childrenLength = children.length, i;\n                for (i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            createAnimation: function () {\n                this._setAnimationOptions();\n                ChartElement.fn.createAnimation.call(this);\n                if (anyHasZIndex(this.options.series)) {\n                    this._setChildrenAnimation();\n                }\n            },\n            _setChildrenAnimation: function () {\n                var points = this.points;\n                var point, pointVisual;\n                for (var idx = 0; idx < points.length; idx++) {\n                    point = points[idx];\n                    pointVisual = point.visual;\n                    if (pointVisual && defined(pointVisual.options.zIndex)) {\n                        point.options.animation = this.options.animation;\n                        point.createAnimation();\n                    }\n                }\n            },\n            _setAnimationOptions: function () {\n                var options = this.options;\n                var animation = options.animation || {};\n                var origin;\n                if (this.options.isStacked) {\n                    var valueAxis = this.seriesValueAxis(options.series[0]);\n                    origin = valueAxis.getSlot(valueAxis.startValue());\n                } else {\n                    origin = this.categoryAxis.getSlot(0);\n                }\n                animation.origin = new geom.Point(origin.x1, origin.y1);\n                animation.vertical = !options.invertAxes;\n            }\n        });\n        var RangeBar = Bar.extend({\n            defaults: {\n                labels: { format: '{0} - {1}' },\n                tooltip: { format: '{1}' }\n            },\n            createLabel: function () {\n                var labels = this.options.labels;\n                var fromOptions = deepExtend({}, labels, labels.from);\n                var toOptions = deepExtend({}, labels, labels.to);\n                if (fromOptions.visible) {\n                    this.labelFrom = this._createLabel(fromOptions);\n                    this.append(this.labelFrom);\n                }\n                if (toOptions.visible) {\n                    this.labelTo = this._createLabel(toOptions);\n                    this.append(this.labelTo);\n                }\n            },\n            _createLabel: function (options) {\n                var labelText;\n                if (options.template) {\n                    var labelTemplate = template(options.template);\n                    labelText = labelTemplate({\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        percentage: this.percentage,\n                        runningTotal: this.runningTotal,\n                        total: this.total,\n                        series: this.series\n                    });\n                } else {\n                    labelText = this.formatValue(options.format);\n                }\n                return new BarLabel(labelText, deepExtend({ vertical: this.options.vertical }, options));\n            },\n            reflow: function (targetBox) {\n                this.render();\n                var rangeBar = this, labelFrom = rangeBar.labelFrom, labelTo = rangeBar.labelTo;\n                rangeBar.box = targetBox;\n                if (labelFrom) {\n                    labelFrom.options.aboveAxis = rangeBar.value.from > rangeBar.value.to;\n                    labelFrom.reflow(targetBox);\n                }\n                if (labelTo) {\n                    labelTo.options.aboveAxis = rangeBar.value.to > rangeBar.value.from;\n                    labelTo.reflow(targetBox);\n                }\n                if (rangeBar.note) {\n                    rangeBar.note.reflow(targetBox);\n                }\n            }\n        });\n        var RangeBarChart = BarChart.extend({\n            pointType: function () {\n                return RangeBar;\n            },\n            pointValue: function (data) {\n                return data.valueFields;\n            },\n            formatPointValue: function (point, format) {\n                if (point.value.from === null && point.value.to === null) {\n                    return '';\n                }\n                return autoFormat(format, point.value.from, point.value.to);\n            },\n            plotLimits: CategoricalChart.fn.plotLimits,\n            plotRange: function (point) {\n                if (!point) {\n                    return 0;\n                }\n                return [\n                    point.value.from,\n                    point.value.to\n                ];\n            },\n            updateRange: function (value, fields) {\n                var chart = this, axisName = fields.series.axis, from = value.from, to = value.to, axisRange = chart.valueAxisRanges[axisName];\n                if (value !== null && isNumber(from) && isNumber(to)) {\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = math.min(axisRange.min, from);\n                    axisRange.max = math.max(axisRange.max, from);\n                    axisRange.min = math.min(axisRange.min, to);\n                    axisRange.max = math.max(axisRange.max, to);\n                }\n            },\n            aboveAxis: function (point) {\n                var value = point.value;\n                return value.from < value.to;\n            }\n        });\n        var BulletChart = CategoricalChart.extend({\n            init: function (plotArea, options) {\n                var chart = this;\n                chart.wrapData(options);\n                CategoricalChart.fn.init.call(chart, plotArea, options);\n            },\n            options: { animation: { type: BAR } },\n            wrapData: function (options) {\n                var series = options.series, i, data, seriesItem;\n                for (i = 0; i < series.length; i++) {\n                    seriesItem = series[i];\n                    data = seriesItem.data;\n                    if (data && !isArray(data[0]) && typeof data[0] != OBJECT) {\n                        seriesItem.data = [data];\n                    }\n                }\n            },\n            reflowCategories: function (categorySlots) {\n                var chart = this, children = chart.children, childrenLength = children.length, i;\n                for (i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            plotRange: function (point) {\n                var series = point.series;\n                var valueAxis = this.seriesValueAxis(series);\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n                return [\n                    axisCrossingValue,\n                    point.value.current || axisCrossingValue\n                ];\n            },\n            createPoint: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var value = data.valueFields;\n                var options = chart.options;\n                var children = chart.children;\n                var bullet;\n                var bulletOptions;\n                var cluster;\n                bulletOptions = deepExtend({\n                    vertical: !options.invertAxes,\n                    overlay: series.overlay,\n                    categoryIx: categoryIx,\n                    invertAxes: options.invertAxes\n                }, series);\n                var color = data.fields.color || series.color;\n                bulletOptions = chart.evalPointOptions(bulletOptions, value, category, categoryIx, series, seriesIx);\n                if (kendo.isFunction(series.color)) {\n                    color = bulletOptions.color;\n                }\n                bullet = new Bullet(value, bulletOptions);\n                bullet.color = color;\n                cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    chart.append(cluster);\n                }\n                cluster.append(bullet);\n                return bullet;\n            },\n            updateRange: function (value, fields) {\n                var chart = this, axisName = fields.series.axis, current = value.current, target = value.target, axisRange = chart.valueAxisRanges[axisName];\n                if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    axisRange.min = math.min.apply(math, [\n                        axisRange.min,\n                        current,\n                        target\n                    ]);\n                    axisRange.max = math.max.apply(math, [\n                        axisRange.max,\n                        current,\n                        target\n                    ]);\n                }\n            },\n            formatPointValue: function (point, format) {\n                return autoFormat(format, point.value.current, point.value.target);\n            },\n            pointValue: function (data) {\n                return data.valueFields.current;\n            },\n            aboveAxis: function (point) {\n                var value = point.value.current;\n                return value > 0;\n            },\n            createAnimation: function () {\n                var points = this.points;\n                var point;\n                this._setAnimationOptions();\n                for (var idx = 0; idx < points.length; idx++) {\n                    point = points[idx];\n                    point.options.animation = this.options.animation;\n                    point.createAnimation();\n                }\n            },\n            _setAnimationOptions: BarChart.fn._setAnimationOptions\n        });\n        var Bullet = ChartElement.extend({\n            init: function (value, options) {\n                var bullet = this;\n                ChartElement.fn.init.call(bullet, options);\n                bullet.aboveAxis = bullet.options.aboveAxis;\n                bullet.color = options.color || WHITE;\n                bullet.value = value;\n            },\n            options: {\n                border: { width: 1 },\n                vertical: false,\n                opacity: 1,\n                target: {\n                    shape: '',\n                    border: {\n                        width: 0,\n                        color: 'green'\n                    },\n                    line: { width: 2 }\n                },\n                tooltip: { format: 'Current: {0}</br>Target: {1}' }\n            },\n            render: function () {\n                var bullet = this, options = bullet.options;\n                if (!bullet._rendered) {\n                    bullet._rendered = true;\n                    if (defined(bullet.value.target)) {\n                        bullet.target = new Target({\n                            type: options.target.shape,\n                            background: options.target.color || bullet.color,\n                            opacity: options.opacity,\n                            zIndex: options.zIndex,\n                            border: options.target.border,\n                            vAlign: TOP,\n                            align: RIGHT\n                        });\n                        bullet.target.value = this.value;\n                        bullet.target.dataItem = this.dataItem;\n                        bullet.target.series = this.series;\n                        bullet.append(bullet.target);\n                    }\n                    bullet.createNote();\n                }\n            },\n            reflow: function (box) {\n                this.render();\n                var bullet = this, options = bullet.options, chart = bullet.owner, target = bullet.target, invertAxes = options.invertAxes, valueAxis = chart.seriesValueAxis(bullet.options), categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis), targetValueSlot = valueAxis.getSlot(bullet.value.target), targetSlotX = invertAxes ? targetValueSlot : categorySlot, targetSlotY = invertAxes ? categorySlot : targetValueSlot, targetSlot;\n                if (target) {\n                    targetSlot = new Box2D(targetSlotX.x1, targetSlotY.y1, targetSlotX.x2, targetSlotY.y2);\n                    target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\n                    target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\n                    target.reflow(targetSlot);\n                }\n                if (bullet.note) {\n                    bullet.note.reflow(box);\n                }\n                bullet.box = box;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options;\n                var body = draw.Path.fromRect(this.box.toRect(), {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: null\n                });\n                if (options.border.width > 0) {\n                    body.options.set('stroke', {\n                        color: options.border.color || this.color,\n                        width: options.border.width,\n                        dashType: options.border.dashType,\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\n                    });\n                }\n                this.bodyVisual = body;\n                alignPathToPixel(body);\n                this.visual.append(body);\n            },\n            createAnimation: function () {\n                if (this.bodyVisual) {\n                    this.animation = draw.Animation.create(this.bodyVisual, this.options.animation);\n                }\n            },\n            tooltipAnchor: Bar.fn.tooltipAnchor,\n            createHighlight: function (style) {\n                return draw.Path.fromRect(this.box.toRect(), style);\n            },\n            highlightVisual: function () {\n                return this.bodyVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    rect: this.box.toRect(),\n                    visual: this.bodyVisual,\n                    options: this.options\n                };\n            },\n            formatValue: function (format) {\n                var bullet = this;\n                return bullet.owner.formatPointValue(bullet, format);\n            }\n        });\n        deepExtend(Bullet.fn, PointEventsMixin);\n        deepExtend(Bullet.fn, NoteMixin);\n        var Target = ShapeElement.extend();\n        deepExtend(Target.fn, PointEventsMixin);\n        var ErrorBarBase = ChartElement.extend({\n            init: function (low, high, isVertical, chart, series, options) {\n                var errorBar = this;\n                errorBar.low = low;\n                errorBar.high = high;\n                errorBar.isVertical = isVertical;\n                errorBar.chart = chart;\n                errorBar.series = series;\n                ChartElement.fn.init.call(errorBar, options);\n            },\n            options: {\n                animation: {\n                    type: FADEIN,\n                    delay: INITIAL_ANIMATION_DURATION\n                },\n                endCaps: true,\n                line: { width: 1 },\n                zIndex: 1\n            },\n            getAxis: function () {\n            },\n            reflow: function (targetBox) {\n                var linePoints, errorBar = this, endCaps = errorBar.options.endCaps, isVertical = errorBar.isVertical, axis = errorBar.getAxis(), valueBox = axis.getSlot(errorBar.low, errorBar.high), centerBox = targetBox.center(), capsWidth = errorBar.getCapsWidth(targetBox, isVertical), capValue = isVertical ? centerBox.x : centerBox.y, capStart = capValue - capsWidth, capEnd = capValue + capsWidth;\n                if (isVertical) {\n                    linePoints = [\n                        Point2D(centerBox.x, valueBox.y1),\n                        Point2D(centerBox.x, valueBox.y2)\n                    ];\n                    if (endCaps) {\n                        linePoints.push(Point2D(capStart, valueBox.y1), Point2D(capEnd, valueBox.y1), Point2D(capStart, valueBox.y2), Point2D(capEnd, valueBox.y2));\n                    }\n                    errorBar.box = Box2D(capStart, valueBox.y1, capEnd, valueBox.y2);\n                } else {\n                    linePoints = [\n                        Point2D(valueBox.x1, centerBox.y),\n                        Point2D(valueBox.x2, centerBox.y)\n                    ];\n                    if (endCaps) {\n                        linePoints.push(Point2D(valueBox.x1, capStart), Point2D(valueBox.x1, capEnd), Point2D(valueBox.x2, capStart), Point2D(valueBox.x2, capEnd));\n                    }\n                    errorBar.box = Box2D(valueBox.x1, capStart, valueBox.x2, capEnd);\n                }\n                errorBar.linePoints = linePoints;\n            },\n            getCapsWidth: function (box, isVertical) {\n                var boxSize = isVertical ? box.width() : box.height(), capsWidth = math.min(math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;\n                return capsWidth;\n            },\n            createVisual: function () {\n                var that = this;\n                var options = that.options;\n                var visual = options.visual;\n                if (visual) {\n                    that.visual = visual({\n                        low: that.low,\n                        high: that.high,\n                        rect: that.box.toRect(),\n                        sender: that.getChart(),\n                        options: {\n                            endCaps: options.endCaps,\n                            color: options.color,\n                            line: options.line\n                        },\n                        createVisual: function () {\n                            that.createDefaultVisual();\n                            var defaultVisual = that.visual;\n                            delete that.visual;\n                            return defaultVisual;\n                        }\n                    });\n                } else {\n                    that.createDefaultVisual();\n                }\n            },\n            createDefaultVisual: function () {\n                var errorBar = this, options = errorBar.options, lineOptions = {\n                        stroke: {\n                            color: options.color,\n                            width: options.line.width,\n                            dashType: options.line.dashType\n                        }\n                    }, linePoints = errorBar.linePoints;\n                ChartElement.fn.createVisual.call(this);\n                for (var idx = 0; idx < linePoints.length; idx += 2) {\n                    var line = new draw.Path(lineOptions).moveTo(linePoints[idx].x, linePoints[idx].y).lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);\n                    this.visual.append(line);\n                }\n            }\n        });\n        var CategoricalErrorBar = ErrorBarBase.extend({\n            getAxis: function () {\n                var errorBar = this, chart = errorBar.chart, series = errorBar.series, axis = chart.seriesValueAxis(series);\n                return axis;\n            }\n        });\n        var ScatterErrorBar = ErrorBarBase.extend({\n            getAxis: function () {\n                var errorBar = this, chart = errorBar.chart, series = errorBar.series, axes = chart.seriesAxes(series), axis = errorBar.isVertical ? axes.y : axes.x;\n                return axis;\n            }\n        });\n        var LinePoint = ChartElement.extend({\n            init: function (value, options) {\n                var point = this;\n                ChartElement.fn.init.call(point);\n                point.value = value;\n                point.options = options;\n                point.aboveAxis = valueOrDefault(point.options.aboveAxis, true);\n                point.tooltipTracking = true;\n            },\n            defaults: {\n                vertical: true,\n                markers: {\n                    visible: true,\n                    background: WHITE,\n                    size: LINE_MARKER_SIZE,\n                    type: CIRCLE,\n                    border: { width: 2 },\n                    opacity: 1\n                },\n                labels: {\n                    visible: false,\n                    position: ABOVE,\n                    margin: getSpacing(3),\n                    padding: getSpacing(4),\n                    animation: {\n                        type: FADEIN,\n                        delay: INITIAL_ANIMATION_DURATION\n                    }\n                },\n                notes: { label: {} },\n                highlight: { markers: { border: {} } }\n            },\n            render: function () {\n                var point = this, options = point.options, markers = options.markers, labels = options.labels, labelText = point.value;\n                if (point._rendered) {\n                    return;\n                } else {\n                    point._rendered = true;\n                }\n                if (markers.visible && markers.size) {\n                    point.marker = point.createMarker();\n                    point.append(point.marker);\n                }\n                if (labels.visible) {\n                    if (labels.template) {\n                        var labelTemplate = template(labels.template);\n                        labelText = labelTemplate({\n                            dataItem: point.dataItem,\n                            category: point.category,\n                            value: point.value,\n                            percentage: point.percentage,\n                            stackValue: this.stackValue,\n                            series: point.series\n                        });\n                    } else if (labels.format) {\n                        labelText = point.formatValue(labels.format);\n                    }\n                    point.label = new TextBox(labelText, deepExtend({\n                        align: CENTER,\n                        vAlign: CENTER,\n                        margin: {\n                            left: 5,\n                            right: 5\n                        },\n                        zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)\n                    }, labels));\n                    point.append(point.label);\n                }\n                point.createNote();\n                if (point.errorBar) {\n                    point.append(point.errorBar);\n                }\n            },\n            markerBorder: function () {\n                var options = this.options.markers;\n                var background = options.background;\n                var border = deepExtend({ color: this.color }, options.border);\n                if (!defined(border.color)) {\n                    border.color = new Color(background).brightness(BAR_BORDER_BRIGHTNESS).toHex();\n                }\n                return border;\n            },\n            createVisual: noop,\n            createMarker: function () {\n                var options = this.options.markers;\n                var marker = new ShapeElement({\n                    type: options.type,\n                    width: options.size,\n                    height: options.size,\n                    rotation: options.rotation,\n                    background: options.background,\n                    border: this.markerBorder(),\n                    opacity: options.opacity,\n                    zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\n                    animation: options.animation,\n                    visual: options.visual\n                }, {\n                    dataItem: this.dataItem,\n                    value: this.value,\n                    series: this.series,\n                    category: this.category\n                });\n                return marker;\n            },\n            markerBox: function () {\n                if (!this.marker) {\n                    this.marker = this.createMarker();\n                    this.marker.reflow(this._childBox);\n                }\n                return this.marker.box;\n            },\n            reflow: function (targetBox) {\n                var point = this, options = point.options, vertical = options.vertical, aboveAxis = point.aboveAxis, childBox, center;\n                point.render();\n                point.box = targetBox;\n                childBox = targetBox.clone();\n                if (vertical) {\n                    if (aboveAxis) {\n                        childBox.y1 -= childBox.height();\n                    } else {\n                        childBox.y2 += childBox.height();\n                    }\n                } else {\n                    if (aboveAxis) {\n                        childBox.x1 += childBox.width();\n                    } else {\n                        childBox.x2 -= childBox.width();\n                    }\n                }\n                point._childBox = childBox;\n                if (point.marker) {\n                    point.marker.reflow(childBox);\n                }\n                point.reflowLabel(childBox);\n                if (point.errorBars) {\n                    for (var i = 0; i < point.errorBars.length; i++) {\n                        point.errorBars[i].reflow(childBox);\n                    }\n                }\n                if (point.note) {\n                    var noteTargetBox = point.markerBox();\n                    if (!(options.markers.visible && options.markers.size)) {\n                        center = noteTargetBox.center();\n                        noteTargetBox = Box2D(center.x, center.y, center.x, center.y);\n                    }\n                    point.note.reflow(noteTargetBox);\n                }\n            },\n            reflowLabel: function (box) {\n                var point = this, options = point.options, label = point.label, anchor = options.labels.position;\n                if (label) {\n                    anchor = anchor === ABOVE ? TOP : anchor;\n                    anchor = anchor === BELOW ? BOTTOM : anchor;\n                    label.reflow(box);\n                    label.box.alignTo(point.markerBox(), anchor);\n                    label.reflow(label.box);\n                }\n            },\n            createHighlight: function () {\n                var highlight = this.options.highlight;\n                var markers = highlight.markers;\n                var defaultColor = this.markerBorder().color;\n                var options = this.options.markers;\n                var shadow = new ShapeElement({\n                    type: options.type,\n                    width: options.size,\n                    height: options.size,\n                    rotation: options.rotation,\n                    background: markers.color || defaultColor,\n                    border: {\n                        color: markers.border.color,\n                        width: markers.border.width,\n                        opacity: valueOrDefault(markers.border.opacity, 1)\n                    },\n                    opacity: valueOrDefault(markers.opacity, 1)\n                });\n                shadow.reflow(this._childBox);\n                return shadow.getElement();\n            },\n            highlightVisual: function () {\n                return (this.marker || {}).visual;\n            },\n            highlightVisualArgs: function () {\n                var marker = this.marker;\n                var visual;\n                var rect;\n                if (marker) {\n                    rect = marker.paddingBox.toRect();\n                    visual = marker.visual;\n                } else {\n                    var size = this.options.markers.size;\n                    var halfSize = size / 2;\n                    var center = this.box.center();\n                    rect = new geom.Rect([\n                        center.x - halfSize,\n                        center.y - halfSize\n                    ], [\n                        size,\n                        size\n                    ]);\n                }\n                return {\n                    options: this.options,\n                    rect: rect,\n                    visual: visual\n                };\n            },\n            tooltipAnchor: function (tooltipWidth, tooltipHeight) {\n                var point = this, markerBox = point.markerBox(), aboveAxis = point.aboveAxis, x = markerBox.x2 + TOOLTIP_OFFSET, y = aboveAxis ? markerBox.y1 - tooltipHeight : markerBox.y2, clipBox = point.owner.pane.clipBox(), showTooltip = !clipBox || clipBox.overlaps(markerBox);\n                if (showTooltip) {\n                    return Point2D(x, y);\n                }\n            },\n            formatValue: function (format) {\n                var point = this;\n                return point.owner.formatPointValue(point, format);\n            },\n            overlapsBox: function (box) {\n                var markerBox = this.markerBox();\n                return markerBox.overlaps(box);\n            }\n        });\n        deepExtend(LinePoint.fn, PointEventsMixin);\n        deepExtend(LinePoint.fn, NoteMixin);\n        var Bubble = LinePoint.extend({\n            init: function (value, options) {\n                var point = this;\n                LinePoint.fn.init.call(point, value, options);\n                point.category = value.category;\n            },\n            defaults: {\n                labels: { position: CENTER },\n                highlight: {\n                    opacity: 1,\n                    border: {\n                        width: 1,\n                        opacity: 1\n                    }\n                }\n            },\n            createHighlight: function () {\n                var highlight = this.options.highlight;\n                var border = highlight.border;\n                var markers = this.options.markers;\n                var center = this.box.center();\n                var radius = markers.size / 2 - border.width / 2;\n                var overlay = new draw.Circle(new geom.Circle([\n                    center.x,\n                    center.y\n                ], radius), {\n                    stroke: {\n                        color: border.color || new Color(markers.background).brightness(BAR_BORDER_BRIGHTNESS).toHex(),\n                        width: border.width,\n                        opacity: border.opacity\n                    },\n                    fill: {\n                        color: markers.background,\n                        opacity: highlight.opacity\n                    }\n                });\n                return overlay;\n            }\n        });\n        var LineSegment = ChartElement.extend({\n            init: function (linePoints, series, seriesIx) {\n                var segment = this;\n                ChartElement.fn.init.call(segment);\n                segment.linePoints = linePoints;\n                segment.series = series;\n                segment.seriesIx = seriesIx;\n            },\n            options: { closed: false },\n            points: function (visualPoints) {\n                var segment = this, linePoints = segment.linePoints.concat(visualPoints || []), points = [];\n                for (var i = 0, length = linePoints.length; i < length; i++) {\n                    if (linePoints[i].visible !== false) {\n                        points.push(linePoints[i]._childBox.toRect().center());\n                    }\n                }\n                return points;\n            },\n            createVisual: function () {\n                var options = this.options;\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFn(color) && defaults) {\n                    color = defaults.color;\n                }\n                var line = draw.Path.fromPoints(this.points(), {\n                    stroke: {\n                        color: color,\n                        width: series.width,\n                        opacity: series.opacity,\n                        dashType: series.dashType\n                    },\n                    zIndex: series.zIndex\n                });\n                if (options.closed) {\n                    line.close();\n                }\n                this.visual = line;\n            },\n            aliasFor: function (e, coords) {\n                var segment = this, seriesIx = segment.seriesIx;\n                return segment.parent.getNearestPoint(coords.x, coords.y, seriesIx);\n            }\n        });\n        var LineChartMixin = {\n            renderSegments: function () {\n                var chart = this, options = chart.options, series = options.series, seriesPoints = chart.seriesPoints, currentSeries, seriesIx, seriesCount = seriesPoints.length, sortedPoints, linePoints, point, pointIx, pointCount, lastSegment;\n                this._segments = [];\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    sortedPoints = chart.sortPoints(seriesPoints[seriesIx]);\n                    pointCount = sortedPoints.length;\n                    linePoints = [];\n                    for (pointIx = 0; pointIx < pointCount; pointIx++) {\n                        point = sortedPoints[pointIx];\n                        if (point) {\n                            linePoints.push(point);\n                        } else if (chart.seriesMissingValues(currentSeries) !== INTERPOLATE) {\n                            if (linePoints.length > 1) {\n                                lastSegment = chart.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\n                                this._addSegment(lastSegment);\n                            }\n                            linePoints = [];\n                        }\n                    }\n                    if (linePoints.length > 1) {\n                        lastSegment = chart.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\n                        this._addSegment(lastSegment);\n                    }\n                }\n                this.children.unshift.apply(this.children, this._segments);\n            },\n            _addSegment: function (segment) {\n                this._segments.push(segment);\n                segment.parent = this;\n            },\n            sortPoints: function (points) {\n                return points;\n            },\n            seriesMissingValues: function (series) {\n                var missingValues = series.missingValues, assumeZero = !missingValues && this.options.isStacked;\n                return assumeZero ? ZERO : missingValues || INTERPOLATE;\n            },\n            getNearestPoint: function (x, y, seriesIx) {\n                var target = new Point2D(x, y);\n                var allPoints = this.seriesPoints[seriesIx];\n                var nearestPointDistance = MAX_VALUE;\n                var nearestPoint;\n                for (var i = 0; i < allPoints.length; i++) {\n                    var point = allPoints[i];\n                    if (point && defined(point.value) && point.value !== null && point.visible !== false) {\n                        var pointBox = point.box;\n                        var pointDistance = pointBox.center().distanceTo(target);\n                        if (pointDistance < nearestPointDistance) {\n                            nearestPoint = point;\n                            nearestPointDistance = pointDistance;\n                        }\n                    }\n                }\n                return nearestPoint;\n            }\n        };\n        var ClipAnimationMixin = {\n            createAnimation: function () {\n                var root = this.getRoot();\n                if (root && (root.options || {}).transitions !== false) {\n                    var box = root.box;\n                    var clipPath = draw.Path.fromRect(box.toRect());\n                    this.visual.clip(clipPath);\n                    this.animation = new ClipAnimation(clipPath, { box: box });\n                    if (anyHasZIndex(this.options.series)) {\n                        this._setChildrenAnimation(clipPath);\n                    }\n                }\n            },\n            _setChildrenAnimation: function (clipPath) {\n                var points = this.animationPoints();\n                var point;\n                for (var idx = 0; idx < points.length; idx++) {\n                    point = points[idx];\n                    if (point && point.visual && defined(point.visual.options.zIndex)) {\n                        point.visual.clip(clipPath);\n                    }\n                }\n            }\n        };\n        var LineChart = CategoricalChart.extend({\n            render: function () {\n                var chart = this;\n                CategoricalChart.fn.render.apply(chart);\n                chart.updateStackRange();\n                chart.renderSegments();\n            },\n            pointType: function () {\n                return LinePoint;\n            },\n            createPoint: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var value = data.valueFields.value;\n                var missingValues = chart.seriesMissingValues(series);\n                var point;\n                var pointOptions;\n                if (!defined(value) || value === null) {\n                    if (missingValues === ZERO) {\n                        value = 0;\n                    } else {\n                        return null;\n                    }\n                }\n                pointOptions = this.pointOptions(series, seriesIx);\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                var color = data.fields.color || series.color;\n                if (kendo.isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                point = new LinePoint(value, pointOptions);\n                point.color = color;\n                chart.append(point);\n                return point;\n            },\n            plotRange: function (point) {\n                var plotValue = this.plotValue(point);\n                if (this.options.isStacked) {\n                    var categoryIx = point.categoryIx;\n                    var categoryPts = this.categoryPoints[categoryIx];\n                    for (var i = 0; i < categoryPts.length; i++) {\n                        var other = categoryPts[i];\n                        if (point === other) {\n                            break;\n                        }\n                        plotValue += this.plotValue(other);\n                        if (this.options.isStacked100) {\n                            plotValue = math.min(plotValue, 1);\n                        }\n                    }\n                }\n                return [\n                    plotValue,\n                    plotValue\n                ];\n            },\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var pointType, style = currentSeries.style;\n                if (style === STEP) {\n                    pointType = StepLineSegment;\n                } else if (style === SMOOTH) {\n                    pointType = SplineSegment;\n                } else {\n                    pointType = LineSegment;\n                }\n                return new pointType(linePoints, currentSeries, seriesIx);\n            },\n            animationPoints: function () {\n                var points = this.points;\n                var result = [];\n                for (var idx = 0; idx < points.length; idx++) {\n                    result.push((points[idx] || {}).marker);\n                }\n                return result.concat(this._segments);\n            }\n        });\n        deepExtend(LineChart.fn, LineChartMixin, ClipAnimationMixin);\n        var ClipAnimation = draw.Animation.extend({\n            options: { duration: INITIAL_ANIMATION_DURATION },\n            setup: function () {\n                this._setEnd(this.options.box.x1);\n            },\n            step: function (pos) {\n                var box = this.options.box;\n                this._setEnd(interpolate(box.x1, box.x2, pos));\n            },\n            _setEnd: function (x) {\n                var element = this.element;\n                var segments = element.segments;\n                var topRight = segments[1].anchor();\n                var bottomRight = segments[2].anchor();\n                element.suspend();\n                topRight.setX(x);\n                element.resume();\n                bottomRight.setX(x);\n            }\n        });\n        draw.AnimationFactory.current.register(CLIP, ClipAnimation);\n        var StepLineSegment = LineSegment.extend({\n            points: function (visualPoints) {\n                var segment = this, points;\n                points = segment.calculateStepPoints(segment.linePoints);\n                if (visualPoints && visualPoints.length) {\n                    points = points.concat(segment.calculateStepPoints(visualPoints).reverse());\n                }\n                return points;\n            },\n            calculateStepPoints: function (points) {\n                var segment = this, chart = segment.parent, plotArea = chart.plotArea, categoryAxis = plotArea.seriesCategoryAxis(segment.series), isInterpolate = chart.seriesMissingValues(segment.series) === INTERPOLATE, length = points.length, reverse = categoryAxis.options.reverse, vertical = categoryAxis.options.vertical, dir = reverse ? 2 : 1, revDir = reverse ? 1 : 2, prevPoint, point, i, prevMarkerBoxCenter, markerBoxCenter, result = [];\n                for (i = 1; i < length; i++) {\n                    prevPoint = points[i - 1];\n                    point = points[i];\n                    prevMarkerBoxCenter = prevPoint.markerBox().center();\n                    markerBoxCenter = point.markerBox().center();\n                    if (categoryAxis.options.justified) {\n                        result.push(new geom.Point(prevMarkerBoxCenter.x, prevMarkerBoxCenter.y));\n                        if (vertical) {\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, markerBoxCenter.y));\n                        } else {\n                            result.push(new geom.Point(markerBoxCenter.x, prevMarkerBoxCenter.y));\n                        }\n                        result.push(new geom.Point(markerBoxCenter.x, markerBoxCenter.y));\n                    } else {\n                        if (vertical) {\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, prevPoint.box[Y + dir]));\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, prevPoint.box[Y + revDir]));\n                            if (isInterpolate) {\n                                result.push(new geom.Point(prevMarkerBoxCenter.x, point.box[Y + dir]));\n                            }\n                            result.push(new geom.Point(markerBoxCenter.x, point.box[Y + dir]));\n                            result.push(new geom.Point(markerBoxCenter.x, point.box[Y + revDir]));\n                        } else {\n                            result.push(new geom.Point(prevPoint.box[X + dir], prevMarkerBoxCenter.y));\n                            result.push(new geom.Point(prevPoint.box[X + revDir], prevMarkerBoxCenter.y));\n                            if (isInterpolate) {\n                                result.push(new geom.Point(point.box[X + dir], prevMarkerBoxCenter.y));\n                            }\n                            result.push(new geom.Point(point.box[X + dir], markerBoxCenter.y));\n                            result.push(new geom.Point(point.box[X + revDir], markerBoxCenter.y));\n                        }\n                    }\n                }\n                return result || [];\n            }\n        });\n        var SplineSegment = LineSegment.extend({\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFn(color) && defaults) {\n                    color = defaults.color;\n                }\n                var curveProcessor = new CurveProcessor(this.options.closed);\n                var segments = curveProcessor.process(this.points());\n                var curve = new draw.Path({\n                    stroke: {\n                        color: color,\n                        width: series.width,\n                        opacity: series.opacity,\n                        dashType: series.dashType\n                    },\n                    zIndex: series.zIndex\n                });\n                curve.segments.push.apply(curve.segments, segments);\n                this.visual = curve;\n            }\n        });\n        var AreaSegmentMixin = {\n            points: function () {\n                var segment = this, chart = segment.parent, plotArea = chart.plotArea, invertAxes = chart.options.invertAxes, valueAxis = chart.seriesValueAxis(segment.series), valueAxisLineBox = valueAxis.lineBox(), categoryAxis = plotArea.seriesCategoryAxis(segment.series), categoryAxisLineBox = categoryAxis.lineBox(), end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1, stackPoints = segment.stackPoints, points = segment._linePoints(stackPoints), pos = invertAxes ? X : Y, firstPoint, lastPoint;\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\n                if (!segment.stackPoints && points.length > 1) {\n                    firstPoint = points[0];\n                    lastPoint = last(points);\n                    if (invertAxes) {\n                        points.unshift(new geom.Point(end, firstPoint.y));\n                        points.push(new geom.Point(end, lastPoint.y));\n                    } else {\n                        points.unshift(new geom.Point(firstPoint.x, end));\n                        points.push(new geom.Point(lastPoint.x, end));\n                    }\n                }\n                return points;\n            },\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFn(color) && defaults) {\n                    color = defaults.color;\n                }\n                this.visual = new draw.Group({ zIndex: series.zIndex });\n                this.createArea(color);\n                this.createLine(color);\n            },\n            createLine: function (color) {\n                var series = this.series;\n                var lineOptions = deepExtend({\n                    color: color,\n                    opacity: series.opacity\n                }, series.line);\n                if (lineOptions.visible !== false && lineOptions.width > 0) {\n                    var line = draw.Path.fromPoints(this._linePoints(), {\n                        stroke: {\n                            color: lineOptions.color,\n                            width: lineOptions.width,\n                            opacity: lineOptions.opacity,\n                            dashType: lineOptions.dashType,\n                            lineCap: 'butt'\n                        }\n                    });\n                    this.visual.append(line);\n                }\n            },\n            createArea: function (color) {\n                var series = this.series;\n                var area = draw.Path.fromPoints(this.points(), {\n                    fill: {\n                        color: color,\n                        opacity: series.opacity\n                    },\n                    stroke: null\n                });\n                this.visual.append(area);\n            }\n        };\n        var AreaSegment = LineSegment.extend({\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\n                var segment = this;\n                segment.stackPoints = stackPoints;\n                LineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\n            },\n            _linePoints: LineSegment.fn.points\n        });\n        deepExtend(AreaSegment.fn, AreaSegmentMixin);\n        var AreaChart = LineChart.extend({\n            createSegment: function (linePoints, currentSeries, seriesIx, prevSegment) {\n                var chart = this, options = chart.options, isStacked = options.isStacked, stackPoints, pointType, style = (currentSeries.line || {}).style;\n                if (isStacked && seriesIx > 0 && prevSegment) {\n                    var missingValues = this.seriesMissingValues(currentSeries);\n                    if (missingValues != 'gap') {\n                        stackPoints = prevSegment.linePoints;\n                    } else {\n                        stackPoints = this._gapStackPoints(linePoints, seriesIx, style);\n                    }\n                    if (style !== STEP) {\n                        stackPoints = stackPoints.slice(0).reverse();\n                    }\n                }\n                if (style === SMOOTH) {\n                    return new SplineAreaSegment(linePoints, prevSegment, isStacked, currentSeries, seriesIx);\n                }\n                if (style === STEP) {\n                    pointType = StepAreaSegment;\n                } else {\n                    pointType = AreaSegment;\n                }\n                return new pointType(linePoints, stackPoints, currentSeries, seriesIx);\n            },\n            reflow: function (targetBox) {\n                LineChart.fn.reflow.call(this, targetBox);\n                var stackPoints = this._stackPoints;\n                if (stackPoints) {\n                    var stackPoint, pointSlot;\n                    for (var idx = 0; idx < stackPoints.length; idx++) {\n                        stackPoint = stackPoints[idx];\n                        pointSlot = this.categoryAxis.getSlot(stackPoint.categoryIx);\n                        stackPoint.reflow(pointSlot);\n                    }\n                }\n            },\n            _gapStackPoints: function (linePoints, seriesIx, style) {\n                var seriesPoints = this.seriesPoints;\n                var startIdx = linePoints[0].categoryIx;\n                var endIdx = startIdx + linePoints.length;\n                var stackPoints = [];\n                var currentSeriesIx;\n                var point, gapStackPoint;\n                this._stackPoints = this._stackPoints || [];\n                for (var idx = startIdx; idx < endIdx; idx++) {\n                    currentSeriesIx = seriesIx;\n                    do {\n                        currentSeriesIx--;\n                        point = seriesPoints[currentSeriesIx][idx];\n                    } while (currentSeriesIx > 0 && !point);\n                    if (point) {\n                        if (style !== STEP && idx > startIdx && !seriesPoints[currentSeriesIx][idx - 1]) {\n                            stackPoints.push(this._previousSegmentPoint(idx, idx - 1, currentSeriesIx));\n                        }\n                        stackPoints.push(point);\n                        if (style !== STEP && idx + 1 < endIdx && !seriesPoints[currentSeriesIx][idx + 1]) {\n                            stackPoints.push(this._previousSegmentPoint(idx, idx + 1, currentSeriesIx));\n                        }\n                    } else {\n                        gapStackPoint = this._createGapStackPoint(idx);\n                        this._stackPoints.push(gapStackPoint);\n                        stackPoints.push(gapStackPoint);\n                    }\n                }\n                return stackPoints;\n            },\n            _previousSegmentPoint: function (categoryIx, segmentIx, seriesIdx) {\n                var seriesPoints = this.seriesPoints;\n                var point;\n                while (seriesIdx > 0 && !point) {\n                    seriesIdx--;\n                    point = seriesPoints[seriesIdx][segmentIx];\n                }\n                if (!point) {\n                    point = this._createGapStackPoint(categoryIx);\n                    this._stackPoints.push(point);\n                } else {\n                    point = seriesPoints[seriesIdx][categoryIx];\n                }\n                return point;\n            },\n            _createGapStackPoint: function (categoryIx) {\n                var options = this.pointOptions({}, 0);\n                var point = new LinePoint(0, options);\n                point.categoryIx = categoryIx;\n                point.series = {};\n                return point;\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues || ZERO;\n            }\n        });\n        var SplineAreaSegment = AreaSegment.extend({\n            init: function (linePoints, prevSegment, isStacked, currentSeries, seriesIx) {\n                var segment = this;\n                segment.prevSegment = prevSegment;\n                segment.isStacked = isStacked;\n                LineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\n            },\n            strokeSegments: function () {\n                var segments = this._strokeSegments;\n                if (!segments) {\n                    var curveProcessor = new CurveProcessor(this.options.closed);\n                    var linePoints = LineSegment.fn.points.call(this);\n                    segments = this._strokeSegments = curveProcessor.process(linePoints);\n                }\n                return segments;\n            },\n            createVisual: function () {\n                var series = this.series;\n                var defaults = series._defaults;\n                var color = series.color;\n                if (isFn(color) && defaults) {\n                    color = defaults.color;\n                }\n                this.visual = new draw.Group({ zIndex: series.zIndex });\n                this.createFill({\n                    fill: {\n                        color: color,\n                        opacity: series.opacity\n                    },\n                    stroke: null\n                });\n                this.createStroke({\n                    stroke: deepExtend({\n                        color: color,\n                        opacity: series.opacity,\n                        lineCap: 'butt'\n                    }, series.line)\n                });\n            },\n            createFill: function (style) {\n                var strokeSegments = this.strokeSegments();\n                var fillSegments = strokeSegments.slice(0);\n                var prevSegment = this.prevSegment;\n                if (this.isStacked && prevSegment) {\n                    var prevStrokeSegments = prevSegment.strokeSegments();\n                    var prevAnchor = last(prevStrokeSegments).anchor();\n                    fillSegments.push(new draw.Segment(prevAnchor, prevAnchor, last(strokeSegments).anchor()));\n                    var stackSegments = $.map(prevStrokeSegments, function (segment) {\n                        return new draw.Segment(segment.anchor(), segment.controlOut(), segment.controlIn());\n                    }).reverse();\n                    append(fillSegments, stackSegments);\n                    var firstAnchor = fillSegments[0].anchor();\n                    fillSegments.push(new draw.Segment(firstAnchor, firstAnchor, last(stackSegments).anchor()));\n                }\n                var fill = new draw.Path(style);\n                fill.segments.push.apply(fill.segments, fillSegments);\n                this.closeFill(fill);\n                this.visual.append(fill);\n            },\n            closeFill: function (fillPath) {\n                var segment = this, chart = segment.parent, prevSegment = segment.prevSegment, plotArea = chart.plotArea, invertAxes = chart.options.invertAxes, valueAxis = chart.seriesValueAxis(segment.series), valueAxisLineBox = valueAxis.lineBox(), categoryAxis = plotArea.seriesCategoryAxis(segment.series), categoryAxisLineBox = categoryAxis.lineBox(), end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1, pos = invertAxes ? X : Y, segments = segment.strokeSegments(), firstPoint = segments[0].anchor(), lastPoint = last(segments).anchor();\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\n                if (!(chart.options.isStacked && prevSegment) && segments.length > 1) {\n                    if (invertAxes) {\n                        fillPath.lineTo(end, lastPoint.y).lineTo(end, firstPoint.y);\n                    } else {\n                        fillPath.lineTo(lastPoint.x, end).lineTo(firstPoint.x, end);\n                    }\n                }\n            },\n            createStroke: function (style) {\n                if (style.stroke.width > 0) {\n                    var stroke = new draw.Path(style);\n                    stroke.segments.push.apply(stroke.segments, this.strokeSegments());\n                    this.visual.append(stroke);\n                }\n            }\n        });\n        var StepAreaSegment = StepLineSegment.extend({\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\n                var segment = this;\n                segment.stackPoints = stackPoints;\n                StepLineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\n            },\n            _linePoints: StepLineSegment.fn.points\n        });\n        deepExtend(StepAreaSegment.fn, AreaSegmentMixin);\n        var ScatterChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                var chart = this;\n                ChartElement.fn.init.call(chart, options);\n                chart.plotArea = plotArea;\n                chart.xAxisRanges = {};\n                chart.yAxisRanges = {};\n                chart.points = [];\n                chart.seriesPoints = [];\n                chart.seriesOptions = [];\n                chart._evalSeries = [];\n                chart.render();\n            },\n            options: {\n                series: [],\n                tooltip: { format: '{0}, {1}' },\n                labels: { format: '{0}, {1}' },\n                clip: true\n            },\n            render: function () {\n                var chart = this;\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\n            },\n            addErrorBar: function (point, field, fields) {\n                var errorRange, chart = this, value = point.value[field], valueErrorField = field + 'Value', lowField = field + 'ErrorLow', highField = field + 'ErrorHigh', seriesIx = fields.seriesIx, series = fields.series, errorBars = point.options.errorBars, lowValue = fields[lowField], highValue = fields[highField];\n                if (isNumber(value)) {\n                    if (isNumber(lowValue) && isNumber(highValue)) {\n                        errorRange = {\n                            low: lowValue,\n                            high: highValue\n                        };\n                    }\n                    if (errorBars && defined(errorBars[valueErrorField])) {\n                        chart.seriesErrorRanges = chart.seriesErrorRanges || {\n                            x: [],\n                            y: []\n                        };\n                        chart.seriesErrorRanges[field][seriesIx] = chart.seriesErrorRanges[field][seriesIx] || new ErrorRangeCalculator(errorBars[valueErrorField], series, field);\n                        errorRange = chart.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);\n                    }\n                    if (errorRange) {\n                        chart.addPointErrorBar(errorRange, point, field);\n                    }\n                }\n            },\n            addPointErrorBar: function (errorRange, point, field) {\n                var chart = this, low = errorRange.low, high = errorRange.high, series = point.series, isVertical = field === Y, options = point.options.errorBars, item = {}, errorBar;\n                point[field + 'Low'] = low;\n                point[field + 'High'] = high;\n                point.errorBars = point.errorBars || [];\n                errorBar = new ScatterErrorBar(low, high, isVertical, chart, series, options);\n                point.errorBars.push(errorBar);\n                point.append(errorBar);\n                item[field] = low;\n                chart.updateRange(item, series);\n                item[field] = high;\n                chart.updateRange(item, series);\n            },\n            addValue: function (value, fields) {\n                var chart = this, point, x = value.x, y = value.y, seriesIx = fields.seriesIx, series = this.options.series[seriesIx], missingValues = this.seriesMissingValues(series), seriesPoints = chart.seriesPoints[seriesIx];\n                if (!(hasValue(x) && hasValue(y))) {\n                    value = this.createMissingValue(value, missingValues);\n                }\n                if (value) {\n                    point = chart.createPoint(value, fields);\n                    if (point) {\n                        extend(point, fields);\n                        chart.addErrorBar(point, X, fields);\n                        chart.addErrorBar(point, Y, fields);\n                    }\n                    chart.updateRange(value, fields.series);\n                }\n                chart.points.push(point);\n                seriesPoints.push(point);\n            },\n            seriesMissingValues: function (series) {\n                return series.missingValues;\n            },\n            createMissingValue: noop,\n            updateRange: function (value, series) {\n                var chart = this, x = value.x, y = value.y, xAxisName = series.xAxis, yAxisName = series.yAxis, xAxisRange = chart.xAxisRanges[xAxisName], yAxisRange = chart.yAxisRanges[yAxisName];\n                if (hasValue(x)) {\n                    xAxisRange = chart.xAxisRanges[xAxisName] = xAxisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    if (typeof x === STRING) {\n                        x = toDate(x);\n                    }\n                    xAxisRange.min = math.min(xAxisRange.min, x);\n                    xAxisRange.max = math.max(xAxisRange.max, x);\n                }\n                if (hasValue(y)) {\n                    yAxisRange = chart.yAxisRanges[yAxisName] = yAxisRange || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    if (typeof y === STRING) {\n                        y = toDate(y);\n                    }\n                    yAxisRange.min = math.min(yAxisRange.min, y);\n                    yAxisRange.max = math.max(yAxisRange.max, y);\n                }\n            },\n            evalPointOptions: function (options, value, fields) {\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var state = {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'tooltip',\n                        'tempate',\n                        'visual',\n                        'toggle',\n                        '_outOfRangeMinPoint',\n                        '_outOfRangeMaxPoint'\n                    ]\n                };\n                var doEval = this._evalSeries[seriesIx];\n                if (!defined(doEval)) {\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n                }\n                if (doEval) {\n                    options = deepExtend({}, options);\n                    evalOptions(options, {\n                        value: value,\n                        series: series,\n                        dataItem: fields.dataItem\n                    }, state);\n                }\n                return options;\n            },\n            pointType: function () {\n                return LinePoint;\n            },\n            pointOptions: function (series, seriesIx) {\n                var options = this.seriesOptions[seriesIx];\n                if (!options) {\n                    var defaults = this.pointType().fn.defaults;\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {\n                        markers: { opacity: series.opacity },\n                        tooltip: { format: this.options.tooltip.format },\n                        labels: { format: this.options.labels.format }\n                    }, series);\n                }\n                return options;\n            },\n            createPoint: function (value, fields) {\n                var chart = this, series = fields.series, point;\n                var pointOptions = this.pointOptions(series, fields.seriesIx);\n                var color = fields.color || series.color;\n                pointOptions = chart.evalPointOptions(pointOptions, value, fields);\n                if (kendo.isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                point = new LinePoint(value, pointOptions);\n                point.color = color;\n                chart.append(point);\n                return point;\n            },\n            seriesAxes: function (series) {\n                var plotArea = this.plotArea, xAxisName = series.xAxis, xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX, yAxisName = series.yAxis, yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;\n                if (!xAxis) {\n                    throw new Error('Unable to locate X axis with name ' + xAxisName);\n                }\n                if (!yAxis) {\n                    throw new Error('Unable to locate Y axis with name ' + yAxisName);\n                }\n                return {\n                    x: xAxis,\n                    y: yAxis\n                };\n            },\n            reflow: function (targetBox) {\n                var chart = this, chartPoints = chart.points, pointIx = 0, point, seriesAxes, limit = !chart.options.clip;\n                chart.traverseDataPoints(function (value, fields) {\n                    point = chartPoints[pointIx++];\n                    seriesAxes = chart.seriesAxes(fields.series);\n                    var slotX = seriesAxes.x.getSlot(value.x, value.x, limit), slotY = seriesAxes.y.getSlot(value.y, value.y, limit), pointSlot;\n                    if (point) {\n                        if (slotX && slotY) {\n                            pointSlot = chart.pointSlot(slotX, slotY);\n                            point.reflow(pointSlot);\n                        } else {\n                            point.visible = false;\n                        }\n                    }\n                });\n                chart.box = targetBox;\n            },\n            pointSlot: function (slotX, slotY) {\n                return new Box2D(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n            },\n            traverseDataPoints: function (callback) {\n                var chart = this, options = chart.options, series = options.series, seriesPoints = chart.seriesPoints, pointIx, seriesIx, currentSeries, currentSeriesPoints, pointData, value, fields;\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    currentSeriesPoints = seriesPoints[seriesIx];\n                    if (!currentSeriesPoints) {\n                        seriesPoints[seriesIx] = [];\n                    }\n                    for (pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n                        pointData = this._bindPoint(currentSeries, seriesIx, pointIx);\n                        value = pointData.valueFields;\n                        fields = pointData.fields;\n                        callback(value, deepExtend({\n                            pointIx: pointIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            dataItem: currentSeries.data[pointIx],\n                            owner: chart\n                        }, fields));\n                    }\n                }\n            },\n            _bindPoint: CategoricalChart.fn._bindPoint,\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return autoFormat(format, value.x, value.y);\n            },\n            animationPoints: function () {\n                var points = this.points;\n                var result = [];\n                for (var idx = 0; idx < points.length; idx++) {\n                    result.push((points[idx] || {}).marker);\n                }\n                return result;\n            }\n        });\n        deepExtend(ScatterChart.fn, ClipAnimationMixin);\n        var ScatterLineChart = ScatterChart.extend({\n            render: function () {\n                var chart = this;\n                ScatterChart.fn.render.call(chart);\n                chart.renderSegments();\n            },\n            createSegment: function (linePoints, currentSeries, seriesIx) {\n                var pointType, style = currentSeries.style;\n                if (style === SMOOTH) {\n                    pointType = SplineSegment;\n                } else {\n                    pointType = LineSegment;\n                }\n                return new pointType(linePoints, currentSeries, seriesIx);\n            },\n            animationPoints: function () {\n                var points = ScatterChart.fn.animationPoints.call(this);\n                return points.concat(this._segments);\n            },\n            createMissingValue: function (value, missingValues) {\n                if (missingValues === ZERO) {\n                    var missingValue = {\n                        x: value.x,\n                        y: value.y\n                    };\n                    if (!hasValue(missingValue.x)) {\n                        missingValue.x = 0;\n                    }\n                    if (!hasValue(missingValue.y)) {\n                        missingValue.y = 0;\n                    }\n                    return missingValue;\n                }\n            }\n        });\n        deepExtend(ScatterLineChart.fn, LineChartMixin);\n        var BubbleChart = ScatterChart.extend({\n            init: function (plotArea, options) {\n                this._maxSize = MIN_VALUE;\n                ScatterChart.fn.init.call(this, plotArea, options);\n            },\n            options: {\n                tooltip: { format: '{3}' },\n                labels: { format: '{3}' }\n            },\n            addValue: function (value, fields) {\n                if (value.size !== null && (value.size > 0 || value.size < 0 && fields.series.negativeValues.visible)) {\n                    this._maxSize = math.max(this._maxSize, math.abs(value.size));\n                    ScatterChart.fn.addValue.call(this, value, fields);\n                } else {\n                    this.points.push(null);\n                    this.seriesPoints[fields.seriesIx].push(null);\n                }\n            },\n            reflow: function (box) {\n                var chart = this;\n                chart.updateBubblesSize(box);\n                ScatterChart.fn.reflow.call(chart, box);\n            },\n            pointType: function () {\n                return Bubble;\n            },\n            createPoint: function (value, fields) {\n                var chart = this, series = fields.series, pointsCount = series.data.length, delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount), animationOptions = {\n                        delay: delay,\n                        duration: INITIAL_ANIMATION_DURATION - delay,\n                        type: BUBBLE\n                    }, point, pointOptions;\n                var color = fields.color || series.color;\n                if (value.size < 0 && series.negativeValues.visible) {\n                    color = valueOrDefault(series.negativeValues.color, color);\n                }\n                pointOptions = deepExtend({\n                    labels: {\n                        animation: {\n                            delay: delay,\n                            duration: INITIAL_ANIMATION_DURATION - delay\n                        }\n                    }\n                }, this.pointOptions(series, fields.seriesIx), {\n                    markers: {\n                        type: CIRCLE,\n                        border: series.border,\n                        opacity: series.opacity,\n                        animation: animationOptions\n                    }\n                });\n                pointOptions = chart.evalPointOptions(pointOptions, value, fields);\n                if (kendo.isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                pointOptions.markers.background = color;\n                point = new Bubble(value, pointOptions);\n                point.color = color;\n                chart.append(point);\n                return point;\n            },\n            updateBubblesSize: function (box) {\n                var chart = this, options = chart.options, series = options.series, boxSize = math.min(box.width(), box.height()), seriesIx, pointIx;\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx], seriesPoints = chart.seriesPoints[seriesIx], minSize = currentSeries.minSize || math.max(boxSize * 0.02, 10), maxSize = currentSeries.maxSize || boxSize * 0.2, minR = minSize / 2, maxR = maxSize / 2, minArea = math.PI * minR * minR, maxArea = math.PI * maxR * maxR, areaRange = maxArea - minArea, areaRatio = areaRange / chart._maxSize;\n                    for (pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\n                        var point = seriesPoints[pointIx];\n                        if (point) {\n                            var area = math.abs(point.value.size) * areaRatio, r = math.sqrt((minArea + area) / math.PI), baseZIndex = valueOrDefault(point.options.zIndex, 0), zIndex = baseZIndex + (1 - r / maxR);\n                            deepExtend(point.options, {\n                                zIndex: zIndex,\n                                markers: {\n                                    size: r * 2,\n                                    zIndex: zIndex\n                                },\n                                labels: { zIndex: zIndex + 1 }\n                            });\n                        }\n                    }\n                }\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return autoFormat(format, value.x, value.y, value.size, point.category);\n            },\n            createAnimation: noop,\n            createVisual: noop\n        });\n        var Candlestick = ChartElement.extend({\n            init: function (value, options) {\n                ChartElement.fn.init.call(this, options);\n                this.value = value;\n            },\n            options: {\n                vertical: true,\n                border: { _brightness: 0.8 },\n                line: { width: 2 },\n                overlay: { gradient: GLASS },\n                tooltip: { format: '<table style=\\'text-align: left;\\'>' + '<th colspan=\\'2\\'>{4:d}</th>' + '<tr><td>Open:</td><td>{0:C}</td></tr>' + '<tr><td>High:</td><td>{1:C}</td></tr>' + '<tr><td>Low:</td><td>{2:C}</td></tr>' + '<tr><td>Close:</td><td>{3:C}</td></tr>' + '</table>' },\n                highlight: {\n                    opacity: 1,\n                    border: {\n                        width: 1,\n                        opacity: 1\n                    },\n                    line: {\n                        width: 1,\n                        opacity: 1\n                    }\n                },\n                notes: {\n                    visible: true,\n                    label: {}\n                }\n            },\n            reflow: function (box) {\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), points = [], mid, ocSlot, lhSlot;\n                ocSlot = valueAxis.getSlot(value.open, value.close);\n                lhSlot = valueAxis.getSlot(value.low, value.high);\n                ocSlot.x1 = lhSlot.x1 = box.x1;\n                ocSlot.x2 = lhSlot.x2 = box.x2;\n                point.realBody = ocSlot;\n                mid = lhSlot.center().x;\n                points.push([\n                    [\n                        mid,\n                        lhSlot.y1\n                    ],\n                    [\n                        mid,\n                        ocSlot.y1\n                    ]\n                ]);\n                points.push([\n                    [\n                        mid,\n                        ocSlot.y2\n                    ],\n                    [\n                        mid,\n                        lhSlot.y2\n                    ]\n                ]);\n                point.lines = points;\n                point.box = lhSlot.clone().wrap(ocSlot);\n                if (!point._rendered) {\n                    point._rendered = true;\n                    point.createNote();\n                }\n                point.reflowNote();\n            },\n            reflowNote: function () {\n                var point = this;\n                if (point.note) {\n                    point.note.reflow(point.box);\n                }\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                this._mainVisual = this.mainVisual(this.options);\n                this.visual.append(this._mainVisual);\n                this.createOverlay();\n            },\n            mainVisual: function (options) {\n                var group = new draw.Group();\n                this.createBody(group, options);\n                this.createLines(group, options);\n                return group;\n            },\n            createBody: function (container, options) {\n                var body = draw.Path.fromRect(this.realBody.toRect(), {\n                    fill: {\n                        color: this.color,\n                        opacity: options.opacity\n                    },\n                    stroke: null\n                });\n                if (options.border.width > 0) {\n                    body.options.set('stroke', {\n                        color: this.getBorderColor(),\n                        width: options.border.width,\n                        dashType: options.border.dashType,\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\n                    });\n                }\n                alignPathToPixel(body);\n                container.append(body);\n                if (hasGradientOverlay(options)) {\n                    container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({\n                        end: !options.vertical ? [\n                            0,\n                            1\n                        ] : undefined\n                    }, options.overlay)));\n                }\n            },\n            createLines: function (container, options) {\n                this.drawLines(container, options, this.lines, options.line);\n            },\n            drawLines: function (container, options, lines, lineOptions) {\n                if (!lines) {\n                    return;\n                }\n                var lineStyle = {\n                    stroke: {\n                        color: lineOptions.color || this.color,\n                        opacity: valueOrDefault(lineOptions.opacity, options.opacity),\n                        width: lineOptions.width,\n                        dashType: lineOptions.dashType,\n                        lineCap: 'butt'\n                    }\n                };\n                for (var i = 0; i < lines.length; i++) {\n                    var line = draw.Path.fromPoints(lines[i], lineStyle);\n                    alignPathToPixel(line);\n                    container.append(line);\n                }\n            },\n            getBorderColor: function () {\n                var point = this, options = point.options, border = options.border, borderColor = border.color;\n                if (!defined(borderColor)) {\n                    borderColor = new Color(point.color).brightness(border._brightness).toHex();\n                }\n                return borderColor;\n            },\n            createOverlay: function () {\n                var overlay = draw.Path.fromRect(this.box.toRect(), {\n                    fill: {\n                        color: WHITE,\n                        opacity: 0\n                    },\n                    stroke: null\n                });\n                this.visual.append(overlay);\n            },\n            createHighlight: function () {\n                var highlight = this.options.highlight;\n                var normalColor = this.color;\n                this.color = highlight.color || this.color;\n                var overlay = this.mainVisual(deepExtend({}, this.options, { line: { color: this.getBorderColor() } }, highlight));\n                this.color = normalColor;\n                return overlay;\n            },\n            highlightVisual: function () {\n                return this._mainVisual;\n            },\n            highlightVisualArgs: function () {\n                return {\n                    options: this.options,\n                    rect: this.box.toRect(),\n                    visual: this._mainVisual\n                };\n            },\n            tooltipAnchor: function () {\n                var point = this, box = point.box, clipBox = point.owner.pane.clipBox() || box;\n                return new Point2D(box.x2 + TOOLTIP_OFFSET, math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET);\n            },\n            formatValue: function (format) {\n                var point = this;\n                return point.owner.formatPointValue(point, format);\n            },\n            overlapsBox: function (box) {\n                return this.box.overlaps(box);\n            }\n        });\n        deepExtend(Candlestick.fn, PointEventsMixin);\n        deepExtend(Candlestick.fn, NoteMixin);\n        var CandlestickChart = CategoricalChart.extend({\n            options: {},\n            reflowCategories: function (categorySlots) {\n                var chart = this, children = chart.children, childrenLength = children.length, i;\n                for (i = 0; i < childrenLength; i++) {\n                    children[i].reflow(categorySlots[i]);\n                }\n            },\n            addValue: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var options = chart.options;\n                var value = data.valueFields;\n                var children = chart.children;\n                var valueParts = chart.splitValue(value);\n                var hasValue = areNumbers(valueParts);\n                var categoryPoints = chart.categoryPoints[categoryIx];\n                var dataItem = series.data[categoryIx];\n                var point, cluster;\n                if (!categoryPoints) {\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                if (hasValue) {\n                    point = chart.createPoint(data, fields);\n                }\n                cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    chart.append(cluster);\n                }\n                if (point) {\n                    chart.updateRange(value, fields);\n                    cluster.append(point);\n                    point.categoryIx = categoryIx;\n                    point.category = category;\n                    point.series = series;\n                    point.seriesIx = seriesIx;\n                    point.owner = chart;\n                    point.dataItem = dataItem;\n                    point.noteText = data.fields.noteText;\n                }\n                chart.points.push(point);\n                categoryPoints.push(point);\n            },\n            pointType: function () {\n                return Candlestick;\n            },\n            createPoint: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var value = data.valueFields;\n                var pointOptions = deepExtend({}, series);\n                var pointType = chart.pointType();\n                var color = data.fields.color || series.color;\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\n                if (series.type == CANDLESTICK) {\n                    if (value.open > value.close) {\n                        color = data.fields.downColor || series.downColor || series.color;\n                    }\n                }\n                if (kendo.isFunction(series.color)) {\n                    color = pointOptions.color;\n                }\n                pointOptions.vertical = !chart.options.invertAxes;\n                var point = new pointType(value, pointOptions);\n                point.color = color;\n                return point;\n            },\n            splitValue: function (value) {\n                return [\n                    value.low,\n                    value.open,\n                    value.close,\n                    value.high\n                ];\n            },\n            updateRange: function (value, fields) {\n                var chart = this, axisName = fields.series.axis, axisRange = chart.valueAxisRanges[axisName], parts = chart.splitValue(value);\n                axisRange = chart.valueAxisRanges[axisName] = axisRange || {\n                    min: MAX_VALUE,\n                    max: MIN_VALUE\n                };\n                axisRange = chart.valueAxisRanges[axisName] = {\n                    min: math.min.apply(math, parts.concat([axisRange.min])),\n                    max: math.max.apply(math, parts.concat([axisRange.max]))\n                };\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return autoFormat(format, value.open, value.high, value.low, value.close, point.category);\n            },\n            animationPoints: function () {\n                return this.points;\n            }\n        });\n        deepExtend(CandlestickChart.fn, ClipAnimationMixin);\n        var OHLCPoint = Candlestick.extend({\n            reflow: function (box) {\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), oPoints = [], cPoints = [], lhPoints = [], mid, oSlot, cSlot, lhSlot;\n                lhSlot = valueAxis.getSlot(value.low, value.high);\n                oSlot = valueAxis.getSlot(value.open, value.open);\n                cSlot = valueAxis.getSlot(value.close, value.close);\n                oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;\n                oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;\n                mid = lhSlot.center().x;\n                oPoints.push([\n                    oSlot.x1,\n                    oSlot.y1\n                ]);\n                oPoints.push([\n                    mid,\n                    oSlot.y1\n                ]);\n                cPoints.push([\n                    mid,\n                    cSlot.y1\n                ]);\n                cPoints.push([\n                    cSlot.x2,\n                    cSlot.y1\n                ]);\n                lhPoints.push([\n                    mid,\n                    lhSlot.y1\n                ]);\n                lhPoints.push([\n                    mid,\n                    lhSlot.y2\n                ]);\n                point.lines = [\n                    oPoints,\n                    cPoints,\n                    lhPoints\n                ];\n                point.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));\n                point.reflowNote();\n            },\n            createBody: $.noop\n        });\n        var OHLCChart = CandlestickChart.extend({\n            pointType: function () {\n                return OHLCPoint;\n            }\n        });\n        var BoxPlotChart = CandlestickChart.extend({\n            addValue: function (data, fields) {\n                var chart = this;\n                var categoryIx = fields.categoryIx;\n                var category = fields.category;\n                var series = fields.series;\n                var seriesIx = fields.seriesIx;\n                var options = chart.options;\n                var children = chart.children;\n                var value = data.valueFields;\n                var valueParts = chart.splitValue(value);\n                var hasValue = areNumbers(valueParts);\n                var categoryPoints = chart.categoryPoints[categoryIx];\n                var dataItem = series.data[categoryIx];\n                var point, cluster;\n                if (!categoryPoints) {\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\n                }\n                if (hasValue) {\n                    point = chart.createPoint(data, fields);\n                }\n                cluster = children[categoryIx];\n                if (!cluster) {\n                    cluster = new ClusterLayout({\n                        vertical: options.invertAxes,\n                        gap: options.gap,\n                        spacing: options.spacing\n                    });\n                    chart.append(cluster);\n                }\n                if (point) {\n                    chart.updateRange(value, fields);\n                    cluster.append(point);\n                    point.categoryIx = categoryIx;\n                    point.category = category;\n                    point.series = series;\n                    point.seriesIx = seriesIx;\n                    point.owner = chart;\n                    point.dataItem = dataItem;\n                }\n                chart.points.push(point);\n                categoryPoints.push(point);\n            },\n            pointType: function () {\n                if (this.options.invertAxes) {\n                    return VerticalBoxPlot;\n                }\n                return BoxPlot;\n            },\n            splitValue: function (value) {\n                return [\n                    value.lower,\n                    value.q1,\n                    value.median,\n                    value.q3,\n                    value.upper\n                ];\n            },\n            updateRange: function (value, fields) {\n                var chart = this, axisName = fields.series.axis, axisRange = chart.valueAxisRanges[axisName], parts = chart.splitValue(value).concat(chart.filterOutliers(value.outliers));\n                if (defined(value.mean)) {\n                    parts = parts.concat(value.mean);\n                }\n                axisRange = chart.valueAxisRanges[axisName] = axisRange || {\n                    min: MAX_VALUE,\n                    max: MIN_VALUE\n                };\n                axisRange = chart.valueAxisRanges[axisName] = {\n                    min: math.min.apply(math, parts.concat([axisRange.min])),\n                    max: math.max.apply(math, parts.concat([axisRange.max]))\n                };\n            },\n            formatPointValue: function (point, format) {\n                var value = point.value;\n                return autoFormat(format, value.lower, value.q1, value.median, value.q3, value.upper, value.mean, point.category);\n            },\n            filterOutliers: function (items) {\n                var length = (items || []).length, result = [], i, item;\n                for (i = 0; i < length; i++) {\n                    item = items[i];\n                    if (defined(item)) {\n                        appendIfNotNull(result, item);\n                    }\n                }\n                return result;\n            }\n        });\n        var BoxPlot = Candlestick.extend({\n            init: function (value, options) {\n                var point = this;\n                ChartElement.fn.init.call(point, options);\n                point.value = value;\n                point.createNote();\n            },\n            options: {\n                border: { _brightness: 0.8 },\n                line: { width: 2 },\n                mean: {\n                    width: 2,\n                    dashType: 'dash'\n                },\n                overlay: { gradient: GLASS },\n                tooltip: { format: '<table style=\\'text-align: left;\\'>' + '<th colspan=\\'2\\'>{6:d}</th>' + '<tr><td>Lower:</td><td>{0:C}</td></tr>' + '<tr><td>Q1:</td><td>{1:C}</td></tr>' + '<tr><td>Median:</td><td>{2:C}</td></tr>' + '<tr><td>Mean:</td><td>{5:C}</td></tr>' + '<tr><td>Q3:</td><td>{3:C}</td></tr>' + '<tr><td>Upper:</td><td>{4:C}</td></tr>' + '</table>' },\n                highlight: {\n                    opacity: 1,\n                    border: {\n                        width: 1,\n                        opacity: 1\n                    },\n                    line: {\n                        width: 1,\n                        opacity: 1\n                    }\n                },\n                notes: {\n                    visible: true,\n                    label: {}\n                },\n                outliers: {\n                    visible: true,\n                    size: LINE_MARKER_SIZE,\n                    type: CROSS,\n                    background: WHITE,\n                    border: {\n                        width: 2,\n                        opacity: 1\n                    },\n                    opacity: 0\n                },\n                extremes: {\n                    visible: true,\n                    size: LINE_MARKER_SIZE,\n                    type: CIRCLE,\n                    background: WHITE,\n                    border: {\n                        width: 2,\n                        opacity: 1\n                    },\n                    opacity: 0\n                }\n            },\n            reflow: function (box) {\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), whiskerSlot, boxSlot, medianSlot, meanSlot;\n                point.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);\n                point.realBody = boxSlot;\n                point.reflowBoxSlot(box);\n                point.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);\n                point.reflowWhiskerSlot(box);\n                medianSlot = valueAxis.getSlot(value.median);\n                if (value.mean) {\n                    meanSlot = valueAxis.getSlot(value.mean);\n                    point.meanPoints = point.calcMeanPoints(box, meanSlot);\n                }\n                point.whiskerPoints = point.calcWhiskerPoints(boxSlot, whiskerSlot);\n                point.medianPoints = point.calcMedianPoints(box, medianSlot);\n                point.box = whiskerSlot.clone().wrap(boxSlot);\n                point.reflowNote();\n            },\n            reflowBoxSlot: function (box) {\n                this.boxSlot.x1 = box.x1;\n                this.boxSlot.x2 = box.x2;\n            },\n            reflowWhiskerSlot: function (box) {\n                this.whiskerSlot.x1 = box.x1;\n                this.whiskerSlot.x2 = box.x2;\n            },\n            calcMeanPoints: function (box, meanSlot) {\n                return [[\n                        [\n                            box.x1,\n                            meanSlot.y1\n                        ],\n                        [\n                            box.x2,\n                            meanSlot.y1\n                        ]\n                    ]];\n            },\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\n                var mid = whiskerSlot.center().x;\n                return [\n                    [\n                        [\n                            mid - 5,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid + 5,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid,\n                            whiskerSlot.y1\n                        ],\n                        [\n                            mid,\n                            boxSlot.y1\n                        ]\n                    ],\n                    [\n                        [\n                            mid - 5,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid + 5,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid,\n                            whiskerSlot.y2\n                        ],\n                        [\n                            mid,\n                            boxSlot.y2\n                        ]\n                    ]\n                ];\n            },\n            calcMedianPoints: function (box, medianSlot) {\n                return [[\n                        [\n                            box.x1,\n                            medianSlot.y1\n                        ],\n                        [\n                            box.x2,\n                            medianSlot.y1\n                        ]\n                    ]];\n            },\n            renderOutliers: function (options) {\n                var point = this, markers = options.markers || {}, value = point.value, outliers = value.outliers || [], outerFence = math.abs(value.q3 - value.q1) * 3, markersBorder, shape, outlierValue, i;\n                var elements = [];\n                for (i = 0; i < outliers.length; i++) {\n                    outlierValue = outliers[i];\n                    if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {\n                        markers = options.outliers;\n                    } else {\n                        markers = options.extremes;\n                    }\n                    markersBorder = deepExtend({}, markers.border);\n                    if (!defined(markersBorder.color)) {\n                        if (defined(point.color)) {\n                            markersBorder.color = point.color;\n                        } else {\n                            markersBorder.color = new Color(markers.background).brightness(BAR_BORDER_BRIGHTNESS).toHex();\n                        }\n                    }\n                    shape = new ShapeElement({\n                        type: markers.type,\n                        width: markers.size,\n                        height: markers.size,\n                        rotation: markers.rotation,\n                        background: markers.background,\n                        border: markersBorder,\n                        opacity: markers.opacity\n                    });\n                    shape.value = outlierValue;\n                    elements.push(shape);\n                }\n                this.reflowOutliers(elements);\n                return elements;\n            },\n            reflowOutliers: function (outliers) {\n                var valueAxis = this.owner.seriesValueAxis(this.options);\n                var center = this.box.center();\n                for (var i = 0; i < outliers.length; i++) {\n                    var outlierValue = outliers[i].value;\n                    var markerBox = valueAxis.getSlot(outlierValue);\n                    if (this.options.vertical) {\n                        markerBox.move(center.x);\n                    } else {\n                        markerBox.move(undefined, center.y);\n                    }\n                    this.box = this.box.wrap(markerBox);\n                    outliers[i].reflow(markerBox);\n                }\n            },\n            mainVisual: function (options) {\n                var group = Candlestick.fn.mainVisual.call(this, options);\n                var outliers = this.renderOutliers(options);\n                for (var i = 0; i < outliers.length; i++) {\n                    var element = outliers[i].getElement();\n                    if (element) {\n                        group.append(element);\n                    }\n                }\n                return group;\n            },\n            createLines: function (container, options) {\n                this.drawLines(container, options, this.whiskerPoints, options.line);\n                this.drawLines(container, options, this.medianPoints, options.median);\n                this.drawLines(container, options, this.meanPoints, options.mean);\n            },\n            getBorderColor: function () {\n                if (this.color) {\n                    return this.color;\n                }\n                return Candlestick.getBorderColor.call(this);\n            }\n        });\n        deepExtend(BoxPlot.fn, PointEventsMixin);\n        var VerticalBoxPlot = BoxPlot.extend({\n            reflowBoxSlot: function (box) {\n                this.boxSlot.y1 = box.y1;\n                this.boxSlot.y2 = box.y2;\n            },\n            reflowWhiskerSlot: function (box) {\n                this.whiskerSlot.y1 = box.y1;\n                this.whiskerSlot.y2 = box.y2;\n            },\n            calcMeanPoints: function (box, meanSlot) {\n                return [[\n                        [\n                            meanSlot.x1,\n                            box.y1\n                        ],\n                        [\n                            meanSlot.x1,\n                            box.y2\n                        ]\n                    ]];\n            },\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\n                var mid = whiskerSlot.center().y;\n                return [\n                    [\n                        [\n                            whiskerSlot.x1,\n                            mid - 5\n                        ],\n                        [\n                            whiskerSlot.x1,\n                            mid + 5\n                        ],\n                        [\n                            whiskerSlot.x1,\n                            mid\n                        ],\n                        [\n                            boxSlot.x1,\n                            mid\n                        ]\n                    ],\n                    [\n                        [\n                            whiskerSlot.x2,\n                            mid - 5\n                        ],\n                        [\n                            whiskerSlot.x2,\n                            mid + 5\n                        ],\n                        [\n                            whiskerSlot.x2,\n                            mid\n                        ],\n                        [\n                            boxSlot.x2,\n                            mid\n                        ]\n                    ]\n                ];\n            },\n            calcMedianPoints: function (box, medianSlot) {\n                return [[\n                        [\n                            medianSlot.x1,\n                            box.y1\n                        ],\n                        [\n                            medianSlot.x1,\n                            box.y2\n                        ]\n                    ]];\n            }\n        });\n        var PieSegment = ChartElement.extend({\n            init: function (value, sector, options) {\n                var segment = this;\n                segment.value = value;\n                segment.sector = sector;\n                ChartElement.fn.init.call(segment, options);\n            },\n            options: {\n                color: WHITE,\n                overlay: { gradient: ROUNDED_BEVEL },\n                border: { width: 0.5 },\n                labels: {\n                    visible: false,\n                    distance: 35,\n                    font: DEFAULT_FONT,\n                    margin: getSpacing(0.5),\n                    align: CIRCLE,\n                    zIndex: 1,\n                    position: OUTSIDE_END\n                },\n                animation: { type: PIE },\n                highlight: {\n                    visible: true,\n                    border: { width: 1 }\n                },\n                visible: true\n            },\n            render: function () {\n                var segment = this, options = segment.options, labels = options.labels, labelText = segment.value, labelTemplate;\n                if (segment._rendered || segment.visible === false) {\n                    return;\n                } else {\n                    segment._rendered = true;\n                }\n                if (labels.template) {\n                    labelTemplate = template(labels.template);\n                    labelText = labelTemplate({\n                        dataItem: segment.dataItem,\n                        category: segment.category,\n                        value: segment.value,\n                        series: segment.series,\n                        percentage: segment.percentage\n                    });\n                } else if (labels.format) {\n                    labelText = autoFormat(labels.format, labelText);\n                }\n                if (labels.visible && labelText) {\n                    segment.label = new TextBox(labelText, deepExtend({}, labels, {\n                        align: CENTER,\n                        vAlign: '',\n                        animation: {\n                            type: FADEIN,\n                            delay: segment.animationDelay\n                        }\n                    }));\n                    segment.append(segment.label);\n                }\n            },\n            reflow: function (targetBox) {\n                var segment = this;\n                segment.render();\n                segment.box = targetBox;\n                segment.reflowLabel();\n            },\n            reflowLabel: function () {\n                var segment = this, sector = segment.sector.clone(), options = segment.options, label = segment.label, labelsOptions = options.labels, labelsDistance = labelsOptions.distance, angle = sector.middle(), lp, x1, labelWidth, labelHeight;\n                if (label) {\n                    labelHeight = label.box.height();\n                    labelWidth = label.box.width();\n                    if (labelsOptions.position == CENTER) {\n                        sector.r = math.abs((sector.r - labelHeight) / 2) + labelHeight;\n                        lp = sector.point(angle);\n                        label.reflow(Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else if (labelsOptions.position == INSIDE_END) {\n                        sector.r = sector.r - labelHeight / 2;\n                        lp = sector.point(angle);\n                        label.reflow(Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else {\n                        lp = sector.clone().expand(labelsDistance).point(angle);\n                        if (lp.x >= sector.c.x) {\n                            x1 = lp.x + labelWidth;\n                            label.orientation = RIGHT;\n                        } else {\n                            x1 = lp.x - labelWidth;\n                            label.orientation = LEFT;\n                        }\n                        label.reflow(Box2D(x1, lp.y - labelHeight, lp.x, lp.y));\n                    }\n                }\n            },\n            createVisual: function () {\n                var segment = this, sector = segment.sector, options = segment.options;\n                ChartElement.fn.createVisual.call(this);\n                if (segment.value) {\n                    if (options.visual) {\n                        var startAngle = (sector.startAngle + 180) % 360;\n                        var visual = options.visual({\n                            category: segment.category,\n                            dataItem: segment.dataItem,\n                            value: segment.value,\n                            series: segment.series,\n                            percentage: segment.percentage,\n                            center: new geom.Point(sector.c.x, sector.c.y),\n                            radius: sector.r,\n                            innerRadius: sector.ir,\n                            startAngle: startAngle,\n                            endAngle: startAngle + sector.angle,\n                            options: options,\n                            createVisual: function () {\n                                var group = new draw.Group();\n                                segment.createSegmentVisual(group);\n                                return group;\n                            }\n                        });\n                        if (visual) {\n                            segment.visual.append(visual);\n                        }\n                    } else {\n                        segment.createSegmentVisual(segment.visual);\n                    }\n                }\n            },\n            createSegmentVisual: function (group) {\n                var segment = this, sector = segment.sector, options = segment.options, borderOptions = options.border || {}, border = borderOptions.width > 0 ? {\n                        stroke: {\n                            color: borderOptions.color,\n                            width: borderOptions.width,\n                            opacity: borderOptions.opacity,\n                            dashType: borderOptions.dashType\n                        }\n                    } : {}, color = options.color, fill = {\n                        color: color,\n                        opacity: options.opacity\n                    }, visual;\n                visual = segment.createSegment(sector, deepExtend({\n                    fill: fill,\n                    stroke: { opacity: options.opacity },\n                    zIndex: options.zIndex\n                }, border));\n                group.append(visual);\n                if (hasGradientOverlay(options)) {\n                    group.append(this.createGradientOverlay(visual, {\n                        baseColor: color,\n                        fallbackFill: fill\n                    }, deepExtend({\n                        center: [\n                            sector.c.x,\n                            sector.c.y\n                        ],\n                        innerRadius: sector.ir,\n                        radius: sector.r,\n                        userSpace: true\n                    }, options.overlay)));\n                }\n            },\n            createSegment: function (sector, options) {\n                if (options.singleSegment) {\n                    return new draw.Circle(new geom.Circle(new geom.Point(sector.c.x, sector.c.y), sector.r), options);\n                } else {\n                    return ShapeBuilder.current.createRing(sector, options);\n                }\n            },\n            createAnimation: function () {\n                var options = this.options;\n                var center = this.sector.c;\n                deepExtend(options, {\n                    animation: {\n                        center: [\n                            center.x,\n                            center.y\n                        ],\n                        delay: this.animationDelay\n                    }\n                });\n                ChartElement.fn.createAnimation.call(this);\n            },\n            createHighlight: function (options) {\n                var segment = this, highlight = segment.options.highlight || {}, border = highlight.border || {};\n                return segment.createSegment(segment.sector, deepExtend({}, options, {\n                    fill: {\n                        color: highlight.color,\n                        opacity: highlight.opacity\n                    },\n                    stroke: {\n                        opacity: border.opacity,\n                        width: border.width,\n                        color: border.color\n                    }\n                }));\n            },\n            highlightVisual: function () {\n                return this.visual.children[0];\n            },\n            highlightVisualArgs: function () {\n                var sector = this.sector;\n                return {\n                    options: this.options,\n                    radius: sector.r,\n                    innerRadius: sector.ir,\n                    center: new geom.Point(sector.c.x, sector.c.y),\n                    startAngle: sector.startAngle,\n                    endAngle: sector.angle + sector.startAngle,\n                    visual: this.visual\n                };\n            },\n            tooltipAnchor: function (width, height) {\n                var point = this, box = point.sector.adjacentBox(TOOLTIP_OFFSET, width, height);\n                return new Point2D(box.x1, box.y1);\n            },\n            formatValue: function (format) {\n                var point = this;\n                return point.owner.formatPointValue(point, format);\n            }\n        });\n        deepExtend(PieSegment.fn, PointEventsMixin);\n        var PieChartMixin = {\n            createLegendItem: function (value, point, options) {\n                var chart = this, legendOptions = chart.options.legend || {}, labelsOptions = legendOptions.labels || {}, inactiveItems = legendOptions.inactiveItems || {}, inactiveItemsLabels = inactiveItems.labels || {}, text, labelTemplate, markerColor, itemLabelOptions, pointVisible;\n                if (options && options.visibleInLegend !== false) {\n                    pointVisible = options.visible !== false;\n                    text = options.category || '';\n                    labelTemplate = pointVisible ? labelsOptions.template : inactiveItemsLabels.template || labelsOptions.template;\n                    if (labelTemplate) {\n                        text = template(labelTemplate)({\n                            text: text,\n                            series: options.series,\n                            dataItem: options.dataItem,\n                            percentage: options.percentage,\n                            value: value\n                        });\n                    }\n                    if (pointVisible) {\n                        itemLabelOptions = {};\n                        markerColor = point.color;\n                    } else {\n                        itemLabelOptions = {\n                            color: inactiveItemsLabels.color,\n                            font: inactiveItemsLabels.font\n                        };\n                        markerColor = (inactiveItems.markers || {}).color;\n                    }\n                    if (text) {\n                        chart.legendItems.push({\n                            pointIndex: options.index,\n                            text: text,\n                            series: options.series,\n                            markerColor: markerColor,\n                            labels: itemLabelOptions\n                        });\n                    }\n                }\n            }\n        };\n        var PieChart = ChartElement.extend({\n            init: function (plotArea, options) {\n                var chart = this;\n                ChartElement.fn.init.call(chart, options);\n                chart.plotArea = plotArea;\n                chart.points = [];\n                chart.legendItems = [];\n                chart.render();\n            },\n            options: {\n                startAngle: 90,\n                connectors: {\n                    width: 1,\n                    color: '#939393',\n                    padding: 4\n                },\n                inactiveItems: {\n                    markers: {},\n                    labels: {}\n                }\n            },\n            render: function () {\n                var chart = this;\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\n            },\n            traverseDataPoints: function (callback) {\n                var chart = this, options = chart.options, colors = chart.plotArea.options.seriesColors || [], colorsCount = colors.length, series = options.series, seriesCount = series.length, currentSeries, pointData, fields, seriesIx, angle, data, anglePerValue, value, plotValue, explode, total, currentAngle, i, pointIx = 0;\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    data = currentSeries.data;\n                    total = seriesTotal(currentSeries);\n                    anglePerValue = 360 / total;\n                    if (defined(currentSeries.startAngle)) {\n                        currentAngle = currentSeries.startAngle;\n                    } else {\n                        currentAngle = options.startAngle;\n                    }\n                    if (seriesIx != seriesCount - 1) {\n                        if (currentSeries.labels.position == OUTSIDE_END) {\n                            currentSeries.labels.position = CENTER;\n                        }\n                    }\n                    for (i = 0; i < data.length; i++) {\n                        pointData = SeriesBinder.current.bindPoint(currentSeries, i);\n                        value = pointData.valueFields.value;\n                        plotValue = math.abs(value);\n                        fields = pointData.fields;\n                        angle = plotValue * anglePerValue;\n                        explode = data.length != 1 && !!fields.explode;\n                        if (!isFn(currentSeries.color)) {\n                            currentSeries.color = fields.color || colors[i % colorsCount];\n                        }\n                        callback(value, new Ring(null, 0, 0, currentAngle, angle), {\n                            owner: chart,\n                            category: fields.category || '',\n                            index: pointIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            dataItem: data[i],\n                            percentage: total !== 0 ? plotValue / total : 0,\n                            explode: explode,\n                            visibleInLegend: fields.visibleInLegend,\n                            visible: fields.visible,\n                            zIndex: seriesCount - seriesIx,\n                            animationDelay: chart.animationDelay(i, seriesIx, seriesCount)\n                        });\n                        if (pointData.fields.visible !== false) {\n                            currentAngle += angle;\n                        }\n                        pointIx++;\n                    }\n                    pointIx = 0;\n                }\n            },\n            evalSegmentOptions: function (options, value, fields) {\n                var series = fields.series;\n                evalOptions(options, {\n                    value: value,\n                    series: series,\n                    dataItem: fields.dataItem,\n                    category: fields.category,\n                    percentage: fields.percentage\n                }, {\n                    defaults: series._defaults,\n                    excluded: [\n                        'data',\n                        'template',\n                        'visual',\n                        'toggle'\n                    ]\n                });\n            },\n            addValue: function (value, sector, fields) {\n                var chart = this, segment;\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n                chart.evalSegmentOptions(segmentOptions, value, fields);\n                chart.createLegendItem(value, segmentOptions, fields);\n                if (fields.visible === false) {\n                    return;\n                }\n                segment = new PieSegment(value, sector, segmentOptions);\n                extend(segment, fields);\n                chart.append(segment);\n                chart.points.push(segment);\n            },\n            reflow: function (targetBox) {\n                var chart = this, options = chart.options, box = targetBox.clone(), space = 5, minWidth = math.min(box.width(), box.height()), halfMinWidth = minWidth / 2, defaultPadding = minWidth - minWidth * 0.85, padding = valueOrDefault(options.padding, defaultPadding), newBox = Box2D(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth), newBoxCenter = newBox.center(), seriesConfigs = chart.seriesConfigs || [], boxCenter = box.center(), points = chart.points, count = points.length, seriesCount = options.series.length, leftSideLabels = [], rightSideLabels = [], seriesConfig, seriesIndex, label, segment, sector, r, i, c;\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n                newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);\n                r = halfMinWidth - padding;\n                c = Point2D(r + newBox.x1 + padding, r + newBox.y1 + padding);\n                for (i = 0; i < count; i++) {\n                    segment = points[i];\n                    sector = segment.sector;\n                    sector.r = r;\n                    sector.c = c;\n                    seriesIndex = segment.seriesIx;\n                    if (seriesConfigs.length) {\n                        seriesConfig = seriesConfigs[seriesIndex];\n                        sector.ir = seriesConfig.ir;\n                        sector.r = seriesConfig.r;\n                    }\n                    if (seriesIndex == seriesCount - 1 && segment.explode) {\n                        sector.c = sector.clone().radius(sector.r * 0.15).point(sector.middle());\n                    }\n                    segment.reflow(newBox);\n                    label = segment.label;\n                    if (label) {\n                        if (label.options.position === OUTSIDE_END) {\n                            if (seriesIndex == seriesCount - 1) {\n                                if (label.orientation === RIGHT) {\n                                    rightSideLabels.push(label);\n                                } else {\n                                    leftSideLabels.push(label);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (leftSideLabels.length > 0) {\n                    leftSideLabels.sort(chart.labelComparator(true));\n                    chart.leftLabelsReflow(leftSideLabels);\n                }\n                if (rightSideLabels.length > 0) {\n                    rightSideLabels.sort(chart.labelComparator(false));\n                    chart.rightLabelsReflow(rightSideLabels);\n                }\n                chart.box = newBox;\n            },\n            leftLabelsReflow: function (labels) {\n                var chart = this, distances = chart.distanceBetweenLabels(labels);\n                chart.distributeLabels(distances, labels);\n            },\n            rightLabelsReflow: function (labels) {\n                var chart = this, distances = chart.distanceBetweenLabels(labels);\n                chart.distributeLabels(distances, labels);\n            },\n            distanceBetweenLabels: function (labels) {\n                var chart = this, points = chart.points, segment = points[points.length - 1], sector = segment.sector, firstBox = labels[0].box, count = labels.length - 1, lr = sector.r + segment.options.labels.distance, distances = [], secondBox, distance, i;\n                distance = round(firstBox.y1 - (sector.c.y - lr - firstBox.height() - firstBox.height() / 2));\n                distances.push(distance);\n                for (i = 0; i < count; i++) {\n                    firstBox = labels[i].box;\n                    secondBox = labels[i + 1].box;\n                    distance = round(secondBox.y1 - firstBox.y2);\n                    distances.push(distance);\n                }\n                distance = round(sector.c.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);\n                distances.push(distance);\n                return distances;\n            },\n            distributeLabels: function (distances, labels) {\n                var chart = this, count = distances.length, remaining, left, right, i;\n                for (i = 0; i < count; i++) {\n                    left = right = i;\n                    remaining = -distances[i];\n                    while (remaining > 0 && (left >= 0 || right < count)) {\n                        remaining = chart._takeDistance(distances, i, --left, remaining);\n                        remaining = chart._takeDistance(distances, i, ++right, remaining);\n                    }\n                }\n                chart.reflowLabels(distances, labels);\n            },\n            _takeDistance: function (distances, anchor, position, amount) {\n                if (distances[position] > 0) {\n                    var available = math.min(distances[position], amount);\n                    amount -= available;\n                    distances[position] -= available;\n                    distances[anchor] += available;\n                }\n                return amount;\n            },\n            reflowLabels: function (distances, labels) {\n                var chart = this, points = chart.points, segment = points[points.length - 1], sector = segment.sector, labelsCount = labels.length, labelOptions = segment.options.labels, labelDistance = labelOptions.distance, boxY = sector.c.y - (sector.r + labelDistance) - labels[0].box.height(), label, boxX, box, i;\n                distances[0] += 2;\n                for (i = 0; i < labelsCount; i++) {\n                    label = labels[i];\n                    boxY += distances[i];\n                    box = label.box;\n                    boxX = chart.hAlignLabel(box.x2, sector.clone().expand(labelDistance), boxY, boxY + box.height(), label.orientation == RIGHT);\n                    if (label.orientation == RIGHT) {\n                        if (labelOptions.align !== CIRCLE) {\n                            boxX = sector.r + sector.c.x + labelDistance;\n                        }\n                        label.reflow(Box2D(boxX + box.width(), boxY, boxX, boxY));\n                    } else {\n                        if (labelOptions.align !== CIRCLE) {\n                            boxX = sector.c.x - sector.r - labelDistance;\n                        }\n                        label.reflow(Box2D(boxX - box.width(), boxY, boxX, boxY));\n                    }\n                    boxY += box.height();\n                }\n            },\n            createVisual: function () {\n                var chart = this, options = chart.options, connectors = options.connectors, points = chart.points, connectorLine, count = points.length, space = 4, connectorsColor, sector, angle, segment, seriesIx, label, i;\n                ChartElement.fn.createVisual.call(this);\n                this._connectorLines = [];\n                for (i = 0; i < count; i++) {\n                    segment = points[i];\n                    sector = segment.sector;\n                    angle = sector.middle();\n                    label = segment.label;\n                    seriesIx = { seriesId: segment.seriesIx };\n                    connectorsColor = (segment.options.connectors || {}).color || connectors.color;\n                    if (label) {\n                        connectorLine = new draw.Path({\n                            stroke: {\n                                color: connectorsColor,\n                                width: connectors.width\n                            },\n                            animation: {\n                                type: FADEIN,\n                                delay: segment.animationDelay\n                            }\n                        });\n                        if (label.options.position === OUTSIDE_END && segment.value !== 0) {\n                            var box = label.box, centerPoint = sector.c, start = sector.point(angle), middle = Point2D(box.x1, box.center().y), sr, end, crossing;\n                            start = sector.clone().expand(connectors.padding).point(angle);\n                            connectorLine.moveTo(start.x, start.y);\n                            if (label.orientation == RIGHT) {\n                                end = Point2D(box.x1 - connectors.padding, box.center().y);\n                                crossing = intersection(centerPoint, start, middle, end);\n                                middle = Point2D(end.x - space, end.y);\n                                crossing = crossing || middle;\n                                crossing.x = math.min(crossing.x, middle.x);\n                                if (chart.pointInCircle(crossing, sector.c, sector.r + space) || crossing.x < sector.c.x) {\n                                    sr = sector.c.x + sector.r + space;\n                                    if (segment.options.labels.align !== COLUMN) {\n                                        if (sr < middle.x) {\n                                            connectorLine.lineTo(sr, start.y);\n                                        } else {\n                                            connectorLine.lineTo(start.x + space * 2, start.y);\n                                        }\n                                    } else {\n                                        connectorLine.lineTo(sr, start.y);\n                                    }\n                                    connectorLine.lineTo(middle.x, end.y);\n                                } else {\n                                    crossing.y = end.y;\n                                    connectorLine.lineTo(crossing.x, crossing.y);\n                                }\n                            } else {\n                                end = Point2D(box.x2 + connectors.padding, box.center().y);\n                                crossing = intersection(centerPoint, start, middle, end);\n                                middle = Point2D(end.x + space, end.y);\n                                crossing = crossing || middle;\n                                crossing.x = math.max(crossing.x, middle.x);\n                                if (chart.pointInCircle(crossing, sector.c, sector.r + space) || crossing.x > sector.c.x) {\n                                    sr = sector.c.x - sector.r - space;\n                                    if (segment.options.labels.align !== COLUMN) {\n                                        if (sr > middle.x) {\n                                            connectorLine.lineTo(sr, start.y);\n                                        } else {\n                                            connectorLine.lineTo(start.x - space * 2, start.y);\n                                        }\n                                    } else {\n                                        connectorLine.lineTo(sr, start.y);\n                                    }\n                                    connectorLine.lineTo(middle.x, end.y);\n                                } else {\n                                    crossing.y = end.y;\n                                    connectorLine.lineTo(crossing.x, crossing.y);\n                                }\n                            }\n                            connectorLine.lineTo(end.x, end.y);\n                            this._connectorLines.push(connectorLine);\n                            this.visual.append(connectorLine);\n                        }\n                    }\n                }\n            },\n            labelComparator: function (reverse) {\n                reverse = reverse ? -1 : 1;\n                return function (a, b) {\n                    a = (a.parent.sector.middle() + 270) % 360;\n                    b = (b.parent.sector.middle() + 270) % 360;\n                    return (a - b) * reverse;\n                };\n            },\n            hAlignLabel: function (originalX, sector, y1, y2, direction) {\n                var cx = sector.c.x, cy = sector.c.y, r = sector.r, t = math.min(math.abs(cy - y1), math.abs(cy - y2));\n                if (t > r) {\n                    return originalX;\n                } else {\n                    return cx + math.sqrt(r * r - t * t) * (direction ? 1 : -1);\n                }\n            },\n            pointInCircle: function (point, c, r) {\n                return sqr(c.x - point.x) + sqr(c.y - point.y) < sqr(r);\n            },\n            formatPointValue: function (point, format) {\n                return autoFormat(format, point.value);\n            },\n            animationDelay: function (categoryIndex) {\n                return categoryIndex * PIE_SECTOR_ANIM_DELAY;\n            }\n        });\n        deepExtend(PieChart.fn, PieChartMixin);\n        var DonutSegment = PieSegment.extend({\n            options: {\n                overlay: { gradient: ROUNDED_GLASS },\n                labels: { position: CENTER },\n                animation: { type: PIE }\n            },\n            reflowLabel: function () {\n                var segment = this, sector = segment.sector.clone(), options = segment.options, label = segment.label, labelsOptions = options.labels, lp, angle = sector.middle(), labelHeight;\n                if (label) {\n                    labelHeight = label.box.height();\n                    if (labelsOptions.position == CENTER) {\n                        sector.r -= (sector.r - sector.ir) / 2;\n                        lp = sector.point(angle);\n                        label.reflow(new Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n                    } else {\n                        PieSegment.fn.reflowLabel.call(segment);\n                    }\n                }\n            },\n            createSegment: function (sector, options) {\n                return ShapeBuilder.current.createRing(sector, options);\n            }\n        });\n        deepExtend(DonutSegment.fn, PointEventsMixin);\n        var DonutChart = PieChart.extend({\n            options: {\n                startAngle: 90,\n                connectors: {\n                    width: 1,\n                    color: '#939393',\n                    padding: 4\n                }\n            },\n            addValue: function (value, sector, fields) {\n                var chart = this, segment;\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n                chart.evalSegmentOptions(segmentOptions, value, fields);\n                chart.createLegendItem(value, segmentOptions, fields);\n                if (!value || fields.visible === false) {\n                    return;\n                }\n                segment = new DonutSegment(value, sector, segmentOptions);\n                extend(segment, fields);\n                chart.append(segment);\n                chart.points.push(segment);\n            },\n            reflow: function (targetBox) {\n                var chart = this, options = chart.options, box = targetBox.clone(), space = 5, minWidth = math.min(box.width(), box.height()), halfMinWidth = minWidth / 2, defaultPadding = minWidth - minWidth * 0.85, padding = valueOrDefault(options.padding, defaultPadding), series = options.series, currentSeries, seriesCount = series.length, seriesWithoutSize = 0, holeSize, totalSize, size, margin = 0, i, r, ir = 0, currentSize = 0;\n                chart.seriesConfigs = [];\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n                totalSize = halfMinWidth - padding;\n                for (i = 0; i < seriesCount; i++) {\n                    currentSeries = series[i];\n                    if (i === 0) {\n                        if (defined(currentSeries.holeSize)) {\n                            holeSize = currentSeries.holeSize;\n                            totalSize -= currentSeries.holeSize;\n                        }\n                    }\n                    if (defined(currentSeries.size)) {\n                        totalSize -= currentSeries.size;\n                    } else {\n                        seriesWithoutSize++;\n                    }\n                    if (defined(currentSeries.margin) && i != seriesCount - 1) {\n                        totalSize -= currentSeries.margin;\n                    }\n                }\n                if (!defined(holeSize)) {\n                    currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);\n                    holeSize = currentSize * 0.75;\n                    totalSize -= holeSize;\n                }\n                ir = holeSize;\n                for (i = 0; i < seriesCount; i++) {\n                    currentSeries = series[i];\n                    size = valueOrDefault(currentSeries.size, totalSize / seriesWithoutSize);\n                    ir += margin;\n                    r = ir + size;\n                    chart.seriesConfigs.push({\n                        ir: ir,\n                        r: r\n                    });\n                    margin = currentSeries.margin || 0;\n                    ir = r;\n                }\n                PieChart.fn.reflow.call(chart, targetBox);\n            },\n            animationDelay: function (categoryIndex, seriesIndex, seriesCount) {\n                return categoryIndex * DONUT_SECTOR_ANIM_DELAY + INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1);\n            }\n        });\n        var WaterfallChart = BarChart.extend({\n            render: function () {\n                BarChart.fn.render.call(this);\n                this.createSegments();\n            },\n            traverseDataPoints: function (callback) {\n                var series = this.options.series;\n                var categories = this.categoryAxis.options.categories || [];\n                var totalCategories = categoriesCount(series);\n                var isVertical = !this.options.invertAxes;\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var total = 0;\n                    var runningTotal = 0;\n                    for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {\n                        var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);\n                        var value = data.valueFields.value;\n                        var summary = data.fields.summary;\n                        var from = total;\n                        var to;\n                        if (summary) {\n                            if (summary.toLowerCase() === 'total') {\n                                data.valueFields.value = total;\n                                from = 0;\n                                to = total;\n                            } else {\n                                data.valueFields.value = runningTotal;\n                                to = from - runningTotal;\n                                runningTotal = 0;\n                            }\n                        } else if (isNumber(value)) {\n                            runningTotal += value;\n                            total += value;\n                            to = total;\n                        }\n                        callback(data, {\n                            category: categories[categoryIx],\n                            categoryIx: categoryIx,\n                            series: currentSeries,\n                            seriesIx: seriesIx,\n                            total: total,\n                            runningTotal: runningTotal,\n                            from: from,\n                            to: to,\n                            isVertical: isVertical\n                        });\n                    }\n                }\n            },\n            updateRange: function (value, fields) {\n                BarChart.fn.updateRange.call(this, { value: fields.to }, fields);\n            },\n            aboveAxis: function (point) {\n                return point.value >= 0;\n            },\n            plotRange: function (point) {\n                return [\n                    point.from,\n                    point.to\n                ];\n            },\n            createSegments: function () {\n                var series = this.options.series;\n                var seriesPoints = this.seriesPoints;\n                var segments = this.segments = [];\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    var currentSeries = series[seriesIx];\n                    var points = seriesPoints[seriesIx];\n                    if (points) {\n                        var prevPoint;\n                        for (var pointIx = 0; pointIx < points.length; pointIx++) {\n                            var point = points[pointIx];\n                            if (point && prevPoint) {\n                                var segment = new WaterfallSegment(prevPoint, point, currentSeries);\n                                segments.push(segment);\n                                this.append(segment);\n                            }\n                            prevPoint = point;\n                        }\n                    }\n                }\n            }\n        });\n        var WaterfallSegment = ChartElement.extend({\n            init: function (from, to, series) {\n                var segment = this;\n                ChartElement.fn.init.call(segment);\n                segment.from = from;\n                segment.to = to;\n                segment.series = series;\n            },\n            options: {\n                animation: {\n                    type: FADEIN,\n                    delay: INITIAL_ANIMATION_DURATION\n                }\n            },\n            linePoints: function () {\n                var points = [];\n                var from = this.from;\n                var fromBox = from.box;\n                var toBox = this.to.box;\n                if (from.isVertical) {\n                    var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;\n                    points.push([\n                        fromBox.x1,\n                        y\n                    ], [\n                        toBox.x2,\n                        y\n                    ]);\n                } else {\n                    var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;\n                    points.push([\n                        x,\n                        fromBox.y1\n                    ], [\n                        x,\n                        toBox.y2\n                    ]);\n                }\n                return points;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var line = this.series.line || {};\n                var path = draw.Path.fromPoints(this.linePoints(), {\n                    stroke: {\n                        color: line.color,\n                        width: line.width,\n                        opacity: line.opacity,\n                        dashType: line.dashType\n                    }\n                });\n                alignPathToPixel(path);\n                this.visual.append(path);\n            }\n        });\n        function returnSelf() {\n            return this;\n        }\n        var Pane = BoxElement.extend({\n            init: function (options) {\n                var pane = this;\n                BoxElement.fn.init.call(pane, options);\n                options = pane.options;\n                pane.id = kendo.guid();\n                pane.createTitle();\n                pane.content = new ChartElement();\n                pane.chartContainer = new ChartContainer({}, pane);\n                pane.append(pane.content);\n                pane.axes = [];\n                pane.charts = [];\n            },\n            options: {\n                zIndex: -1,\n                shrinkToFit: true,\n                title: { align: LEFT },\n                visible: true\n            },\n            createTitle: function () {\n                var pane = this;\n                var titleOptions = pane.options.title;\n                if (typeof titleOptions === OBJECT) {\n                    titleOptions = deepExtend({}, titleOptions, {\n                        align: titleOptions.position,\n                        position: TOP\n                    });\n                }\n                pane.title = Title.buildTitle(titleOptions, pane, Pane.fn.options.title);\n            },\n            appendAxis: function (axis) {\n                var pane = this;\n                pane.content.append(axis);\n                pane.axes.push(axis);\n                axis.pane = pane;\n            },\n            appendChart: function (chart) {\n                var pane = this;\n                if (pane.chartContainer.parent !== pane.content) {\n                    pane.content.append(pane.chartContainer);\n                }\n                pane.charts.push(chart);\n                pane.chartContainer.append(chart);\n                chart.pane = pane;\n            },\n            empty: function () {\n                var pane = this, plotArea = pane.parent, i;\n                if (plotArea) {\n                    for (i = 0; i < pane.axes.length; i++) {\n                        plotArea.removeAxis(pane.axes[i]);\n                    }\n                    for (i = 0; i < pane.charts.length; i++) {\n                        plotArea.removeChart(pane.charts[i]);\n                    }\n                }\n                pane.axes = [];\n                pane.charts = [];\n                pane.content.destroy();\n                pane.content.children = [];\n                pane.chartContainer.children = [];\n            },\n            reflow: function (targetBox) {\n                var pane = this;\n                var content;\n                if (last(pane.children) === pane.content) {\n                    content = pane.children.pop();\n                }\n                BoxElement.fn.reflow.call(pane, targetBox);\n                if (content) {\n                    pane.children.push(content);\n                }\n                if (pane.title) {\n                    pane.contentBox.y1 += pane.title.box.height();\n                }\n            },\n            visualStyle: function () {\n                var style = BoxElement.fn.visualStyle.call(this);\n                style.zIndex = -10;\n                return style;\n            },\n            renderComplete: function () {\n                if (this.options.visible) {\n                    this.createGridLines();\n                }\n            },\n            stackRoot: returnSelf,\n            clipRoot: returnSelf,\n            createGridLines: function () {\n                var pane = this, axes = pane.axes, allAxes = axes.concat(pane.parent.axes), vGridLines = [], hGridLines = [], gridLines, i, j, axis, vertical, altAxis;\n                for (i = 0; i < axes.length; i++) {\n                    axis = axes[i];\n                    vertical = axis.options.vertical;\n                    gridLines = vertical ? vGridLines : hGridLines;\n                    for (j = 0; j < allAxes.length; j++) {\n                        if (gridLines.length === 0) {\n                            altAxis = allAxes[j];\n                            if (vertical !== altAxis.options.vertical) {\n                                append(gridLines, axis.createGridLines(altAxis));\n                            }\n                        }\n                    }\n                }\n            },\n            refresh: function () {\n                this.visual.clear();\n                this.content.parent = null;\n                this.content.createGradient = $.proxy(this.createGradient, this);\n                this.content.renderVisual();\n                this.content.parent = this;\n                if (this.title) {\n                    this.visual.append(this.title.visual);\n                }\n                this.visual.append(this.content.visual);\n                this.renderComplete();\n            },\n            chartsBox: function () {\n                var axes = this.axes, length = axes.length, chartsBox = new Box2D(), axisValueField, lineBox, axis, idx;\n                for (idx = 0; idx < length; idx++) {\n                    axis = axes[idx];\n                    axisValueField = axis.options.vertical ? Y : X;\n                    lineBox = axis.lineBox();\n                    chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];\n                    chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];\n                }\n                if (chartsBox.x2 === 0) {\n                    var allAxes = this.parent.axes;\n                    length = allAxes.length;\n                    for (idx = 0; idx < length; idx++) {\n                        axis = allAxes[idx];\n                        if (!axis.options.vertical) {\n                            lineBox = axis.lineBox();\n                            chartsBox.x1 = lineBox.x1;\n                            chartsBox.x2 = lineBox.x2;\n                        }\n                    }\n                }\n                return chartsBox;\n            },\n            clipBox: function () {\n                return this.chartContainer.clipBox;\n            }\n        });\n        var ChartContainer = ChartElement.extend({\n            init: function (options, pane) {\n                var container = this;\n                ChartElement.fn.init.call(container, options);\n                container.pane = pane;\n            },\n            shouldClip: function () {\n                var container = this, children = container.children, length = children.length, i;\n                for (i = 0; i < length; i++) {\n                    if (children[i].options.clip === true) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clipBox: function () {\n                return this.pane.chartsBox();\n            },\n            createVisual: function () {\n                this.visual = new draw.Group({ zIndex: 0 });\n                if (this.shouldClip()) {\n                    var clipBox = this.clipBox = this._clipBox();\n                    var clipRect = clipBox.toRect();\n                    var clipPath = draw.Path.fromRect(clipRect);\n                    this.visual.clip(clipPath);\n                    this.unclipLabels();\n                }\n            },\n            stackRoot: returnSelf,\n            unclipLabels: function () {\n                var container = this, charts = container.children, clipBox = container.clipBox, points, point, i, j, length, label, note;\n                for (i = 0; i < charts.length; i++) {\n                    points = charts[i].points || {};\n                    length = points.length;\n                    for (j = 0; j < length; j++) {\n                        point = points[j];\n                        if (point && point.overlapsBox && point.overlapsBox(clipBox)) {\n                            label = point.label;\n                            note = point.note;\n                            if (label && label.options.visible) {\n                                if (label.alignToClipBox) {\n                                    label.alignToClipBox(clipBox);\n                                }\n                                label.options.noclip = true;\n                            }\n                            if (note && note.options.visible) {\n                                note.options.noclip = true;\n                            }\n                        }\n                    }\n                }\n            },\n            destroy: function () {\n                ChartElement.fn.destroy.call(this);\n                delete this.parent;\n            }\n        });\n        var PlotAreaBase = ChartElement.extend({\n            init: function (series, options) {\n                var plotArea = this;\n                ChartElement.fn.init.call(plotArea, options);\n                plotArea.series = series;\n                plotArea.initSeries();\n                plotArea.charts = [];\n                plotArea.options.legend.items = [];\n                plotArea.axes = [];\n                plotArea.crosshairs = [];\n                plotArea.createPanes();\n                plotArea.render();\n                plotArea.createCrosshairs();\n            },\n            options: {\n                series: [],\n                plotArea: { margin: {} },\n                background: '',\n                border: {\n                    color: BLACK,\n                    width: 0\n                },\n                legend: {\n                    inactiveItems: {\n                        labels: { color: '#919191' },\n                        markers: { color: '#919191' }\n                    }\n                }\n            },\n            initSeries: function () {\n                var series = this.series, i, currentSeries;\n                for (i = 0; i < series.length; i++) {\n                    currentSeries = series[i];\n                    currentSeries.index = i;\n                }\n            },\n            createPanes: function () {\n                var plotArea = this, defaults = { title: { color: (plotArea.options.title || {}).color } }, panes = [], paneOptions = plotArea.options.panes || [], i, panesLength = math.max(paneOptions.length, 1), currentPane;\n                function setTitle(options, defaults) {\n                    if (typeof options.title === 'string') {\n                        options.title = { text: options.title };\n                    }\n                    options.title = deepExtend({}, defaults.title, options.title);\n                }\n                for (i = 0; i < panesLength; i++) {\n                    var options = paneOptions[i] || {};\n                    setTitle(options, defaults);\n                    currentPane = new Pane(options);\n                    currentPane.paneIndex = i;\n                    panes.push(currentPane);\n                    plotArea.append(currentPane);\n                }\n                plotArea.panes = panes;\n            },\n            createCrosshairs: function (panes) {\n                var plotArea = this, i, j, pane, axis, currentCrosshair;\n                panes = panes || plotArea.panes;\n                for (i = 0; i < panes.length; i++) {\n                    pane = panes[i];\n                    for (j = 0; j < pane.axes.length; j++) {\n                        axis = pane.axes[j];\n                        if (axis.options.crosshair && axis.options.crosshair.visible) {\n                            currentCrosshair = new Crosshair(axis, axis.options.crosshair);\n                            plotArea.crosshairs.push(currentCrosshair);\n                            pane.content.append(currentCrosshair);\n                        }\n                    }\n                }\n            },\n            removeCrosshairs: function (pane) {\n                var plotArea = this, crosshairs = plotArea.crosshairs, axes = pane.axes, i, j;\n                for (i = crosshairs.length - 1; i >= 0; i--) {\n                    for (j = 0; j < axes.length; j++) {\n                        if (crosshairs[i].axis === axes[j]) {\n                            crosshairs.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n            },\n            hideCrosshairs: function () {\n                var crosshairs = this.crosshairs;\n                for (var idx = 0; idx < crosshairs.length; idx++) {\n                    crosshairs[idx].hide();\n                }\n            },\n            findPane: function (name) {\n                var plotArea = this, panes = plotArea.panes, i, matchingPane;\n                for (i = 0; i < panes.length; i++) {\n                    if (panes[i].options.name === name) {\n                        matchingPane = panes[i];\n                        break;\n                    }\n                }\n                return matchingPane || panes[0];\n            },\n            findPointPane: function (point) {\n                var plotArea = this, panes = plotArea.panes, i, matchingPane;\n                for (i = 0; i < panes.length; i++) {\n                    if (panes[i].box.containsPoint(point)) {\n                        matchingPane = panes[i];\n                        break;\n                    }\n                }\n                return matchingPane;\n            },\n            appendAxis: function (axis) {\n                var plotArea = this, pane = plotArea.findPane(axis.options.pane);\n                pane.appendAxis(axis);\n                plotArea.axes.push(axis);\n                axis.plotArea = plotArea;\n            },\n            removeAxis: function (axisToRemove) {\n                var plotArea = this, i, axis, filteredAxes = [];\n                for (i = 0; i < plotArea.axes.length; i++) {\n                    axis = plotArea.axes[i];\n                    if (axisToRemove !== axis) {\n                        filteredAxes.push(axis);\n                    } else {\n                        axis.destroy();\n                    }\n                }\n                plotArea.axes = filteredAxes;\n            },\n            appendChart: function (chart, pane) {\n                var plotArea = this;\n                plotArea.charts.push(chart);\n                if (pane) {\n                    pane.appendChart(chart);\n                } else {\n                    plotArea.append(chart);\n                }\n            },\n            removeChart: function (chartToRemove) {\n                var plotArea = this, i, chart, filteredCharts = [];\n                for (i = 0; i < plotArea.charts.length; i++) {\n                    chart = plotArea.charts[i];\n                    if (chart !== chartToRemove) {\n                        filteredCharts.push(chart);\n                    } else {\n                        chart.destroy();\n                    }\n                }\n                plotArea.charts = filteredCharts;\n            },\n            addToLegend: function (series) {\n                var count = series.length, data = [], i, currentSeries, text, legend = this.options.legend, labels = legend.labels || {}, inactiveItems = legend.inactiveItems || {}, inactiveItemsLabels = inactiveItems.labels || {}, color, itemLabelOptions, markerColor, defaults, seriesVisible, labelTemplate;\n                for (i = 0; i < count; i++) {\n                    currentSeries = series[i];\n                    seriesVisible = currentSeries.visible !== false;\n                    if (currentSeries.visibleInLegend === false) {\n                        continue;\n                    }\n                    text = currentSeries.name || '';\n                    labelTemplate = seriesVisible ? labels.template : inactiveItemsLabels.template || labels.template;\n                    if (labelTemplate) {\n                        text = template(labelTemplate)({\n                            text: text,\n                            series: currentSeries\n                        });\n                    }\n                    color = currentSeries.color;\n                    defaults = currentSeries._defaults;\n                    if (isFn(color) && defaults) {\n                        color = defaults.color;\n                    }\n                    if (seriesVisible) {\n                        itemLabelOptions = {};\n                        markerColor = color;\n                    } else {\n                        itemLabelOptions = {\n                            color: inactiveItemsLabels.color,\n                            font: inactiveItemsLabels.font\n                        };\n                        markerColor = inactiveItems.markers.color;\n                    }\n                    if (text) {\n                        data.push({\n                            text: text,\n                            labels: itemLabelOptions,\n                            markerColor: markerColor,\n                            series: currentSeries,\n                            active: seriesVisible\n                        });\n                    }\n                }\n                append(legend.items, data);\n            },\n            groupAxes: function (panes) {\n                var xAxes = [], yAxes = [], paneAxes, axis, paneIx, axisIx;\n                for (paneIx = 0; paneIx < panes.length; paneIx++) {\n                    paneAxes = panes[paneIx].axes;\n                    for (axisIx = 0; axisIx < paneAxes.length; axisIx++) {\n                        axis = paneAxes[axisIx];\n                        if (axis.options.vertical) {\n                            yAxes.push(axis);\n                        } else {\n                            xAxes.push(axis);\n                        }\n                    }\n                }\n                return {\n                    x: xAxes,\n                    y: yAxes,\n                    any: xAxes.concat(yAxes)\n                };\n            },\n            groupSeriesByPane: function () {\n                var plotArea = this, series = plotArea.series, seriesByPane = {}, i, pane, currentSeries;\n                for (i = 0; i < series.length; i++) {\n                    currentSeries = series[i];\n                    pane = plotArea.seriesPaneName(currentSeries);\n                    if (seriesByPane[pane]) {\n                        seriesByPane[pane].push(currentSeries);\n                    } else {\n                        seriesByPane[pane] = [currentSeries];\n                    }\n                }\n                return seriesByPane;\n            },\n            filterVisibleSeries: function (series) {\n                var i, currentSeries, result = [];\n                for (i = 0; i < series.length; i++) {\n                    currentSeries = series[i];\n                    if (currentSeries.visible !== false) {\n                        result.push(currentSeries);\n                    }\n                }\n                return result;\n            },\n            reflow: function (targetBox) {\n                var plotArea = this, options = plotArea.options.plotArea, panes = plotArea.panes, margin = getSpacing(options.margin);\n                plotArea.box = targetBox.clone().unpad(margin);\n                plotArea.reflowPanes();\n                plotArea.reflowAxes(panes);\n                plotArea.reflowCharts(panes);\n            },\n            redraw: function (panes) {\n                var plotArea = this, i;\n                panes = [].concat(panes);\n                this.initSeries();\n                for (i = 0; i < panes.length; i++) {\n                    plotArea.removeCrosshairs(panes[i]);\n                    panes[i].empty();\n                }\n                plotArea.render(panes);\n                plotArea.reflowAxes(plotArea.panes);\n                plotArea.reflowCharts(panes);\n                plotArea.createCrosshairs(panes);\n                for (i = 0; i < panes.length; i++) {\n                    panes[i].refresh();\n                }\n            },\n            axisCrossingValues: function (axis, crossingAxes) {\n                var options = axis.options, crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue), valuesToAdd = crossingAxes.length - crossingValues.length, defaultValue = crossingValues[0] || 0, i;\n                for (i = 0; i < valuesToAdd; i++) {\n                    crossingValues.push(defaultValue);\n                }\n                return crossingValues;\n            },\n            alignAxisTo: function (axis, targetAxis, crossingValue, targetCrossingValue) {\n                var slot = axis.getSlot(crossingValue, crossingValue, true), slotEdge = axis.options.reverse ? 2 : 1, targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true), targetEdge = targetAxis.options.reverse ? 2 : 1, axisBox = axis.box.translate(targetSlot[X + targetEdge] - slot[X + slotEdge], targetSlot[Y + targetEdge] - slot[Y + slotEdge]);\n                if (axis.pane !== targetAxis.pane) {\n                    axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);\n                }\n                axis.reflow(axisBox);\n            },\n            alignAxes: function (xAxes, yAxes) {\n                var plotArea = this, xAnchor = xAxes[0], yAnchor = yAxes[0], xAnchorCrossings = plotArea.axisCrossingValues(xAnchor, yAxes), yAnchorCrossings = plotArea.axisCrossingValues(yAnchor, xAxes), anchor, anchorCrossings, leftAnchors = {}, rightAnchors = {}, topAnchors = {}, bottomAnchors = {}, pane, paneId, axis, i;\n                for (i = 0; i < yAxes.length; i++) {\n                    axis = yAxes[i];\n                    pane = axis.pane;\n                    paneId = pane.id;\n                    anchor = paneAnchor(xAxes, pane) || xAnchor;\n                    anchorCrossings = xAnchorCrossings;\n                    if (anchor !== xAnchor) {\n                        anchorCrossings = plotArea.axisCrossingValues(anchor, yAxes);\n                    }\n                    plotArea.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n                    if (axis.options._overlap) {\n                        continue;\n                    }\n                    if (round(axis.lineBox().x1) === round(anchor.lineBox().x1)) {\n                        if (leftAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(leftAnchors[paneId].box, LEFT).translate(-axis.options.margin, 0));\n                        }\n                        leftAnchors[paneId] = axis;\n                    }\n                    if (round(axis.lineBox().x2) === round(anchor.lineBox().x2)) {\n                        if (!axis._mirrored) {\n                            axis.options.labels.mirror = !axis.options.labels.mirror;\n                            axis._mirrored = true;\n                        }\n                        plotArea.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n                        if (rightAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(rightAnchors[paneId].box, RIGHT).translate(axis.options.margin, 0));\n                        }\n                        rightAnchors[paneId] = axis;\n                    }\n                    if (i !== 0 && yAnchor.pane === axis.pane) {\n                        axis.alignTo(yAnchor);\n                        axis.reflow(axis.box);\n                    }\n                }\n                for (i = 0; i < xAxes.length; i++) {\n                    axis = xAxes[i];\n                    pane = axis.pane;\n                    paneId = pane.id;\n                    anchor = paneAnchor(yAxes, pane) || yAnchor;\n                    anchorCrossings = yAnchorCrossings;\n                    if (anchor !== yAnchor) {\n                        anchorCrossings = plotArea.axisCrossingValues(anchor, xAxes);\n                    }\n                    plotArea.alignAxisTo(axis, anchor, xAnchorCrossings[i], anchorCrossings[i]);\n                    if (axis.options._overlap) {\n                        continue;\n                    }\n                    if (round(axis.lineBox().y1) === round(anchor.lineBox().y1)) {\n                        if (!axis._mirrored) {\n                            axis.options.labels.mirror = !axis.options.labels.mirror;\n                            axis._mirrored = true;\n                        }\n                        plotArea.alignAxisTo(axis, anchor, xAnchorCrossings[i], anchorCrossings[i]);\n                        if (topAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(topAnchors[paneId].box, TOP).translate(0, -axis.options.margin));\n                        }\n                        topAnchors[paneId] = axis;\n                    }\n                    if (round(axis.lineBox().y2, COORD_PRECISION) === round(anchor.lineBox().y2, COORD_PRECISION)) {\n                        if (bottomAnchors[paneId]) {\n                            axis.reflow(axis.box.alignTo(bottomAnchors[paneId].box, BOTTOM).translate(0, axis.options.margin));\n                        }\n                        bottomAnchors[paneId] = axis;\n                    }\n                    if (i !== 0) {\n                        axis.alignTo(xAnchor);\n                        axis.reflow(axis.box);\n                    }\n                }\n            },\n            shrinkAxisWidth: function (panes) {\n                var plotArea = this, axes = plotArea.groupAxes(panes).any, axisBox = axisGroupBox(axes), overflowX = 0, i, currentPane, currentAxis;\n                for (i = 0; i < panes.length; i++) {\n                    currentPane = panes[i];\n                    if (currentPane.axes.length > 0) {\n                        overflowX = math.max(overflowX, axisBox.width() - currentPane.contentBox.width());\n                    }\n                }\n                if (overflowX !== 0) {\n                    for (i = 0; i < axes.length; i++) {\n                        currentAxis = axes[i];\n                        if (!currentAxis.options.vertical) {\n                            currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));\n                        }\n                    }\n                }\n            },\n            shrinkAxisHeight: function (panes) {\n                var i, currentPane, axes, overflowY, j, currentAxis, shrinked;\n                for (i = 0; i < panes.length; i++) {\n                    currentPane = panes[i];\n                    axes = currentPane.axes;\n                    overflowY = math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());\n                    if (overflowY !== 0) {\n                        for (j = 0; j < axes.length; j++) {\n                            currentAxis = axes[j];\n                            if (currentAxis.options.vertical) {\n                                currentAxis.reflow(currentAxis.box.shrink(0, overflowY));\n                            }\n                        }\n                        shrinked = true;\n                    }\n                }\n                return shrinked;\n            },\n            fitAxes: function (panes) {\n                var plotArea = this, axes = plotArea.groupAxes(panes).any, offsetX = 0, paneAxes, paneBox, axisBox, offsetY, currentPane, currentAxis, i, j;\n                for (i = 0; i < panes.length; i++) {\n                    currentPane = panes[i];\n                    paneAxes = currentPane.axes;\n                    paneBox = currentPane.contentBox;\n                    if (paneAxes.length > 0) {\n                        axisBox = axisGroupBox(paneAxes);\n                        offsetX = math.max(offsetX, paneBox.x1 - axisBox.x1);\n                        offsetY = math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);\n                        for (j = 0; j < paneAxes.length; j++) {\n                            currentAxis = paneAxes[j];\n                            currentAxis.reflow(currentAxis.box.translate(0, offsetY));\n                        }\n                    }\n                }\n                for (i = 0; i < axes.length; i++) {\n                    currentAxis = axes[i];\n                    currentAxis.reflow(currentAxis.box.translate(offsetX, 0));\n                }\n            },\n            reflowAxes: function (panes) {\n                var plotArea = this, i, axes = plotArea.groupAxes(panes);\n                for (i = 0; i < panes.length; i++) {\n                    plotArea.reflowPaneAxes(panes[i]);\n                }\n                if (axes.x.length > 0 && axes.y.length > 0) {\n                    plotArea.alignAxes(axes.x, axes.y);\n                    plotArea.shrinkAxisWidth(panes);\n                    plotArea.autoRotateAxisLabels(axes);\n                    plotArea.alignAxes(axes.x, axes.y);\n                    if (plotArea.shrinkAxisWidth(panes)) {\n                        plotArea.alignAxes(axes.x, axes.y);\n                    }\n                    plotArea.shrinkAxisHeight(panes);\n                    plotArea.alignAxes(axes.x, axes.y);\n                    if (plotArea.shrinkAxisHeight(panes)) {\n                        plotArea.alignAxes(axes.x, axes.y);\n                    }\n                    plotArea.fitAxes(panes);\n                }\n            },\n            autoRotateAxisLabels: function (groupedAxes) {\n                var axes = this.axes;\n                var panes = this.panes;\n                var axis, idx, rotated;\n                for (idx = 0; idx < axes.length; idx++) {\n                    axis = axes[idx];\n                    if (axis.autoRotateLabels()) {\n                        rotated = true;\n                    }\n                }\n                if (rotated) {\n                    for (idx = 0; idx < panes.length; idx++) {\n                        this.reflowPaneAxes(panes[idx]);\n                    }\n                    if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {\n                        this.alignAxes(groupedAxes.x, groupedAxes.y);\n                        this.shrinkAxisWidth(panes);\n                    }\n                }\n            },\n            reflowPaneAxes: function (pane) {\n                var axes = pane.axes, i, length = axes.length;\n                if (length > 0) {\n                    for (i = 0; i < length; i++) {\n                        axes[i].reflow(pane.contentBox);\n                    }\n                }\n            },\n            reflowCharts: function (panes) {\n                var plotArea = this, charts = plotArea.charts, count = charts.length, box = plotArea.box, chartPane, i;\n                for (i = 0; i < count; i++) {\n                    chartPane = charts[i].pane;\n                    if (!chartPane || inArray(chartPane, panes)) {\n                        charts[i].reflow(box);\n                    }\n                }\n            },\n            reflowPanes: function () {\n                var plotArea = this, box = plotArea.box, panes = plotArea.panes, panesLength = panes.length, i, currentPane, paneBox, remainingHeight = box.height(), remainingPanes = panesLength, autoHeightPanes = 0, top = box.y1, height, percents;\n                for (i = 0; i < panesLength; i++) {\n                    currentPane = panes[i];\n                    height = currentPane.options.height;\n                    currentPane.options.width = box.width();\n                    if (!currentPane.options.height) {\n                        autoHeightPanes++;\n                    } else {\n                        if (height.indexOf && height.indexOf('%')) {\n                            percents = parseInt(height, 10) / 100;\n                            currentPane.options.height = percents * box.height();\n                        }\n                        currentPane.reflow(box.clone());\n                        remainingHeight -= currentPane.options.height;\n                    }\n                }\n                for (i = 0; i < panesLength; i++) {\n                    currentPane = panes[i];\n                    if (!currentPane.options.height) {\n                        currentPane.options.height = remainingHeight / autoHeightPanes;\n                    }\n                }\n                for (i = 0; i < panesLength; i++) {\n                    currentPane = panes[i];\n                    paneBox = box.clone().move(box.x1, top);\n                    currentPane.reflow(paneBox);\n                    remainingPanes--;\n                    top += currentPane.options.height;\n                }\n            },\n            backgroundBox: function () {\n                var plotArea = this, axes = plotArea.axes, axesCount = axes.length, lineBox, box, i, j, axisA, axisB;\n                for (i = 0; i < axesCount; i++) {\n                    axisA = axes[i];\n                    for (j = 0; j < axesCount; j++) {\n                        axisB = axes[j];\n                        if (axisA.options.vertical !== axisB.options.vertical) {\n                            lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());\n                            if (!box) {\n                                box = lineBox;\n                            } else {\n                                box = box.wrap(lineBox);\n                            }\n                        }\n                    }\n                }\n                return box || plotArea.box;\n            },\n            chartsBoxes: function () {\n                var panes = this.panes;\n                var boxes = [];\n                for (var idx = 0; idx < panes.length; idx++) {\n                    boxes.push(panes[idx].chartsBox());\n                }\n                return boxes;\n            },\n            addBackgroundPaths: function (multipath) {\n                var boxes = this.chartsBoxes();\n                for (var idx = 0; idx < boxes.length; idx++) {\n                    multipath.paths.push(draw.Path.fromRect(boxes[idx].toRect()));\n                }\n            },\n            backgroundContainsPoint: function (point) {\n                var boxes = this.chartsBoxes();\n                for (var idx = 0; idx < boxes.length; idx++) {\n                    if (boxes[idx].containsPoint(point)) {\n                        return true;\n                    }\n                }\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options.plotArea;\n                var border = options.border || {};\n                var background = options.background;\n                var opacity = options.opacity;\n                if (util.isTransparent(background)) {\n                    background = WHITE;\n                    opacity = 0;\n                }\n                var bg = this._bgVisual = new draw.MultiPath({\n                    fill: {\n                        color: background,\n                        opacity: opacity\n                    },\n                    stroke: {\n                        color: border.width ? border.color : '',\n                        width: border.width,\n                        dashType: border.dashType\n                    },\n                    zIndex: -1\n                });\n                this.addBackgroundPaths(bg);\n                this.appendVisual(bg);\n            },\n            pointsByCategoryIndex: function (categoryIndex) {\n                var charts = this.charts, result = [], i, j, points, point, chart;\n                if (categoryIndex !== null) {\n                    for (i = 0; i < charts.length; i++) {\n                        chart = charts[i];\n                        if (chart.pane.options.name === '_navigator') {\n                            continue;\n                        }\n                        points = charts[i].categoryPoints[categoryIndex];\n                        if (points && points.length) {\n                            for (j = 0; j < points.length; j++) {\n                                point = points[j];\n                                if (point && defined(point.value) && point.value !== null) {\n                                    result.push(point);\n                                }\n                            }\n                        }\n                    }\n                }\n                return result;\n            },\n            pointsBySeriesIndex: function (seriesIndex) {\n                return this.filterPoints(function (point) {\n                    return point.series.index === seriesIndex;\n                });\n            },\n            pointsBySeriesName: function (name) {\n                return this.filterPoints(function (point) {\n                    return point.series.name === name;\n                });\n            },\n            filterPoints: function (callback) {\n                var charts = this.charts, result = [], points, point, i, j, chart;\n                for (i = 0; i < charts.length; i++) {\n                    chart = charts[i];\n                    points = chart.points;\n                    for (j = 0; j < points.length; j++) {\n                        point = points[j];\n                        if (point && callback(point)) {\n                            result.push(point);\n                        }\n                    }\n                }\n                return result;\n            },\n            findPoint: function (callback) {\n                var charts = this.charts, points, point, i, j, chart;\n                for (i = 0; i < charts.length; i++) {\n                    chart = charts[i];\n                    points = chart.points;\n                    for (j = 0; j < points.length; j++) {\n                        point = points[j];\n                        if (point && callback(point)) {\n                            return point;\n                        }\n                    }\n                }\n            },\n            paneByPoint: function (point) {\n                var plotArea = this, panes = plotArea.panes, pane, i;\n                for (i = 0; i < panes.length; i++) {\n                    pane = panes[i];\n                    if (pane.box.containsPoint(point)) {\n                        return pane;\n                    }\n                }\n            }\n        });\n        var PlotAreaEventsMixin = {\n            hover: function (chart, e) {\n                this._dispatchEvent(chart, e, PLOT_AREA_HOVER);\n            },\n            click: function (chart, e) {\n                this._dispatchEvent(chart, e, PLOT_AREA_CLICK);\n            }\n        };\n        var CategoricalPlotArea = PlotAreaBase.extend({\n            init: function (series, options) {\n                var plotArea = this;\n                plotArea.namedCategoryAxes = {};\n                plotArea.namedValueAxes = {};\n                plotArea.valueAxisRangeTracker = new AxisGroupRangeTracker();\n                if (series.length > 0) {\n                    plotArea.invertAxes = inArray(series[0].type, [\n                        BAR,\n                        BULLET,\n                        VERTICAL_LINE,\n                        VERTICAL_AREA,\n                        RANGE_BAR,\n                        HORIZONTAL_WATERFALL,\n                        VERTICAL_BOX_PLOT\n                    ]);\n                    for (var i = 0; i < series.length; i++) {\n                        var stack = series[i].stack;\n                        if (stack && stack.type === '100%') {\n                            plotArea.stack100 = true;\n                            break;\n                        }\n                    }\n                }\n                PlotAreaBase.fn.init.call(plotArea, series, options);\n            },\n            options: {\n                categoryAxis: { categories: [] },\n                valueAxis: {}\n            },\n            render: function (panes) {\n                var plotArea = this;\n                panes = panes || plotArea.panes;\n                plotArea.createCategoryAxes(panes);\n                plotArea.aggregateCategories(panes);\n                plotArea.createCategoryAxesLabels(panes);\n                plotArea.createCharts(panes);\n                plotArea.createValueAxes(panes);\n            },\n            removeAxis: function (axis) {\n                var plotArea = this, axisName = axis.options.name;\n                PlotAreaBase.fn.removeAxis.call(plotArea, axis);\n                if (axis instanceof CategoryAxis) {\n                    delete plotArea.namedCategoryAxes[axisName];\n                } else {\n                    plotArea.valueAxisRangeTracker.reset(axisName);\n                    delete plotArea.namedValueAxes[axisName];\n                }\n                if (axis === plotArea.categoryAxis) {\n                    delete plotArea.categoryAxis;\n                }\n                if (axis === plotArea.valueAxis) {\n                    delete plotArea.valueAxis;\n                }\n            },\n            createCharts: function (panes) {\n                var seriesByPane = this.groupSeriesByPane();\n                for (var i = 0; i < panes.length; i++) {\n                    var pane = panes[i];\n                    var paneSeries = seriesByPane[pane.options.name || 'default'] || [];\n                    this.addToLegend(paneSeries);\n                    var visibleSeries = this.filterVisibleSeries(paneSeries);\n                    if (!visibleSeries) {\n                        continue;\n                    }\n                    var groups = this.groupSeriesByCategoryAxis(visibleSeries);\n                    for (var groupIx = 0; groupIx < groups.length; groupIx++) {\n                        this.createChartGroup(groups[groupIx], pane);\n                    }\n                }\n            },\n            createChartGroup: function (series, pane) {\n                this.createAreaChart(filterSeriesByType(series, [\n                    AREA,\n                    VERTICAL_AREA\n                ]), pane);\n                this.createBarChart(filterSeriesByType(series, [\n                    COLUMN,\n                    BAR\n                ]), pane);\n                this.createRangeBarChart(filterSeriesByType(series, [\n                    RANGE_COLUMN,\n                    RANGE_BAR\n                ]), pane);\n                this.createBulletChart(filterSeriesByType(series, [\n                    BULLET,\n                    VERTICAL_BULLET\n                ]), pane);\n                this.createCandlestickChart(filterSeriesByType(series, CANDLESTICK), pane);\n                this.createBoxPlotChart(filterSeriesByType(series, [\n                    BOX_PLOT,\n                    VERTICAL_BOX_PLOT\n                ]), pane);\n                this.createOHLCChart(filterSeriesByType(series, OHLC), pane);\n                this.createWaterfallChart(filterSeriesByType(series, [\n                    WATERFALL,\n                    HORIZONTAL_WATERFALL\n                ]), pane);\n                this.createLineChart(filterSeriesByType(series, [\n                    LINE,\n                    VERTICAL_LINE\n                ]), pane);\n            },\n            aggregateCategories: function (panes) {\n                var plotArea = this, series = plotArea.srcSeries || plotArea.series, processedSeries = [], i, currentSeries, categoryAxis, axisPane, dateAxis;\n                for (i = 0; i < series.length; i++) {\n                    currentSeries = series[i];\n                    categoryAxis = plotArea.seriesCategoryAxis(currentSeries);\n                    axisPane = plotArea.findPane(categoryAxis.options.pane);\n                    dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\n                    if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {\n                        currentSeries = plotArea.aggregateSeries(currentSeries, categoryAxis);\n                    } else if (isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max)) {\n                        currentSeries = plotArea.filterSeries(currentSeries, categoryAxis);\n                    }\n                    processedSeries.push(currentSeries);\n                }\n                plotArea.srcSeries = series;\n                plotArea.series = processedSeries;\n            },\n            filterSeries: function (currentSeries, categoryAxis) {\n                var range = categoryAxis.totalRangeIndices();\n                var justified = categoryAxis.options.justified;\n                var outOfRangePoints = inArray(currentSeries.type, [\n                    LINE,\n                    VERTICAL_LINE,\n                    AREA,\n                    VERTICAL_AREA\n                ]);\n                var categoryIx;\n                range.min = isNumber(categoryAxis.options.min) ? math.floor(range.min) : 0;\n                range.max = isNumber(categoryAxis.options.max) ? justified ? math.floor(range.max) + 1 : math.ceil(range.max) : currentSeries.data.length;\n                currentSeries = deepExtend({}, currentSeries);\n                if (outOfRangePoints) {\n                    var minCategory = range.min - 1;\n                    var srcCategories = categoryAxis.options.srcCategories || [];\n                    if (minCategory >= 0 && minCategory < currentSeries.data.length) {\n                        categoryIx = minCategory;\n                        currentSeries._outOfRangeMinPoint = {\n                            item: currentSeries.data[categoryIx],\n                            category: srcCategories[categoryIx],\n                            categoryIx: -1\n                        };\n                    }\n                    if (range.max < currentSeries.data.length) {\n                        categoryIx = range.max;\n                        currentSeries._outOfRangeMaxPoint = {\n                            item: currentSeries.data[categoryIx],\n                            category: srcCategories[categoryIx],\n                            categoryIx: range.max - range.min\n                        };\n                    }\n                }\n                categoryAxis._seriesMax = math.max(categoryAxis._seriesMax || 0, currentSeries.data.length);\n                currentSeries.data = (currentSeries.data || []).slice(range.min, range.max);\n                return currentSeries;\n            },\n            aggregateSeries: function (series, categoryAxis) {\n                var axisOptions = categoryAxis.options, dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE), categories = axisOptions.categories, srcCategories = axisOptions.srcCategories || categories, srcData = series.data, srcPoints = [], result = deepExtend({}, series), aggregatorSeries = deepExtend({}, series), dataItems = axisOptions.dataItems || [], i, category, categoryIx, data, aggregator, getFn = getField, outOfRangeMinIdx = util.MIN_NUM, outOfRangeMinCategory, outOfRangeMaxCategory, outOfRangeMaxIdx = util.MAX_NUM, outOfRangePoints = inArray(series.type, [\n                        LINE,\n                        VERTICAL_LINE,\n                        AREA,\n                        VERTICAL_AREA\n                    ]);\n                result.data = data = [];\n                if (dateAxis) {\n                    getFn = getDateField;\n                }\n                for (i = 0; i < srcData.length; i++) {\n                    if (series.categoryField) {\n                        category = getFn(series.categoryField, srcData[i]);\n                    } else {\n                        category = srcCategories[i];\n                    }\n                    if (defined(category)) {\n                        categoryIx = categoryAxis.categoryIndex(category);\n                        if (0 <= categoryIx && categoryIx < categories.length) {\n                            srcPoints[categoryIx] = srcPoints[categoryIx] || [];\n                            srcPoints[categoryIx].push(i);\n                        } else if (outOfRangePoints) {\n                            if (categoryIx < 0) {\n                                if (categoryIx == outOfRangeMinIdx) {\n                                    outOfRangeMinCategory.points.push(i);\n                                } else if (categoryIx > outOfRangeMinIdx) {\n                                    outOfRangeMinIdx = categoryIx;\n                                    outOfRangeMinCategory = {\n                                        category: category,\n                                        points: [i]\n                                    };\n                                }\n                            } else if (categoryIx >= categories.length) {\n                                if (categoryIx == outOfRangeMaxIdx) {\n                                    outOfRangeMaxCategory.points.push(i);\n                                } else if (categoryIx < outOfRangeMaxIdx) {\n                                    outOfRangeMaxIdx = categoryIx;\n                                    outOfRangeMaxCategory = {\n                                        category: category,\n                                        points: [i]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n                aggregator = new SeriesAggregator(aggregatorSeries, SeriesBinder.current, DefaultAggregates.current);\n                for (i = 0; i < categories.length; i++) {\n                    data[i] = aggregator.aggregatePoints(srcPoints[i], categories[i]);\n                    if (srcPoints[i]) {\n                        dataItems[i] = data[i];\n                    }\n                }\n                if (outOfRangeMinCategory && data.length) {\n                    result._outOfRangeMinPoint = {\n                        item: aggregator.aggregatePoints(outOfRangeMinCategory.points, outOfRangeMinCategory.category),\n                        categoryIx: outOfRangeMinIdx,\n                        category: outOfRangeMinCategory.category\n                    };\n                }\n                if (outOfRangeMaxCategory && data.length) {\n                    result._outOfRangeMaxPoint = {\n                        item: aggregator.aggregatePoints(outOfRangeMaxCategory.points, outOfRangeMaxCategory.category),\n                        categoryIx: outOfRangeMaxIdx,\n                        category: outOfRangeMaxCategory.category\n                    };\n                }\n                categoryAxis.options.dataItems = dataItems;\n                return result;\n            },\n            appendChart: function (chart, pane) {\n                var plotArea = this, series = chart.options.series, categoryAxis = plotArea.seriesCategoryAxis(series[0]), categories = categoryAxis.options.categories, categoriesToAdd = math.max(0, categoriesCount(series) - categories.length);\n                while (categoriesToAdd--) {\n                    categories.push('');\n                }\n                plotArea.valueAxisRangeTracker.update(chart.valueAxisRanges);\n                PlotAreaBase.fn.appendChart.call(plotArea, chart, pane);\n            },\n            seriesPaneName: function (series) {\n                var plotArea = this, options = plotArea.options, axisName = series.axis, axisOptions = [].concat(options.valueAxis), axis = $.grep(axisOptions, function (a) {\n                        return a.name === axisName;\n                    })[0], panes = options.panes || [{}], defaultPaneName = (panes[0] || {}).name || 'default', paneName = (axis || {}).pane || defaultPaneName;\n                return paneName;\n            },\n            seriesCategoryAxis: function (series) {\n                var plotArea = this, axisName = series.categoryAxis, axis = axisName ? plotArea.namedCategoryAxes[axisName] : plotArea.categoryAxis;\n                if (!axis) {\n                    throw new Error('Unable to locate category axis with name ' + axisName);\n                }\n                return axis;\n            },\n            stackableChartOptions: function (firstSeries, pane) {\n                var stack = firstSeries.stack;\n                var isStacked100 = stack && stack.type === '100%';\n                var clip = pane.options.clip;\n                return {\n                    isStacked: stack,\n                    isStacked100: isStacked100,\n                    clip: clip\n                };\n            },\n            groupSeriesByCategoryAxis: function (series) {\n                var unique = {};\n                var categoryAxes = $.map(series, function (s) {\n                    var name = s.categoryAxis || '$$default$$';\n                    if (!unique.hasOwnProperty(name)) {\n                        unique[name] = true;\n                        return name;\n                    }\n                });\n                function groupSeries(axis, axisIx) {\n                    return $.grep(series, function (s) {\n                        return axisIx === 0 && !s.categoryAxis || s.categoryAxis == axis;\n                    });\n                }\n                var groups = [];\n                for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {\n                    var axis = categoryAxes[axisIx];\n                    var axisSeries = groupSeries(axis, axisIx);\n                    if (axisSeries.length === 0) {\n                        continue;\n                    }\n                    groups.push(axisSeries);\n                }\n                return groups;\n            },\n            createBarChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], barChart = new BarChart(plotArea, extend({\n                        series: series,\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        spacing: firstSeries.spacing\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\n                plotArea.appendChart(barChart, pane);\n            },\n            createRangeBarChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], rangeColumnChart = new RangeBarChart(plotArea, {\n                        series: series,\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        spacing: firstSeries.spacing\n                    });\n                plotArea.appendChart(rangeColumnChart, pane);\n            },\n            createBulletChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], bulletChart = new BulletChart(plotArea, {\n                        series: series,\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        spacing: firstSeries.spacing,\n                        clip: pane.options.clip\n                    });\n                plotArea.appendChart(bulletChart, pane);\n            },\n            createLineChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], lineChart = new LineChart(plotArea, extend({\n                        invertAxes: plotArea.invertAxes,\n                        series: series\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\n                plotArea.appendChart(lineChart, pane);\n            },\n            createAreaChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], areaChart = new AreaChart(plotArea, extend({\n                        invertAxes: plotArea.invertAxes,\n                        series: series\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\n                plotArea.appendChart(areaChart, pane);\n            },\n            createOHLCChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], chart = new OHLCChart(plotArea, {\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        series: series,\n                        spacing: firstSeries.spacing,\n                        clip: pane.options.clip\n                    });\n                plotArea.appendChart(chart, pane);\n            },\n            createCandlestickChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], chart = new CandlestickChart(plotArea, {\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        series: series,\n                        spacing: firstSeries.spacing,\n                        clip: pane.options.clip\n                    });\n                plotArea.appendChart(chart, pane);\n            },\n            createBoxPlotChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], chart = new BoxPlotChart(plotArea, {\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        series: series,\n                        spacing: firstSeries.spacing,\n                        clip: pane.options.clip\n                    });\n                plotArea.appendChart(chart, pane);\n            },\n            createWaterfallChart: function (series, pane) {\n                if (series.length === 0) {\n                    return;\n                }\n                var plotArea = this, firstSeries = series[0], waterfallChart = new WaterfallChart(plotArea, {\n                        series: series,\n                        invertAxes: plotArea.invertAxes,\n                        gap: firstSeries.gap,\n                        spacing: firstSeries.spacing\n                    });\n                plotArea.appendChart(waterfallChart, pane);\n            },\n            axisRequiresRounding: function (categoryAxisName, categoryAxisIndex) {\n                var plotArea = this, centeredSeries = filterSeriesByType(plotArea.series, EQUALLY_SPACED_SERIES), seriesIx, seriesAxis;\n                for (seriesIx = 0; seriesIx < plotArea.series.length; seriesIx++) {\n                    var currentSeries = plotArea.series[seriesIx];\n                    if (currentSeries.type === LINE || currentSeries.type === AREA) {\n                        var line = currentSeries.line;\n                        if (line && line.style === STEP) {\n                            centeredSeries.push(currentSeries);\n                        }\n                    }\n                }\n                for (seriesIx = 0; seriesIx < centeredSeries.length; seriesIx++) {\n                    seriesAxis = centeredSeries[seriesIx].categoryAxis || '';\n                    if (seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) {\n                        return true;\n                    }\n                }\n            },\n            aggregatedAxis: function (categoryAxisName, categoryAxisIndex) {\n                var plotArea = this, series = plotArea.series, seriesIx, seriesAxis;\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    seriesAxis = series[seriesIx].categoryAxis || '';\n                    if ((seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) && series[seriesIx].categoryField) {\n                        return true;\n                    }\n                }\n            },\n            createCategoryAxesLabels: function () {\n                var axes = this.axes;\n                for (var i = 0; i < axes.length; i++) {\n                    if (axes[i] instanceof CategoryAxis) {\n                        axes[i].createLabels();\n                    }\n                }\n            },\n            createCategoryAxes: function (panes) {\n                var plotArea = this, invertAxes = plotArea.invertAxes, definitions = [].concat(plotArea.options.categoryAxis), i, axisOptions, axisPane, categories, type, name, categoryAxis, axes = [], primaryAxis;\n                for (i = 0; i < definitions.length; i++) {\n                    axisOptions = definitions[i];\n                    axisPane = plotArea.findPane(axisOptions.pane);\n                    if (inArray(axisPane, panes)) {\n                        name = axisOptions.name;\n                        categories = axisOptions.categories || [];\n                        type = axisOptions.type || '';\n                        axisOptions = deepExtend({\n                            vertical: invertAxes,\n                            axisCrossingValue: invertAxes ? MAX_VALUE : 0,\n                            _deferLabels: true\n                        }, axisOptions);\n                        if (!defined(axisOptions.justified)) {\n                            axisOptions.justified = plotArea.isJustified();\n                        }\n                        if (plotArea.axisRequiresRounding(name, i)) {\n                            axisOptions.justified = false;\n                        }\n                        if (isDateAxis(axisOptions, categories[0])) {\n                            categoryAxis = new DateCategoryAxis(axisOptions);\n                        } else {\n                            categoryAxis = new CategoryAxis(axisOptions);\n                        }\n                        if (name) {\n                            if (plotArea.namedCategoryAxes[name]) {\n                                throw new Error('Category axis with name ' + name + ' is already defined');\n                            }\n                            plotArea.namedCategoryAxes[name] = categoryAxis;\n                        }\n                        categoryAxis.axisIndex = i;\n                        axes.push(categoryAxis);\n                        plotArea.appendAxis(categoryAxis);\n                    }\n                }\n                primaryAxis = plotArea.categoryAxis || axes[0];\n                plotArea.categoryAxis = primaryAxis;\n                if (invertAxes) {\n                    plotArea.axisY = primaryAxis;\n                } else {\n                    plotArea.axisX = primaryAxis;\n                }\n            },\n            isJustified: function () {\n                var plotArea = this, series = plotArea.series, i, currentSeries;\n                for (i = 0; i < series.length; i++) {\n                    currentSeries = series[i];\n                    if (!inArray(currentSeries.type, [\n                            AREA,\n                            VERTICAL_AREA\n                        ])) {\n                        return false;\n                    }\n                }\n                return true;\n            },\n            createValueAxes: function (panes) {\n                var plotArea = this, tracker = plotArea.valueAxisRangeTracker, defaultRange = tracker.query(), definitions = [].concat(plotArea.options.valueAxis), invertAxes = plotArea.invertAxes, baseOptions = { vertical: !invertAxes }, axisOptions, axisPane, valueAxis, primaryAxis, axes = [], range, axisType, defaultAxisRange, name, i;\n                if (plotArea.stack100) {\n                    baseOptions.roundToMajorUnit = false;\n                    baseOptions.labels = { format: 'P0' };\n                }\n                for (i = 0; i < definitions.length; i++) {\n                    axisOptions = definitions[i];\n                    axisPane = plotArea.findPane(axisOptions.pane);\n                    if (inArray(axisPane, panes)) {\n                        name = axisOptions.name;\n                        defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? {\n                            min: 0.1,\n                            max: 1\n                        } : {\n                            min: 0,\n                            max: 1\n                        };\n                        range = tracker.query(name) || defaultRange || defaultAxisRange;\n                        if (i === 0 && range && defaultRange) {\n                            range.min = math.min(range.min, defaultRange.min);\n                            range.max = math.max(range.max, defaultRange.max);\n                        }\n                        if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {\n                            axisType = LogarithmicAxis;\n                        } else {\n                            axisType = NumericAxis;\n                        }\n                        valueAxis = new axisType(range.min, range.max, deepExtend({}, baseOptions, axisOptions));\n                        if (name) {\n                            if (plotArea.namedValueAxes[name]) {\n                                throw new Error('Value axis with name ' + name + ' is already defined');\n                            }\n                            plotArea.namedValueAxes[name] = valueAxis;\n                        }\n                        valueAxis.axisIndex = i;\n                        axes.push(valueAxis);\n                        plotArea.appendAxis(valueAxis);\n                    }\n                }\n                primaryAxis = plotArea.valueAxis || axes[0];\n                plotArea.valueAxis = primaryAxis;\n                if (invertAxes) {\n                    plotArea.axisX = primaryAxis;\n                } else {\n                    plotArea.axisY = primaryAxis;\n                }\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), pane = plotArea.pointPane(point), allAxes, i, axis, categories = [], values = [];\n                if (!pane) {\n                    return;\n                }\n                allAxes = pane.axes;\n                for (i = 0; i < allAxes.length; i++) {\n                    axis = allAxes[i];\n                    if (axis.getValue) {\n                        appendIfNotNull(values, axis.getValue(point));\n                    } else {\n                        appendIfNotNull(categories, axis.getCategory(point));\n                    }\n                }\n                if (categories.length === 0) {\n                    appendIfNotNull(categories, plotArea.categoryAxis.getCategory(point));\n                }\n                if (categories.length > 0 && values.length > 0) {\n                    chart.trigger(eventType, {\n                        element: eventTargetElement(e),\n                        originalEvent: e,\n                        category: singleItemOrArray(categories),\n                        value: singleItemOrArray(values)\n                    });\n                }\n            },\n            pointPane: function (point) {\n                var plotArea = this, panes = plotArea.panes, currentPane, i;\n                for (i = 0; i < panes.length; i++) {\n                    currentPane = panes[i];\n                    if (currentPane.contentBox.containsPoint(point)) {\n                        return currentPane;\n                    }\n                }\n            },\n            updateAxisOptions: function (axis, options) {\n                var axesOptions = axis instanceof CategoryAxis ? [].concat(this.options.categoryAxis) : [].concat(this.options.valueAxis);\n                deepExtend(axesOptions[axis.axisIndex], options);\n            }\n        });\n        deepExtend(CategoricalPlotArea.fn, PlotAreaEventsMixin);\n        var AxisGroupRangeTracker = Class.extend({\n            init: function () {\n                var tracker = this;\n                tracker.axisRanges = {};\n            },\n            update: function (chartAxisRanges) {\n                var tracker = this, axisRanges = tracker.axisRanges, range, chartRange, axisName;\n                for (axisName in chartAxisRanges) {\n                    range = axisRanges[axisName];\n                    chartRange = chartAxisRanges[axisName];\n                    axisRanges[axisName] = range = range || {\n                        min: MAX_VALUE,\n                        max: MIN_VALUE\n                    };\n                    range.min = math.min(range.min, chartRange.min);\n                    range.max = math.max(range.max, chartRange.max);\n                }\n            },\n            reset: function (axisName) {\n                this.axisRanges[axisName] = undefined;\n            },\n            query: function (axisName) {\n                return this.axisRanges[axisName];\n            }\n        });\n        var XYPlotArea = PlotAreaBase.extend({\n            init: function (series, options) {\n                var plotArea = this;\n                plotArea.namedXAxes = {};\n                plotArea.namedYAxes = {};\n                plotArea.xAxisRangeTracker = new AxisGroupRangeTracker();\n                plotArea.yAxisRangeTracker = new AxisGroupRangeTracker();\n                PlotAreaBase.fn.init.call(plotArea, series, options);\n            },\n            options: {\n                xAxis: {},\n                yAxis: {}\n            },\n            render: function (panes) {\n                var plotArea = this, seriesByPane = plotArea.groupSeriesByPane(), i, pane, paneSeries, filteredSeries;\n                panes = panes || plotArea.panes;\n                for (i = 0; i < panes.length; i++) {\n                    pane = panes[i];\n                    paneSeries = seriesByPane[pane.options.name || 'default'] || [];\n                    plotArea.addToLegend(paneSeries);\n                    filteredSeries = plotArea.filterVisibleSeries(paneSeries);\n                    if (!filteredSeries) {\n                        continue;\n                    }\n                    plotArea.createScatterChart(filterSeriesByType(filteredSeries, SCATTER), pane);\n                    plotArea.createScatterLineChart(filterSeriesByType(filteredSeries, SCATTER_LINE), pane);\n                    plotArea.createBubbleChart(filterSeriesByType(filteredSeries, BUBBLE), pane);\n                }\n                plotArea.createAxes(panes);\n            },\n            appendChart: function (chart, pane) {\n                var plotArea = this;\n                plotArea.xAxisRangeTracker.update(chart.xAxisRanges);\n                plotArea.yAxisRangeTracker.update(chart.yAxisRanges);\n                PlotAreaBase.fn.appendChart.call(plotArea, chart, pane);\n            },\n            removeAxis: function (axis) {\n                var plotArea = this, axisName = axis.options.name;\n                PlotAreaBase.fn.removeAxis.call(plotArea, axis);\n                if (axis.options.vertical) {\n                    plotArea.yAxisRangeTracker.reset(axisName);\n                    delete plotArea.namedYAxes[axisName];\n                } else {\n                    plotArea.xAxisRangeTracker.reset(axisName);\n                    delete plotArea.namedXAxes[axisName];\n                }\n                if (axis === plotArea.axisX) {\n                    delete plotArea.axisX;\n                }\n                if (axis === plotArea.axisY) {\n                    delete plotArea.axisY;\n                }\n            },\n            seriesPaneName: function (series) {\n                var plotArea = this, options = plotArea.options, xAxisName = series.xAxis, xAxisOptions = [].concat(options.xAxis), xAxis = $.grep(xAxisOptions, function (a) {\n                        return a.name === xAxisName;\n                    })[0], yAxisName = series.yAxis, yAxisOptions = [].concat(options.yAxis), yAxis = $.grep(yAxisOptions, function (a) {\n                        return a.name === yAxisName;\n                    })[0], panes = options.panes || [{}], defaultPaneName = panes[0].name || 'default', paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;\n                return paneName;\n            },\n            createScatterChart: function (series, pane) {\n                var plotArea = this;\n                if (series.length > 0) {\n                    plotArea.appendChart(new ScatterChart(plotArea, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createScatterLineChart: function (series, pane) {\n                var plotArea = this;\n                if (series.length > 0) {\n                    plotArea.appendChart(new ScatterLineChart(plotArea, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createBubbleChart: function (series, pane) {\n                var plotArea = this;\n                if (series.length > 0) {\n                    plotArea.appendChart(new BubbleChart(plotArea, {\n                        series: series,\n                        clip: pane.options.clip\n                    }), pane);\n                }\n            },\n            createXYAxis: function (options, vertical, axisIndex) {\n                var plotArea = this, axisName = options.name, namedAxes = vertical ? plotArea.namedYAxes : plotArea.namedXAxes, tracker = vertical ? plotArea.yAxisRangeTracker : plotArea.xAxisRangeTracker, axisOptions = deepExtend({}, options, { vertical: vertical }), isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC), defaultRange = tracker.query(), defaultAxisRange = isLog ? {\n                        min: 0.1,\n                        max: 1\n                    } : {\n                        min: 0,\n                        max: 1\n                    }, range = tracker.query(axisName) || defaultRange || defaultAxisRange, axis, axisType, seriesIx, series = plotArea.series, currentSeries, seriesAxisName, firstPointValue, typeSamples = [\n                        axisOptions.min,\n                        axisOptions.max\n                    ], inferredDate, i;\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\n                    currentSeries = series[seriesIx];\n                    seriesAxisName = currentSeries[vertical ? 'yAxis' : 'xAxis'];\n                    if (seriesAxisName == axisOptions.name || axisIndex === 0 && !seriesAxisName) {\n                        firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;\n                        typeSamples.push(firstPointValue[vertical ? 'y' : 'x']);\n                        break;\n                    }\n                }\n                if (axisIndex === 0 && defaultRange) {\n                    range.min = math.min(range.min, defaultRange.min);\n                    range.max = math.max(range.max, defaultRange.max);\n                }\n                for (i = 0; i < typeSamples.length; i++) {\n                    if (typeSamples[i] instanceof Date) {\n                        inferredDate = true;\n                        break;\n                    }\n                }\n                if (equalsIgnoreCase(axisOptions.type, DATE) || !axisOptions.type && inferredDate) {\n                    axisType = DateValueAxis;\n                } else if (isLog) {\n                    axisType = LogarithmicAxis;\n                } else {\n                    axisType = NumericAxis;\n                }\n                axis = new axisType(range.min, range.max, axisOptions);\n                if (axisName) {\n                    if (namedAxes[axisName]) {\n                        throw new Error((vertical ? 'Y' : 'X') + ' axis with name ' + axisName + ' is already defined');\n                    }\n                    namedAxes[axisName] = axis;\n                }\n                plotArea.appendAxis(axis);\n                return axis;\n            },\n            createAxes: function (panes) {\n                var plotArea = this, options = plotArea.options, axisPane, xAxesOptions = [].concat(options.xAxis), xAxes = [], yAxesOptions = [].concat(options.yAxis), yAxes = [];\n                each(xAxesOptions, function (i) {\n                    axisPane = plotArea.findPane(this.pane);\n                    if (inArray(axisPane, panes)) {\n                        xAxes.push(plotArea.createXYAxis(this, false, i));\n                    }\n                });\n                each(yAxesOptions, function (i) {\n                    axisPane = plotArea.findPane(this.pane);\n                    if (inArray(axisPane, panes)) {\n                        yAxes.push(plotArea.createXYAxis(this, true, i));\n                    }\n                });\n                plotArea.axisX = plotArea.axisX || xAxes[0];\n                plotArea.axisY = plotArea.axisY || yAxes[0];\n            },\n            _dispatchEvent: function (chart, e, eventType) {\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), allAxes = plotArea.axes, i, length = allAxes.length, axis, xValues = [], yValues = [], currentValue, values;\n                for (i = 0; i < length; i++) {\n                    axis = allAxes[i];\n                    values = axis.options.vertical ? yValues : xValues;\n                    currentValue = axis.getValue(point);\n                    if (currentValue !== null) {\n                        values.push(currentValue);\n                    }\n                }\n                if (xValues.length > 0 && yValues.length > 0) {\n                    chart.trigger(eventType, {\n                        element: eventTargetElement(e),\n                        originalEvent: e,\n                        x: singleItemOrArray(xValues),\n                        y: singleItemOrArray(yValues)\n                    });\n                }\n            },\n            updateAxisOptions: function (axis, options) {\n                var vertical = axis.options.vertical;\n                var axes = this.groupAxes(this.panes);\n                var index = indexOf(axis, vertical ? axes.y : axes.x);\n                var axisOptions = [].concat(vertical ? this.options.yAxis : this.options.xAxis)[index];\n                deepExtend(axisOptions, options);\n            }\n        });\n        deepExtend(XYPlotArea.fn, PlotAreaEventsMixin);\n        var PiePlotArea = PlotAreaBase.extend({\n            render: function () {\n                var plotArea = this, series = plotArea.series;\n                plotArea.createPieChart(series);\n            },\n            createPieChart: function (series) {\n                var plotArea = this, firstSeries = series[0], pieChart = new PieChart(plotArea, {\n                        series: series,\n                        padding: firstSeries.padding,\n                        startAngle: firstSeries.startAngle,\n                        connectors: firstSeries.connectors,\n                        legend: plotArea.options.legend\n                    });\n                plotArea.appendChart(pieChart);\n            },\n            appendChart: function (chart, pane) {\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\n                append(this.options.legend.items, chart.legendItems);\n            }\n        });\n        var DonutPlotArea = PiePlotArea.extend({\n            render: function () {\n                var plotArea = this, series = plotArea.series;\n                plotArea.createDonutChart(series);\n            },\n            createDonutChart: function (series) {\n                var plotArea = this, firstSeries = series[0], donutChart = new DonutChart(plotArea, {\n                        series: series,\n                        padding: firstSeries.padding,\n                        connectors: firstSeries.connectors,\n                        legend: plotArea.options.legend\n                    });\n                plotArea.appendChart(donutChart);\n            }\n        });\n        var PieAnimation = draw.Animation.extend({\n            options: {\n                easing: 'easeOutElastic',\n                duration: INITIAL_ANIMATION_DURATION\n            },\n            setup: function () {\n                this.element.transform(geom.transform().scale(START_SCALE, START_SCALE, this.options.center));\n            },\n            step: function (pos) {\n                this.element.transform(geom.transform().scale(pos, pos, this.options.center));\n            }\n        });\n        draw.AnimationFactory.current.register(PIE, PieAnimation);\n        var BubbleAnimation = draw.Animation.extend({\n            options: { easing: 'easeOutElastic' },\n            setup: function () {\n                var center = this.center = this.element.bbox().center();\n                this.element.transform(geom.transform().scale(START_SCALE, START_SCALE, center));\n            },\n            step: function (pos) {\n                this.element.transform(geom.transform().scale(pos, pos, this.center));\n            }\n        });\n        draw.AnimationFactory.current.register(BUBBLE, BubbleAnimation);\n        var Highlight = Class.extend({\n            init: function () {\n                this._points = [];\n            },\n            destroy: function () {\n                this._points = [];\n            },\n            show: function (points) {\n                points = [].concat(points);\n                this.hide();\n                for (var i = 0; i < points.length; i++) {\n                    var point = points[i];\n                    if (point && point.toggleHighlight && point.hasHighlight()) {\n                        this.togglePointHighlight(point, true);\n                        this._points.push(point);\n                    }\n                }\n            },\n            togglePointHighlight: function (point, show) {\n                var toggleHandler = (point.options.highlight || {}).toggle;\n                if (toggleHandler) {\n                    var eventArgs = {\n                        category: point.category,\n                        series: point.series,\n                        dataItem: point.dataItem,\n                        value: point.value,\n                        stackValue: point.stackValue,\n                        preventDefault: preventDefault,\n                        visual: point.highlightVisual(),\n                        show: show\n                    };\n                    toggleHandler(eventArgs);\n                    if (!eventArgs._defaultPrevented) {\n                        point.toggleHighlight(show);\n                    }\n                } else {\n                    point.toggleHighlight(show);\n                }\n            },\n            hide: function () {\n                var points = this._points;\n                while (points.length) {\n                    this.togglePointHighlight(points.pop(), false);\n                }\n            },\n            isHighlighted: function (element) {\n                var points = this._points;\n                for (var i = 0; i < points.length; i++) {\n                    var point = points[i];\n                    if (element == point) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        });\n        var BaseTooltip = Observable.extend({\n            init: function (chartElement, options) {\n                var tooltip = this;\n                Observable.fn.init.call(tooltip);\n                tooltip.options = deepExtend({}, tooltip.options, options);\n                tooltip.chartElement = chartElement;\n                tooltip.template = BaseTooltip.template;\n                if (!tooltip.template) {\n                    tooltip.template = BaseTooltip.template = renderTemplate('<div class=\\'' + CSS_PREFIX + 'tooltip ' + CSS_PREFIX + 'chart-tooltip\\' ' + 'style=\\'display:none; position: absolute; font: #= d.font #;' + 'border: #= d.border.width #px solid;' + 'opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);\\'>' + '</div>');\n                }\n                var padding = getSpacing(tooltip.options.padding || {}, 'auto');\n                tooltip.element = $(tooltip.template(tooltip.options)).css({\n                    'padding-top': padding.top,\n                    'padding-right': padding.right,\n                    'padding-bottom': padding.bottom,\n                    'padding-left': padding.left\n                });\n                tooltip.move = proxy(tooltip.move, tooltip);\n                tooltip._mouseleave = proxy(tooltip._mouseleave, tooltip);\n                var mobileScrollerSelector = kendo.format('[{0}=\\'content\\'],[{0}=\\'scroller\\']', kendo.attr('role'));\n                tooltip._mobileScroller = chartElement.closest(mobileScrollerSelector).data('kendoMobileScroller');\n            },\n            destroy: function () {\n                this._clearShowTimeout();\n                if (this.element) {\n                    this.element.off(MOUSELEAVE_NS).remove();\n                    this.element = null;\n                }\n            },\n            options: {\n                border: { width: 1 },\n                opacity: 1,\n                animation: { duration: TOOLTIP_ANIMATION_DURATION }\n            },\n            move: function () {\n                var tooltip = this, options = tooltip.options, element = tooltip.element, offset;\n                if (!tooltip.anchor || !tooltip.element) {\n                    return;\n                }\n                offset = tooltip._offset();\n                if (!tooltip.visible) {\n                    element.css({\n                        top: offset.top,\n                        left: offset.left\n                    });\n                }\n                tooltip.visible = true;\n                tooltip._ensureElement(document.body);\n                element.stop(true, true).show().animate({\n                    left: offset.left,\n                    top: offset.top\n                }, options.animation.duration);\n            },\n            _clearShowTimeout: function () {\n                if (this.showTimeout) {\n                    clearTimeout(this.showTimeout);\n                    this.showTimeout = null;\n                }\n            },\n            _padding: function () {\n                if (!this._chartPadding) {\n                    var chartElement = this.chartElement;\n                    this._chartPadding = {\n                        top: parseInt(chartElement.css('paddingTop'), 10),\n                        left: parseInt(chartElement.css('paddingLeft'), 10)\n                    };\n                }\n                return this._chartPadding;\n            },\n            _offset: function () {\n                var tooltip = this, size = tooltip._measure(), anchor = tooltip.anchor, chartPadding = tooltip._padding(), chartOffset = tooltip.chartElement.offset(), top = round(anchor.y + chartPadding.top + chartOffset.top), left = round(anchor.x + chartPadding.left + chartOffset.left), zoomLevel = kendo.support.zoomLevel(), viewport = $(window), scrollTop = window.pageYOffset || document.documentElement.scrollTop || 0, scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || 0, movable = (this._mobileScroller || {}).movable;\n                if (!movable || movable.scale === 1) {\n                    top += tooltip._fit(top - scrollTop, size.height, outerHeight(viewport) / zoomLevel);\n                    left += tooltip._fit(left - scrollLeft, size.width, outerWidth(viewport) / zoomLevel);\n                } else {\n                    var transform = geom.transform().scale(movable.scale, movable.scale, [\n                        movable.x,\n                        movable.y\n                    ]);\n                    var point = new geom.Point(left, top).transform(transform);\n                    left = point.x;\n                    top = point.y;\n                }\n                return {\n                    top: top,\n                    left: left\n                };\n            },\n            setStyle: function (options, point) {\n                var background = options.background;\n                var border = options.border.color;\n                if (point) {\n                    var pointColor = point.color || point.options.color;\n                    background = valueOrDefault(background, pointColor);\n                    border = valueOrDefault(border, pointColor);\n                }\n                if (!defined(options.color)) {\n                    var brightness = new Color(background).percBrightness();\n                    this.element.toggleClass(CSS_PREFIX + TOOLTIP_INVERSE, brightness > 180);\n                }\n                this.element.css({\n                    backgroundColor: background,\n                    borderColor: border,\n                    font: options.font,\n                    color: options.color,\n                    opacity: options.opacity,\n                    borderWidth: options.border.width\n                });\n            },\n            show: function () {\n                this._clearShowTimeout();\n                this.showTimeout = setTimeout(this.move, TOOLTIP_SHOW_DELAY);\n            },\n            hide: function () {\n                var tooltip = this;\n                clearTimeout(tooltip.showTimeout);\n                tooltip._hideElement();\n                if (tooltip.visible) {\n                    tooltip.point = null;\n                    tooltip.visible = false;\n                    tooltip.index = null;\n                }\n            },\n            _measure: function () {\n                this._ensureElement();\n                var size = {\n                    width: outerWidth(this.element),\n                    height: outerHeight(this.element)\n                };\n                return size;\n            },\n            _ensureElement: function () {\n                if (this.element) {\n                    this.element.appendTo(document.body).on(MOUSELEAVE_NS, this._mouseleave);\n                }\n            },\n            _mouseleave: function (e) {\n                var target = e.relatedTarget;\n                var chart = this.chartElement[0];\n                if (target && target !== chart && !$.contains(chart, target)) {\n                    this.trigger(LEAVE);\n                    this.hide();\n                }\n            },\n            _hideElement: function () {\n                var tooltip = this;\n                var element = this.element;\n                if (element) {\n                    element.fadeOut({\n                        always: function () {\n                            if (!tooltip.visible) {\n                                element.off(MOUSELEAVE_NS).remove();\n                            }\n                        }\n                    });\n                }\n            },\n            _pointContent: function (point) {\n                var tooltip = this, options = deepExtend({}, tooltip.options, point.options.tooltip), content, tooltipTemplate;\n                if (defined(point.value)) {\n                    content = point.value.toString();\n                }\n                if (options.template) {\n                    tooltipTemplate = template(options.template);\n                    content = tooltipTemplate({\n                        value: point.value,\n                        category: point.category,\n                        series: point.series,\n                        dataItem: point.dataItem,\n                        percentage: point.percentage,\n                        runningTotal: point.runningTotal,\n                        total: point.total,\n                        low: point.low,\n                        high: point.high,\n                        xLow: point.xLow,\n                        xHigh: point.xHigh,\n                        yLow: point.yLow,\n                        yHigh: point.yHigh\n                    });\n                } else if (options.format) {\n                    content = point.formatValue(options.format);\n                }\n                return content;\n            },\n            _pointAnchor: function (point) {\n                var size = this._measure();\n                return point.tooltipAnchor(size.width, size.height);\n            },\n            _fit: function (offset, size, viewPortSize) {\n                var output = 0;\n                if (offset + size > viewPortSize) {\n                    output = viewPortSize - (offset + size);\n                }\n                if (offset < 0) {\n                    output = -offset;\n                }\n                return output;\n            }\n        });\n        var Tooltip = BaseTooltip.extend({\n            show: function (point) {\n                var tooltip = this, options = deepExtend({}, tooltip.options, point.options.tooltip);\n                if (!point || !point.tooltipAnchor || !tooltip.element) {\n                    return;\n                }\n                tooltip.element.html(tooltip._pointContent(point));\n                tooltip.anchor = tooltip._pointAnchor(point);\n                if (tooltip.anchor) {\n                    tooltip.setStyle(options, point);\n                    BaseTooltip.fn.show.call(tooltip, point);\n                } else {\n                    tooltip.hide();\n                }\n            }\n        });\n        var SharedTooltip = BaseTooltip.extend({\n            init: function (element, plotArea, options) {\n                var tooltip = this;\n                BaseTooltip.fn.init.call(tooltip, element, options);\n                tooltip.plotArea = plotArea;\n            },\n            options: {\n                sharedTemplate: '<table>' + '<th colspan=\\'2\\'>#= categoryText #</th>' + '# for(var i = 0; i < points.length; i++) { #' + '# var point = points[i]; #' + '<tr>' + '# if(point.series.name) { # ' + '<td> #= point.series.name #:</td>' + '# } #' + '<td>#= content(point) #</td>' + '</tr>' + '# } #' + '</table>',\n                categoryFormat: '{0:d}'\n            },\n            showAt: function (points, coords) {\n                points = $.grep(points, function (p) {\n                    var tooltip = p.series.tooltip, excluded = tooltip && tooltip.visible === false;\n                    return !excluded;\n                });\n                if (points.length > 0) {\n                    var point = points[0];\n                    var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);\n                    var content = this._content(points, point.category);\n                    this.element.html(content);\n                    this.anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);\n                    this.setStyle(this.options, point);\n                    BaseTooltip.fn.show.call(this);\n                }\n            },\n            _slotAnchor: function (point, slot) {\n                var tooltip = this, plotArea = tooltip.plotArea, axis = plotArea.categoryAxis, anchor, size = this._measure(), hCenter = point.y - size.height / 2;\n                if (axis.options.vertical) {\n                    anchor = Point2D(point.x, hCenter);\n                } else {\n                    anchor = Point2D(slot.center().x, hCenter);\n                }\n                return anchor;\n            },\n            _defaultAnchor: function (point, slot) {\n                var box = point.owner.pane.chartsBox();\n                var vertical = this.plotArea.categoryAxis.options.vertical;\n                var center = box.center();\n                var slotCenter = slot.center();\n                var size = this._measure();\n                var anchor;\n                if (vertical) {\n                    anchor = new Point2D(center.x, slotCenter.y);\n                } else {\n                    anchor = new Point2D(slotCenter.x, center.y);\n                }\n                anchor.x -= size.width / 2;\n                anchor.y -= size.height / 2;\n                return anchor;\n            },\n            _content: function (points, category) {\n                var tooltip = this, template, content;\n                template = kendo.template(tooltip.options.sharedTemplate);\n                content = template({\n                    points: points,\n                    category: category,\n                    categoryText: autoFormat(tooltip.options.categoryFormat, category),\n                    content: tooltip._pointContent\n                });\n                return content;\n            }\n        });\n        var Crosshair = ChartElement.extend({\n            init: function (axis, options) {\n                ChartElement.fn.init.call(this, options);\n                this.axis = axis;\n                this.stickyMode = axis instanceof CategoryAxis;\n            },\n            options: {\n                color: BLACK,\n                width: 1,\n                zIndex: -1,\n                tooltip: { visible: false }\n            },\n            showAt: function (point) {\n                this.point = point;\n                this.moveLine();\n                this.line.visible(true);\n                var tooltipOptions = this.options.tooltip;\n                if (tooltipOptions.visible) {\n                    if (!this.tooltip) {\n                        this.tooltip = new CrosshairTooltip(this, deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode }));\n                    }\n                    this.tooltip.showAt(point);\n                }\n            },\n            hide: function () {\n                this.line.visible(false);\n                if (this.tooltip) {\n                    this.tooltip.hide();\n                }\n            },\n            moveLine: function () {\n                var crosshair = this, axis = crosshair.axis, vertical = axis.options.vertical, box = crosshair.getBox(), point = crosshair.point, dim = vertical ? Y : X, slot, lineStart, lineEnd;\n                lineStart = new geom.Point(box.x1, box.y1);\n                if (vertical) {\n                    lineEnd = new geom.Point(box.x2, box.y1);\n                } else {\n                    lineEnd = new geom.Point(box.x1, box.y2);\n                }\n                if (point) {\n                    if (crosshair.stickyMode) {\n                        slot = axis.getSlot(axis.pointCategoryIndex(point));\n                        lineStart[dim] = lineEnd[dim] = slot.center()[dim];\n                    } else {\n                        lineStart[dim] = lineEnd[dim] = point[dim];\n                    }\n                }\n                crosshair.box = box;\n                this.line.moveTo(lineStart).lineTo(lineEnd);\n            },\n            getBox: function () {\n                var crosshair = this, axis = crosshair.axis, axes = axis.pane.axes, length = axes.length, vertical = axis.options.vertical, box = axis.lineBox().clone(), dim = vertical ? X : Y, axisLineBox, currentAxis, i;\n                for (i = 0; i < length; i++) {\n                    currentAxis = axes[i];\n                    if (currentAxis.options.vertical != vertical) {\n                        if (!axisLineBox) {\n                            axisLineBox = currentAxis.lineBox().clone();\n                        } else {\n                            axisLineBox.wrap(currentAxis.lineBox());\n                        }\n                    }\n                }\n                box[dim + 1] = axisLineBox[dim + 1];\n                box[dim + 2] = axisLineBox[dim + 2];\n                return box;\n            },\n            createVisual: function () {\n                ChartElement.fn.createVisual.call(this);\n                var options = this.options;\n                this.line = new draw.Path({\n                    stroke: {\n                        color: options.color,\n                        width: options.width,\n                        opacity: options.opacity,\n                        dashType: options.dashType\n                    },\n                    visible: false\n                });\n                this.moveLine();\n                this.visual.append(this.line);\n            },\n            destroy: function () {\n                var crosshair = this;\n                if (crosshair.tooltip) {\n                    crosshair.tooltip.destroy();\n                }\n                ChartElement.fn.destroy.call(crosshair);\n            }\n        });\n        var CrosshairTooltip = BaseTooltip.extend({\n            init: function (crosshair, options) {\n                var tooltip = this, chartElement = crosshair.axis.getRoot().chart.element;\n                tooltip.crosshair = crosshair;\n                BaseTooltip.fn.init.call(tooltip, chartElement, deepExtend({}, tooltip.options, { background: crosshair.axis.plotArea.options.seriesColors[0] }, options));\n                tooltip.setStyle(tooltip.options);\n            },\n            options: { padding: 10 },\n            showAt: function (point) {\n                var tooltip = this, element = tooltip.element;\n                if (element) {\n                    tooltip.point = point;\n                    tooltip.element.html(tooltip.content(point));\n                    tooltip.anchor = tooltip.getAnchor();\n                    tooltip.move();\n                }\n            },\n            move: function () {\n                var tooltip = this, element = tooltip.element, offset = tooltip._offset();\n                tooltip._ensureElement();\n                element.css({\n                    top: offset.top,\n                    left: offset.left\n                }).show();\n            },\n            content: function (point) {\n                var tooltip = this, options = tooltip.options, axis = tooltip.crosshair.axis, axisOptions = axis.options, content, value, tooltipTemplate;\n                value = content = axis[options.stickyMode ? 'getCategory' : 'getValue'](point);\n                if (options.template) {\n                    tooltipTemplate = template(options.template);\n                    content = tooltipTemplate({ value: value });\n                } else if (options.format) {\n                    content = autoFormat(options.format, value);\n                } else {\n                    if (axisOptions.type === DATE) {\n                        content = autoFormat(axisOptions.labels.dateFormats[axisOptions.baseUnit], value);\n                    }\n                }\n                return content;\n            },\n            getAnchor: function () {\n                var tooltip = this, options = tooltip.options, position = options.position, crosshair = this.crosshair, vertical = !crosshair.axis.options.vertical, lineBox = crosshair.line.bbox(), size = this._measure(), halfWidth = size.width / 2, halfHeight = size.height / 2, padding = options.padding, anchor;\n                if (vertical) {\n                    if (position === BOTTOM) {\n                        anchor = lineBox.bottomLeft().translate(-halfWidth, padding);\n                    } else {\n                        anchor = lineBox.topLeft().translate(-halfWidth, -size.height - padding);\n                    }\n                } else {\n                    if (position === LEFT) {\n                        anchor = lineBox.topLeft().translate(-size.width - padding, -halfHeight);\n                    } else {\n                        anchor = lineBox.topRight().translate(padding, -halfHeight);\n                    }\n                }\n                return anchor;\n            },\n            hide: function () {\n                this.element.hide();\n                this.point = null;\n            },\n            destroy: function () {\n                BaseTooltip.fn.destroy.call(this);\n                this.point = null;\n            }\n        });\n        var Aggregates = {\n            min: function (values) {\n                var min = MAX_VALUE, length = values.length, i, n;\n                for (i = 0; i < length; i++) {\n                    n = values[i];\n                    if (isNumber(n)) {\n                        min = math.min(min, n);\n                    }\n                }\n                return min === MAX_VALUE ? values[0] : min;\n            },\n            max: function (values) {\n                var max = MIN_VALUE, length = values.length, i, n;\n                for (i = 0; i < length; i++) {\n                    n = values[i];\n                    if (isNumber(n)) {\n                        max = math.max(max, n);\n                    }\n                }\n                return max === MIN_VALUE ? values[0] : max;\n            },\n            sum: function (values) {\n                var length = values.length, sum = 0, i, n;\n                for (i = 0; i < length; i++) {\n                    n = values[i];\n                    if (isNumber(n)) {\n                        sum += n;\n                    }\n                }\n                return sum;\n            },\n            sumOrNull: function (values) {\n                var result = null;\n                if (countNumbers(values)) {\n                    result = Aggregates.sum(values);\n                }\n                return result;\n            },\n            count: function (values) {\n                var length = values.length, count = 0, i, val;\n                for (i = 0; i < length; i++) {\n                    val = values[i];\n                    if (val !== null && defined(val)) {\n                        count++;\n                    }\n                }\n                return count;\n            },\n            avg: function (values) {\n                var result = values[0], count = countNumbers(values);\n                if (count > 0) {\n                    result = Aggregates.sum(values) / count;\n                }\n                return result;\n            },\n            first: function (values) {\n                var length = values.length, i, val;\n                for (i = 0; i < length; i++) {\n                    val = values[i];\n                    if (val !== null && defined(val)) {\n                        return val;\n                    }\n                }\n                return values[0];\n            }\n        };\n        function DefaultAggregates() {\n            this._defaults = {};\n        }\n        DefaultAggregates.prototype = {\n            register: function (seriesTypes, aggregates) {\n                for (var i = 0; i < seriesTypes.length; i++) {\n                    this._defaults[seriesTypes[i]] = aggregates;\n                }\n            },\n            query: function (seriesType) {\n                return this._defaults[seriesType];\n            }\n        };\n        DefaultAggregates.current = new DefaultAggregates();\n        var Selection = Observable.extend({\n            init: function (chart, categoryAxis, options) {\n                var that = this, chartElement = chart.element, categoryAxisLineBox = categoryAxis.lineBox(), valueAxis = that.getValueAxis(categoryAxis), valueAxisLineBox = valueAxis.lineBox(), selectorPrefix = '.' + CSS_PREFIX, wrapper, padding;\n                Observable.fn.init.call(that);\n                that.options = deepExtend({}, that.options, options);\n                options = that.options;\n                that.chart = chart;\n                that.chartElement = chartElement;\n                that.categoryAxis = categoryAxis;\n                that._dateAxis = that.categoryAxis instanceof DateCategoryAxis;\n                that.valueAxis = valueAxis;\n                if (that._dateAxis) {\n                    deepExtend(options, {\n                        min: toDate(options.min),\n                        max: toDate(options.max),\n                        from: toDate(options.from),\n                        to: toDate(options.to)\n                    });\n                }\n                that.template = Selection.template;\n                if (!that.template) {\n                    that.template = Selection.template = renderTemplate('<div class=\\'' + CSS_PREFIX + 'selector\\' ' + 'style=\\'width: #= d.width #px; height: #= d.height #px;' + ' top: #= d.offset.top #px; left: #= d.offset.left #px;\\'>' + '<div class=\\'' + CSS_PREFIX + 'mask\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'mask\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'selection\\'>' + '<div class=\\'' + CSS_PREFIX + 'selection-bg\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'handle ' + CSS_PREFIX + 'leftHandle\\'><div></div></div>' + '<div class=\\'' + CSS_PREFIX + 'handle ' + CSS_PREFIX + 'rightHandle\\'><div></div></div>' + '</div></div>');\n                }\n                padding = {\n                    left: parseInt(chartElement.css('paddingLeft'), 10),\n                    right: parseInt(chartElement.css('paddingTop'), 10)\n                };\n                that.options = deepExtend({}, {\n                    width: categoryAxisLineBox.width(),\n                    height: valueAxisLineBox.height(),\n                    padding: padding,\n                    offset: {\n                        left: valueAxisLineBox.x2 + padding.left,\n                        top: valueAxisLineBox.y1 + padding.right\n                    },\n                    from: options.min,\n                    to: options.max\n                }, options);\n                if (that.options.visible) {\n                    that.wrapper = wrapper = $(that.template(that.options)).appendTo(chartElement);\n                    that.selection = wrapper.find(selectorPrefix + 'selection');\n                    that.leftMask = wrapper.find(selectorPrefix + 'mask').first();\n                    that.rightMask = wrapper.find(selectorPrefix + 'mask').last();\n                    that.leftHandle = wrapper.find(selectorPrefix + 'leftHandle');\n                    that.rightHandle = wrapper.find(selectorPrefix + 'rightHandle');\n                    that.options.selection = {\n                        border: {\n                            left: parseFloat(that.selection.css('border-left-width'), 10),\n                            right: parseFloat(that.selection.css('border-right-width'), 10)\n                        }\n                    };\n                    that.leftHandle.css('top', (that.selection.height() - that.leftHandle.height()) / 2);\n                    that.rightHandle.css('top', (that.selection.height() - that.rightHandle.height()) / 2);\n                    that.set(that._index(options.from), that._index(options.to));\n                    that.bind(that.events, that.options);\n                    that.wrapper[0].style.cssText = that.wrapper[0].style.cssText;\n                    if (that.options.mousewheel !== false) {\n                        that.wrapper.on(MOUSEWHEEL_NS, proxy(that._mousewheel, that));\n                    } else {\n                        that.wrapper.on(MOUSEWHEEL_NS, function (e) {\n                            e.stopPropagation();\n                        });\n                    }\n                    if (kendo.UserEvents) {\n                        that.userEvents = new kendo.UserEvents(that.wrapper, {\n                            global: true,\n                            stopPropagation: true,\n                            multiTouch: true,\n                            fastTap: true,\n                            press: proxy(that._press, that),\n                            start: proxy(that._start, that),\n                            move: proxy(that._move, that),\n                            end: proxy(that._end, that),\n                            tap: proxy(that._tap, that),\n                            gesturestart: proxy(that._gesturechange, that),\n                            gesturechange: proxy(that._gesturechange, that)\n                        });\n                    } else {\n                        that.leftHandle.add(that.rightHandle).removeClass(CSS_PREFIX + 'handle');\n                    }\n                }\n            },\n            events: [\n                SELECT_START,\n                SELECT,\n                SELECT_END\n            ],\n            options: {\n                visible: true,\n                mousewheel: { zoom: BOTH },\n                min: MIN_VALUE,\n                max: MAX_VALUE\n            },\n            destroy: function () {\n                var that = this, userEvents = that.userEvents;\n                if (userEvents) {\n                    userEvents.destroy();\n                }\n                clearTimeout(that._mwTimeout);\n                that._state = null;\n                if (that.wrapper) {\n                    that.wrapper.remove();\n                }\n            },\n            _rangeEventArgs: function (range) {\n                var that = this;\n                return {\n                    axis: that.categoryAxis.options,\n                    from: that._value(range.from),\n                    to: that._value(range.to)\n                };\n            },\n            _start: function (e) {\n                var that = this, options = that.options, target = $(e.event.target), args;\n                if (that._state || !target) {\n                    return;\n                }\n                that.chart._unsetActivePoint();\n                that._state = {\n                    moveTarget: target.parents('.k-handle').add(target).first(),\n                    startLocation: e.x ? e.x.location : 0,\n                    range: {\n                        from: that._index(options.from),\n                        to: that._index(options.to)\n                    }\n                };\n                args = that._rangeEventArgs({\n                    from: that._index(options.from),\n                    to: that._index(options.to)\n                });\n                if (that.trigger(SELECT_START, args)) {\n                    that.userEvents.cancel();\n                    that._state = null;\n                }\n            },\n            _press: function (e) {\n                var handle;\n                if (this._state) {\n                    handle = this._state.moveTarget;\n                } else {\n                    var target = $(e.event.target);\n                    handle = target.parents('.k-handle').add(target).first();\n                }\n                handle.addClass('k-handle-active');\n            },\n            _move: function (e) {\n                if (!this._state) {\n                    return;\n                }\n                var that = this, state = that._state, options = that.options, categories = that.categoryAxis.options.categories, from = that._index(options.from), to = that._index(options.to), min = that._index(options.min), max = that._index(options.max), delta = state.startLocation - e.x.location, range = state.range, oldRange = {\n                        from: range.from,\n                        to: range.to\n                    }, span = range.to - range.from, target = state.moveTarget, scale = that.wrapper.width() / (categories.length - 1), offset = math.round(delta / scale);\n                if (!target) {\n                    return;\n                }\n                e.preventDefault();\n                if (target.is('.k-selection, .k-selection-bg')) {\n                    range.from = math.min(math.max(min, from - offset), max - span);\n                    range.to = math.min(range.from + span, max);\n                } else if (target.is('.k-leftHandle')) {\n                    range.from = math.min(math.max(min, from - offset), max - 1);\n                    range.to = math.max(range.from + 1, range.to);\n                } else if (target.is('.k-rightHandle')) {\n                    range.to = math.min(math.max(min + 1, to - offset), max);\n                    range.from = math.min(range.to - 1, range.from);\n                }\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\n                    that.move(range.from, range.to);\n                    that.trigger(SELECT, that._rangeEventArgs(range));\n                }\n            },\n            _end: function () {\n                var range = this._state.range;\n                if (this._state) {\n                    var moveTarget = this._state.moveTarget;\n                    if (moveTarget) {\n                        moveTarget.removeClass('k-handle-active');\n                    }\n                    delete this._state;\n                }\n                this.set(range.from, range.to);\n                this.trigger(SELECT_END, this._rangeEventArgs(range));\n            },\n            _gesturechange: function (e) {\n                if (!this._state) {\n                    return;\n                }\n                var that = this, chart = that.chart, state = that._state, options = that.options, categoryAxis = that.categoryAxis, range = state.range, p0 = chart._toModelCoordinates(e.touches[0].x.location).x, p1 = chart._toModelCoordinates(e.touches[1].x.location).x, left = math.min(p0, p1), right = math.max(p0, p1);\n                e.preventDefault();\n                state.moveTarget = null;\n                range.from = categoryAxis.pointCategoryIndex(new dataviz.Point2D(left)) || options.min;\n                range.to = categoryAxis.pointCategoryIndex(new dataviz.Point2D(right)) || options.max;\n                that.move(range.from, range.to);\n            },\n            _tap: function (e) {\n                var that = this, options = that.options, coords = that.chart._eventCoordinates(e), categoryAxis = that.categoryAxis, categoryIx = categoryAxis.pointCategoryIndex(new dataviz.Point2D(coords.x, categoryAxis.box.y1)), from = that._index(options.from), to = that._index(options.to), min = that._index(options.min), max = that._index(options.max), span = to - from, mid = from + span / 2, offset = math.round(mid - categoryIx), range = {}, rightClick = e.event.which === 3;\n                if (that._state || rightClick) {\n                    return;\n                }\n                e.preventDefault();\n                that.chart._unsetActivePoint();\n                if (!categoryAxis.options.justified) {\n                    offset--;\n                }\n                range.from = math.min(math.max(min, from - offset), max - span);\n                range.to = math.min(range.from + span, max);\n                that._start(e);\n                if (that._state) {\n                    that._state.range = range;\n                    that.trigger(SELECT, that._rangeEventArgs(range));\n                    that._end();\n                }\n            },\n            _mousewheel: function (e) {\n                var that = this, options = that.options, delta = mwDelta(e);\n                that._start({ event: { target: that.selection } });\n                if (that._state) {\n                    var range = that._state.range;\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (math.abs(delta) > 1) {\n                        delta *= ZOOM_ACCELERATION;\n                    }\n                    if (options.mousewheel.reverse) {\n                        delta *= -1;\n                    }\n                    if (that.expand(delta)) {\n                        that.trigger(SELECT, {\n                            axis: that.categoryAxis.options,\n                            delta: delta,\n                            originalEvent: e,\n                            from: that._value(range.from),\n                            to: that._value(range.to)\n                        });\n                    }\n                    if (that._mwTimeout) {\n                        clearTimeout(that._mwTimeout);\n                    }\n                    that._mwTimeout = setTimeout(function () {\n                        that._end();\n                    }, MOUSEWHEEL_DELAY);\n                }\n            },\n            _index: function (value) {\n                var index = value;\n                if (value instanceof Date) {\n                    index = this.categoryAxis.categoryIndex(value);\n                }\n                return index;\n            },\n            _value: function (index) {\n                var categories = this.categoryAxis.options.categories;\n                var value = index;\n                if (this._dateAxis) {\n                    if (index > categories.length - 1) {\n                        value = this.options.max;\n                    } else {\n                        value = categories[math.ceil(index)];\n                    }\n                }\n                return value;\n            },\n            _slot: function (value) {\n                var categoryAxis = this.categoryAxis;\n                var index = this._index(value);\n                return categoryAxis.getSlot(index, index, true);\n            },\n            move: function (from, to) {\n                var that = this, options = that.options, offset = options.offset, padding = options.padding, border = options.selection.border, leftMaskWidth, rightMaskWidth, box, distance;\n                box = that._slot(from);\n                leftMaskWidth = round(box.x1 - offset.left + padding.left);\n                that.leftMask.width(leftMaskWidth);\n                that.selection.css('left', leftMaskWidth);\n                box = that._slot(to);\n                rightMaskWidth = round(options.width - (box.x1 - offset.left + padding.left));\n                that.rightMask.width(rightMaskWidth);\n                distance = options.width - rightMaskWidth;\n                if (distance != options.width) {\n                    distance += border.right;\n                }\n                that.rightMask.css('left', distance);\n                that.selection.width(math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0));\n            },\n            set: function (from, to) {\n                var that = this, options = that.options, min = that._index(options.min), max = that._index(options.max);\n                from = limitValue(that._index(from), min, max);\n                to = limitValue(that._index(to), from + 1, max);\n                if (options.visible) {\n                    that.move(from, to);\n                }\n                options.from = that._value(from);\n                options.to = that._value(to);\n            },\n            expand: function (delta) {\n                var that = this, options = that.options, min = that._index(options.min), max = that._index(options.max), zDir = options.mousewheel.zoom, from = that._index(options.from), to = that._index(options.to), range = {\n                        from: from,\n                        to: to\n                    }, oldRange = deepExtend({}, range);\n                if (that._state) {\n                    range = that._state.range;\n                }\n                if (zDir !== RIGHT) {\n                    range.from = limitValue(limitValue(from - delta, 0, to - 1), min, max);\n                }\n                if (zDir !== LEFT) {\n                    range.to = limitValue(limitValue(to + delta, range.from + 1, max), min, max);\n                }\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\n                    that.set(range.from, range.to);\n                    return true;\n                }\n            },\n            getValueAxis: function (categoryAxis) {\n                var axes = categoryAxis.pane.axes, axesCount = axes.length, i, axis;\n                for (i = 0; i < axesCount; i++) {\n                    axis = axes[i];\n                    if (axis.options.vertical !== categoryAxis.options.vertical) {\n                        return axis;\n                    }\n                }\n            }\n        });\n        var Pannable = Class.extend({\n            init: function (plotArea, options) {\n                this.plotArea = plotArea;\n                this.options = deepExtend({}, this.options, options);\n            },\n            options: {\n                key: 'none',\n                lock: 'none'\n            },\n            start: function (e) {\n                this._active = acceptKey(e.event, this.options.key);\n                return this._active;\n            },\n            move: function (e) {\n                if (this._active) {\n                    var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));\n                    if (axisRanges.length) {\n                        this.axisRanges = axisRanges;\n                        return toChartAxisRanges(axisRanges);\n                    }\n                }\n            },\n            end: function () {\n                var active = this._active;\n                this._active = false;\n                return active;\n            },\n            pan: function () {\n                var plotArea = this.plotArea;\n                var axisRanges = this.axisRanges;\n                var range;\n                if (axisRanges.length) {\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        range = axisRanges[idx];\n                        plotArea.updateAxisOptions(range.axis, range.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                delete this.plotArea;\n            },\n            _panAxes: function (e, position) {\n                var plotArea = this.plotArea;\n                var delta = -e[position].delta;\n                var lock = (this.options.lock || '').toLowerCase();\n                var updatedAxes = [];\n                if (delta !== 0 && (lock || '').toLowerCase() != position) {\n                    var axes = plotArea.axes;\n                    var axis;\n                    var range;\n                    for (var idx = 0; idx < axes.length; idx++) {\n                        axis = axes[idx];\n                        if (position == X && !axis.options.vertical || position == Y && axis.options.vertical) {\n                            range = axis.pan(delta);\n                            if (range) {\n                                range.limitRange = true;\n                                updatedAxes.push({\n                                    axis: axis,\n                                    range: range\n                                });\n                            }\n                        }\n                    }\n                }\n                return updatedAxes;\n            }\n        });\n        var ZoomSelection = Class.extend({\n            init: function (chart, options) {\n                this.chart = chart;\n                this.options = deepExtend({}, this.options, options);\n                this._marquee = $('<div class=\\'k-marquee\\'><div class=\\'k-marquee-color\\'></div></div>');\n            },\n            options: {\n                key: 'shift',\n                lock: 'none'\n            },\n            start: function (e) {\n                if (acceptKey(e.event, this.options.key)) {\n                    var chart = this.chart;\n                    var point = chart._toModelCoordinates(e.x.client, e.y.client);\n                    var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);\n                    if (zoomPane && zoomPane.clipBox()) {\n                        var clipBox = zoomPane.clipBox().clone();\n                        var elementOffset = this._elementOffset();\n                        clipBox.translate(elementOffset.left, elementOffset.top);\n                        this._zoomPaneClipBox = clipBox;\n                        this._marquee.appendTo(document.body).css({\n                            left: e.x.client + 1,\n                            top: e.y.client + 1,\n                            width: 0,\n                            height: 0\n                        });\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _elementOffset: function () {\n                var chartElement = this.chart.element;\n                var chartOffset = chartElement.offset();\n                return {\n                    left: parseInt(chartElement.css('paddingTop'), 10) + chartOffset.left,\n                    top: parseInt(chartElement.css('paddingLeft'), 10) + chartOffset.top\n                };\n            },\n            move: function (e) {\n                var zoomPane = this._zoomPane;\n                if (zoomPane) {\n                    var selectionPosition = this._selectionPosition(e);\n                    this._marquee.css(selectionPosition);\n                }\n            },\n            end: function (e) {\n                var zoomPane = this._zoomPane;\n                if (zoomPane) {\n                    var elementOffset = this._elementOffset();\n                    var selectionPosition = this._selectionPosition(e);\n                    selectionPosition.left -= elementOffset.left;\n                    selectionPosition.top -= elementOffset.top;\n                    var start = {\n                        x: selectionPosition.left,\n                        y: selectionPosition.top\n                    };\n                    var end = {\n                        x: selectionPosition.left + selectionPosition.width,\n                        y: selectionPosition.top + selectionPosition.height\n                    };\n                    this._updateAxisRanges(start, end);\n                    this._marquee.remove();\n                    delete this._zoomPane;\n                    return toChartAxisRanges(this.axisRanges);\n                }\n            },\n            zoom: function () {\n                var axisRanges = this.axisRanges;\n                if (axisRanges && axisRanges.length) {\n                    var plotArea = this.chart._plotArea;\n                    var axisRange;\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        axisRange = axisRanges[idx];\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                this._marquee.remove();\n                delete this._marquee;\n                delete this.chart;\n            },\n            _updateAxisRanges: function (start, end) {\n                var lock = (this.options.lock || '').toLowerCase();\n                var axisRanges = [];\n                var axes = this._zoomPane.axes;\n                var axis, vertical;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    axis = axes[idx];\n                    vertical = axis.options.vertical;\n                    if (!(lock == X && !vertical) && !(lock === Y && vertical)) {\n                        var range = axis.pointsRange(start, end);\n                        if (range) {\n                            axisRanges.push({\n                                axis: axis,\n                                range: range\n                            });\n                        }\n                    }\n                }\n                this.axisRanges = axisRanges;\n            },\n            _selectionPosition: function (e) {\n                var lock = (this.options.lock || '').toLowerCase();\n                var left = math.min(e.x.startLocation, e.x.location);\n                var top = math.min(e.y.startLocation, e.y.location);\n                var width = math.abs(e.x.initialDelta);\n                var height = math.abs(e.y.initialDelta);\n                var clipBox = this._zoomPaneClipBox;\n                if (lock == X) {\n                    left = clipBox.x1;\n                    width = clipBox.width();\n                }\n                if (lock == Y) {\n                    top = clipBox.y1;\n                    height = clipBox.height();\n                }\n                if (e.x.location > clipBox.x2) {\n                    width = clipBox.x2 - e.x.startLocation;\n                }\n                if (e.x.location < clipBox.x1) {\n                    width = e.x.startLocation - clipBox.x1;\n                }\n                if (e.y.location > clipBox.y2) {\n                    height = clipBox.y2 - e.y.startLocation;\n                }\n                if (e.y.location < clipBox.y1) {\n                    height = e.y.startLocation - clipBox.y1;\n                }\n                return {\n                    left: math.max(left, clipBox.x1),\n                    top: math.max(top, clipBox.y1),\n                    width: width,\n                    height: height\n                };\n            }\n        });\n        var MousewheelZoom = Class.extend({\n            init: function (chart, options) {\n                this.chart = chart;\n                this.options = deepExtend({}, this.options, options);\n            },\n            updateRanges: function (delta) {\n                var lock = (this.options.lock || '').toLowerCase();\n                var axisRanges = [];\n                var axes = this.chart._plotArea.axes;\n                var axis, vertical;\n                for (var idx = 0; idx < axes.length; idx++) {\n                    axis = axes[idx];\n                    vertical = axis.options.vertical;\n                    if (!(lock == X && !vertical) && !(lock === Y && vertical)) {\n                        var range = axis.zoomRange(-delta);\n                        if (range) {\n                            axisRanges.push({\n                                axis: axis,\n                                range: range\n                            });\n                        }\n                    }\n                }\n                this.axisRanges = axisRanges;\n                return toChartAxisRanges(axisRanges);\n            },\n            zoom: function () {\n                var axisRanges = this.axisRanges;\n                if (axisRanges && axisRanges.length) {\n                    var plotArea = this.chart._plotArea;\n                    var axisRange;\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\n                        axisRange = axisRanges[idx];\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n                    }\n                    plotArea.redraw(plotArea.panes);\n                }\n            },\n            destroy: function () {\n                delete this.chart;\n            }\n        });\n        var SeriesAggregator = function (series, binder, defaultAggregates) {\n            var sa = this, canonicalFields = binder.canonicalFields(series), valueFields = binder.valueFields(series), sourceFields = binder.sourceFields(series, canonicalFields), seriesFields = sa._seriesFields = [], defaults = defaultAggregates.query(series.type), rootAggregate = series.aggregate || defaults, i;\n            sa._series = series;\n            sa._binder = binder;\n            for (i = 0; i < canonicalFields.length; i++) {\n                var field = canonicalFields[i], fieldAggregate;\n                if (typeof rootAggregate === OBJECT) {\n                    fieldAggregate = rootAggregate[field];\n                } else if (i === 0 || inArray(field, valueFields)) {\n                    fieldAggregate = rootAggregate;\n                } else {\n                    break;\n                }\n                if (fieldAggregate) {\n                    seriesFields.push({\n                        canonicalName: field,\n                        name: sourceFields[i],\n                        transform: isFn(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]\n                    });\n                }\n            }\n        };\n        SeriesAggregator.prototype = {\n            aggregatePoints: function (srcPoints, group) {\n                var sa = this, data = sa._bindPoints(srcPoints || []), series = sa._series, seriesFields = sa._seriesFields, i, field, srcValues, value, firstDataItem = data.dataItems[0], result = {};\n                if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {\n                    var fn = function () {\n                    };\n                    fn.prototype = firstDataItem;\n                    result = new fn();\n                }\n                for (i = 0; i < seriesFields.length; i++) {\n                    field = seriesFields[i];\n                    srcValues = sa._bindField(data.values, field.canonicalName);\n                    value = field.transform(srcValues, series, data.dataItems, group);\n                    if (value !== null && typeof value === OBJECT && !defined(value.length) && !(value instanceof Date)) {\n                        result = value;\n                        break;\n                    } else {\n                        if (defined(value)) {\n                            ensureTree(field.name, result);\n                            kendo.setter(field.name)(result, value);\n                        }\n                    }\n                }\n                return result;\n            },\n            _bindPoints: function (points) {\n                var sa = this, binder = sa._binder, series = sa._series, values = [], dataItems = [], i, pointIx;\n                for (i = 0; i < points.length; i++) {\n                    pointIx = points[i];\n                    values.push(binder.bindPoint(series, pointIx));\n                    dataItems.push(series.data[pointIx]);\n                }\n                return {\n                    values: values,\n                    dataItems: dataItems\n                };\n            },\n            _bindField: function (data, field) {\n                var values = [], count = data.length, i, item, value, valueFields;\n                for (i = 0; i < count; i++) {\n                    item = data[i];\n                    valueFields = item.valueFields;\n                    if (defined(valueFields[field])) {\n                        value = valueFields[field];\n                    } else {\n                        value = item.fields[field];\n                    }\n                    values.push(value);\n                }\n                return values;\n            }\n        };\n        var ChartPlotArea = Class.extend({\n            init: function (plotArea) {\n                this._plotArea = plotArea;\n                this.visual = plotArea.visual;\n                this.backgroundVisual = plotArea._bgVisual;\n            }\n        });\n        var ChartPane = Class.extend({\n            init: function (chart, pane) {\n                this._chart = chart;\n                this._pane = pane;\n                this.visual = pane.visual;\n                this.chartsVisual = pane.chartContainer.visual;\n                this.name = pane.options.name;\n            },\n            series: function () {\n                var chart = this._chart;\n                var seriesByPane = chart._plotArea.groupSeriesByPane();\n                var series = seriesByPane[this.name || 'default'];\n                var result = [];\n                if (series) {\n                    for (var idx = 0; idx < series.length; idx++) {\n                        result.push(new ChartSeries(chart, series[idx]));\n                    }\n                }\n                return result;\n            }\n        });\n        var ChartAxis = Class.extend({\n            init: function (axis) {\n                this._axis = axis;\n                this.options = axis.options;\n            },\n            value: function (point) {\n                var axis = this._axis;\n                var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);\n                return value;\n            },\n            slot: function (from, to, limit) {\n                if (!defined(limit)) {\n                    limit = true;\n                }\n                return this._axis.slot(from, to, limit);\n            },\n            range: function () {\n                return this._axis.range();\n            },\n            valueRange: function () {\n                return this._axis.valueRange();\n            }\n        });\n        var ChartSeries = Class.extend({\n            init: function (chart, options) {\n                this._chart = chart;\n                this._options = options;\n            },\n            points: function (filter) {\n                var points = this._points;\n                if (!points) {\n                    var series = this._seriesOptions();\n                    var plotArea = this._chart._plotArea;\n                    this._points = points = plotArea.pointsBySeriesIndex(series.index);\n                }\n                if (kendo.isFunction(filter)) {\n                    points = this._filterPoints(points, filter);\n                }\n                return points;\n            },\n            data: function (data) {\n                var series = this._seriesOptions();\n                if (data) {\n                    var chart = this._chart;\n                    var plotArea = chart._plotArea;\n                    series.data = data;\n                    if (series.categoryField) {\n                        var axis = plotArea.seriesCategoryAxis(series);\n                        var options = [].concat(chart.options.categoryAxis);\n                        chart._bindCategoryAxisFromSeries(options[axis.axisIndex], axis.axisIndex);\n                    }\n                    chart._noTransitionsRedraw();\n                    this._clearFields();\n                }\n                return series.data;\n            },\n            findPoint: function (filter) {\n                var points = this.points();\n                for (var idx = 0; idx < points.length; idx++) {\n                    if (filter(points[idx])) {\n                        return points[idx];\n                    }\n                }\n            },\n            toggleHighlight: function (show, elements) {\n                if (!elements) {\n                    elements = this.points();\n                } else if (kendo.isFunction(elements)) {\n                    elements = this.points(elements);\n                } else {\n                    elements = isArray(elements) ? elements : [elements];\n                }\n                this._chart._togglePointsHighlight(show, elements);\n            },\n            toggleVisibility: function (visible, filter) {\n                var chart = this._chart;\n                var seriesOptions = this._seriesOptions();\n                var hasFilter = kendo.isFunction(filter);\n                if (!hasFilter) {\n                    seriesOptions.visible = visible;\n                    chart._saveGroupVisibleState(seriesOptions);\n                } else {\n                    if (inArray(seriesOptions.type, [\n                            PIE,\n                            DONUT,\n                            FUNNEL\n                        ])) {\n                        var data = this._filterData(filter);\n                        for (var idx = 0; idx < data.length; idx++) {\n                            data[idx].visible = visible;\n                        }\n                    } else {\n                        seriesOptions.visible = function (data) {\n                            return filter(data.dataItem) ? visible : true;\n                        };\n                    }\n                }\n                chart._noTransitionsRedraw();\n                this._clearFields();\n            },\n            _filterData: function (filter) {\n                var data = this._seriesOptions().data;\n                var length = data.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (filter(data[idx])) {\n                        result.push(data[idx]);\n                    }\n                }\n                return result;\n            },\n            _filterPoints: function (points, filter) {\n                var result = [];\n                var length = points.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (filter(points[idx])) {\n                        result.push(points[idx]);\n                    }\n                }\n                return result;\n            },\n            _seriesOptions: function () {\n                var series = this._series;\n                if (!series) {\n                    series = this._series = this._chart._seriesOptions(this._options);\n                }\n                return series;\n            },\n            _clearFields: function () {\n                delete this._points;\n                delete this._series;\n            }\n        });\n        function intersection(a1, a2, b1, b2) {\n            var result, ua_t = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x), u_b = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y), ua;\n            if (u_b !== 0) {\n                ua = ua_t / u_b;\n                result = new Point2D(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y));\n            }\n            return result;\n        }\n        function applySeriesDefaults(options, themeOptions) {\n            var series = options.series, i, seriesLength = series.length, seriesType, seriesDefaults = options.seriesDefaults, commonDefaults = deepExtend({}, options.seriesDefaults), themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {}, commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\n            cleanupNestedSeriesDefaults(commonDefaults);\n            cleanupNestedSeriesDefaults(commonThemeDefaults);\n            for (i = 0; i < seriesLength; i++) {\n                seriesType = series[i].type || options.seriesDefaults.type;\n                var baseOptions = deepExtend({ data: [] }, commonThemeDefaults, themeSeriesDefaults[seriesType], { tooltip: options.tooltip }, commonDefaults, seriesDefaults[seriesType]);\n                series[i]._defaults = baseOptions;\n                series[i] = deepExtend({}, baseOptions, series[i]);\n            }\n        }\n        function cleanupNestedSeriesDefaults(seriesDefaults) {\n            delete seriesDefaults.bar;\n            delete seriesDefaults.column;\n            delete seriesDefaults.rangeColumn;\n            delete seriesDefaults.line;\n            delete seriesDefaults.verticalLine;\n            delete seriesDefaults.pie;\n            delete seriesDefaults.donut;\n            delete seriesDefaults.area;\n            delete seriesDefaults.verticalArea;\n            delete seriesDefaults.scatter;\n            delete seriesDefaults.scatterLine;\n            delete seriesDefaults.bubble;\n            delete seriesDefaults.candlestick;\n            delete seriesDefaults.ohlc;\n            delete seriesDefaults.boxPlot;\n            delete seriesDefaults.bullet;\n            delete seriesDefaults.verticalBullet;\n            delete seriesDefaults.polarArea;\n            delete seriesDefaults.polarLine;\n            delete seriesDefaults.radarArea;\n            delete seriesDefaults.radarLine;\n            delete seriesDefaults.waterfall;\n        }\n        function applySeriesColors(options) {\n            var series = options.series, colors = options.seriesColors || [], i, currentSeries, seriesColor, defaults;\n            for (i = 0; i < series.length; i++) {\n                currentSeries = series[i];\n                seriesColor = colors[i % colors.length];\n                currentSeries.color = currentSeries.color || seriesColor;\n                defaults = currentSeries._defaults;\n                if (defaults) {\n                    defaults.color = defaults.color || seriesColor;\n                }\n            }\n        }\n        function resolveAxisAliases(options) {\n            var alias;\n            each([\n                CATEGORY,\n                VALUE,\n                X,\n                Y\n            ], function () {\n                alias = this + 'Axes';\n                if (options[alias]) {\n                    options[this + 'Axis'] = options[alias];\n                    delete options[alias];\n                }\n            });\n        }\n        function applyAxisDefaults(options, themeOptions) {\n            var themeAxisDefaults = (themeOptions || {}).axisDefaults || {};\n            each([\n                CATEGORY,\n                VALUE,\n                X,\n                Y\n            ], function () {\n                var axisName = this + 'Axis', axes = [].concat(options[axisName]), axisDefaults = options.axisDefaults || {};\n                axes = $.map(axes, function (axisOptions) {\n                    var axisColor = (axisOptions || {}).color;\n                    var result = deepExtend({}, themeAxisDefaults, themeAxisDefaults[axisName], axisDefaults, axisDefaults[axisName], {\n                        line: { color: axisColor },\n                        labels: { color: axisColor },\n                        title: { color: axisColor }\n                    }, axisOptions);\n                    delete result[axisName];\n                    return result;\n                });\n                options[axisName] = axes.length > 1 ? axes : axes[0];\n            });\n        }\n        function categoriesCount(series) {\n            var seriesCount = series.length, categories = 0, i;\n            for (i = 0; i < seriesCount; i++) {\n                categories = math.max(categories, series[i].data.length);\n            }\n            return categories;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        extend($.easing, {\n            easeOutElastic: function (n, d, first, diff) {\n                var s = 1.70158, p = 0, a = diff;\n                if (n === 0) {\n                    return first;\n                }\n                if (n === 1) {\n                    return first + diff;\n                }\n                if (!p) {\n                    p = 0.5;\n                }\n                if (a < math.abs(diff)) {\n                    a = diff;\n                    s = p / 4;\n                } else {\n                    s = p / (2 * math.PI) * math.asin(diff / a);\n                }\n                return a * math.pow(2, -10 * n) * math.sin((n * 1 - s) * (1.1 * math.PI) / p) + diff + first;\n            }\n        });\n        function getField(field, row) {\n            if (row === null) {\n                return row;\n            }\n            var get = getter(field, true);\n            return get(row);\n        }\n        function getDateField(field, row) {\n            if (row === null) {\n                return row;\n            }\n            var key = '_date_' + field, value = row[key];\n            if (!value) {\n                value = toDate(getter(field, true)(row));\n                row[key] = value;\n            }\n            return value;\n        }\n        function toDate(value) {\n            var result, i;\n            if (value instanceof Date) {\n                result = value;\n            } else if (typeof value === STRING) {\n                result = kendo.parseDate(value) || new Date(value);\n            } else if (value) {\n                if (isArray(value)) {\n                    result = [];\n                    for (i = 0; i < value.length; i++) {\n                        result.push(toDate(value[i]));\n                    }\n                } else {\n                    result = new Date(value);\n                }\n            }\n            return result;\n        }\n        function toTime(value) {\n            if (isArray(value)) {\n                return map(value, toTime);\n            } else if (value) {\n                return toDate(value).getTime();\n            }\n        }\n        function addDuration(date, value, unit, weekStartDay) {\n            var result = date, hours;\n            if (date) {\n                date = toDate(date);\n                hours = date.getHours();\n                if (unit === YEARS) {\n                    result = new Date(date.getFullYear() + value, 0, 1);\n                    kendo.date.adjustDST(result, 0);\n                } else if (unit === MONTHS) {\n                    result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n                    kendo.date.adjustDST(result, hours);\n                } else if (unit === WEEKS) {\n                    result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n                    kendo.date.adjustDST(result, hours);\n                } else if (unit === DAYS) {\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n                    kendo.date.adjustDST(result, hours);\n                } else if (unit === HOURS) {\n                    date = new Date(date);\n                    date.setUTCMinutes(0, 0, 0);\n                    result = addTicks(date, value * TIME_PER_HOUR);\n                } else if (unit === MINUTES) {\n                    result = addTicks(date, value * TIME_PER_MINUTE);\n                    if (result.getSeconds() > 0) {\n                        result.setSeconds(0);\n                    }\n                } else if (unit === SECONDS) {\n                    result = addTicks(date, value * TIME_PER_SECOND);\n                } else if (unit === MILLISECONDS) {\n                    result = addTicks(date, value);\n                }\n                if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n                    result.setMilliseconds(0);\n                }\n            }\n            return result;\n        }\n        function startOfWeek(date, weekStartDay) {\n            var day = date.getDay(), daysToSubtract = 0;\n            if (!isNaN(day)) {\n                weekStartDay = weekStartDay || 0;\n                while (day !== weekStartDay) {\n                    if (day === 0) {\n                        day = 6;\n                    } else {\n                        day--;\n                    }\n                    daysToSubtract++;\n                }\n            }\n            return addTicks(date, -daysToSubtract * TIME_PER_DAY);\n        }\n        function floorDate(date, unit, weekStartDay) {\n            date = toDate(date);\n            return addDuration(date, 0, unit, weekStartDay);\n        }\n        function ceilDate(date, unit, weekStartDay) {\n            date = toDate(date);\n            if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {\n                return date;\n            }\n            return addDuration(date, 1, unit, weekStartDay);\n        }\n        function dateDiff(a, b) {\n            return a.getTime() - b;\n        }\n        function absoluteDateDiff(a, b) {\n            var diff = a.getTime() - b, offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\n            return diff - offsetDiff * TIME_PER_MINUTE;\n        }\n        function addTicks(date, ticks) {\n            return new Date(date.getTime() + ticks);\n        }\n        function duration(a, b, unit) {\n            var diff;\n            if (unit === YEARS) {\n                diff = b.getFullYear() - a.getFullYear();\n            } else if (unit === MONTHS) {\n                diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();\n            } else if (unit === DAYS) {\n                diff = math.floor(dateDiff(b, a) / TIME_PER_DAY);\n            } else {\n                diff = math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);\n            }\n            return diff;\n        }\n        function dateIndex(value, start, baseUnit, baseUnitStep) {\n            var index;\n            var date = toDate(value);\n            var startDate = toDate(start);\n            if (baseUnit == MONTHS) {\n                index = date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12 + timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n            } else if (baseUnit == YEARS) {\n                index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;\n            } else if (baseUnit == DAYS || baseUnit == WEEKS) {\n                index = timeIndex(date, startDate, baseUnit);\n            } else {\n                index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n            }\n            return index / baseUnitStep;\n        }\n        function timeIndex(date, start, baseUnit) {\n            return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n        }\n        function singleItemOrArray(array) {\n            return array.length === 1 ? array[0] : array;\n        }\n        function axisGroupBox(axes) {\n            var length = axes.length, box, i, axisBox;\n            if (length > 0) {\n                for (i = 0; i < length; i++) {\n                    axisBox = axes[i].contentBox();\n                    if (!box) {\n                        box = axisBox.clone();\n                    } else {\n                        box.wrap(axisBox);\n                    }\n                }\n            }\n            return box || Box2D();\n        }\n        function equalsIgnoreCase(a, b) {\n            if (a && b) {\n                return a.toLowerCase() === b.toLowerCase();\n            }\n            return a === b;\n        }\n        function dateEquals(a, b) {\n            if (a && b) {\n                return toTime(a) === toTime(b);\n            }\n            return a === b;\n        }\n        function appendIfNotNull(array, element) {\n            if (element !== null) {\n                array.push(element);\n            }\n        }\n        function lteDateIndex(date, sortedDates) {\n            var low = 0, high = sortedDates.length - 1, i, currentDate;\n            while (low <= high) {\n                i = math.floor((low + high) / 2);\n                currentDate = sortedDates[i];\n                if (currentDate < date) {\n                    low = i + 1;\n                    continue;\n                }\n                if (currentDate > date) {\n                    high = i - 1;\n                    continue;\n                }\n                while (dateEquals(sortedDates[i - 1], date)) {\n                    i--;\n                }\n                return i;\n            }\n            if (sortedDates[i] <= date) {\n                return i;\n            } else {\n                return i - 1;\n            }\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function countNumbers(values) {\n            var length = values.length, count = 0, i, num;\n            for (i = 0; i < length; i++) {\n                num = values[i];\n                if (isNumber(num)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        function areNumbers(values) {\n            return countNumbers(values) === values.length;\n        }\n        function axisRanges(axes) {\n            var i, axis, axisName, ranges = {};\n            for (i = 0; i < axes.length; i++) {\n                axis = axes[i];\n                axisName = axis.options.name;\n                if (axisName) {\n                    ranges[axisName] = axis.range();\n                }\n            }\n            return ranges;\n        }\n        function evalOptions(options, context, state, dryRun) {\n            var property, propValue, excluded, defaults, depth, needsEval = false;\n            state = state || {};\n            excluded = state.excluded = state.excluded || [];\n            defaults = state.defaults = state.defaults || {};\n            depth = state.depth = state.depth || 0;\n            if (depth > MAX_EXPAND_DEPTH) {\n                return;\n            }\n            for (property in options) {\n                if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {\n                    propValue = options[property];\n                    if (isFn(propValue)) {\n                        needsEval = true;\n                        if (!dryRun) {\n                            options[property] = valueOrDefault(propValue(context), defaults[property]);\n                        }\n                    } else if (typeof propValue === OBJECT) {\n                        if (!dryRun) {\n                            state.defaults = defaults[property];\n                        }\n                        state.depth++;\n                        needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;\n                        state.depth--;\n                    }\n                }\n            }\n            return needsEval;\n        }\n        function groupSeries(series, data) {\n            var result = [], nameTemplate, legacyTemplate = series.groupNameTemplate, groupIx, dataLength = data.length, seriesClone;\n            if (dataLength === 0) {\n                seriesClone = deepExtend({}, series);\n                seriesClone.visibleInLegend = false;\n                return [seriesClone];\n            }\n            if (defined(legacyTemplate)) {\n                kendo.logToConsole('\\'groupNameTemplate\\' is obsolete and will be removed in future versions. ' + 'Specify the group name template as \\'series.name\\'');\n                if (legacyTemplate) {\n                    nameTemplate = template(legacyTemplate);\n                }\n            } else {\n                nameTemplate = template(series.name || '');\n                if (nameTemplate._slotCount === 0) {\n                    nameTemplate = template(defined(series.name) ? '#= group.value #: #= series.name #' : '#= group.value #');\n                }\n            }\n            for (groupIx = 0; groupIx < dataLength; groupIx++) {\n                seriesClone = deepExtend({}, series);\n                if (!isFn(seriesClone.color)) {\n                    seriesClone.color = undefined;\n                }\n                seriesClone._groupIx = groupIx;\n                seriesClone._groupValue = data[groupIx].value;\n                result.push(seriesClone);\n                if (nameTemplate) {\n                    seriesClone.name = nameTemplate({\n                        series: seriesClone,\n                        group: data[groupIx]\n                    });\n                }\n            }\n            return result;\n        }\n        function filterSeriesByType(series, types) {\n            var i, currentSeries, result = [];\n            types = [].concat(types);\n            for (i = 0; i < series.length; i++) {\n                currentSeries = series[i];\n                if (inArray(currentSeries.type, types)) {\n                    result.push(currentSeries);\n                }\n            }\n            return result;\n        }\n        function indexOf(item, arr) {\n            if (item instanceof Date) {\n                for (var i = 0, length = arr.length; i < length; i++) {\n                    if (dateEquals(arr[i], item)) {\n                        return i;\n                    }\n                }\n                return -1;\n            } else {\n                return $.inArray(item, arr);\n            }\n        }\n        function sortDates(dates, comparer) {\n            comparer = comparer || dateComparer;\n            for (var i = 1, length = dates.length; i < length; i++) {\n                if (comparer(dates[i], dates[i - 1]) < 0) {\n                    dates.sort(comparer);\n                    break;\n                }\n            }\n            return dates;\n        }\n        function uniqueDates(srcDates, comparer) {\n            var i, dates = sortDates(srcDates, comparer), length = dates.length, result = length > 0 ? [dates[0]] : [];\n            comparer = comparer || dateComparer;\n            for (i = 1; i < length; i++) {\n                if (comparer(dates[i], last(result)) !== 0) {\n                    result.push(dates[i]);\n                }\n            }\n            return result;\n        }\n        function isDateAxis(axisOptions, sampleCategory) {\n            var type = axisOptions.type, dateCategory = sampleCategory instanceof Date;\n            return !type && dateCategory || equalsIgnoreCase(type, DATE);\n        }\n        function transpose(rows) {\n            var result = [], rowCount = rows.length, rowIx, row, colIx, colCount;\n            for (rowIx = 0; rowIx < rowCount; rowIx++) {\n                row = rows[rowIx];\n                colCount = row.length;\n                for (colIx = 0; colIx < colCount; colIx++) {\n                    result[colIx] = result[colIx] || [];\n                    result[colIx].push(row[colIx]);\n                }\n            }\n            return result;\n        }\n        function ensureTree(fieldName, target) {\n            if (fieldName.indexOf('.') > -1) {\n                var parts = fieldName.split('.'), path = '', val;\n                while (parts.length > 1) {\n                    path += parts.shift();\n                    val = kendo.getter(path)(target) || {};\n                    kendo.setter(path)(target, val);\n                    path += '.';\n                }\n            }\n        }\n        function seriesTotal(series) {\n            var data = series.data;\n            var sum = 0;\n            for (var i = 0; i < data.length; i++) {\n                var pointData = SeriesBinder.current.bindPoint(series, i);\n                var value = pointData.valueFields.value;\n                if (typeof value === STRING) {\n                    value = parseFloat(value);\n                }\n                if (isNumber(value) && pointData.fields.visible !== false) {\n                    sum += math.abs(value);\n                }\n            }\n            return sum;\n        }\n        function hasGradientOverlay(options) {\n            var overlay = options.overlay;\n            return overlay && overlay.gradient && overlay.gradient != 'none';\n        }\n        function anyHasZIndex(elements) {\n            for (var idx = 0; idx < elements.length; idx++) {\n                if (defined(elements[idx].zIndex)) {\n                    return true;\n                }\n            }\n        }\n        function preventDefault() {\n            this._defaultPrevented = true;\n        }\n        function pointByCategoryName(points, name) {\n            if (points) {\n                for (var idx = 0; idx < points.length; idx++) {\n                    if (points[idx].category === name) {\n                        return [points[idx]];\n                    }\n                }\n            }\n        }\n        function hasValue(value) {\n            return defined(value) && value !== null;\n        }\n        function toChartAxisRanges(axisRanges) {\n            var ranges = {};\n            var axisRange;\n            for (var idx = 0; idx < axisRanges.length; idx++) {\n                axisRange = axisRanges[idx];\n                if (axisRange.axis.options.name) {\n                    ranges[axisRange.axis.options.name] = {\n                        min: axisRange.range.min,\n                        max: axisRange.range.max\n                    };\n                }\n            }\n            return ranges;\n        }\n        function acceptKey(e, mouseKey) {\n            var key = (mouseKey || '').toLowerCase();\n            var accept = key == 'none' && !(e.ctrlKey || e.shiftKey || e.altKey) || e[key + 'Key'];\n            return accept;\n        }\n        function preloadFonts(options, callback) {\n            var fonts = [];\n            fetchFonts(options, fonts);\n            kendo.util.loadFonts(fonts, callback);\n        }\n        function fetchFonts(options, fonts, state) {\n            var MAX_DEPTH = 5;\n            state = state || { depth: 0 };\n            if (!options || state.depth > MAX_DEPTH || !document.fonts) {\n                return;\n            }\n            Object.keys(options).forEach(function (key) {\n                var value = options[key];\n                if (key === 'dataSource' || key[0] === '$' || !value) {\n                    return;\n                }\n                if (key === 'font') {\n                    fonts.push(value);\n                } else if (typeof value === 'object') {\n                    state.depth++;\n                    fetchFonts(value, fonts, state);\n                    state.depth--;\n                }\n            });\n        }\n        function clearMissingValues(originalOptions, options) {\n            var fieldValue, originalValue, field, nullValue;\n            for (field in options) {\n                fieldValue = options[field];\n                originalValue = originalOptions[field];\n                if (defined(originalValue)) {\n                    nullValue = fieldValue === null;\n                    if (nullValue || !defined(fieldValue)) {\n                        delete originalOptions[field];\n                        if (nullValue) {\n                            delete options[field];\n                        }\n                    } else if (originalValue && isPlainObject(fieldValue)) {\n                        if (isPlainObject(fieldValue)) {\n                            clearMissingValues(originalValue, fieldValue);\n                        }\n                    }\n                }\n            }\n        }\n        function paneAnchor(axes, pane) {\n            for (var i = 0; i < axes.length; i++) {\n                var anchor = axes[i];\n                if (anchor && anchor.pane === pane) {\n                    return anchor;\n                }\n            }\n        }\n        dataviz.ui.plugin(Chart);\n        PlotAreaFactory.current.register(CategoricalPlotArea, [\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA,\n            CANDLESTICK,\n            OHLC,\n            BULLET,\n            VERTICAL_BULLET,\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT,\n            RANGE_COLUMN,\n            RANGE_BAR,\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ]);\n        PlotAreaFactory.current.register(XYPlotArea, [\n            SCATTER,\n            SCATTER_LINE,\n            BUBBLE\n        ]);\n        PlotAreaFactory.current.register(PiePlotArea, [PIE]);\n        PlotAreaFactory.current.register(DonutPlotArea, [DONUT]);\n        SeriesBinder.current.register([\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT,\n            ERROR_LOW_FIELD,\n            ERROR_HIGH_FIELD\n        ]);\n        SeriesBinder.current.register([\n            RANGE_COLUMN,\n            RANGE_BAR\n        ], [\n            FROM,\n            TO\n        ], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT\n        ]);\n        SeriesBinder.current.register([\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT,\n            SUMMARY_FIELD\n        ]);\n        DefaultAggregates.current.register([\n            BAR,\n            COLUMN,\n            LINE,\n            VERTICAL_LINE,\n            AREA,\n            VERTICAL_AREA,\n            WATERFALL,\n            HORIZONTAL_WATERFALL\n        ], {\n            value: MAX,\n            color: FIRST,\n            noteText: FIRST,\n            errorLow: MIN,\n            errorHigh: MAX\n        });\n        DefaultAggregates.current.register([\n            RANGE_COLUMN,\n            RANGE_BAR\n        ], {\n            from: MIN,\n            to: MAX,\n            color: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            SCATTER,\n            SCATTER_LINE,\n            BUBBLE\n        ], [\n            X,\n            Y\n        ], [\n            COLOR,\n            NOTE_TEXT,\n            X_ERROR_LOW_FIELD,\n            X_ERROR_HIGH_FIELD,\n            Y_ERROR_LOW_FIELD,\n            Y_ERROR_HIGH_FIELD\n        ]);\n        SeriesBinder.current.register([BUBBLE], [\n            X,\n            Y,\n            'size'\n        ], [\n            COLOR,\n            CATEGORY,\n            NOTE_TEXT\n        ]);\n        SeriesBinder.current.register([\n            CANDLESTICK,\n            OHLC\n        ], [\n            'open',\n            'high',\n            'low',\n            'close'\n        ], [\n            CATEGORY,\n            COLOR,\n            'downColor',\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            CANDLESTICK,\n            OHLC\n        ], {\n            open: MAX,\n            high: MAX,\n            low: MIN,\n            close: MAX,\n            color: FIRST,\n            downColor: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT\n        ], [\n            'lower',\n            'q1',\n            'median',\n            'q3',\n            'upper',\n            'mean',\n            'outliers'\n        ], [\n            CATEGORY,\n            COLOR,\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            BOX_PLOT,\n            VERTICAL_BOX_PLOT\n        ], {\n            lower: MAX,\n            q1: MAX,\n            median: MAX,\n            q3: MAX,\n            upper: MAX,\n            mean: MAX,\n            outliers: FIRST,\n            color: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            BULLET,\n            VERTICAL_BULLET\n        ], [\n            'current',\n            'target'\n        ], [\n            CATEGORY,\n            COLOR,\n            'visibleInLegend',\n            NOTE_TEXT\n        ]);\n        DefaultAggregates.current.register([\n            BULLET,\n            VERTICAL_BULLET\n        ], {\n            current: MAX,\n            target: MAX,\n            color: FIRST,\n            noteText: FIRST\n        });\n        SeriesBinder.current.register([\n            PIE,\n            DONUT\n        ], [VALUE], [\n            CATEGORY,\n            COLOR,\n            'explode',\n            'visibleInLegend',\n            'visible'\n        ]);\n        deepExtend(dataviz, {\n            EQUALLY_SPACED_SERIES: EQUALLY_SPACED_SERIES,\n            Aggregates: Aggregates,\n            AreaChart: AreaChart,\n            AreaSegment: AreaSegment,\n            AxisGroupRangeTracker: AxisGroupRangeTracker,\n            Bar: Bar,\n            BarChart: BarChart,\n            BarLabel: BarLabel,\n            BubbleChart: BubbleChart,\n            Bullet: Bullet,\n            BulletChart: BulletChart,\n            CandlestickChart: CandlestickChart,\n            Candlestick: Candlestick,\n            CategoricalChart: CategoricalChart,\n            CategoricalErrorBar: CategoricalErrorBar,\n            CategoricalPlotArea: CategoricalPlotArea,\n            CategoryAxis: CategoryAxis,\n            ChartAxis: ChartAxis,\n            ChartContainer: ChartContainer,\n            ChartPane: ChartPane,\n            ChartPlotArea: ChartPlotArea,\n            ChartSeries: ChartSeries,\n            ClipAnimation: ClipAnimation,\n            ClusterLayout: ClusterLayout,\n            Crosshair: Crosshair,\n            CrosshairTooltip: CrosshairTooltip,\n            DateCategoryAxis: DateCategoryAxis,\n            DateValueAxis: DateValueAxis,\n            DefaultAggregates: DefaultAggregates,\n            DonutChart: DonutChart,\n            DonutPlotArea: DonutPlotArea,\n            DonutSegment: DonutSegment,\n            ErrorBarBase: ErrorBarBase,\n            ErrorRangeCalculator: ErrorRangeCalculator,\n            Highlight: Highlight,\n            SharedTooltip: SharedTooltip,\n            Legend: Legend,\n            LegendItem: LegendItem,\n            LegendLayout: LegendLayout,\n            LineChart: LineChart,\n            LinePoint: LinePoint,\n            LineSegment: LineSegment,\n            Pane: Pane,\n            PieAnimation: PieAnimation,\n            PieChart: PieChart,\n            PieChartMixin: PieChartMixin,\n            PiePlotArea: PiePlotArea,\n            PieSegment: PieSegment,\n            PlotAreaBase: PlotAreaBase,\n            PlotAreaEventsMixin: PlotAreaEventsMixin,\n            PlotAreaFactory: PlotAreaFactory,\n            PointEventsMixin: PointEventsMixin,\n            RangeBar: RangeBar,\n            RangeBarChart: RangeBarChart,\n            ScatterChart: ScatterChart,\n            ScatterErrorBar: ScatterErrorBar,\n            ScatterLineChart: ScatterLineChart,\n            Selection: Selection,\n            SeriesAggregator: SeriesAggregator,\n            SeriesBinder: SeriesBinder,\n            ShapeElement: ShapeElement,\n            SplineSegment: SplineSegment,\n            SplineAreaSegment: SplineAreaSegment,\n            StackWrap: StackWrap,\n            Tooltip: Tooltip,\n            OHLCChart: OHLCChart,\n            OHLCPoint: OHLCPoint,\n            WaterfallChart: WaterfallChart,\n            WaterfallSegment: WaterfallSegment,\n            XYPlotArea: XYPlotArea,\n            MousewheelZoom: MousewheelZoom,\n            ZoomSelection: ZoomSelection,\n            Pannable: Pannable,\n            addDuration: addDuration,\n            areNumbers: areNumbers,\n            axisGroupBox: axisGroupBox,\n            categoriesCount: categoriesCount,\n            ceilDate: ceilDate,\n            countNumbers: countNumbers,\n            duration: duration,\n            ensureTree: ensureTree,\n            indexOf: indexOf,\n            isNumber: isNumber,\n            floorDate: floorDate,\n            filterSeriesByType: filterSeriesByType,\n            hasValue: hasValue,\n            lteDateIndex: lteDateIndex,\n            evalOptions: evalOptions,\n            seriesTotal: seriesTotal,\n            singleItemOrArray: singleItemOrArray,\n            sortDates: sortDates,\n            startOfWeek: startOfWeek,\n            transpose: transpose,\n            toDate: toDate,\n            toTime: toTime,\n            uniqueDates: uniqueDates\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}