{"version":3,"sources":["kendo.grid.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","isUnicodeLetter","ch","RX_UNICODE_LETTER","test","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","RegExp","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","groupCells","count","Array","stringifyAttributes","attributes","attr","STRING","cursor","context","add","css","reorder","selector","source","dest","before","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","on","CLICK","NS","replace","proxy","normalizeColumns","columns","encoded","hide","column","hidden","uid","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","columnParent","parents","columnParents","inserted","setColumnVisibility","visible","method","removeHiddenStyle","isCellVisible","display","visibleColumns","grep","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","moveCellsBetweenContainers","sources","target","leafs","destination","groups","rows","sourcesDepth","targetDepth","children","insertAfter","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","sourcePosition","columnVisiblePosition","ths","t","concat","cellCounts","findParentColumnWithChildren","rtl","locked","findReorderTarget","parent","parentColumns","flatColumnsInDomOrder","flatColumns","hiddenLeafColumnsCount","columnsWidth","cols","colWidth","indexOf","parseInt","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","leafDataCells","indexAttr","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","createElement","firstChild","replaceChild","normalizeCols","hasDetails","colgroup","format","is","prepend","browser","msie","version","setTimeout","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollTop","scrollLeft","edge","setActive","focus","one","preventDefault","isInputElement","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","currentTable","support","touch","roleSelector","_setCurrent","navigatable","isIE8","_activeElement","isInEdit","groupRowBuilder","colspan","groupRowLockedContentBuilder","ui","DataSource","tbodyInnerHtml","activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","prototype","isFunction","isEmptyObject","PROGRESS","ERROR","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","FIRSTNAVITEM","HEADERCELLS","EDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","FOCUSED","SELECTED","NORECORDSCLASS","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","NAVIGATE","HEIGHT","TABINDEX","FUNCTION","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","formatRegExp","templateHashRegExp","whitespaceRegExp","COMMANDBUTTONTMPL","isRtl","isIE7","VirtualScrollable","that","fn","call","_refreshHandler","refresh","setDataSource","dataSource","wrap","unbind","bind","itemHeight","noop","prefetch","destroy","wrapper","verticalScrollbar","off","drag","scrollbar","overflow","_wheelScroll","kineticScrollNeeded","UserEvents","global","start","sender","capture","move","y","delta","_scroll","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","lastItemIndex","_scrollTop","_scrolling","_fetch","_scrollingTimeout","clearTimeout","_page","take","itemIndex","rangeStart","pageSize","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","_fetching","_timeout","inRange","range","progress","repaintScrollbar","maxHeight","wrapperElement","addScrollBarHeight","scrollWidth","totalHeight","total","cancel","page","defaultCommands","imageClass","iconClass","save","edit","update","canceledit","excel","pdf","Grid","DataBoundWidget","events","_events","_element","_aria","_columns","_dataSource","_tbody","_pageable","_thead","_groupable","_toolbar","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollable","virtual","groupable","virtualScrollable","selectable","toolbar","filterable","sortable","allowCopy","pageable","editable","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","messages","cancelDelete","confirmation","confirmDelete","_angularItems","_destroyColumnAttachments","_navigatableTables","pager","kendoGroupable","clearArea","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyEditable","_progressHandler","_errorHandler","_removeLockedContainers","pane","minScreenResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","_isMobile","after","removeClass","_setEvents","_items","tr","dataItems","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_wrapper","_createResizeHandle","headerWrap","ieCorrection","webkitCorrection","firefoxCorrection","indicatorWidth","webkit","mozilla","top","show","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","getPageZoomStyle","bodyZoom","docZoom","parseFloat","documentElement","clientX","winScrollLeft","_resizeHandleDocumentClick","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","hold","_resizable","columnStart","columnWidth","gridWidth","isLocked","col","isMobile","mobileOS","Resizable","handle","hint","header","contentTable","location","constrain","totalWidth","rtlMultiplier","currentWidth","_footerWidth","resizeend","newWidth","oldWidth","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_draggable","kendoDraggable","autoScroll","dragstart","not","dragend","title","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","_reorderable","targetParentContainerIndex","targetIndex","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","_hasFilterRow","leafIndex","autoFitColumn","contentDiv","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","ceil","lockChanged","sourceColumns","destColumn","_updateColumnCellIndex","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unlockColumn","cellIndex","td","lockedColumnOffset","contains","_modelForContainer","_editMode","getByUid","mode","multiple","handler","_editContainer","end","closeCell","isLockedCell","has","blur","editCell","timer","editRow","stopPropagation","removeRow","_confirmation","model","_attachModelChange","kendoEditable","fields","editor","_relatedRow","_adjustLockedHorizontalScrollBar","clientWidth","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","close","_actionSheet","purge","navigate","_modelChangeHandler","_modelChange","isCancel","_displayCell","prependTo","ns","dataItem","storage","settings","Template","templateSettings","tmpl","_cellTmpl","_removeRow","cancelRow","sync","ObservableObject","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","tempCommand","unescape","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","_editAnimation","center","open","Editable","cancelChanges","_displayRow","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","select","_showMessage","actionSheet","view","ActionSheet","cancelTemplate","popup","_actionSheetPopupOptions","confirm","saveChanges","addRow","createAt","serverPaging","totalPages","insert","_firstEditableColumnIndex","_toolbarTmpl","saveAsExcel","saveAsPDF","attributeClassMatch","Error","match","_hasFooters","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","Groupable","groupContainer","draggableElements","allowDrag","_continuousItems","lockedItems","nonLockedItems","multi","notString","Selectable","parseOptions","aria","useAllItems","relatedTarget","continuousItems","keyCode","SPACEBAR","clear","grid","stopImmediatePropagation","copySelection","areaClipBoard","getTSV","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","cellText","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","minWidth","minScreenWidth","hideColumn","showColumn","clearSelection","_updateCurrentAttr","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","_scrollTo","preventTrigger","_removeCurrent","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","bottomDistance","offsetLeft","abs","dataTables","headerTables","_openHeaderMenu","_tableFocus","_tableBlur","_tableKeyDown","altKey","DOWN","_setTabIndex","handled","requestInProgress","canHandle","isDefaultPrevented","UP","_moveUp","_moveDown","LEFT","RIGHT","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","shiftKey","collapseRow","_prevHorizontalCell","_horizontalContainer","expandRow","_nextHorizontalCell","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isInCell","_tabNext","_handleEditing","active","_toggleCurrent","focusable","originalIndex","nextAll","_currentDataIndex","lockedColumnsCount","up","step","back","switchRow","isEdited","isIE","oldIE","editContainer","opera","triggerHandler","_initMobile","Pane","align","effect","_scrollable","hasVirtualScroll","_averageRowHeight","movable","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_requestStart","_error","_progress","relatedRow","selectableRow","childCells","originalCells","Pager","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menu","menuOptions","hasMultiColumnHeaders","initCallback","closeCallback","sortHandler","filterHandler","compare","forceUnique","checkSource","owner","filtering","kendoColumnMenu","_headerCells","_filterable","columnFilterable","filterInit","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","operator","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","initialColumns","type","_tmpl","alt","skipGroupCells","expr","_headerCellText","headerTemplate","stringify","columnLeafs","columnsLocked","_detailTmpl","_footerTmpl","g","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","detailRow","button","expanding","masterRow","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","filterCells","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","_prepareColumns","_updateCols","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_updateLockedCols","_autoColumns","schema","toJSON","_rowsHtml","templates","_groupRowHtml","groupHeaderBuilder","skipColspan","footerData","groupHeaderTemplate","footerDefaults","_groupAggregatesDefaultObject","headerData","groupItems","showFooter","footerCount","relatedGroup","toHide","footersVisibility","groupsCount","pop","_firstDataItem","grouped","headerCellIndex","_setParentsVisibility","predicate","_resize","force","_isActiveInTable","isCurrentInHeader","action","_renderContent","_renderLockedContent","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","startingPage","draw","cont","_destructive","pageNumber","pageNum","drawDOM","clone","always","fail","err","renderPage","origBody","_initPDFProgress","_drawPDF","exportPage","_drawPDFShadow","avoidLinks","done","args","paperSize","Group","pb","loading","kendoProgressBar","chunkCount","plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;CAwBC,SAAUA,EAAGC,QACVA,OAAO,aAAc,cAAeD,IACtC,WAkXE,MAjXC,YAGG,QAASE,GAAQC,GACb,aAAcA,KAAUC,EAE5B,QAASC,GAAMF,EAAOG,GAClB,GAAIC,GAAQC,EAAIF,EAChB,OAAOG,GAAKJ,MAAMF,EAAQI,GAASA,EAEvC,QAASC,GAAIE,GACT,MAAIA,GACOD,EAAKD,IAAI,GAAIE,GAEb,EAGf,QAASC,GAAWR,EAAOS,EAAKC,GAC5B,MAAOJ,GAAKI,IAAIJ,EAAKG,IAAIT,EAAOU,GAAMD,GAE1C,QAASE,GAAIC,GACT,MAAOA,GAAUC,EAErB,QAASC,GAAIC,GACT,MAAOA,GAAUF,EAErB,QAASG,GAASC,GACd,MAAsB,gBAARA,KAAqBC,MAAMD,GAE7C,QAASE,GAAenB,EAAOoB,GAC3B,MAAOrB,GAAQC,GAASA,EAAQoB,EAEpC,QAASC,GAAIrB,GACT,MAAOA,GAAQA,EAEnB,QAASsB,GAAUC,GAAnB,GAEaC,GADLC,IACJ,KAASD,IAAOD,GACZE,EAAMC,KAAKF,EAAMD,EAAOC,GAE5B,OAAOC,GAAME,OAAOC,KAAK,IAE7B,QAASC,GAAQC,GAAjB,GAEaC,GADLC,EAAO,UACX,KAASD,EAAI,EAAGA,EAAID,EAAIG,SAAUF,EAC9BC,IAASA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IACzEA,GAAQF,EAAII,WAAWH,EAE3B,OAAOC,KAAS,EAEpB,QAASG,GAAWZ,GAChB,MAAOM,GAAQP,EAAUC,IAQ7B,QAASa,GAAYC,GACjB,GAAyBN,GAArBE,EAASI,EAAIJ,OAAWxB,EAAM6B,EAAS5B,EAAM6B,CACjD,KAAKR,EAAI,EAAGA,EAAIE,EAAQF,IACpBrB,EAAMJ,EAAKI,IAAIA,EAAK2B,EAAIN,IACxBtB,EAAMH,EAAKG,IAAIA,EAAK4B,EAAIN,GAE5B,QACItB,IAAKA,EACLC,IAAKA,GAGb,QAAS8B,GAASH,GACd,MAAOD,GAAYC,GAAK5B,IAE5B,QAASgC,GAASJ,GACd,MAAOD,GAAYC,GAAK3B,IAE5B,QAASgC,GAAeL,GACpB,MAAOM,GAAkBN,GAAK5B,IAElC,QAASmC,GAAeP,GACpB,MAAOM,GAAkBN,GAAK3B,IAElC,QAASiC,GAAkBN,GAA3B,GAEaN,GAAOE,EACRY,EAFJpC,EAAM6B,EAAS5B,EAAM6B,CACzB,KAASR,EAAI,EAAGE,EAASI,EAAIJ,OAAQF,EAAIE,EAAQF,IACzCc,EAAIR,EAAIN,GACF,OAANc,GAAcC,SAASD,KACvBpC,EAAMH,EAAKG,IAAIA,EAAKoC,GACpBnC,EAAMJ,EAAKI,IAAIA,EAAKmC,GAG5B,QACIpC,IAAKA,IAAQ6B,EAAUS,OAAYtC,EACnCC,IAAKA,IAAQ6B,EAAUQ,OAAYrC,GAG3C,QAASsC,GAAKC,GACV,GAAIA,EACA,MAAOA,GAAMA,EAAMhB,OAAS,GAGpC,QAASiB,GAAOC,EAAOC,GAEnB,MADAD,GAAMzB,KAAK2B,MAAMF,EAAOC,GACjBD,EAEX,QAASG,GAAeC,GACpB,MAAOC,GAAMC,SAASF,GAClBG,cAAc,EACdC,UAAW,MAGnB,QAASC,GAAWC,EAAM7D,GACtB,MAAOD,GAAQC,IAAoB,OAAVA,EAAiB,IAAM6D,EAAO,KAAQ7D,EAAQ,KAAQ,GAEnF,QAAS8D,GAAcC,GAAvB,GAEahC,GADLiC,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC9BiC,GAAUJ,EAAWG,EAAMhC,GAAG,GAAIgC,EAAMhC,GAAG,GAE/C,OAAOiC,GAEX,QAASC,GAAYF,GAArB,GAEahC,GACD/B,EAFJgE,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC1B/B,EAAQ+D,EAAMhC,GAAG,GACjBhC,EAAQC,KACRgE,GAAUD,EAAMhC,GAAG,GAAK,IAAM/B,EAAQ,IAG9C,IAAe,KAAXgE,EACA,MAAOA,GAGf,QAASE,GAAWC,GAIhB,MAHoB,gBAATA,KACPA,GAAQ,MAELA,EAEX,QAASC,GAAUC,GAAnB,GAGY5C,GACKM,EAHTuC,IACJ,IAAID,EAEA,IADI5C,EAAQ+B,EAAMe,UAAUF,GAAKG,MAAM,KAC9BzC,EAAI,EAAGA,EAAIN,EAAMQ,OAAQF,IAC9BuC,EAAO5C,KAAK,SAAWD,EAAMM,GAGrC,OAAOuC,GAAO1C,KAAK,KAEvB,QAAS6C,GAAcC,GACnB,MAAiB,KAAVA,GAA0B,OAAVA,GAA4B,SAAVA,GAA8B,gBAAVA,IAA4B3E,EAAQ2E,GAErG,QAASC,GAAc9B,GA8DnB,IA9DJ,GACQ+B,IACAC,EAAG,IACHC,GAAI,IACJC,IAAK,IACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,MACHC,GAAI,MACJC,IAAK,MACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,IACHC,GAAI,IACJC,IAAK,IACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,MACHC,GAAI,MACJC,IAAK,MACLC,EAAG,OACHC,GAAI,OACJC,IAAK,OACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,IAAM,KAENC,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEAC,EAAQ,GACL7D,EAAI,GACHA,EAAI4D,EAAO,GACXA,EAAOE,SAEPD,GAAS9B,EAAS6B,EAAO,IACzB5D,GAAK4D,EAAO,GAGpB,OAAOC,GAEX,QAASE,GAAcC,GAAvB,GAEQC,GASA9G,EAAW+G,EACNhF,EACDiF,CADR,KAXAH,EAAIA,EAAEI,cACFH,GACA/E,EAAG,EACHiF,EAAG,EACHE,EAAG,GACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAEHtH,EAAQ,EAAG+G,EAAO,EACbhF,EAAI,EAAGA,EAAI8E,EAAE5E,SAAUF,EAAG,CAE/B,GADIiF,EAAIF,EAAOD,EAAEU,OAAOxF,KACnBiF,EACD,MAAO,KAEXhH,IAASgH,EACLA,EAAID,IACJ/G,GAAS,EAAI+G,GAEjBA,EAAOC,EAEX,MAAOhH,GAEX,QAASwH,GAAQ3H,GACb,GAAI4H,GAAQC,OAAOC,OAAO,KAC1B,OAAO,YAAA,GAEM5F,GADL6F,EAAK,EACT,KAAS7F,EAAI8F,UAAU5F,SAAUF,GAAK,GAClC6F,GAAM,IAAMC,UAAU9F,EAE1B,OAAO6F,KAAMH,GAAQA,EAAMG,GAAMH,EAAMG,GAAM/H,EAAEwD,MAAMyE,KAAMD,YAGnE,QAASE,GAAWC,GAEhB,IADA,GAAsDhI,GAAOiI,EAAzDjE,KAAakE,EAAU,EAAGjG,EAAS+F,EAAO/F,OACvCiG,EAAUjG,GACbjC,EAAQgI,EAAO9F,WAAWgG,KACtBlI,GAAS,OAASA,GAAS,OAASkI,EAAUjG,GAC9CgG,EAAQD,EAAO9F,WAAWgG,KACH,QAAV,MAARD,GACDjE,EAAOtC,OAAe,KAAR1B,IAAiB,KAAe,KAARiI,GAAgB,QAEtDjE,EAAOtC,KAAK1B,GACZkI,MAGJlE,EAAOtC,KAAK1B,EAGpB,OAAOgE,GAEX,QAASmE,GAAWlF,GAChB,MAAOA,GAAMmF,IAAI,SAAUpI,GACvB,GAAIgE,GAAS,EAOb,OANIhE,GAAQ,QACRA,GAAS,MACTgE,GAAUqE,OAAOC,aAAatI,IAAU,GAAK,KAAO,OACpDA,EAAQ,MAAgB,KAARA,GAEpBgE,GAAUqE,OAAOC,aAAatI,KAE/B4B,KAAK,IAEZ,QAAS2G,GAAUC,EAAGC,GAIlB,QAASC,GAAMF,EAAGG,GAEd,IADA,GAAI9B,MAAQ+B,EAAK,EAAGC,EAAK,EAAG9G,EAAI,EACzB6G,EAAKJ,EAAEvG,QAAU4G,EAAKF,EAAE1G,QACvBwG,EAAID,EAAEI,GAAKD,EAAEE,KAAQ,EACrBhC,EAAE9E,KAAOyG,EAAEI,KAEX/B,EAAE9E,KAAO4G,EAAEE,IASnB,OANID,GAAKJ,EAAEvG,QACP4E,EAAEnF,KAAK2B,MAAMwD,EAAG2B,EAAEM,MAAMF,IAExBC,EAAKF,EAAE1G,QACP4E,EAAEnF,KAAK2B,MAAMwD,EAAG8B,EAAEG,MAAMD,IAErBhC,EAlBX,MAAI2B,GAAEvG,OAAS,EACJuG,EAAEM,QAmBN,QAASnH,GAAK6G,GAAd,GAIClB,GACAyB,EACAC,CALJ,OAAIR,GAAEvG,QAAU,EACLuG,GAEPlB,EAAI2B,KAAKC,MAAMV,EAAEvG,OAAS,GAC1B8G,EAAOP,EAAEM,MAAM,EAAGxB,GAClB0B,EAAQR,EAAEM,MAAMxB,GACpByB,EAAOpH,EAAKoH,GACZC,EAAQrH,EAAKqH,GACNN,EAAMK,EAAMC,KACrBR,GAEN,QAASW,GAAgBC,GACrB,MAAOC,GAAkBC,KAAKF,GAnUrC,GA+WOC,GA9WA/I,EAAO2I,KAAMzF,EAAQ+F,OAAO/F,MAAOgG,EAAahG,EAAMgG,WACtD3I,EAAaP,EAAKmJ,GAAK,IAAKnH,EAAUoH,OAAOC,UAAWpH,GAAWmH,OAAOC,UAAW1J,EAAY,YAmDjG2J,EAAMC,KAAKD,GACVA,KACDA,EAAM,WACF,OAAO,GAAIC,OAAOC,YA6Q1BN,EAAWhG,GACPuG,MACIzH,QAASA,EACTC,QAASA,EACTW,OAAQA,EACRd,YAAaA,EACbI,SAAUA,EACVC,SAAUA,EACV1C,QAASA,EACTe,IAAKA,EACLe,QAASA,EACTM,WAAYA,EACZnB,SAAUA,EACVyD,cAAeA,EACfzB,KAAMA,EACNxC,WAAYA,EACZoJ,IAAKA,EACLtI,UAAWA,EACXpB,MAAOA,EACPS,IAAKA,EACLiD,WAAYA,EACZE,cAAeA,EACfM,UAAWA,EACXF,WAAYA,EACZD,YAAaA,EACbX,eAAgBA,EAChBX,kBAAmBA,EACnBD,eAAgBA,EAChBE,eAAgBA,EAChBvB,IAAKA,EACLF,eAAgBA,EAChByF,cAAeA,EACfjC,cAAeA,EACf6C,QAASA,EACTW,WAAYA,EACZJ,WAAYA,EACZQ,UAAWA,EACXY,gBAAiBA,KAGzB3F,EAAMwG,QAAQD,KAAOvG,EAAMuG,KAC3BvG,EAAMyG,QAAQF,KAAOvG,EAAMuG,KACvBV,EAAwBa,OAAO,y2JAEhCX,OAAO/F,OACE,kBAAV1D,SAAwBA,OAAOqK,IAAMrK,OAAS,SAAUsK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUxK,EAAGC,QACVA,OAAO,qBACH,aACA,aACDD,IACL,YACG,SAAU0K,GAmDP,QAASC,KACL,OACIC,MAAO,EACPC,OAAQ,EACRC,SAAU,GA6ClB,QAASC,GAAYrH,EAAMsH,EAAOC,GAC9B,MAAOC,GAAYC,QAAQC,QAAQ1H,EAAMsH,EAAOC,GAEpD,QAASI,GAAUC,EAAOC,GACtB,GAAIC,KACJ,IAAIF,EAAMlJ,OAAS,GAAKqJ,SAASH,MAAO,CACpC,IACIE,EAAWF,EAAM/C,IAAI,SAAUmD,GAC3B,MAAOD,UAASH,MAAMK,KAAKD,KAEjC,MAAOE,GACLjI,EAAMkI,aAAaD,GAEvBE,QAAQC,IAAIP,GAAUQ,KAAKT,EAAUA,OAErCA,KAnHX,GACOU,GAAMR,SAAU9H,EAAQ+F,OAAO/F,MAAOuI,EAAQvI,EAAMuI,MAAOhC,EAAOvG,EAAMuG,KAAMhK,EAAUgK,EAAKhK,QAC7FiM,EAAWD,EAAME,QACjBC,KAAM,SAAU/H,GACZ2D,KAAKqE,MAAQhI,EACb2D,KAAKsE,QAAU,EACftE,KAAKuE,SAETC,IAAK,SAAU9K,EAAKxB,GAChB,GAAIuM,GAAMzE,KAAMM,EAAMmE,EAAIF,KAAMG,GACxBhL,IAAKA,EACLxB,MAAOA,EAEfoI,GAAI5G,GAAOgL,EACND,EAAIE,OAGLF,EAAIG,MAAMC,MAAQH,EAClBA,EAAMI,MAAQL,EAAIG,MAClBH,EAAIG,MAAQF,GAJZD,EAAIE,MAAQF,EAAIG,MAAQF,EAMxBD,EAAIH,SAAWG,EAAIJ,OACnB/D,EAAImE,EAAIE,MAAMjL,KAAO,KACrB+K,EAAIE,MAAQF,EAAIE,MAAME,MACtBJ,EAAIE,MAAMG,MAAQ,MAElBL,EAAIH,WAGZS,IAAK,SAAUrL,GACX,GAAI+K,GAAMzE,KAAM0E,EAAQD,EAAIF,KAAK7K,EACjC,IAAIgL,EAeA,MAdIA,KAAUD,EAAIE,OAASD,IAAUD,EAAIG,QACrCH,EAAIE,MAAQD,EAAMG,MAClBJ,EAAIE,MAAMG,MAAQ,MAElBJ,IAAUD,EAAIG,QACVF,EAAMI,QACNJ,EAAMI,MAAMD,MAAQH,EAAMG,MAC1BH,EAAMG,MAAMC,MAAQJ,EAAMI,OAE9BJ,EAAMI,MAAQL,EAAIG,MAClBF,EAAMG,MAAQ,KACdJ,EAAIG,MAAMC,MAAQH,EAClBD,EAAIG,MAAQF,GAETA,EAAMxM,SAIrB8M,EAAoBvC,EAAE,2RAAuS,GAQ7TQ,EAAcgB,EAAME,QACpBC,KAAM,SAAUa,GACZjF,KAAKkF,OAAS,GAAIhB,GAAS,KAC3BlE,KAAKmF,aAAaF,IAEtBA,SAAWG,mBAAoB,GAC/BjC,QAAS,SAAU1H,EAAMsH,EAAOsC,GAAvB,GAIDC,GAAkCC,EAA0CC,EAI5EnJ,EACA2G,EACAyC,EACK/L,EACDxB,CAXR,KAAKuD,EACD,MAAOiH,IAGX,IADI4C,EAAWrD,EAAKzI,UAAUuJ,GAAQwC,EAAWtD,EAAKlI,QAAQ0B,EAAO6J,GAAWE,EAAexF,KAAKkF,OAAOH,IAAIQ,GAC3GC,EACA,MAAOA,EAEPnJ,GAAOqG,IACPM,EAAaqC,EAAMA,EAAML,EACzBS,EAAiBzF,KAAK0F,kBAAkBC,WAAU,EACtD,KAASjM,IAAOqJ,GACR7K,EAAQ6K,EAAMrJ,GACdzB,EAAQC,KACR8K,EAAWD,MAAMrJ,GAAOxB,EAehC,OAZAuK,GAAEO,GAAYvH,KAAKA,GACnBuH,EAAW4C,YAAYH,GACvBzB,EAAI6B,KAAKD,YAAY5C,IAChBvH,EAAO,IAAItB,SACZkC,EAAKsG,MAAQK,EAAW8C,YAAc9F,KAAKiF,QAAQG,mBACnD/I,EAAKuG,OAASI,EAAW+C,aACzB1J,EAAKwG,SAAW4C,EAAeO,UAAYhG,KAAKiF,QAAQG,oBAExD/I,EAAKsG,MAAQ,GAAKtG,EAAKuG,OAAS,GAChC5C,KAAKkF,OAAOV,IAAIe,EAAUlJ,GAE9B2G,EAAWiD,WAAWC,YAAYlD,GAC3B3G,GAEXqJ,gBAAiB,WACb,MAAOjD,GAAE,gGAA+GzC,KAAKiF,QAAQG,mBAAqB,eAAiBpF,KAAKiF,QAAQG,mBAAqB,4BAAkC,KAGvPnC,GAAYC,QAAU,GAAID,GAmB1BvH,EAAMuG,KAAKgB,YAAcA,EACzBvH,EAAMuG,KAAKiC,SAAWA,EACtBxI,EAAMuG,KAAKmB,UAAYA,EACvB1H,EAAMuG,KAAKa,YAAcA,GAC3BrB,OAAO/F,MAAMyK,SACC,kBAAVnO,SAAwBA,OAAOqK,IAAMrK,OAAS,SAAUsK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUxK,EAAGC,QACVA,OAAO,eAAgB,aAAcD,IACvC,WAgDE,MA/CC,YAGG,QAASqO,GAAaC,GAAtB,GAEQC,GAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EADpC1K,EAAS,GAETjC,EAAI,CAER,KADAoM,EAAQQ,EAAWR,GACZpM,EAAIoM,EAAMlM,QACbmM,EAAOD,EAAMjM,WAAWH,KACxBsM,EAAOF,EAAMjM,WAAWH,KACxBuM,EAAOH,EAAMjM,WAAWH,KACxBwM,EAAOH,GAAQ,EACfI,GAAe,EAAPJ,IAAa,EAAIC,GAAQ,EACjCI,GAAe,GAAPJ,IAAc,EAAIC,GAAQ,EAClCI,EAAc,GAAPJ,EACHpN,MAAMmN,GACNI,EAAOC,EAAO,GACPxN,MAAMoN,KACbI,EAAO,IAEX1K,EAASA,EAAS4K,EAAQrH,OAAOgH,GAAQK,EAAQrH,OAAOiH,GAAQI,EAAQrH,OAAOkH,GAAQG,EAAQrH,OAAOmH,EAE1G,OAAO1K,GAEX,QAAS2K,GAAWR,GAApB,GAEapM,GACDqF,EAFJpD,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAIoM,EAAMlM,OAAQF,IAC1BqF,EAAI+G,EAAMjM,WAAWH,GACrBqF,EAAI,IACJpD,GAAUsE,EAAalB,GAChBA,EAAI,MACXpD,GAAUsE,EAAa,IAAMlB,IAAM,GACnCpD,GAAUsE,EAAa,IAAU,GAAJlB,IACtBA,EAAI,QACXpD,GAAUsE,EAAa,IAAMlB,IAAM,IACnCpD,GAAUsE,EAAa,IAAMlB,IAAM,EAAI,IACvCpD,GAAUsE,EAAa,IAAU,GAAJlB,GAGrC,OAAOpD,GAxCd,GACOR,GAAQ+F,OAAO/F,MAAOgG,EAAahG,EAAMgG,WAAYlB,EAAeD,OAAOC,aAC3EsG,EAAU,mEAwCdpF,GAAWhG,EAAMuG,MACbmE,aAAcA,EACdS,WAAYA,OAGbpF,OAAO/F,OACE,kBAAV1D,SAAwBA,OAAOqK,IAAMrK,OAAS,SAAUsK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUxK,EAAGC,QACVA,OAAO,oBAAqB,cAAeD,IAC7C,WAgEE,MA/DC,UAAU0K,GAAV,GACOjK,GAAO2I,KAAMzF,EAAQ+F,OAAO/F,MAAOgG,EAAahG,EAAMgG,WAAYqF,EAAUtE,EAAEsE,QAC9EC,GACAC,UAAW,WAEP,MADAjH,MAAKkH,WAAalH,KAAKkH,gBAG3BC,YAAa,SAAUC,GAMnB,MALKpH,MAAKkH,WAGNlH,KAAKkH,WAAWtN,KAAKwN,GAFrBpH,KAAKkH,YAAcE,GAIhBpH,MAEXqH,eAAgB,SAAUD,GAAV,GACRH,GAAYjH,KAAKiH,YACjBK,EAAQP,EAAQK,EAASH,EAI7B,OAHIK,QACAL,EAAUM,OAAOD,EAAO,GAErBtH,MAEXwH,QAAS,SAAUC,EAAYC,GAAtB,GAEDC,GACAC,EAFAX,EAAYjH,KAAKkH,UAGrB,IAAID,IAAcjH,KAAK6H,WACnB,IAAKD,EAAM,EAAGA,EAAMX,EAAU9M,OAAQyN,IAClCD,EAAWV,EAAUW,GACjBD,EAASF,IACTE,EAASF,GAAYC,EAIjC,OAAO1H,OAEX8H,cAAe,SAAUnE,GACrBA,EAAIA,MACJA,EAAEyD,QAAUpH,KACZA,KAAKwH,QAAQ,gBAAiB7D,IAElCoE,eAAgB,WACZ/H,KAAKwH,QAAQ,kBAAoBJ,QAASpH,QAE9CgI,QAAS,WAEL,MADAhI,MAAK6H,YAAc7H,KAAK6H,YAAc,GAAK,EACpC7H,MAEXiI,OAAQ,WAEJ,MADAjI,MAAK6H,WAAarP,EAAKI,KAAKoH,KAAK6H,YAAc,GAAK,EAAG,GAChD7H,MAEXkI,eAAgB,SAAUC,EAAOjQ,GACzB8H,KAAKmI,IACLnI,KAAKmI,GAAOd,eAAerH,MAE/BA,KAAKmI,GAASjQ,EACdA,EAAMiP,YAAYnH,OAG1B0B,GAAWhG,GAAS0M,QAAUpB,eAAgBA,MAChDvF,OAAO/F,MAAMyK,QACR1E,OAAO/F,OACE,kBAAV1D,SAAwBA,OAAOqK,IAAMrK,OAAS,SAAUsK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUxK,EAAGC,QACVA,OAAO,cACH,aACA,qBACA,iBACA,eACA,mBACA,mBACA,kBACA,cACA,mBACA,iBACA,oBACA,kBACA,2BACA,oBACA,cACA,cACA,oBACA,aACDD,IACL,WA2zLE,MA5tLC,UAAU0K,EAAGxH,GA8LV,QAASoN,GAAWC,GAChB,MAAWC,OAAMD,EAAQ,GAAGxO,KAAK,wCAErC,QAAS0O,GAAoBC,GACzB,GAAIC,GAAMlM,EAAS,GACnB,IAAIiM,EAAY,CACZ,SAAWA,KAAeE,GACtB,MAAOF,EAEX,KAAKC,IAAQD,GACTjM,GAAUkM,EAAO,KAAOD,EAAWC,GAAQ,IAGnD,MAAOlM,GA0DX,QAASoM,GAAOC,EAAS3Q,GACrBuK,EAAE,oCAAqCoG,GAASC,IAAItF,SAASqC,MAAMkD,IAAI,SAAU7Q,GAErF,QAAS8Q,GAAQC,EAAUC,EAAQC,EAAMC,EAAQd,GAAjD,GAIaV,GAHLyB,EAAcH,CAGlB,KAFAA,EAASzG,IACT6F,EAAQA,GAAS,EACRV,EAAM,EAAGA,EAAMU,EAAOV,IAC3BsB,EAASA,EAAOJ,IAAIG,EAASK,GAAGD,EAAczB,GAE/B,iBAARuB,GACPD,EAAOE,EAAS,eAAiB,eAAeH,EAASK,GAAGH,IAE5DD,EAAOK,SAASJ,GAGxB,QAASK,GAASC,EAAeC,EAASC,GACtC,MAAOlH,GAAEgH,GAAeX,IAAIY,GAASE,KAAKD,GAE9C,QAASE,GAAyBhB,EAASiB,EAAWC,GAClD,GAAInC,GAAKzN,EAAQ6P,EAASC,CAE1B,KADAF,EAAYG,GAAQH,GAAyBA,GAAZA,GAC5BnC,EAAM,EAAGzN,EAAS4P,EAAS5P,OAAQyN,EAAMzN,EAAQyN,IAClDoC,EAAUD,EAASnC,GACfuC,GAAcH,IAAYA,EAAQI,QAClCH,EAAcD,EAAQjO,MAAQiO,EAAQvO,KACtCqO,EAAUO,GAAGC,GAAQC,GAAI,aAAeN,GAAe,IAAIO,QAAQ,MAAO,KAAOP,YAAaA,GAAeQ,GAAMT,EAAQI,MAAOvB,KAI9I,QAAS6B,GAAiBC,EAASC,EAASC,GACxC,MAAOvK,IAAIqK,EAAS,SAAUG,GAAV,GAEZC,GAUAC,CAEJ,OAbAF,SAAgBA,KAAWnC,IAAWR,MAAO2C,GAAWA,EAEnDG,EAAUH,KAAWD,IACtBC,EAAOrC,WAAayC,EAAeJ,EAAOrC,YAC1CqC,EAAOK,iBAAmBD,EAAeJ,EAAOK,kBAChDL,EAAOM,iBAAmBF,EAAeJ,EAAOM,kBAChDL,GAAS,GAETD,EAAOH,UACPG,EAAOH,QAAUD,EAAiBI,EAAOH,QAASC,EAASG,IAE3DC,EAAMtP,GAAM2P,OAChBP,EAAOM,iBAAmBjH,IAASrE,GAAIkL,GAAOF,EAAOM,kBAC9CjH,IACHyG,QAASA,EACTG,OAAQA,GACTD,KAGX,QAASQ,GAAaR,EAAQH,GAC1B,GAAIY,KAEJ,OADAC,GAAcV,EAAQH,EAASY,GACxBA,EAAQA,EAAQpR,OAAS,GAEpC,QAASqR,GAAcV,EAAQH,EAASY,GAAxC,GAEa3D,GAIG6D,CAJZ,KADAF,EAAUA,MACD3D,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAAO,CAC3C,GAAIkD,IAAWH,EAAQ/C,GACnB,OAAO,CACJ,IAAI+C,EAAQ/C,GAAK+C,QAAS,CAG7B,GAFIc,EAAWF,EAAQpR,OACvBoR,EAAQ3R,KAAK+Q,EAAQ/C,IAChB4D,EAAcV,EAAQH,EAAQ/C,GAAK+C,QAASY,GAG7C,OAAO,CAFPA,GAAQhE,OAAOkE,EAAUF,EAAQpR,OAASsR,IAMtD,OAAO,EAEX,QAASC,GAAoBZ,EAAQa,GACjC,GAAIC,GAASD,EAAUE,EAAoBX,CAC3CJ,GAAOC,QAAUY,EACjBb,EAAOrC,WAAamD,EAAOd,EAAOrC,YAClCqC,EAAOK,iBAAmBS,EAAOd,EAAOK,kBACxCL,EAAOM,iBAAmBQ,EAAOd,EAAOM,kBAE5C,QAASU,KACL,MAA8B,SAAvB9L,KAAK+C,MAAMgJ,QAEtB,QAASd,GAAUH,GACf,MAAOkB,IAAgBlB,IAAS3Q,OAAS,EAE7C,QAAS6R,GAAerB,GACpB,MAAOsB,IAAKtB,EAAS,SAAUG,GAC3B,GAAItO,IAAUsO,EAAOC,MAIrB,OAHIvO,IAAUsO,EAAOH,UACjBnO,EAASwP,EAAelB,EAAOH,SAASxQ,OAAS,GAE9CqC,IAGf,QAAS0P,GAAS1C,GACd,MAAO/G,GAAE+G,GAAUlJ,IAAI,WACnB,MAAON,MAAKmM,YAGpB,QAASC,GAAkBC,EAAM1B,EAAS2B,GAA1C,GACQC,GAAoBC,EAAMC,EAAc9B,IACxC+B,EAAuBF,EAAMG,EAAiBhC,IAC9CiC,EAAUP,EAAKO,OAGXP,GAAKO,QAFTN,EACIC,EAAoBG,EACLE,GAAWL,EAAoBG,IAAyB,EAExDE,GAAWF,EAAuBH,GAGjDA,EAAoBG,EACLE,GAAWL,EAAoBG,GAE/BE,GAAWF,EAAuBH,IAAsB,EAInF,QAASM,GAA2BC,EAASC,EAAQC,EAAOrC,EAASb,EAAWmD,EAAaC,GAA7F,GAIY7E,GACA8E,EAJJC,EAAeZ,EAAMM,GACrBO,EAAcb,GAAOO,GACrBK,GAAeC,IACXhF,EAAiBE,MAAM2E,EAAS,GAAGpT,KAAK,6DACxCqT,EAAOF,EAAYK,SAAS,uBAChC7K,EAAM8F,MAAM6E,EAAeC,EAAc,GAAGvT,KAAK,OAASuO,EAAa,UAAUkF,YAAYJ,EAAKjS,SAEtGsS,EAAgBP,EAAaG,EAAeC,GAC5CI,EAAUT,EAAOrC,EAASb,EAAWmD,GAEzC,QAASS,GAAgBC,EAAOhD,EAASiD,GAAzC,GAEQC,GACAxB,EACAyB,EAEAC,EACAZ,EACAxD,EAIK/B,EAASzN,CAAlB,KAXAyT,EAASA,GAAU,EAGfE,EAAanD,EACjBA,EAAUqD,EAAYrD,GAClBoD,KACAZ,EAAOQ,EAAM/D,KAAK,0BAClBD,EAAS,WACT,GAAIsE,GAAKxL,EAAEzC,KACX,QAAQiO,EAAGC,SAAS,kBAAoBD,EAAGC,SAAS,qBAE/CtG,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACrDiG,EAAWM,EAAexD,EAAQ/C,GAAMkG,GACnCC,EAAMF,EAASO,OAChBL,EAAMF,EAASO,KAAOjB,EAAK7D,GAAGuE,EAASO,KAAKxE,KAAK,aAAaD,OAAOA,IAEzE0C,EAAO0B,EAAMF,EAASO,KAAK9E,GAAGuE,EAASxB,MACvCA,EAAK3D,KAAKhN,GAAMgN,KAAK,SAAUkF,EAAShG,EAE5C,OAAO+C,GAAQxQ,OAEnB,QAASqS,GAAM7B,GAAf,GAGa/C,GAEGyG,EAJR7R,EAAS,EACT5D,EAAM,CACV,KAASgP,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAChC+C,EAAQ/C,GAAK+C,UACT0D,EAAO7B,EAAM7B,EAAQ/C,GAAK+C,SAC1B0D,EAAOzV,IACPA,EAAMyV,GAIlB,OAAO7R,GAAS5D,EAEpB,QAAS6U,GAAUT,EAAOrC,EAASb,EAAWmD,GAA9C,GAKQrF,GAKA0F,EATAgB,EAAiBC,EAAsBvB,EAAM,GAAIrC,GACjD6D,EAAM1E,EAAUF,KAAK,6BAA+B0E,EAAeF,IAAM,iBACzEK,EAAIhM,IACJ4G,EAAciF,EAAejC,IAEjC,KAAKzE,EAAM,EAAGA,EAAMoF,EAAM7S,OAAQyN,IAC9B6G,EAAIA,EAAE3F,IAAI0F,EAAIlF,GAAGD,EAAczB,GAInC,KAFAqF,EAAYrD,KAAK,0BAA0BN,GAAGgF,EAAeF,KAAKhT,OAAOqT,GACrEnB,KACC1F,EAAM,EAAGA,EAAMoF,EAAM7S,OAAQyN,IAC1BoF,EAAMpF,GAAK+C,UACX2C,EAAWA,EAASoB,OAAO1B,EAAMpF,GAAK+C,SAG1C2C,GAASnT,QACTsT,EAAUH,EAAU3C,EAASb,EAAWmD,GAGhD,QAASkB,GAAerD,EAAQH,EAASyD,EAAKO,GAA9C,GACQnS,GACAoL,CAIJ,KAHAwG,EAAMA,GAAO,EACbO,EAAaA,MACbA,EAAWP,GAAOO,EAAWP,IAAQ,EAChCxG,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAAO,CACvC,GAAI+C,EAAQ/C,IAAQkD,EAAQ,CACxBtO,GACI6P,KAAMsC,EAAWP,GACjBA,IAAKA,EAET,OACG,GAAIzD,EAAQ/C,GAAK+C,UACpBnO,EAAS2R,EAAerD,EAAQH,EAAQ/C,GAAK+C,QAASyD,EAAM,EAAGO,IAE3D,KAGRA,GAAWP,KAEf,MAAO5R,GAEX,QAASoS,GAA6BjE,EAASrD,EAAO4B,EAAQ2F,GAA9D,GACQ9B,GACA+B,EAAS5F,EAAO4F,MACpB,GACI/B,GAASpC,EAAQrD,GACjBA,GAASuH,EAAM,WACV9B,GAAUzF,MAAcA,EAAQqD,EAAQxQ,QAAU4S,GAAU7D,IAAW6D,EAAOpC,SAAWoC,EAAO+B,QAAUA,EACnH,OAAO/B,GAEX,QAASgC,GAAkBpE,EAASoC,EAAQ7D,EAAQE,GAApD,GAKY4F,GACAC,EAMA3H,EAQA+B,CAnBR,OAAI0D,GAAOpC,SACPoC,EAASA,EAAOpC,QACToC,EAAO3D,EAAS,EAAI2D,EAAO5S,OAAS,KAEvC6U,EAAS1D,EAAayB,EAAQpC,GAG9BsE,EADAD,EACgBA,EAAOrE,QAEPA,EAEhBrD,EAAQP,GAAQgG,EAAQkC,GACd,IAAV3H,GAAe8B,EACf9B,IACOA,GAAS2H,EAAc9U,OAAS,GAAMiP,GAEtC9B,EAAQ,GAAe,IAAVA,IAAgB8B,KACpC9B,GAAS8B,KAAc,GAFvB9B,IAIA+B,EAActC,GAAQmC,EAAQ+F,GAClClC,EAAS6B,EAA6BK,EAAe3H,EAAO4B,EAAQG,EAAc/B,GAC9EyF,GAAUA,GAAU7D,GAAU6D,EAAOpC,QAC9BoE,EAAkBpE,EAASoC,EAAQ7D,EAAQE,GAGnD,MAEX,QAASmF,GAAsBzD,EAAQH,EAASyD,EAAKO,GAArD,GACQnS,GACAoL,CAIJ,KAHAwG,EAAMA,GAAO,EACbO,EAAaA,MACbA,EAAWP,GAAOO,EAAWP,IAAQ,EAChCxG,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAAO,CACvC,GAAI+C,EAAQ/C,IAAQkD,EAAQ,CACxBtO,GACI6P,KAAMsC,EAAWP,GACjBA,IAAKA,EAET,OACG,GAAIzD,EAAQ/C,GAAK+C,UACpBnO,EAAS+R,EAAsBzD,EAAQH,EAAQ/C,GAAK+C,QAASyD,EAAM,EAAGO,IAElE,KAGHhE,GAAQ/C,GAAKmD,QACd4D,EAAWP,KAGnB,MAAO5R,GAEX,QAAS0S,GAAsBvE,GAC3B,GAAInO,GAAS2S,EAAY1C,EAAc9B,GACvC,OAAOnO,GAAOkS,OAAOS,EAAYxC,EAAiBhC,KAEtD,QAASwE,GAAYxE,GAArB,GAGa/C,GAFLpL,KACA8Q,IACJ,KAAS1F,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IACpCpL,EAAO5C,KAAK+Q,EAAQ/C,IAChB+C,EAAQ/C,GAAK+C,UACb2C,EAAWA,EAASoB,OAAO/D,EAAQ/C,GAAK+C,SAMhD,OAHI2C,GAASnT,SACTqC,EAASA,EAAOkS,OAAOS,EAAY7B,KAEhC9Q,EAEX,QAAS4S,GAAuBzE,GAAhC,GAEQG,GACKlD,EAFLxH,EAAU,CAEd,KAASwH,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IACpCkD,EAASH,EAAQ/C,GACbkD,EAAOH,QACPvK,GAAWgP,EAAuBtE,EAAOH,SAClCG,EAAOC,QACd3K,GAGR,OAAOA,GAEX,QAASiP,GAAaC,GAAtB,GACQC,GACK3H,EAASzN,EADJwI,EAAQ,CACtB,KAASiF,EAAM,EAAGzN,EAASmV,EAAKnV,OAAQyN,EAAMzN,EAAQyN,IAClD2H,EAAWD,EAAK1H,GAAK7E,MAAMJ,MACvB4M,GAAYA,EAASC,QAAQ,WAC7B7M,GAAS8M,SAASF,EAAU,IAGpC,OAAO5M,GAEX,QAAS+M,GAAmB5F,EAAWxB,GAAvC,GAEQsE,GACKhF,EAFLmG,EAAQjE,EAAUF,KAAK,gEAE3B,KAAShC,EAAM,EAAGA,EAAMmG,EAAM5T,OAAQyN,IAClCgF,EAAUmB,EAAMnG,GAAKgF,QACjBA,EAAU,IACVmB,EAAMnG,GAAKgF,QAAUA,EAAUtE,GAAS,GAIpD,QAASkF,GAAgB1D,EAAWxB,GAApC,GAEaV,GADLmG,EAAQjE,EAAUF,KAAK,gEAC3B,KAAShC,EAAM,EAAGA,EAAMmG,EAAM5T,OAAQyN,IAClCmG,EAAMnG,GAAKgF,SAAWtE,EAG9B,QAASqH,GAAgB7F,GAAzB,GAMalC,GALLuF,EAAOrD,EAAUF,KAAK,yBACtBgG,EAAiBzC,EAAKxD,OAAO,WAC7B,OAAQlH,EAAEzC,MAAMsN,WAAWnT,SAC5B0V,SAAS1V,OACR4T,EAAQZ,EAAKvD,KAAK,0CACtB,KAAShC,EAAM,EAAGA,EAAMmG,EAAM5T,OAAQyN,IAC9BmG,EAAMnG,GAAKgF,QAAU,IACrBmB,EAAMnG,GAAKgF,SAAWgD,EAG9B,OAAOzC,GAAKhT,OAASyV,EAEzB,QAASE,GAAoBnF,EAASoD,EAAOZ,EAAM4C,EAAUnC,GACzD,GAAIhG,GAAKwG,EAAKjU,EAAQmT,IACtB,KAAK1F,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDwG,EAAMjB,EAAK4C,OACX3B,EAAIxU,KAAKmU,EAAMzE,GAAGsE,EAAShG,IAC3BuF,EAAK4C,GAAY3B,EACbzD,EAAQ/C,GAAK+C,UACb2C,EAAWA,EAASoB,OAAO/D,EAAQ/C,GAAK+C,SAG5C2C,GAASnT,QACT2V,EAAoBxC,EAAUS,EAAOZ,EAAM4C,EAAW,EAAGnC,EAASjD,EAAQxQ,QAGlF,QAASsS,GAAc9B,GACnB,MAAOsB,IAAKtB,EAAS,SAAUG,GAC3B,MAAOA,GAAOgE,SAGtB,QAASnC,GAAiBhC,GACtB,MAAOsB,IAAKtB,EAAS,SAAUG,GAC3B,OAAQA,EAAOgE,SAGvB,QAASkB,GAAwBrF,GAC7B,MAAOsB,IAAKtB,EAAS,SAAUG,GAC3B,OAAQA,EAAOgE,QAAU7D,EAAUH,KAG3C,QAASmF,GAAqBtF,GAC1B,MAAOsB,IAAKtB,EAAS,SAAUG,GAC3B,MAAOA,GAAOgE,QAAU7D,EAAUH,KAG1C,QAASoF,GAAmBvF,GAA5B,GAEa/C,GADLpL,IACJ,KAASoL,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAChC+C,EAAQ/C,GAAKmD,SAGbJ,EAAQ/C,GAAK+C,QACbnO,EAASA,EAAOkS,OAAOwB,EAAmBvF,EAAQ/C,GAAK+C,UAEvDnO,EAAO5C,KAAK+Q,EAAQ/C,IAG5B,OAAOpL,GAEX,QAASwR,GAAYrD,GAArB,GAEa/C,GADLpL,IACJ,KAASoL,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAC/B+C,EAAQ/C,GAAK+C,QAIlBnO,EAASA,EAAOkS,OAAOV,EAAYrD,EAAQ/C,GAAK+C,UAH5CnO,EAAO5C,KAAK+Q,EAAQ/C,GAK5B,OAAOpL,GAEX,QAAS2T,GAAcrG,GAAvB,GAaQsG,GAZAjD,EAAOrD,EAAUF,KAAK,0BACtBD,EAAS,WACT,GAAIsE,GAAKxL,EAAEzC,KACX,QAAQiO,EAAGC,SAAS,kBAAoBD,EAAGC,SAAS,qBAEpDH,EAAQtL,GAuBZ,OAtBI0K,GAAKhT,OAAS,IACd4T,EAAQZ,EAAKvD,KAAK,MAAMD,OAAOA,GAAQA,OAAO,WAC1C,MAAO3J,MAAK4M,QAAU,KAG9BmB,EAAQA,EAAMjF,IAAIqE,EAAKjS,OAAO0O,KAAK,MAAMD,OAAOA,IAC5CyG,EAAY1U,GAAMgN,KAAK,SAC3BqF,EAAMlU,KAAK,SAAU6G,EAAGG,GAAb,GAGHwP,GACAC,CASJ,OAZA5P,GAAI+B,EAAE/B,GACNG,EAAI4B,EAAE5B,GACFwP,EAAS3P,EAAEgI,KAAK0H,GAChBE,EAASzP,EAAE6H,KAAK0H,GAChBC,IAAWpV,IACXoV,EAAS5N,EAAE/B,GAAG4G,SAEdgJ,IAAWrV,IACXqV,EAAS7N,EAAE5B,GAAGyG,SAElB+I,EAASZ,SAASY,EAAQ,IAC1BC,EAASb,SAASa,EAAQ,IACnBD,EAASC,EAAS,EAAID,EAASC,KAAc,IAEjDvC,EAEX,QAASwC,GAAmBlE,GAA5B,GAOY2C,GACAwB,EAGA5C,EACAtG,EACAmJ,EAGK7I,EAMD8I,EArBR5G,EAAYuC,EAAKsE,QAAQ,SACzBnU,EAASiG,IAAIqG,IAAIuD,GACjB+B,EAAM/B,EAAKsE,QAAQ,MACnBC,EAAa9G,EAAUF,KAAK,yBAC5BiH,EAAQD,EAAWtJ,MAAM8G,EAC7B,IAAIyC,EAAQ,EAAG,CAUX,IATI7B,EAAS4B,EAAWtH,GAAGuH,EAAQ,GAC/BL,EAA0BxB,EAAOpF,KAAK,2CAA2CD,OAAO,WACxF,OAAQlH,EAAEzC,MAAM0I,KAAK,aAErBkF,EAAS,EACTtG,EAAQ8G,EAAIxE,KAAK,2CAA2CtC,MAAM+E,GAClEoE,EAAYpE,EAAKyE,QAAQ,yCAAyCnH,OAAO,WACzE,MAAO3J,MAAK+Q,QAAU,IAEjBnJ,EAAM,EAAGA,EAAM6I,EAAUtW,OAAQyN,IACtCgG,GAAU6C,EAAU7I,GAAKmJ,SAAW,CAIxC,KAFAzJ,GAASnG,KAAKvI,IAAIgV,EAAS,EAAG,GAC9BA,EAAS,EACJhG,EAAM,EAAGA,EAAM4I,EAAwBrW,OAAQyN,IAOhD,GANI8I,EAAaF,EAAwBlH,GAAG1B,GAExCgG,GADA8C,EAAWhI,KAAK,WACNgI,EAAW,GAAGK,QAEd,EAEVzJ,GAASM,GAAON,EAAQsG,EAAQ,CAChCpR,EAAS+T,EAAmBG,GAAY5H,IAAItM,EAC5C,QAIZ,MAAOA,GAEX,QAASwU,GAAkB3E,GAA3B,GAQY4E,GACAR,EACA7I,EAIAgG,EAIAG,EACAgD,EAKI7Y,EAvBR4R,EAAYuC,EAAKsE,QAAQ,SACzBnU,EAASiG,IAAIqG,IAAIuD,GACjB+B,EAAM/B,EAAKsE,QAAQ,MACnBC,EAAa9G,EAAUF,KAAK,yBAC5BiH,EAAQD,EAAWtJ,MAAM8G,GAAO/B,EAAK,GAAGO,QACxCsE,EAAcxV,GAAMgN,KAAK,UAC7B,IAAImI,GAASD,EAAWzW,OAAS,EAAG,CAQhC,IAPI8W,EAAQ7C,EAAI+C,OACZV,EAAYpE,EAAKyE,QAAQ,yCAE7BL,EAAYA,EAAU9G,OAAO,WACzB,OAAQ3J,KAAK4M,SAA4B,IAAjB5M,KAAK4M,UAE7BgB,EAAS,EACRhG,EAAM,EAAGA,EAAM6I,EAAUtW,OAAQyN,IAClCgG,GAAU6B,SAASgB,EAAUnH,GAAG1B,GAAKc,KAAKwI,GAAc,KAAO,CAKnE,KAHInD,EAAQkD,EAAMrH,KAAK,2CACnBmH,EAAUtB,SAASpD,EAAK3D,KAAKwI,GAAc,KAAO,EACtDtJ,EAAM,EACCA,EAAMmJ,GACTE,EAAQlD,EAAMzE,GAAG1B,EAAMgG,GACvBpR,EAASA,EAAOsM,IAAIkI,EAAkBC,IAClC/Y,EAAQuX,SAASwB,EAAMvI,KAAKwI,GAAc,IAC1ChZ,EAAQ,IACR6Y,GAAW7Y,EAAQ,GAEvB0P,IAGR,MAAOpL,GAEX,QAAS4U,GAAcC,EAAOC,EAAOC,EAAMC,GACvC,GAAIC,GAAaC,EAAML,CAavB,OAZIG,IACAH,EAAMG,QAENG,GACAN,EAAM,GAAGO,UAAYL,GAErBE,EAAcjO,SAASqO,cAAc,OACrCJ,EAAYG,UAAY,iBAAmBL,EAAO,mBAClDF,EAAQI,EAAYK,WAAWA,WAC/BR,EAAM,GAAGS,aAAaV,EAAOK,EAAI,IACjCL,EAAQ5O,EAAE4O,IAEPA,EAEX,QAASnG,GAAexC,GACpBA,EAAOA,KACP,IAAI3F,GAAQ2F,EAAK3F,KASjB,OARKA,IAGDA,EAAQA,EAAMyH,QAAQ,+BAAgC,WAClDzH,IAAU2F,EAAK3F,QACfA,EAAQA,EAAMyH,QAAQ,SAAU,qBAJpCzH,EAAQ,eAOLoB,MAAWuE,GAAQ3F,MAAOA,IAErC,QAAS8I,GAAkBnD,GACvBA,EAAOA,KACP,IAAI3F,GAAQ2F,EAAK3F,KAIjB,OAHIA,KACA2F,EAAK3F,MAAQA,EAAMyH,QAAQ,+BAAgC,KAExD9B,EAEX,QAASsJ,GAAcV,EAAOtF,EAAgBiG,EAAY/E,GACtD,GAAwCvK,GAApCuP,EAAWZ,EAAM1H,KAAK,aAAqB0F,EAAOhP,GAAI0L,EAAgB,SAAUlB,GAE5E,MADAnI,GAAQmI,EAAOnI,MACXA,GAAiC,IAAxB8M,SAAS9M,EAAO,IAClBjH,GAAMyW,OAAO,iCAAmCxP,KAAUgG,GAAShG,EAAQA,EAAQ,MAEvF,aAEXsP,GAAcC,EAAStI,KAAK,oBAAoBzP,SAChDmV,EAAK/H,OAAO,EAAG,EAAG,mCAElB2K,EAAS/X,QACT+X,EAASrC,SAEbqC,EAAWzP,EAAM8F,MAAM2E,EAAS,GAAGpT,KAAK,6BAA+BwV,EAAKxV,KAAK,KAC5EoY,EAASE,GAAG,cACbF,EAAWzP,EAAE,eAAerH,OAAO8W,IAEvCZ,EAAMe,QAAQH,GACVI,GAAQC,MAA2B,GAAnBD,GAAQE,UACxBlB,EAAMvI,IAAI,UAAW,gBACrBtH,OAAOgR,WAAW,WACdnB,EAAMvI,IAAI,UAAW,KACtB,IAGX,QAAS2J,GAAqB5I,EAAWa,GAAzC,GAEQ/C,GAAK+K,EADLC,EAAY,EAEZC,EAAK/I,EAAUF,KAAK,wBACxB,KAAKhC,EAAM,EAAG+K,EAAMhI,EAAQxQ,OAAQyN,EAAM+K,EAAK/K,IACvC+C,EAAQ/C,GAAKkH,SACb+D,EAAGvJ,GAAG1B,GAAKkL,aAAaD,EAAGvJ,GAAGsJ,IAC9BC,EAAK/I,EAAUF,KAAK,yBACpBgJ,KAIZ,QAASG,GAAgB5X,GACrB,GAAiB6X,GAAMpL,EAAKzN,EAAxBqC,IACJ,KAAKoL,EAAM,EAAGzN,EAASgB,EAAMhB,OAAQyN,EAAMzN,EAAQyN,IAC/CoL,EAAO7X,EAAMyM,GACbpL,EAAOwW,EAAK9a,OAAS8a,EAAKvX,IAE9B,OAAOe,GAEX,QAASyW,GAAiB/a,EAAOia,EAAQe,EAActI,GACnD,GAAIuI,GAAeD,GAAgBA,EAAa/Y,QAAUgQ,GAAc+I,EAAa,KAAO,SAAWA,GAAa,GAAIE,EAAaD,EAAeJ,EAAgBG,GAAchb,GAASA,CAE3L,OADAkb,GAA2B,MAAdA,EAAqBA,EAAa,GACxCjB,EAASzW,GAAMyW,OAAOA,EAAQiB,GAAcxI,KAAY,EAAQwI,EAAa1X,GAAM2X,WAAWD,GAEzG,QAASE,GAAkBvF,EAAOzG,EAAOqE,GAErC,IADA,GAAa4H,GAATC,EAAM,EAAUnH,EAAO0B,EAAMyF,GAC1BnH,GAAM,CAET,GADAkH,IAAQ5H,GAAwC,SAAvBU,EAAKtJ,MAAMgJ,QAChCwH,IAAUE,GAAmBjS,KAAK6K,EAAKqH,cAAgBpM,EAAQ,EAAG,CAClE+E,EAAKtJ,MAAMgJ,QAAUJ,EAAU,GAAK,MACpC,OAEJU,EAAO0B,IAAQyF,IAGvB,QAASG,GAAgBxG,EAAMyG,GAE3B,IADA,GAAmCvH,GAAM+B,EAArCxG,EAAM,EAAGzN,EAASgT,EAAKhT,OACpByN,EAAMzN,EAAQyN,GAAO,EACxBwG,EAAMjB,EAAK7D,GAAG1B,GACVwG,EAAIgE,GAAG,kCACP/F,EAAO+B,EAAId,SAAS,4CAA4CpS,OAChEmR,EAAK3D,KAAK,UAAW+G,SAASpD,EAAK3D,KAAK,WAAY,IAAM,KAEtD0F,EAAIF,SAAS,qBAAuB7B,EAAO+B,EAAId,SAAS,qBAAqB,MAC7EjB,EAAO5J,EAAE4J,GACTA,EAAK3D,KAAK,UAAW+G,SAASpD,EAAK3D,KAAK,WAAY,IAAM,GAC1D2D,EAAKzC,KAAK,OAAON,GAAGsK,GAAa/D,SACjCzB,EAAM/B,EAAKzC,KAAK,aAEpB0J,EAAkBlF,EAAI,GAAGL,MAAO6F,GAAa,IAIzD,QAASC,GAAUC,GAAnB,GAEQd,GACKpL,EAFLpL,IAEJ,KAASoL,EAAM,EAAGA,EAAMkM,EAAK3Z,SACzB6Y,EAAOc,EAAKlM,GACN,SAAWoL,IAAQ,SAAWA,IAAQ,SAAWA,IAFtBpL,IAKjCpL,EAAO5C,KAAKoZ,GACRA,EAAKe,eACLvX,EAASA,EAAOkS,OAAOmF,EAAUb,EAAKgB,QAG9C,OAAOxX,GAEX,QAASyX,GAAaH,GAAtB,GAEQd,GACKpL,EAFLpL,IAEJ,KAASoL,EAAM,EAAGA,EAAMkM,EAAK3Z,SACzB6Y,EAAOc,EAAKlM,GACN,SAAWoL,IAAQ,SAAWA,IAAQ,SAAWA,IAFtBpL,IAK7BoL,EAAKe,eACLvX,EAASA,EAAOkS,OAAOuF,EAAajB,EAAKgB,SAE7CxX,EAAO5C,KAAKoZ,EAAKkB,WAErB,OAAO1X,GAEX,QAAS2X,GAAgBhH,EAAMyG,GAE3B,IADA,GAAmCvH,GAAM+B,EAAKzD,EAA1C/C,EAAM,EAAGzN,EAASgT,EAAKhT,OACpByN,EAAMzN,EAAQyN,GAAO,EACxBwG,EAAMjB,EAAK7D,GAAG1B,GACVwG,EAAIgE,GAAG,kCACP/F,EAAO+B,EAAId,SAAS,4CAA4CpS,OAChEmR,EAAK3D,KAAK,UAAW+G,SAASpD,EAAK3D,KAAK,WAAY,IAAM,KAEtD0F,EAAIF,SAAS,qBAAuB7B,EAAO+B,EAAId,SAAS,qBAAqB,MAC7EjB,EAAO5J,EAAE4J,GACTA,EAAK3D,KAAK,UAAW+G,SAASpD,EAAK3D,KAAK,WAAY,IAAM,GAC1DsJ,EAAc3F,EAAKzC,KAAK,eAAgBoC,EAAerB,IAAU,EAAO,GACxEyD,EAAM/B,EAAKzC,KAAK,aAEpB0J,EAAkBlF,EAAI,GAAGL,MAAO6F,GAAa,IAIzD,QAASQ,IAAcC,EAAOC,EAAUC,GACpCA,EAAMA,GAAO,CACb,IAAIvB,GAAMpL,EAAKzN,CACf,KAAKyN,EAAM,EAAGzN,EAASka,EAAMla,OAAQyN,EAAMzN,EAAQyN,IAC/CoL,EAAOqB,EAAM/K,GAAG1B,GAAK0F,WAAWpS,OAChC8X,EAAKtK,KAAK,UAAW+G,SAASuD,EAAKtK,KAAK,WAAY,IAAM6L,GAC1DvB,EAAOsB,EAAShL,GAAG1B,GAAK0F,WAAWpS,OACnC8X,EAAKtK,KAAK,UAAW+G,SAASuD,EAAKtK,KAAK,WAAY,IAAM6L,GAGlE,QAASC,IAAWlD,GAApB,GACQ1J,GAAKzN,EAAQwI,EAAQ,EACrB2M,EAAOgC,EAAM1H,KAAK,gBACtB,KAAKhC,EAAM,EAAGzN,EAASmV,EAAKnV,OAAQyN,EAAMzN,EAAQyN,GAAO,EACrDjF,GAAS8M,SAASH,EAAK1H,GAAK7E,MAAMJ,MAAO,GAE7C,OAAOA,GAorJX,QAAS8R,IAAgBC,EAAQC,GAAjC,GAIYC,GACAC,EACAzG,EACA0G,CANRJ,GAASA,EAAO,GAChBC,EAASA,EAAO,GACZD,EAAOvH,KAAKhT,SAAWwa,EAAOxH,KAAKhT,SAC/Bya,EAAeF,EAAO3O,aACtB8O,EAAcF,EAAO5O,aAGrB6O,EAAeC,GACfzG,EAAMuG,EAAOxH,KAAKwH,EAAOxH,KAAKhT,OAAS,GACnC4a,GAAgBvT,KAAK4M,EAAIsF,aACzBtF,EAAMuG,EAAOxH,KAAKwH,EAAOxH,KAAKhT,OAAS,IAE3C2a,EAAOF,EAAeC,IAEtBzG,EAAMsG,EAAOvH,KAAKuH,EAAOvH,KAAKhT,OAAS,GACnC4a,GAAgBvT,KAAK4M,EAAIsF,aACzBtF,EAAMsG,EAAOvH,KAAKuH,EAAOvH,KAAKhT,OAAS,IAE3C2a,EAAOD,EAAcD,GAEzBxG,EAAIrL,MAAMH,OAASwL,EAAIrI,aAAe+O,EAAO,MAGrD,QAASE,IAAgBC,EAAMC,GAA/B,GACQtS,GACAuS,EAAgBF,EAAKlP,aACrBqP,EAAgBF,EAAKnP,YACrBoP,GAAgBC,EAChBxS,EAASuS,EAAgB,KAClBA,EAAgBC,IACvBxS,EAASwS,EAAgB,MAEzBxS,IACAqS,EAAKlS,MAAMH,OAASsS,EAAKnS,MAAMH,OAASA,GAGhD,QAASyS,IAAWtL,EAAUhO,GAC1B,GAAI6L,GAAKzN,EAAQ6P,CACjB,UAAWD,KAAapB,IAAUoB,IAAahO,EAC3C,MAAOgO,EAEX,IAAII,GAAcJ,IAAaA,EAAShO,OAASA,EAC7C,MAAOgO,EAEX,IAAIG,GAAQH,GACR,IAAKnC,EAAM,EAAGzN,EAAS4P,EAAS5P,OAAQyN,EAAMzN,EAAQyN,IAElD,GADAoC,EAAUD,EAASnC,SACRoC,KAAYrB,IAAUqB,IAAYjO,GAAQiO,EAAQjO,OAASA,EAClE,MAAOiO,EAInB,OAAO,MAEX,QAASsL,IAAWhE,EAAOiE,GAA3B,GAIYC,GAAWC,EAHflD,EAAOD,GAAQC,MAAQD,GAAQoD,IACnC,IAAIH,KAAW,EAAM,CAKjB,GAJAjE,EAAQ7O,EAAE6O,GAEVkE,EAAYlE,EAAMtC,SAASwG,YAC3BC,EAAanE,EAAMtC,SAASyG,aACxBlD,EACA,IACIjB,EAAM,GAAGqE,YACX,MAAOhS,GACL2N,EAAM,GAAGsE,YAGbtE,GAAM,GAAGsE,OAEbtE,GAAMtC,SAASwG,UAAUA,GAAWC,WAAWA,OAE/ChT,GAAE6O,GAAOuE,IAAI,UAAW,SAAUlS,GAC9BA,EAAEmS,mBACHF,QAGX,QAASG,IAAe3O,GACpB,MAAO3E,GAAE2E,GAASgL,GAAG,uHAEzB,QAAS4D,IAAWrS,GAChB,GAAIsS,GAAgBxT,EAAEkB,EAAEsS,eAAgBC,EAAWD,EAAc7D,GAAG,MAAOd,EAAQtR,KAAKsR,MAAMxI,IAAI9I,KAAKmW,aAAcC,EAAcpW,KAAK2N,MAAMqB,SAASlG,IAAIrG,EAAE,SAAUzC,KAAKqW,eAAgBC,EAAUP,GAAepS,EAAEoJ,QAASwJ,EAAeN,EAActF,QAAQ,SAAS,EAC9Q,KAAIjV,GAAM8a,QAAQC,MAGlB,MAAIH,IAAWL,EAAcrM,KAAKlO,GAAMgb,aAAa,eAAevc,QAChE6F,KAAK2W,YAAYV,GACjB,IAEAM,IAAiBjF,EAAM,IAAMiF,IAAiBjF,EAAM,IAAMiF,IAAiBH,EAAY,IAAMG,IAAiBH,EAAY,IAG1H3T,EAAEkB,EAAEoJ,QAAQqF,GAAG,kCAGfpS,KAAKiF,QAAQ2R,aACb5W,KAAK2W,YAAYV,IAEjBC,GAAaI,GACb7D,WAAW,WACDoE,IAASpU,EAAE/G,GAAMob,kBAAkB5I,SAAS,aACzC6H,GAAera,GAAMob,mBACtBxB,GAAWiB,GAAc,KAKrCL,GACAvS,EAAEmS,kBAnBN,GAsBJ,QAASiB,IAAS1K,GACd,MAAOA,KAASA,EAAK6B,SAAS,gBAAkB7B,EAAK2C,SAASd,SAAS,oBAE3E,QAAS8I,IAAgBC,EAASpG,EAAOpV,GACrC,MAAO,yCAA2C4M,EAAWwI,GAAS,gBAAkBoG,EAAU,uGAAmHxb,EAAO,iBAEhO,QAASyb,IAA6BD,GAClC,MAAO,sDAA6DA,EAAU,iEAvtLrF,GACOvb,IAAQ+F,OAAO/F,MAAOyb,GAAKzb,GAAMyb,GAAIC,GAAa1b,GAAMoY,KAAKsD,WAAYzF,GAAyBjW,GAAM8a,QAAQa,eAAgBC,GAAgB5b,GAAMob,eAAgBS,GAASJ,GAAGI,OAAQC,GAAa9b,GAAM+b,YAAaC,GAAchc,GAAMic,aAAcC,GAAOlc,GAAMkc,KAAMzN,GAAgB1H,EAAE0H,cAAehG,GAAS1B,EAAE0B,OAAQ7D,GAAMmC,EAAEnC,IAAK2L,GAAOxJ,EAAEwJ,KAAM/B,GAAUzH,EAAEyH,QAASnD,GAAUtE,EAAEsE,QAASnN,GAAO2O,MAAMsP,UAAUje,KAAM6Q,GAAQhI,EAAEgI,MAAOqN,GAAapc,GAAMoc,WAAYC,GAAgBtV,EAAEsV,cAAevf,GAAO2I,KAAM6W,GAAW,WAAYC,GAAQ,QAASC,GAAY,qDAAsDC,GAA0B,uHAAwHC,GAAS,qCAAsCC,GAAU,qDAAsDC,GAAeF,GAAS,UAAYC,GAAU,SAAUE,GAAc,wDAAyDhO,GAAK,aAAciO,GAAO,OAAQC,GAAO,OAAQC,GAAS,SAAUC,GAAa,aAAcC,GAAiB,iBAAkBC,GAAiB,iBAAkBC,GAAS,SAAUC,GAAa,aAAcC,GAAa,aAAcC,GAAc,cAAeC,GAAY,YAAaC,GAAe,eAAgBC,GAAiB,iBAAkBC,GAAU,kBAAmBC,GAAW,mBAAoBC,GAAiB,mBAAoBC,GAAe,eAAgBC,GAAgB,gBAAiBC,GAAa,aAAcC,GAAe,eAAgBC,GAAW,WAAYtP,GAAQ,QAASuP,GAAS,SAAUC,GAAW,WAAYC,GAAW,WAAYpR,GAAS,SAAUqR,GAAgB,+CAAgDC,GAAY,wBAAyBC,GAAgB,SAAUC,GAAe,SAAUC,GAAe,YAAaC,GAAqB,MAAOC,GAAmB,sBAAuB7G,GAAyBrR,OAAO,MAAQkY,GAAmB,oCAAgDA,GAAmB,OAAQvF,GAAsB3S,OAAO,MAAQkY,GAAmB,mBAA+BA,GAAmB,OAAQC,GAAoB,oIAAqIC,IAAQ,EAAOlI,GAAU5W,GAAM8a,QAAQlE,QAASmI,GAAQnI,GAAQC,MAA2B,GAAnBD,GAAQE,QAAcqE,GAAQvE,GAAQC,MAA2B,GAAnBD,GAAQE,QACp7EkI,GAAoBnD,GAAOpT,QAC3BC,KAAM,SAAUgD,EAASnC,GACrB,GAAI0V,GAAO3a,IACXuX,IAAOqD,GAAGxW,KAAKyW,KAAKF,EAAMvT,EAASnC,GACnC0V,EAAKG,gBAAkBrQ,GAAMkQ,EAAKI,QAASJ,GAC3CA,EAAKK,cAAc/V,EAAQgW,YAC3BN,EAAKO,QAETF,cAAe,SAAUC,GACrB,GAAIN,GAAO3a,IACP2a,GAAKM,YACLN,EAAKM,WAAWE,OAAOrC,GAAQ6B,EAAKG,iBAExCH,EAAKM,WAAaA,EAClBN,EAAKM,WAAWG,KAAKtC,GAAQ6B,EAAKG,kBAEtC7V,SACIlJ,KAAM,oBACNsf,WAAY5Y,EAAE6Y,KACdC,UAAU,GAEdC,QAAS,WACL,GAAIb,GAAO3a,IACXuX,IAAOqD,GAAGY,QAAQX,KAAKF,GACvBA,EAAKM,WAAWE,OAAOrC,GAAQ6B,EAAKG,iBACpCH,EAAKc,QAAQ3S,IAAI6R,EAAKe,mBAAmBC,IAAIpR,IACzCoQ,EAAKiB,OACLjB,EAAKiB,KAAKJ,UACVb,EAAKiB,KAAO,MAEhBjB,EAAKc,QAAUd,EAAKvT,QAAUuT,EAAKe,kBAAoB,KACvDf,EAAKG,gBAAkB,MAE3BI,KAAM,WACF,GAAoFO,GAAhFd,EAAO3a,KAAM6b,EAAYngB,GAAM8a,QAAQqF,YAAc,EAAGzU,EAAUuT,EAAKvT,OAC3EA,GAAQ2B,KACJpG,MAAO,OACPmZ,SAAU,WACX/S,IAAIyR,GAAQ,eAAiB,gBAAiBqB,GACjDlB,EAAKjR,QAAUtC,EAAQkG,WAAWjS,QAClCogB,EAAUd,EAAKc,QAAUd,EAAKjR,QAAQwR,KAAK,4CAA4ClM,SAASoM,KAAK,iBAAmB7Q,GAAK,cAAgBA,GAAIE,GAAMkQ,EAAKoB,aAAcpB,IACtKjf,GAAM8a,QAAQwF,sBACdrB,EAAKiB,KAAO,GAAIlgB,IAAMugB,WAAWtB,EAAKc,SAClCS,QAAQ,EACRC,MAAO,SAAUxY,GACbA,EAAEyY,OAAOC,WAEbC,KAAM,SAAU3Y,GACZgX,EAAKe,kBAAkBlG,UAAUmF,EAAKe,kBAAkBlG,YAAc7R,EAAE4Y,EAAEC,OAC1Ef,EAAQhG,WAAWgG,EAAQhG,aAAe9R,EAAEvE,EAAEod,OAC9C7Y,EAAEmS,qBAId6E,EAAKe,kBAAoBjZ,EAAE,oDAAoDsG,KAAMpG,MAAOkZ,IAAatS,SAASnC,GAASgU,KAAK,SAAW7Q,GAAIE,GAAMkQ,EAAK8B,QAAS9B,KAEvKoB,aAAc,SAAUpY,GACpB,IAAIA,EAAE+Y,QAAN,CAGA,GAAIb,GAAY7b,KAAK0b,kBAAmBlG,EAAYqG,EAAUrG,YAAagH,EAAQ9gB,GAAMihB,YAAYhZ,IACjG6Y,GAAWA,EAAQ,GAAmB,IAAdhH,GAAsBgH,EAAQ,GAAKhH,EAAYqG,EAAU,GAAGe,cAAgBf,EAAU,GAAGgB,eACjHlZ,EAAEmS,iBACF9V,KAAK0b,kBAAkBlG,UAAUA,GAAagH,MAGtDC,QAAS,SAAU9Y,GACf,GAAIgX,GAAO3a,KAAM8c,GAAgBnC,EAAK1V,QAAQsW,SAAU/F,EAAY7R,EAAEsS,cAAcT,UAAWyF,EAAaN,EAAKM,WAAY8B,EAAYpC,EAAKU,WAAY2B,EAAO/B,EAAW+B,QAAU,EAAGb,EAAQxB,EAAKsC,aAAeD,EAAMpa,EAAS+X,EAAKvT,QAAQ8V,cAAeC,KAAmBxC,EAAKyC,eAAiBzC,EAAKyC,cAAgB5H,GAAY6H,EAAiB7kB,GAAKI,IAAIJ,GAAK4I,MAAMoU,EAAYuH,GAAY,GAAIO,EAAgB9kB,GAAKI,IAAIykB,EAAiB7kB,GAAK4I,MAAMwB,EAASma,GAAY,EACrdpC,GAAK4C,WAAa/H,EAAY2G,EAAQY,EACtCpC,EAAKyC,cAAgB5H,EACrBmF,EAAK6C,WAAaV,EACbnC,EAAK8C,OAAOJ,EAAgBC,EAAeH,KAC5CxC,EAAKc,QAAQ,GAAGjG,UAAYmF,EAAK4C,YAEjCT,IACInC,EAAK+C,mBACLC,aAAahD,EAAK+C,mBAEtB/C,EAAK+C,kBAAoBjL,WAAW,WAChCkI,EAAK6C,YAAa,EAClB7C,EAAKiD,MAAMjD,EAAKsC,YAAatC,EAAKM,WAAW4C,SAC9C,OAGXC,UAAW,SAAU/N,GACjB,GAAIgO,GAAa/d,KAAKid,aAAejd,KAAKib,WAAW+B,QAAU,CAC/D,OAAOe,GAAahO,GAExBlC,SAAU,SAAUvG,GAAV,GAGF9K,GAFAuhB,EAAa/d,KAAKid,aAAejd,KAAKib,WAAW+B,QAAU,EAC3DgB,EAAWhe,KAAKib,WAAW+C,UAO/B,OAJIxhB,GADA8K,EAAQyW,EACCzW,EAAQyW,EAAa,EAErBA,EAAazW,EAAQ,EAE3B9K,EAASwhB,EAAWA,EAAWxhB,GAE1CyhB,eAAgB,SAAU7P,GAAV,GACRtE,GAAY9J,KAAKyb,QAAQ,GACzByC,EAAkBpU,EAAU8S,aAC5BuB,EAAkBne,KAAKud,YAAczT,EAAU0L,UAC/C4I,EAAgBhQ,EAAI,GAAGpI,UACvBqY,EAAgBjQ,EAAI,GAAGrI,YACvBoY,GAAkBC,EAClBpe,KAAK0b,kBAAkB,GAAGlG,WAAa0I,EAAkB,EAClDE,EAAgBC,GAAiBF,EAAkBD,IAC1Dle,KAAK0b,kBAAkB,GAAGlG,WAAa0I,EAAkB,IAGjET,OAAQ,SAAUJ,EAAgBC,EAAegB,GAC7C,GAAI3D,GAAO3a,KAAMib,EAAaN,EAAKM,WAAYI,EAAaV,EAAKU,WAAYwC,EAAO5C,EAAW4C,OAAQE,EAAapD,EAAKsC,aAAehC,EAAW+B,QAAU,EAAGuB,EAAc/lB,GAAK4I,MAAMic,EAAiBQ,GAAQA,EAAMW,GAAW,EAAOC,EAAa,GAmBvP,OAlBIpB,GAAiBU,GACjBS,GAAW,EACXT,EAAavlB,GAAKI,IAAI,EAAG0kB,EAAgBO,GACzClD,EAAK4C,YAAcF,EAAiBU,GAAc1C,EAClDV,EAAKiD,MAAMG,EAAYF,IAChBP,GAAiBS,EAAaF,IAASS,GAC9CE,GAAW,EACXT,EAAaV,EACb1C,EAAK4C,WAAalC,EAClBV,EAAKiD,MAAMG,EAAYF,KACflD,EAAK+D,WAAa/D,EAAK1V,QAAQsW,WACnC8B,EAAiBkB,EAAcV,EAAOA,EAAOY,GAAcpB,EAAiBQ,GAC5E5C,EAAWM,SAASgD,EAAcV,EAAMA,EAAMpb,EAAE6Y,MAEhDgC,EAAgBiB,EAAcV,EAAOY,GACrCxD,EAAWM,SAASgD,EAAcV,EAAMA,EAAMpb,EAAE6Y,OAGjDkD,GAEXA,SAAU,WACN,MAAOxe,MAAK0e,WAEhBd,MAAO,SAAUZ,EAAMa,GACnB,GAAIlD,GAAO3a,KAAM8c,GAAgBnC,EAAK1V,QAAQsW,SAAUN,EAAaN,EAAKM,UAC1E0C,cAAahD,EAAKgE,UAClBhE,EAAK+D,WAAY,EACjB/D,EAAKsC,YAAcD,EACf/B,EAAW2D,QAAQ5B,EAAMa,GACzB5C,EAAW4D,MAAM7B,EAAMa,IAElBf,GACDphB,GAAMyb,GAAG2H,SAASnE,EAAKc,QAAQzM,UAAU,GAE7C2L,EAAKgE,SAAWlM,WAAW,WAClBkI,EAAK6C,aACFV,GACAphB,GAAMyb,GAAG2H,SAASnE,EAAKc,QAAQzM,UAAU,GAE7CiM,EAAW4D,MAAM7B,EAAMa,KAE5B,OAGXkB,iBAAkB,WAAA,GAC+LnX,GAAzM+S,EAAO3a,KAAMuR,EAAO,GAAIyN,EAAY,KAAQ/D,EAAaN,EAAKM,WAAYY,EAAangB,GAAM8a,QAAQwF,oBAAkD,EAA5BtgB,GAAM8a,QAAQqF,YAAiBoD,EAAiBtE,EAAKc,QAAQ,GAAsBJ,EACrMV,EAAKU,WAAaV,EAAK1V,QAAQoW,cAAgB,EACxD6D,EAAqBD,EAAeE,YAAcF,EAAenZ,YAAc+V,EAAY,EAFiGuD,EAGlLnE,EAAWoE,QAAUhE,EAAa6D,CAChD,KAAKtX,EAAM,EAAGA,EAAMpP,GAAK4I,MAAMge,EAAcJ,GAAYpX,IACrD2J,GAAQ,gCAAkCyN,EAAY,YAEtDI,GAAcJ,IACdzN,GAAQ,gCAAkC6N,EAAcJ,EAAY,cAExErE,EAAKe,kBAAkBnK,KAAKA,GAC5B0N,EAAezJ,UAAYmF,EAAK4C,YAEpCxC,QAAS,WACL,GAAIJ,GAAO3a,KAAMib,EAAaN,EAAKM,WAAY8C,EAAapD,EAAKsC,WACjEvhB,IAAMyb,GAAG2H,SAASnE,EAAKc,QAAQzM,UAAU,GACzC2O,aAAahD,EAAKgE,UAClBhE,EAAKoE,mBACDpE,EAAKiB,MACLjB,EAAKiB,KAAK0D,SAEVvB,IAAepD,EAAK+D,YACpB/D,EAAKsC,YAAchC,EAAW+B,OACJ,IAAtB/B,EAAWsE,SACX5E,EAAKe,kBAAkB,GAAGlG,UAAY,IAG9CmF,EAAK+D,WAAY,KAkBrBc,IACA3f,QACIpE,KAAM,iBACNgkB,WAAY,UACZ/L,UAAW,aACXgM,UAAW,UAEfJ,QACI7jB,KAAM,iBACNgkB,WAAY,aACZ/L,UAAW,wBACXgM,UAAW,UAEfC,MACIlkB,KAAM,eACNgkB,WAAY,aACZ/L,UAAW,sBACXgM,UAAW,UAEflE,SACI/f,KAAM,SACNgkB,WAAY,aACZ/L,UAAW,gBACXgM,UAAW,UAEfE,MACInkB,KAAM,OACNgkB,WAAY,WACZ/L,UAAW,cACXgM,UAAW,UAEfG,QACIpkB,KAAM,SACNgkB,WAAY,aACZ/L,UAAW,0BACXgM,UAAW,UAEfI,YACIrkB,KAAM,SACNgkB,WAAY,aACZ/L,UAAW,gBACXgM,UAAW,UAEfK,OACItkB,KAAM,kBACNgkB,WAAY,YACZ/L,UAAW,eACXgM,UAAW,UAEfM,KACIvkB,KAAM,gBACNgkB,WAAY,UACZ/L,UAAW,aACXgM,UAAW,WA4qBfO,GAAOvkB,GAAMyb,GAAG+I,gBAAgB/b,QAChCC,KAAM,SAAUgD,EAASnC,EAASkb,GAC9B,GAAIxF,GAAO3a,IACXiF,GAAUiF,GAAQjF,IAAagW,WAAYhW;EAAYA,EACvDsS,GAAOqD,GAAGxW,KAAKyW,KAAKF,EAAMvT,EAASnC,GAC/Bkb,IACAxF,EAAKyF,QAAUD,GAEnB3F,GAAQ9e,GAAM8a,QAAQgE,MAAMpT,GAC5BuT,EAAK0F,WACL1F,EAAK2F,QACL3F,EAAK4F,SAAS5F,EAAK1V,QAAQ0F,SAC3BgQ,EAAK6F,cACL7F,EAAK8F,SACL9F,EAAK+F,YACL/F,EAAKgG,SACLhG,EAAKiG,aACLjG,EAAKkG,WACLlG,EAAKmG,oBACLnG,EAAKoG,aACLpG,EAAKqG,eACLrG,EAAKsG,cACLtG,EAAKuG,aACLvG,EAAKwG,WACLxG,EAAKyG,YACLzG,EAAK0G,6BACL1G,EAAK2G,oBACD3G,EAAK1V,QAAQsc,SACb5G,EAAKM,WAAWuG,SAEhB7G,EAAK8G,OAAS9G,EAAK+G,UAAY,EAC/B/G,EAAKgH,WAELhH,EAAKlR,gBACLkR,EAAKc,QAAQmG,SAAS,wBACtBjH,EAAKkH,eAAiB,WAClBlH,EAAKmH,UAETrf,EAAEhB,QAAQ4I,GAAG,SAAWE,GAAIoQ,EAAKkH,iBAErCnmB,GAAMqmB,OAAOpH,IAEjBwF,QACIrH,GACA,cACA,SACAI,GACAC,GACAC,GACAT,GACAC,GACAC,GACAL,GACAC,GACAC,GACAO,GACAO,GACAC,GACAT,GACAD,GACAW,GACAC,GACAC,GACA,OACA,OACA,SACA,SAEJoB,cAAe,SAAUC,GAAV,GACPN,GAAO3a,KACPgiB,EAAarH,EAAK1V,QAAQ+c,UAC9BrH,GAAK1V,QAAQgW,WAAaA,EAC1BN,EAAK6F,cACL7F,EAAK+F,YACL/F,EAAKgG,SACDqB,IACIA,EAAWC,QACXtH,EAAKjR,QAAQE,KAAK,+BAA+B6L,WAAW,GAE5DkF,EAAKjR,QAAQ+L,WAAW,IAG5BkF,EAAK1V,QAAQid,WACbvH,EAAKiG,aAELjG,EAAKwH,mBACLxH,EAAKwH,kBAAkBnH,cAAcL,EAAK1V,QAAQgW,YAElDN,EAAK1V,QAAQ2R,aACb+D,EAAKqG,eAELrG,EAAK1V,QAAQmd,YACbzH,EAAKsG,cAELtG,EAAK1V,QAAQsc,UACbtG,EAAWuG,SAGnBvc,SACIlJ,KAAM,OACN4O,WACA0X,QAAS,KACTd,UAAU,EACVe,YAAY,EACZN,YAAY,EACZO,UAAU,EACVH,YAAY,EACZI,WAAW,EACX5L,aAAa,EACb6L,UAAU,EACVC,UAAU,EACVR,WAAW,EACXS,YAAa,GACbC,eAAgB,GAChBC,WAAW,EACX5H,cACArY,OAAQ,KACRkgB,WAAW,EACXC,aAAa,EACbC,YAAY,EACZC,eAAgB,KAChBC,wBAAyB,EACzBC,OAAQ,GACRC,UACIV,UACIW,aAAclJ,GACdmJ,aAActJ,GACduJ,cAAerJ,IAEnBnQ,UACIlK,OAAQ2f,GAAgB3f,OAAOpE,KAC/B6jB,OAAQE,GAAgBF,OAAO7jB,KAC/BkkB,KAAMH,GAAgBG,KAAKlkB,KAC3B+f,QAASgE,GAAgBhE,QAAQ/f,KACjCmkB,KAAMJ,GAAgBI,KAAKnkB,KAC3BokB,OAAQL,GAAgBK,OAAOpkB,KAC/BqkB,WAAYN,GAAgBM,WAAWrkB,KACvCskB,MAAOP,GAAgBO,MAAMtkB,KAC7BukB,IAAKR,GAAgBQ,IAAIvkB,MAE7BonB,UAAW5I,KAGnBuB,QAAS,WACL,GAAiBpU,GAAbuT,EAAO3a,IACX2a,GAAK6I,cAAc,WACnB7I,EAAK8I,4BACLlM,GAAOqD,GAAGY,QAAQX,KAAKF,GACvB3a,KAAK0jB,mBAAqB,KACtB/I,EAAKkH,gBACLpf,EAAEhB,QAAQka,IAAI,SAAWpR,GAAIoQ,EAAKkH,gBAElClH,EAAKgJ,OAAShJ,EAAKgJ,MAAMvc,SACzBuT,EAAKgJ,MAAMnI,UAEfb,EAAKgJ,MAAQ,KACThJ,EAAKuH,WAAavH,EAAKuH,UAAU9a,SACjCuT,EAAKuH,UAAU9a,QAAQwc,eAAe,WAE1CjJ,EAAKuH,UAAY,KACbvH,EAAK1V,QAAQ8d,aACbpI,EAAKc,QAAQ3H,KAAK,oBAAoB0H,UAEtCb,EAAKyH,YAAczH,EAAKyH,WAAWhb,UACnCuT,EAAKyH,WAAW5G,UAChBb,EAAKkJ,YACDlJ,EAAKmJ,cACLnJ,EAAKc,QAAQE,IAAI,UAAWhB,EAAKmJ,aACjCnJ,EAAKQ,OAAOR,EAAKmJ,cAEjBnJ,EAAKoJ,uBACLpJ,EAAKQ,OAAOR,EAAKoJ,sBACjBpJ,EAAKoJ,qBAAuB,MAE5BpJ,EAAKqJ,kBACLrJ,EAAKc,QAAQE,IAAI,QAAShB,EAAKqJ,mBAGvCrJ,EAAKyH,WAAa,KACdzH,EAAKmI,YACLnI,EAAKmI,UAAUtH,UACXb,EAAKsJ,oBACDtJ,EAAKuJ,mCACLzhB,EAAEe,UAAUmY,IAAI,QAAShB,EAAKuJ,mCAElCvJ,EAAKsJ,kBAAkBzI,UACvBb,EAAKsJ,kBAAoB,MAE7BtJ,EAAKmI,UAAY,MAEjBnI,EAAKwH,mBAAqBxH,EAAKwH,kBAAkB/a,SACjDuT,EAAKwH,kBAAkB3G,UAE3Bb,EAAKwH,kBAAoB,KACzBxH,EAAKwJ,mBACDxJ,EAAKM,aACLN,EAAKM,WAAWE,OAAOrC,GAAQ6B,EAAKG,iBAAiBK,OAAOnD,GAAU2C,EAAKyJ,kBAAkBjJ,OAAOlD,GAAO0C,EAAK0J,eAChH1J,EAAKG,gBAAkBH,EAAKyJ,iBAAmBzJ,EAAK0J,cAAgB,MAExEjd,EAAUuT,EAAKvT,QAAQ0B,IAAI6R,EAAKc,SAAS3S,IAAI6R,EAAKrJ,OAAOxI,IAAI6R,EAAKhN,OAAO7E,IAAI6R,EAAKc,QAAQ7R,KAAK,qBAC3F+Q,EAAKjR,UACLtC,EAAUA,EAAQ0B,IAAI6R,EAAKjR,SAASZ,IAAI6R,EAAKjR,QAAQE,KAAK,iCAE1D+Q,EAAKtE,cACLsE,EAAK2J,0BAEL3J,EAAK4J,MACL5J,EAAK4J,KAAK/I,UAEVb,EAAK6J,wBACL/hB,EAAEhB,QAAQka,IAAI,SAAUhB,EAAK6J,wBAE7B7J,EAAK8J,oBAAsB9J,EAAK8J,mBAAmBrd,SACnDuT,EAAK8J,mBAAmBjJ,UAE5Bb,EAAK8J,mBAAqB,KAC1Brd,EAAQuU,IAAIpR,IACZ7O,GAAM8f,QAAQb,EAAKc,SACnBd,EAAKgI,YAAchI,EAAKiI,eAAiBjI,EAAK+J,kBAAoB/J,EAAKgK,qBAAuBhK,EAAKsI,eAAiBtI,EAAKiK,eAAiBjK,EAAKkK,oBAAsBlK,EAAKmK,0BAA4BnK,EAAKoK,kBAAoB,KAC/NpK,EAAKqK,YAAcrK,EAAKhN,MAAQgN,EAAKtJ,MAAQsJ,EAAKvT,QAAUuT,EAAKrJ,MAAQqJ,EAAKjR,QAAUiR,EAAKsK,OAAStK,EAAKc,QAAUd,EAAKxE,YAAcwE,EAAKlR,cAAgBkR,EAAKtE,aAAesE,EAAKuK,aAAevK,EAAKwK,uBAAyBxK,EAAKyK,wBAA0B,MAEtQC,WAAY,WAAA,GAGJ7oB,GAEAye,EACAqK,EALArgB,EAAUjF,KAAKiF,OAuBnB,OAtBAA,GAAQgW,WAAa,KACjBze,EAAS2H,IAAO,KAAUnE,KAAKiF,SACnCzI,EAAOmO,QAAUjP,GAAMgG,cAAe1B,KAAK2K,SACvCsQ,EAAajb,KAAKib,WAClBqK,EAAcrK,EAAWhW,QAAQ6O,MAAQmH,EAAWsK,MACxDtK,EAAWhW,QAAQ6O,KAAO,KAC1BtX,EAAOye,WAAaxY,EAAE0B,QAAO,KAAU8W,EAAWhW,SAClDgW,EAAWhW,QAAQ6O,KAAOwR,EAC1B9oB,EAAOye,WAAWnH,KAAOwR,EACzB9oB,EAAOye,WAAWsE,KAAOtE,EAAWsE,OACpC/iB,EAAOye,WAAWtR,OAASsR,EAAWtR,SACtCnN,EAAOye,WAAW+C,SAAW/C,EAAW+C,WACxCxhB,EAAOye,WAAWphB,KAAOohB,EAAWphB,OACpC2C,EAAOye,WAAWuK,MAAQvK,EAAWuK,QACrChpB,EAAOye,WAAWwK,UAAYxK,EAAWwK,YACrCjpB,EAAOye,WAAWyK,YAClBlpB,EAAOye,WAAWyK,UAAUzK,WAAa,MAEzCze,EAAOimB,UAAYjmB,EAAOimB,SAASzE,WACnCxhB,EAAOimB,SAASzE,SAAW/C,EAAW+C,YAE1CxhB,EAAOmpB,SAAW1qB,EACXuB,GAEXopB,WAAY,SAAU3gB,GAAV,GAMJwW,GACA0E,EACA/Y,EAIIye,EAXJC,EAAiB9lB,KAAKqlB,YAC1B3pB,IAAMgG,WAAWokB,EAAgB7gB,GAC5BA,EAAQgW,aACT6K,EAAe7K,WAAajb,KAAKib,YAEjCQ,EAAUzb,KAAKyb,QACf0E,EAASngB,KAAKogB,QACdhZ,EAAUpH,KAAKoH,QACnBpH,KAAKwb,UACLxb,KAAKiF,QAAU,KACXjF,KAAK+lB,YACDF,EAAgBpK,EAAQ9K,QAAQjV,GAAMgb,aAAa,SAAS1H,SAChE6W,EAAcG,MAAMvK,GACpBoK,EAAchW,SACd4L,EAAQwK,YAAY,kBAEpBxK,EAAQ,KAAOrU,EAAQ,KACvBqU,EAAQrS,OAAOhC,GACfqU,EAAQ5L,UAEZzI,EAAQoK,QACRxR,KAAKoE,KAAKgD,EAAS0e,EAAgB3F,GACnCngB,KAAKkmB,WAAWJ,IAEpB9R,MAAO,WACH,MAAIhU,MAAKyJ,cACEzJ,KAAKmmB,OAAOnmB,KAAKqR,OAAOvI,IAAI9I,KAAKmmB,OAAOnmB,KAAKmW,YAAY7I,SAAS,WAElEtN,KAAKmmB,OAAOnmB,KAAKqR,QAGhC8U,OAAQ,SAAUrc,GACd,MAAOA,GAAUwD,WAAW3D,OAAO,WAC/B,GAAIyc,GAAK3jB,EAAEzC,KACX,QAAQomB,EAAGlY,SAAS,oBAAsBkY,EAAGlY,SAAS,kBAAoBkY,EAAGlY,SAAS,qBAG9FmY,UAAW,WAAA,GAGCtrB,GAAsB2W,EACjBzX,EAHTosB,EAAY3qB,GAAMyb,GAAG+I,gBAAgBtF,GAAGyL,UAAUxL,KAAK7a,KAC3D,IAAIA,KAAKyJ,cAAe,CAEpB,IADI1O,EAAIsrB,EAAUlsB,OAAQuX,EAAUnJ,MAAM,EAAIxN,GACrCd,EAAIc,IAAKd,GAAK,GACnByX,EAAIzX,GAAKyX,EAAIzX,EAAIc,GAAKsrB,EAAUpsB,EAEpCosB,GAAY3U,EAEhB,MAAO2U,IAEX5C,0BAA2B,WACvB,GAAI9I,GAAO3a,IACX2a,GAAK2L,aAAe,KACf3L,EAAKhN,QAGV3N,KAAKumB,QAAQ,UAAW,WACpB,OAAS/c,SAAUmR,EAAKhN,MAAM5I,SAElC4V,EAAKhN,MAAM7E,IAAI6R,EAAKtE,cAAczM,KAAK,MAAM4c,KAAK,WAC9C,GAAI3T,GAAKpQ,EAAEzC,MAAOymB,EAAa5T,EAAGiB,KAAK,mBAAoByO,EAAW1P,EAAGiB,KAAK,qBAAsBkP,EAAanQ,EAAGiB,KAAK,kBACrH2S,IACAA,EAAWjL,UAEX+G,GACAA,EAAS/G,UAETwH,GACAA,EAAWxH,cAIvB6F,2BAA4B,WACxB,GAA4DrX,GAASpC,EAAKzN,EAAtEwgB,EAAO3a,KAAM2K,EAAUqD,EAAY2M,EAAKhQ,YAC5C,KAAK/C,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDoC,EAAUW,EAAQ/C,GAAKoC,QACnBA,GACAH,EAAyB8Q,EAAMA,EAAKc,QAASzR,IAIzDsW,MAAO,WACH,GAAIxgB,GAAKE,KAAKoH,QAAQsB,KAAK,OAAS,MAChC5I,KACAE,KAAK0mB,QAAU5mB,EAAK,iBAG5BugB,SAAU,WACN,GAAI1F,GAAO3a,KAAMsR,EAAQqJ,EAAKvT,OACzBkK,GAAMc,GAAG,WAENd,EADAqJ,EAAK1V,QAAQ+c,WACLrH,EAAKvT,QAAQwC,KAAK,6BAElB+Q,EAAKvT,QAAQkG,SAAS,SAE7BgE,EAAMnX,SACPmX,EAAQ7O,EAAE,aAAa8G,SAASoR,EAAKvT,WAGzCqT,IACAnJ,EAAM5I,KAAK,cAAe,GAE9BiS,EAAKrJ,MAAQA,EAAM5I,KAAK,OAAQiS,EAAKgM,cAAgB,WAAa,QAClEhM,EAAKiM,YAETC,oBAAqB,SAAU/c,EAAW+I,GAArB,GAMb5R,GAWI8M,EACKnG,EAeDkf,EAAuEC,EAA2DC,EAAyHC,EAhCnQtM,EAAO3a,KACPknB,EAAiBvM,EAAK1V,QAAQie,wBAC9BlB,EAAarH,EAAK1V,QAAQ+c,WAC1BsE,EAAe3L,EAAK2L,aACpBpZ,EAASlN,KAAK0hB,SAUlB,IARI4E,GAAgB3L,EAAKlR,eAAiB6c,EAAaxS,KAAK,MAAM,KAAOjB,EAAG,KACxEyT,EAAa3K,IAAIpR,IAAIsF,SACrByW,EAAe,MAEdA,IACDA,EAAe3L,EAAK2L,aAAe7jB,EAAE,gFACrCqH,EAAU1O,OAAOkrB,IAEhB9L,GAgBDvZ,EAAO4R,EAAGhF,WAAW5M,KACjB+gB,IACI8E,EAAajU,EAAGlC,QAAQ,8CAA+CoW,EAAezU,GAAQC,KAAOuU,EAAWrR,aAAe,EAAGuR,EAAmB1U,GAAQ6U,OAASL,EAAW,GAAG3H,YAAc2H,EAAW,GAAGhhB,YAAcghB,EAAWrR,aAAe,EAAGwR,EAAoB3U,GAAQ8U,QAAUN,EAAW,GAAG3H,YAAc2H,EAAW,GAAGhhB,aAAeghB,EAAW,GAAG3H,YAAc2H,EAAW,GAAGhhB,YAAcghB,EAAWrR,cAAgB,EACjbxU,GAAQ+lB,EAAmBC,EAAoBF,OAnB3C,CAGR,IAFA9lB,EAAO4R,EAAG,GAAG/M,YACTiI,EAAQoC,EAAc0C,EAAGlC,QAAQ,UAAUhH,OAAO,YAC7C/B,EAAM,EAAGA,EAAMmG,EAAM5T,QACtB4T,EAAMnG,IAAQiL,EAAG,GADajL,IAIlC3G,GAAQ8M,EAAMnG,GAAK9B,WAEnBoH,GAAS,IACTjM,GAAQuW,GAAW1N,EAAUF,KAAK,wBAA0BsD,GAE5DyN,EAAKgM,gBACL1lB,GAAQuW,GAAW1N,EAAUF,KAAK,6BAS1C0c,EAAavd,KACTse,IAAKxU,EAAGhF,WAAWwZ,IACnBpmB,KAAMA,EAAOimB,EACbtkB,OAAQ8U,GAAY7E,GACpBlQ,MAAwB,EAAjBukB,IACRpT,KAAK,KAAMjB,GAAIyU,OAClBhB,EAAa3K,IAAI,WAAapR,IAAIF,GAAG,WAAaE,GAAI,WAClDoQ,EAAK4M,mBAAmB1U,EAAGiB,KAAK,aAGxC0T,4BAA6B,WACzB,GAAI7M,GAAO3a,KAAMknB,EAAiBvM,EAAK1V,QAAQie,wBAAyBuE,EAAa9M,EAAKtE,aAAesE,EAAKtE,aAAazM,KAAK,eAAiBnH,GACjJkY,GAAKhN,MAAM7E,IAAI2e,GAAYpd,GAAG,YAAcE,GAAI,KAAM,SAAU5G,GAK5D,QAAS+jB,KAAT,GAKQC,GAJAC,EAAUC,WAAWplB,EAAEe,SAASskB,iBAAiB/e,IAAI,QAQzD,OAPI3P,OAAMwuB,KACNA,EAAU,GAEVD,EAAWE,WAAWplB,EAAEe,SAASqC,MAAMkD,IAAI,SAC3C3P,MAAMuuB,KACNA,EAAW,GAERC,EAAUD,EAd6B,GAgB9CI,GAA0CC,EAAwCna,EAflFgF,EAAKpQ,EAAEzC,KACP6S,GAAG3E,SAAS,iBAAmB2E,EAAG3E,SAAS,sBAc3C6Z,EAAUpkB,EAAEokB,QAAUL,IAAoBM,EAAgBvlB,EAAEhB,QAAQgU,aAAc5H,EAAWgF,EAAGjF,SAAS3M,MAASuZ,GAA2B,EAAnBxa,KAAK8F,aAC/HiiB,EAAUC,EAAgBna,EAAWqZ,GAAkBa,EAAUC,EAAgBna,EAAWqZ,EAC5FvM,EAAKkM,oBAAoBhU,EAAGlC,QAAQ,OAAQkC,GACrC8H,EAAK2L,aACZ3L,EAAK2L,aAAazb,OAElBjC,EAAO+R,EAAKc,QAAS,QAIjCwM,2BAA4B,SAAUtkB,GAC9BlB,EAAEkB,EAAEoJ,QAAQ4D,QAAQ,oBAAoBxW,SAG5CsI,EAAEe,UAAUmY,IAAIhY,GAChB3D,KAAKkoB,sBAETA,kBAAmB,WACXloB,KAAKsmB,eACLtmB,KAAKsmB,aAAaxS,KAAK,MAAMmS,YAAY,mBACrCjmB,KAAKyJ,gBAAkBzJ,KAAK+lB,WAC5B/lB,KAAKsmB,aAAa3K,IAAIpR,IAAIsF,SAC1B7P,KAAKsmB,aAAe,MAEpBtmB,KAAKsmB,aAAazb,SAI9Bsd,iCAAkC,WAC9B,GAAIxN,GAAO3a,KAAMynB,EAAa9M,EAAKtE,aAAesE,EAAKtE,aAAazM,KAAK,eAAiBnH,GAC1FkY,GAAKsJ,kBAAoB,GAAIvoB,IAAMugB,WAAWwL,EAAW3e,IAAI6R,EAAKhN,QAC9DhE,OAAQ,+CACRye,UAAW,GACXC,KAAM,SAAU1kB,GACZ,GAAIkP,GAAKpQ,EAAEkB,EAAEoJ,OACbpJ,GAAEmS,iBACFjD,EAAG+O,SAAS,mBACZjH,EAAKkM,oBAAoBhU,EAAGlC,QAAQ,OAAQkC,GACvC8H,EAAKuJ,oCACNvJ,EAAKuJ,kCAAoCzZ,GAAMkQ,EAAKsN,2BAA4BtN,IAEpFlY,EAAEe,UAAU6G,GAAG,QAASsQ,EAAKuJ,uCAIzCoE,WAAY,WACR,GAAyCxe,GAAWye,EAAaC,EAAaC,EAA2GC,EAAUC,EAAK9V,EAApM8H,EAAO3a,KAAMiF,EAAU0V,EAAK1V,QAAyD2jB,EAAW5oB,KAAK+lB,UAAWlK,EAAangB,GAAM8a,QAAQqS,SAAuC,EAA5BntB,GAAM8a,QAAQqF,WACpK5W,GAAQ6d,YACRhZ,EAAY7E,EAAQ+c,WAAarH,EAAKc,QAAQ7R,KAAK,6BAA+B+Q,EAAKc,QACnFmN,EACAjO,EAAKwN,iCAAiCre,GAEtC6Q,EAAK6M,4BAA4B1d,GAEjC6Q,EAAKmI,WACLnI,EAAKmI,UAAUtH,UAEnBb,EAAKmI,UAAY,GAAI3L,IAAG2R,UAAUhf,EAAUhB,IAAI6R,EAAKtE,eACjD0S,QAAW9jB,EAAQ+c,WAAa,GAAK,KAAO,mBAC5CgH,KAAM,SAAUD,GACZ,MAAOtmB,GAAE,2CAA2CsG,KAAMnG,OAAQ8U,GAAYqR,EAAOjV,KAAK,OAAS6G,EAAKtJ,MAAM3I,KAAK,mBAEvHyT,MAAO,SAAUxY,GAAV,GAKCslB,GAA8B3hB,EAE9B4hB,EAAyDjE,CAN7DpS,GAAKpQ,EAAEkB,EAAEsS,eAAenC,KAAK,MACzB8U,GACAjO,EAAKuN,oBAELe,EAASpW,EAAGlC,QAAQ,SAAUrJ,EAAQ7E,EAAEsE,QAAQ8L,EAAG,GAAI1C,EAAc0C,EAAGlC,QAAQ,UAAUhH,OAAO,aACrG+e,EAAWO,EAAOja,SAASd,SAAS,wBAChCgb,EAAeR,EAAW/N,EAAKxE,YAAcwE,EAAKrJ,MAAO2T,EAAStK,EAAKsK,QAAUxiB,IACjFkY,EAAKsK,QAAUtK,EAAKlR,gBACpBwb,EAAoBtK,EAAKsK,OAAO3X,SAAvBob,EAAgC,wBAAgD,wBAE7F9f,EAAO+R,EAAKc,QAAS,cAEjBkN,EADA1jB,EAAQ+c,WACFiH,EAAOrf,KAAK,kDAAoDtC,EAAQ,KAAKwB,IAAIogB,EAAa5b,SAAS,YAAY1D,KAAK,kDAAoDtC,EAAQ,MAAMwB,IAAImc,EAAOrb,KAAK,YAAYA,KAAK,kDAAoDtC,EAAQ,MAEvR4hB,EAAa5b,SAAS,YAAY1D,KAAK,kDAAoDtC,EAAQ,KAE7GihB,EAAc5kB,EAAEvE,EAAE+pB,SAClBX,EAAchR,GAAW3E,GACzB4V,EAAuBjR,GAAXkR,EAAsBQ,EAAa5b,SAAS,SAAuBqN,EAAKtJ,OAChFiB,GAAQ6U,QACRxM,EAAKc,QAAQmG,SAAS,2BAG9BE,OAAQ,SAAUne,GAAV,GAGIshB,GASAgE,EACAC,EACAE,EACAC,EACA1mB,EAfJ2mB,EAAgB9O,MAAa,EAAG+O,EAAef,EAAc7kB,EAAEvE,EAAE+pB,SAAWG,EAAgBf,EAAce,CAC1GrkB,GAAQ+c,YAEJ0G,GAAY/N,EAAKuK,aACjBD,EAAStK,EAAKuK,aAAa5X,SAAS,SAC7BqN,EAAKsK,SACZA,EAAStK,EAAKsK,OAAOrb,KAAK,+BAEzBqb,GAAWA,EAAO,KACnBA,EAASxiB,KAETwmB,EAASpW,EAAGlC,QAAQ,SACpBuY,EAAeR,EAAW/N,EAAKxE,YAAcwE,EAAKrJ,MAClD8X,GAAY,EACZC,EAAa1O,EAAKc,QAAQ9Y,QAAUkZ,EACpClZ,EAAQ4mB,EACRb,GAAYD,EAAYD,EAAc7lB,EAAQ0mB,IAC9C1mB,EAAQ6lB,GAAea,EAAaZ,EAAwB,EAAZ5M,GAC5ClZ,EAAQ,IACRA,EAAQ4mB,GAEZH,GAAY,GAEZzmB,EAAQ,KACRgmB,EAAI5f,IAAI,QAASpG,GACb8lB,IAEI9lB,EADAymB,EACQC,EAAyB,EAAZxN,EAEb4M,EAAY9kB,EAAEvE,EAAE+pB,SAAWG,EAAgBf,EAAce,EAErEJ,EAAapgB,IAAImgB,GAAQngB,IAAImc,GAAQlc,IAAI,QAASpG,GAC7C+lB,IACD/N,EAAK6O,aAAe7mB,MAIzB4mB,EAAe,IACtBZ,EAAI5f,IAAI,QAASwgB,IAGzBE,UAAW,WAAA,GACwB3e,GAAQme,EAO/B3hB,EAPJoiB,EAAWlS,GAAW3E,EAC1BjK,GAAO+R,EAAKc,QAAS,IACjBnJ,GAAQ6U,QACRxM,EAAKc,QAAQwK,YAAY,0BAEzBuC,GAAekB,IACfT,EAAStO,EAAKtE,aAAesE,EAAKtE,aAAazM,KAAK,wBAAwBd,IAAI6R,EAAKhN,MAAM/D,KAAK,aAAeiJ,EAAG7D,SAC9G1H,EAAQuL,EAAGnK,KAAKhN,GAAMgN,KAAK,UAC1BpB,IACDA,EAAQ2hB,EAAOrf,KAAK,gDAAgDtC,MAAMuL,IAE9E/H,EAASkD,EAAY2M,EAAKhQ,SAASrD,GACnCwD,EAAOnI,MAAQ+mB,EACf/O,EAAKnT,QAAQgS,IACT1O,OAAQA,EACR6e,SAAUnB,EACVkB,SAAUA,IAEd/O,EAAKiP,8BACLjP,EAAKkP,2BACLlP,EAAKmP,2BAETnP,EAAKuN,oBACLrV,EAAK,UAKrBkX,WAAY,WAAA,GAMAd,GALJtO,EAAO3a,IACP2a,GAAK1V,QAAQ8d,cACTpI,EAAK8J,oBACL9J,EAAK8J,mBAAmBjJ,UAExByN,EAAStO,EAAKc,QAAQnO,SAAS,kBACnCqN,EAAK8J,mBAAqB9J,EAAKc,QAAQuO,gBACnCxE,MAAO9pB,GAAM2P,OACb4e,YAAY,EACZtgB,OAAQgR,EAAKjR,QAAU,wBAA0B6O,GAAc,8BAAgCA,GAC/F2R,UAAW,WACPjB,EAAO3b,SAAS,uBAAuB6N,OAAO,SAAW5Q,GAAK,aAAa6Q,KAAK,SAAW7Q,GAAK,YAAa,SAAU5G,GAC/GgX,EAAKwH,kBACLxH,EAAKjR,QAAQE,KAAK,+BAA+B6L,WAAWzV,KAAKyV,YAEjEkF,EAAKqK,YAAYmF,IAAIxmB,EAAEsS,eAAeR,WAAWzV,KAAKyV,eAIlE2U,QAAS,WACLnB,EAAO3b,SAAS,uBAAuB6N,OAAO,SAAW5Q,GAAK,cAElEqR,KAAM,WACFjB,EAAKuN,qBAETc,KAAM,SAAUjc,GACZ,GAAIsd,GAAQtd,EAAOrE,KAAKhN,GAAMgN,KAAK,SAInC,OAHI2hB,KACAA,EAAQ3uB,GAAM2X,WAAWgX,IAEtB5nB,EAAE,wCAAwCsG,KAC7CpG,MAAOoK,EAAOpK,QACd2nB,YAAavd,EAAOhE,IAAI,eACxBwhB,aAAcxd,EAAOhE,IAAI,gBACzByhB,WAAYzd,EAAOnK,SAAW,KAC9B6nB,WAAY1d,EAAOhE,IAAI,cACvB2hB,cAAe3d,EAAOhE,IAAI,mBAC3BwI,KAAK8Y,GAAStd,EAAOrE,KAAKhN,GAAMgN,KAAK,WAAaqE,EAAOtR,QAAQ4W,QAAQ,uDAEjFyB,KAAK,oBAGhB6W,aAAc,WAAA,GAMFC,GALJjQ,EAAO3a,IACP2a,GAAK1V,QAAQ8d,cACTpI,EAAKc,QAAQ3H,KAAK,qBAClB6G,EAAKc,QAAQ3H,KAAK,oBAAoB0H,UAEtCoP,EAA6B,SAAUjgB,EAAStB,EAAawhB,GAAhC,GACzB/f,GAASH,EAAQtB,GACjB0D,EAASpC,EAAQkgB,GACjB7b,EAAS1D,EAAaR,EAAQ6P,EAAKhQ,QAEvC,OADAA,GAAUqE,EAASA,EAAOrE,QAAUgQ,EAAKhQ,QAClC5D,GAAQgG,EAAQpC,IAE3BgQ,EAAKc,QAAQqP,kBACTC,UAAWpQ,EAAK8J,mBAChBuG,mBAAoB,SAAU3hB,EAAawhB,GACvC,GAAIlgB,GAAUuE,EAAsByL,EAAKhQ,QACzC,OAAOA,GAAQtB,GAAa4hB,YAAa,GAASL,EAA2BjgB,EAAStB,EAAawhB,OAEvGK,gBAAiB,SAAUvnB,GACvB,MAAOlB,GAAEkB,EAAEuF,QAAQ8F,SAAS,KAAOvM,EAAEkB,EAAEoJ,QAAQiC,SAAS,IAAM4b,EAA2B1b,EAAsByL,EAAKhQ,SAAUhH,EAAE0F,YAAa1F,EAAEknB,iBAEnJM,OAAQ,SAAUxnB,GAAV,GACAgH,GAAUuE,EAAsByL,EAAKhQ,SACrCG,EAASH,EAAQhH,EAAEynB,UACnBC,EAAWT,EAA2BjgB,EAAShH,EAAEynB,SAAUznB,EAAE0nB,SACjE1Q,GAAKnT,QAAQiS,IACT4R,SAAUA,EACVD,SAAUrkB,GAAQ+D,EAAQH,GAC1BG,OAAQA,IAEZ6P,EAAK2Q,cAAcD,EAAUvgB,EAAuB,WAAfnH,EAAEkK,eAKvD0d,eAAgB,SAAUze,EAASC,EAAQ3D,GAA3B,GAKHxB,GAKL4G,EACAgd,EACAC,EAXA9Q,EAAO3a,KACPsO,EAAiBH,EAAerB,EAAQ,GAAI6N,EAAKhQ,SACjD+gB,EAAevd,EAAepB,EAAQ4N,EAAKhQ,SAC3CqC,IACJ,KAASpF,EAAM,EAAGA,EAAMkF,EAAQ3S,OAAQyN,IAChCkF,EAAQlF,GAAK+C,UACbqC,EAAQA,EAAM0B,OAAO5B,EAAQlF,GAAK+C,SAGtC6D,GAAMhF,EAASmR,EAAKtE,aAAcsE,EAAKhN,MAAO,SAAWW,EAAeF,IAAM,sDAC9Eod,EAAsB/e,EAAcK,GAAS3S,OAC7CsxB,EAAsBhf,GAAeM,IAAS5S,OAC9C6S,EAAM7S,QACFqxB,EAAsB,GAA6B,IAAxBC,EAC3B5e,EAA2BC,EAASC,EAAQC,EAAO2N,EAAKhQ,QAASgQ,EAAKtE,aAAazM,KAAK,SAAU+Q,EAAKhN,MAAO3N,KAAK0hB,WACpF,IAAxB8J,GAA6BC,EAAsB,GAC1D5e,EAA2BC,EAASC,EAAQC,EAAO2N,EAAKhQ,QAASgQ,EAAKhN,MAAOgN,EAAKtE,aAAazM,KAAK,SAAU5J,KAAK0hB,YAEnH3U,EAAOpC,SAAW2D,EAAejC,KAAOqf,EAAarf,KAAO,GAAKqf,EAAarf,KAAOiC,EAAejC,KAAO,KAC3GU,EAASgC,EAAkB4L,EAAKhQ,QAASoC,EAAQD,EAAQ,GAAI1D,GACzD2D,GACA4N,EAAK4Q,eAAeve,EAAOD,EAAQ3D,KAGpCoiB,IAAwBC,GAC/Brf,EAAkBoC,EAAIF,EAAejC,MAAOsO,EAAKhQ,QAAS6gB,GAE9DxiB,EAAQwF,EAAKF,EAAejC,KAAMqf,EAAarf,KAAMjD,EAAQ0D,EAAQ3S,SAEzEwxB,gBAAiB,SAAU7e,EAASG,EAAa7D,GAAhC,GAYEwiB,GAwBXze,EAWKvF,EAASzN,EA9CdwgB,EAAO3a,KACP6rB,EAAappB,IACbyG,EAAS4D,EAAQ,GACjBgf,EAAiB9f,EAAec,GAChCzD,EAActC,GAAQmC,EAAQ8E,EAAY2M,EAAKhQ,UAC/CohB,EAAYhlB,GAAQkG,EAAae,EAAY2M,EAAKhQ,UAClDqhB,EAAiBjlB,GAAQmC,EAAQgH,EAAmByK,EAAKhQ,UACzDshB,EAAUllB,GAAQkG,EAAaiD,EAAmByK,EAAKhQ,UACvDuhB,EAAczf,EAAckO,EAAKhQ,SAASxQ,OAC1CuuB,IAAazb,EAAY6B,OACzBmW,EAAStK,EAAKsK,QAAUtK,EAAKc,QAAQ7R,KAAK,kBAC1CuiB,EACQP,EAAYK,CAkCxB,KAjCIhf,EAAYlC,SACR2d,GACAuD,EAAUtR,EAAKxE,YAAYvM,KAAK,YAChCuiB,EAAYxR,EAAKtE,aAAazM,KAAK,YACnCgiB,EAAYnpB,EAAEkY,EAAKuK,cAActb,KAAK,qBAEtCqiB,EAAUtR,EAAKtJ,MAAMpS,OACrBktB,EAAYxR,EAAKhN,MAAM1O,OACvB2sB,EAAY3G,EAAOrb,KAAK,uBAAuBA,KAAK,qBAGxD+Q,EAAKyR,iBACLpjB,EAAQ2R,EAAKc,QAAQ7R,KAAK,yDAA0DP,EAAa0iB,EAAW3iB,EAAQ0D,EAAQ3S,QAEhI6O,EAAQQ,EAASmR,EAAKtE,aAAcsE,EAAKhN,MAAM1O,OAAQ,0CAA2C+sB,EAAgBG,EAAW/iB,EAAQ0iB,EAAe3xB,QAChJwgB,EAAK1V,QAAQ+c,YACbhZ,EAAQQ,EAASmR,EAAKxE,YAAawE,EAAKtJ,MAAMpS,OAAQ,0CAA2C+sB,EAAgBC,EAAS7iB,EAAQ0iB,EAAe3xB,QAEjJ8qB,GAAUA,EAAO9qB,SACjB6O,EAAQQ,EAASmR,EAAKuK,aAAcD,EAAOrb,KAAK,uBAAwB,0DAA2DoiB,EAAgBJ,EAAWxiB,EAAQ0iB,EAAe3xB,QACrL6O,EAAQic,EAAOrb,KAAK,8DAA+DP,EAAa0iB,EAAW3iB,EAAQ0D,EAAQ3S,SAE3HgT,EAAOwN,EAAKtJ,MAAM/D,SAAS,uCAC3BqN,EAAKxE,cACD+V,EAAcH,EACVG,GAAe7iB,GACf+K,GAAcuG,EAAKxE,YAAYvM,KAAK,4BAA6B+Q,EAAKrJ,MAAM1H,KAAK,4BAA6BkD,EAAQ3S,QAEnH+xB,EAAc7iB,GACrB+K,GAAcuG,EAAKrJ,MAAM1H,KAAK,4BAA6B+Q,EAAKxE,YAAYvM,KAAK,4BAA6BkD,EAAQ3S,QAE1H0xB,EAAalR,EAAKxE,YAAYvM,KAAK,iDAE9BhC,EAAM,EAAGzN,EAASgT,EAAKhT,OAAQyN,EAAMzN,EAAQyN,GAAO,EACzDoB,EAAQQ,EAASqiB,EAAWjkB,GAAMuF,EAAKvF,GAAM,4CAA6CyB,EAAa0iB,EAAW3iB,EAAQ0D,EAAQ3S,SAG1IotB,mBAAoB,SAAU8E,GAC1BrsB,KAAKssB,cAActe,EAAYhO,KAAK2K,SAAS0hB,KAEjDC,cAAe,SAAUxhB,GAAV,GACsDxD,GAAOuL,EAAIuD,EAAasS,EAAsIC,EAAK4D,EAAY9W,EAuB5OyT,EAAyDjE,EAIzDuH,EAIKC,EAkBLC,EACAC,EAMAC,EAIItd,EAAgCC,EAAU8Z,EACrCzhB,EAASzN,EA7DlBwgB,EAAO3a,KAAMiF,EAAU0V,EAAK1V,QAAS0F,EAAUgQ,EAAKhQ,QAA2CkiB,EAAgBlS,EAAKtE,aAAelG,EAAcwK,EAAKtE,aAAazM,KAAK,iBAAiBD,OAAOmC,GAAe3R,OAAS,EAAgC2yB,EAAyB,8CAA+CC,EAAiC,sDAYrW,IAVIjiB,EADiB,gBAAVA,GACEH,EAAQG,GACVX,GAAcW,GACZmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,KAASlI,IACjB,GAEMmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,GAAK7K,QAAU2C,IACvB,GAEFA,GAAWG,EAAUH,GAA1B,CAmBA,IAhBAxD,EAAQP,GAAQ+D,EAAQkD,EAAYrD,IACpC+d,EAAW5d,EAAOgE,OAEdsH,EADAsS,EACc/N,EAAKtE,aAAa/I,SAAS,SAE3BqN,EAAKhN,MAAMqB,SAE7B6D,EAAKuD,EAAYxM,KAAK,gBAAmBtC,EAAQ,MAC7C4hB,EAAeR,EAAW/N,EAAKxE,YAAcwE,EAAKrJ,MAAO2T,EAAStK,EAAKsK,QAAUxiB,IACjFkY,EAAKsK,QAAUtK,EAAKlR,gBACpBwb,EAAoBtK,EAAKsK,OAAO3X,SAAvBob,EAAgC,wBAAgD,wBAEzF8D,EAAcvH,EAAOrb,KAAK,SAASvO,QACnCsf,EAAKtE,eAAiBqS,IACtBphB,GAASulB,GAEJJ,EAAI,EAAGA,EAAI9hB,EAAQxQ,QACpBwQ,EAAQ8hB,KAAO3hB,EADa2hB,IAIxB9hB,EAAQ8hB,GAAG1hB,QACXzD,GAuBZ,IAnBIrC,EAAQ+c,YACR2G,EAAMvS,EAAYxM,KAAKkjB,GAAwBxjB,GAAGhC,GAAOwB,IAAIogB,EAAa5b,SAAS,YAAY1D,KAAKkjB,GAAwBxjB,GAAGhC,IAAQwB,IAAI0jB,EAAY5iB,KAAK,YAAYA,KAAKkjB,GAAwBxjB,GAAGhC,IACnMohB,IACD6D,EAAarD,EAAala,SAC1ByG,EAAa8W,EAAW9W,eAG5BkT,EAAMO,EAAa5b,SAAS,YAAY1D,KAAKkjB,GAAwBxjB,GAAGhC,GAExEolB,EAAStW,EAAYtN,IAAIogB,GAAcpgB,IAAI0jB,GAC3CG,EAAiBnV,GAAW3E,GAChC8V,EAAIhmB,MAAM,IACV+pB,EAAO3jB,IAAI,eAAgB,SAC3B4f,EAAIhmB,MAAM,QACV+pB,EAAO9K,SAAS,iBAChB8K,EAAO3jB,IAAI,eAAgB,IACvB6jB,EAAiBzrB,KAAK6rB,KAAK7rB,KAAKvI,IAAI4e,GAAW3E,GAAK2E,GAAW0R,EAAatf,KAAK,2BAA2BN,GAAG,GAAGgE,SAASyf,GAAgCzjB,GAAGhC,IAASkQ,GAAWgV,EAAY5iB,KAAK,MAAMN,GAAG,GAAGgE,SAASyf,GAAgCzjB,GAAGhC,MAAY,EAC3QqhB,EAAIhmB,MAAMiqB,GACV9hB,EAAOnI,MAAQiqB,EACX3nB,EAAQ+c,WAAY,CAEpB,IADI1S,EAAO8G,EAAYxM,KAAK,OAAkByf,EAAa,EAClDzhB,EAAM,EAAGzN,EAASmV,EAAKnV,OAAQyN,EAAMzN,EAAQyN,GAAO,EAAG,CAE5D,GADA2H,EAAWD,EAAK1H,GAAK7E,MAAMJ,OACvB4M,GAAYA,EAASC,QAAQ,SAE1B,CACH6Z,EAAa,CACb,OAHAA,GAAc5Z,SAASF,EAAU,IAMrC8Z,GACAqD,EAAOlG,KAAK,WACRxmB,KAAK+C,MAAMJ,MAAQ0mB,EAAa,OAIxC/W,GAAQC,MAA2B,GAAnBD,GAAQE,UACxBka,EAAO3jB,IAAI,UAAW,gBACtB0J,WAAW,WACPia,EAAO3jB,IAAI,UAAW,UACvB,IAEP2jB,EAAOzG,YAAY,iBACfxQ,GACA8W,EAAW9W,WAAWA,GAE1BkF,EAAKnT,QAAQgS,IACT1O,OAAQA,EACR6e,SAAUgD,EACVjD,SAAUkD,IAEdjS,EAAKiP,8BACLjP,EAAKkP,2BACLlP,EAAKmP,4BAETwB,cAAe,SAAUS,EAAWjhB,EAAQ1B,GAA7B,GAC8K6jB,GAcrLC,EAdAvS,EAAO3a,KAAMgP,EAAS1D,EAAaR,EAAQ6P,EAAKhQ,SAAUA,EAAUqE,EAASA,EAAOrE,QAAUgQ,EAAKhQ,QAAStB,EAActC,GAAQ+D,EAAQH,GAAUwiB,EAAaxiB,EAAQohB,GAAyBrD,IAAayE,EAAWre,OAAQod,EAAczf,EAAckO,EAAKhQ,SAASxQ,MAC5QkP,KAAgB0iB,KAGfjhB,EAAOgE,QAAU4Z,GAAqD,GAAzC/b,EAAiBgO,EAAKhQ,SAASxQ,QAG7D2Q,EAAOgE,SAAW4Z,GAA2B,GAAfwD,IAGlCvR,EAAKuN,oBACD9e,IAAWnO,IACXmO,EAAS2iB,EAAY1iB,GAErB6jB,GAAiBpiB,GACrB6P,EAAK4Q,eAAe2B,EAAeC,EAAY/jB,GAC3CuR,EAAKtE,eACL1G,EAAgBgL,EAAKhN,OACrBgC,EAAgBgL,EAAKtE,eAErB8W,EAAWxiB,UACXwiB,EAAanf,EAAYmf,EAAWxiB,SACpCwiB,EAAaA,EAAW/jB,EAAS,EAAI+jB,EAAWhzB,OAAS,IAEzD2Q,EAAOH,UACPuiB,EAAgBlf,EAAYlD,EAAOH,UAEvCgQ,EAAKgR,gBAAgBuB,EAAeC,EAAY/jB,GAChD6jB,IAAgBniB,EAAOgE,OACvBme,EAAcA,GAAevE,EAC7B5d,EAAOgE,OAAS4Z,EAChB/d,EAAQpD,OAAO6B,EAAS2iB,EAAYA,EAAY,EAAG,EAAGjhB,GACtDH,EAAQpD,OAAO8B,EAAc0iB,EAAY1iB,EAAcA,EAAc,EAAG,GACxEsR,EAAKoG,aACLpG,EAAKyS,yBACLzS,EAAK0S,qBACL1S,EAAKiP,8BACLjP,EAAKmP,0BACLnP,EAAKkP,2BACLlP,EAAK2S,0BACAL,IAGDvE,EACA/N,EAAKnT,QAAQkS,IAAc5O,OAAQA,IAEnC6P,EAAKnT,QAAQmS,IAAgB7O,OAAQA,QAG7CsiB,uBAAwB,WAAA,GAChBnE,GACArb,EAAS,CACT5N,MAAKqW,eACL4S,EAASjpB,KAAKqW,aAAazM,KAAK,SAChCgE,EAASF,EAAgBub,EAAQxc,EAAczM,KAAK2K,WAExD+C,EAAgB1N,KAAK2N,MAAOhB,EAAiB3M,KAAK2K,SAAUiD,IAEhE2f,WAAY,SAAUziB,GAAV,GAYJxD,GAXAqD,EAAU3K,KAAK2K,OAEfG,GADiB,gBAAVA,GACEH,EAAQG,GAERmB,GAAKtB,EAAS,SAAUqI,GAC7B,MAAOA,GAAK7K,QAAU2C,IACvB,IAEFA,GAAUA,EAAOgE,QAAUhE,EAAOC,SAGnCzD,EAAQmF,EAAc9B,GAASxQ,OAAS,EAC5C6F,KAAKsrB,cAAchkB,EAAOwD,GAAQ,KAEtC0iB,aAAc,SAAU1iB,GAAV,GAYNxD,GAXAqD,EAAU3K,KAAK2K,OAEfG,GADiB,gBAAVA,GACEH,EAAQG,GAERmB,GAAKtB,EAAS,SAAUqI,GAC7B,MAAOA,GAAK7K,QAAU2C,IACvB,GAEFA,GAAWA,EAAOgE,SAAUhE,EAAOC,SAGpCzD,EAAQmF,EAAc9B,GAASxQ,OACnC6F,KAAKsrB,cAAchkB,EAAOwD,GAAQ,KAEtC2iB,UAAW,SAAUC,GACjB,GAAIC,GAAqB,CAIzB,OAHI3tB,MAAKmW,cAAgB1T,EAAEmrB,SAAS5tB,KAAKmW,YAAY,GAAIuX,EAAG,MACxDC,EAAqB3f,EAAYvB,EAAczM,KAAK2K,UAAUxQ,QAE3DsI,EAAEirB,GAAI1e,SAAS1B,SAAS,2CAA2ChG,MAAMomB,GAAMC,GAE1FE,mBAAoB,SAAU/jB,GAC1BA,EAAYrH,EAAEqH,GACTA,EAAUsI,GAAG,OAA8B,UAArBpS,KAAK8tB,cAC5BhkB,EAAYA,EAAU6G,QAAQ,MAElC,IAAI7Q,GAAKgK,EAAUpB,KAAKhN,GAAMgN,KAAK,OACnC,OAAO1I,MAAKib,WAAW8S,SAASjuB,IAEpCshB,UAAW,WAAA,GAWC4M,GAVJrT,EAAO3a,KAAMoiB,EAAazH,EAAKyH,YAAczH,EAAKyH,WAAWnd,QAAQgpB,SAAUvL,EAAW/H,EAAK1V,QAAQyd,SAAUwL,EAAU,WACvH,GAAInhB,GAASuK,KAAiBjL,EAAOsO,EAAKwT,gBACtC9hB,GAAS5J,EAAEmrB,SAASvhB,EAAK,GAAIU,IAAWV,EAAK,KAAOU,GAAWtK,EAAEsK,GAAQ4D,QAAQ,0BAA0BxW,QACvGwgB,EAAK+H,SAAS0L,OACdzT,EAAK0T,YAIjB3L,KACA1iB,KAAKyb,QAAQmG,SAAS,cAClBoM,EAAOrT,EAAKmT,YACH,WAATE,EACItL,EAAS7C,UAAW,GACpBlF,EAAKc,QAAQpR,GAAGC,GAAQC,GAAI,+BAAgC,SAAU5G,GAClE,GAAI+pB,GAAKjrB,EAAEzC,MAAOsuB,EAAe3T,EAAKxE,aAAeuX,EAAG/c,QAAQ,SAAS,KAAOgK,EAAKxE,YAAY,EAC7FuX,GAAGxf,SAAS,qBAAuBwf,EAAGxf,SAAS,kBAAoBwf,EAAGxf,SAAS,iBAAmBwf,EAAGxf,SAAS,gBAAkBwf,EAAGa,IAAI,mBAAmBp0B,QAAUuzB,EAAGa,IAAI,wBAAwBp0B,QAAUuzB,EAAG/c,QAAQ,SAAS,KAAOgK,EAAKtJ,MAAM,KAAOid,GAAgB7rB,EAAEkB,EAAEoJ,QAAQqF,GAAG,YAGzRuI,EAAK+H,SACD/H,EAAK+H,SAAS0L,QACVhM,GACA3f,EAAE6U,MAAiBkX,OAEvB7T,EAAK0T,YACL1T,EAAK8T,SAASf,IAGlB/S,EAAK8T,SAASf,MAEnBrjB,GAAG,UAAYE,GAAI,WACb9H,EAAEmrB,SAAS5tB,KAAMsX,QAClBqG,aAAahD,EAAK+T,OAClB/T,EAAK+T,MAAQ,QAElBrkB,GAAG,WAAaE,GAAI,WACnBoQ,EAAK+T,MAAQjc,WAAWyb,EAAS,KAIrCxL,EAAS7C,UAAW,GACpBlF,EAAKc,QAAQpR,GAAGC,GAAQC,GAAI,oEAAqE,SAAU5G,GACvGA,EAAEmS,iBACF6E,EAAKgU,QAAQlsB,EAAEzC,MAAM2Q,QAAQ,SAIrC+R,EAASlH,WAAY,EACrBb,EAAKc,QAAQpR,GAAGC,GAAQC,GAAI,qEAAsE,SAAU5G,GACxGA,EAAEmS,iBACFnS,EAAEirB,kBACFjU,EAAKkU,UAAUpsB,EAAEzC,MAAM2Q,QAAQ,SAGnCgK,EAAKc,QAAQpR,GAAGC,GAAQC,GAAI,2EAA4E,SAAU5G,GAC9GA,EAAEirB,kBACGjU,EAAKmU,iBACNnrB,EAAEmS,qBAMtB2Y,SAAU,SAAUpiB,GAAV,GAEFsO,GAAa7P,EAA0DikB,EAwBnE3I,CAzBR/Z,GAAO5J,EAAE4J,GACLsO,EAAO3a,KAAM8K,EAASkD,EAAY2M,EAAKhQ,SAASgQ,EAAK8S,UAAUphB,IAAQ0iB,EAAQpU,EAAKkT,mBAAmBxhB,GAC3GsO,EAAK0T,aACDU,GAAWA,EAAMrM,WAAYqM,EAAMrM,SAAS5X,EAAO3C,QAAY2C,EAAOd,UAAWc,EAAO3C,QACxFwS,EAAKqU,mBAAmBD,GACxBpU,EAAKwT,eAAiB9hB,EACtBsO,EAAK+H,SAAWrW,EAAKuV,SAAS,eAAeqN,eACzCC,QACI/mB,MAAO2C,EAAO3C,MACdgK,OAAQrH,EAAOqH,OACfgd,OAAQrkB,EAAOqkB,OACfxwB,OAAQmM,EAAOnM,QAEnBowB,MAAOA,EACPhiB,OAAQ4N,EACRwQ,OAAQ,SAAUxnB,GACVgX,EAAKnT,QAAQiR,IACT9Z,OAAQgF,EAAEhF,OACVmL,UAAWuC,EACX0iB,MAAOA,KAEXprB,EAAEmS,oBAGXhC,KAAK,iBACJsS,EAAK/Z,EAAK2C,SAAS4S,SAAS,mBAC5BjH,EAAKlR,eACLuL,GAAgBoR,EAAG,GAAIzL,EAAKyU,YAAYhJ,GAAIxE,SAAS,mBAAmB,IAE5EjH,EAAKnT,QAAQgR,IACT1O,UAAWuC,EACX0iB,MAAOA,MAInBM,iCAAkC,WAAA,GAC1B/d,GAAQtR,KAAKsR,MAAO5H,EAAU4H,EAAMtC,SACpC6M,EAAYvK,EAAM,GAAGxL,YAAc4D,EAAQ,GAAG4lB,YAAc5zB,GAAM8a,QAAQqF,YAAc,CAC5F7b,MAAKyJ,cAAc7G,OAAO8G,EAAQ9G,SAAWiZ,IAEjDgO,yBAA0B,WAClB7pB,KAAKmW,cACAnW,KAAKuvB,eACNvvB,KAAKqvB,mCAETrvB,KAAKwvB,kBAAkBxvB,KAAKsR,MAAOtR,KAAKmW,eAGhD2T,wBAAyB,WAAA,GAEb3T,GACA7E,CAFJtR,MAAKqW,eACDF,EAAcnW,KAAKqW,aAAa/I,SAAS,SACzCgE,EAAQtR,KAAK2N,MAAMqB,SACvBhP,KAAKwvB,kBAAkBrZ,EAAa7E,GACpCmD,GAAgB0B,EAAa7E,KAGrCme,wBAAyB,WACjBzvB,KAAKklB,cAAgBllB,KAAKilB,QAAUjlB,KAAKilB,OAAO9qB,QAChD6F,KAAKwvB,kBAAkBxvB,KAAKklB,aAAa5X,SAAS,SAAUtN,KAAKilB,OAAOrb,KAAK,iCAGrFua,iBAAkB,WAAA,GACVxJ,GAAO3a,KACPwb,EAAU,WACV,GAAIb,EAAK+H,SAAU,CACf,GAAI5Y,GAAY6Q,EAAK+U,SAAW/U,EAAK+U,SAAStoB,QAAUuT,EAAKwT,cACzDrkB,KACAA,EAAU6R,IAAIrR,GAAQC,GAAI,kBAAmBoQ,EAAKgV,yBAClD7lB,EAAU6R,IAAIrR,GAAQC,GAAI,kBAAmBoQ,EAAKiV,0BAEtDjV,EAAKkV,qBACLlV,EAAK+H,SAASlH,UACdb,EAAK+H,SAAW,KAChB/H,EAAKwT,eAAiB,KACtBxT,EAAKmV,oBAGTnV,GAAK+H,WACoB,UAArB/H,EAAKmT,aAA4BnT,EAAKoL,UAGtCvK,IAFAb,EAAKwT,eAAera,KAAK,eAAesH,KAAK,aAAcI,GAASuU,SAKxEpV,EAAKqV,eACLrV,EAAKqV,aAAaxU,UAClBb,EAAKqV,aAAe,OAG5BF,iBAAkB,WACV9vB,KAAK0vB,WACL1vB,KAAK0vB,SAASO,QACdjwB,KAAK0vB,SAAW,KAChB1vB,KAAKukB,KAAK2L,SAAS,MAG3BlB,mBAAoB,SAAUD,GAC1B,GAAIpU,GAAO3a,IACX2a,GAAKwV,oBAAsB,SAAUxsB,GACjCgX,EAAKyV,cACDjoB,MAAOxE,EAAEwE,MACT4mB,MAAO/uB,QAGf+uB,EAAM3T,KAAK,SAAUT,EAAKwV,sBAE9BN,mBAAoB,WAChB,GAAIlV,GAAO3a,KAAM8J,EAAY6Q,EAAKwT,eAAgBY,EAAQpU,EAAKkT,mBAAmB/jB,EAC9EilB,IACAA,EAAM5T,OAAOrC,GAAQ6B,EAAKwV,sBAGlC9B,UAAW,SAAUgC,GACjB,GAA6CvwB,GAAIgL,EAAQsb,EAAI2I,EAAzDpU,EAAO3a,KAAMqM,EAAOsO,EAAKwT,cACxB9hB,KAGLvM,EAAKuM,EAAKsE,QAAQ,MAAMjI,KAAKhN,GAAMgN,KAAK,QACxCqmB,EAAQpU,EAAKM,WAAW8S,SAASjuB,GAC7BuwB,GAAY1V,EAAKnT,QAAQ,UACrBsC,UAAWuC,EACX0iB,MAAOA,MAIf1iB,EAAK4Z,YAAY,eACjBnb,EAASkD,EAAY2M,EAAKhQ,SAASgQ,EAAK8S,UAAUphB,IAClD+Z,EAAK/Z,EAAK2C,SAASiX,YAAY,mBAC/BtL,EAAKwJ,mBACLxJ,EAAK2V,aAAajkB,EAAMvB,EAAQikB,GAC5B1iB,EAAK6B,SAAS,iBACdzL,EAAE,2BAA2B8tB,UAAUlkB,GAE3CsO,EAAKnT,QAAQ,cACTwL,KAAMoT,EACNtS,KAAMib,EACNyB,GAAIrZ,KAEJwD,EAAKlR,eACLuL,GAAgBoR,EAAGrd,IAAI,SAAU,IAAI,GAAI4R,EAAKyU,YAAYhJ,GAAIrd,IAAI,SAAU,IAAI,OAGxFunB,aAAc,SAAUjkB,EAAMvB,EAAQ2lB,GAClC,GAAI9V,GAAO3a,KAAMuT,GACTmd,WACApoB,MAAO,GACRqoB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAmBC,EAAOp1B,GAAMC,SAASgf,EAAKoW,UAAUjmB,EAAQyI,GAAQod,EAC9Hpd,GAAMjL,MAAQ,IACdwoB,EAAOrmB,GAAMqmB,EAAMvd,EAAMmd,UAE7BrkB,EAAKmF,QAAQD,KAAKuf,EAAKL,IACvB9V,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAU6C,EACVyH,OAAS2c,SAAUA,QAI/B5B,UAAW,SAAUzgB,GACZpO,KAAK8uB,cAAc1gB,IAGxBpO,KAAKgxB,WAAW5iB,IAEpB4iB,WAAY,SAAU5iB,GAClB,GAAiB2gB,GAAbpU,EAAO3a,KAAaguB,EAAOrT,EAAKmT,WACvB,YAATE,GACArT,EAAKsW,YAET7iB,EAAM3L,EAAE2L,GACJuM,EAAKlR,gBACL2E,EAAMA,EAAItF,IAAI6R,EAAKyU,YAAYhhB,KAEnCA,EAAMA,EAAIvD,OACVkkB,EAAQpU,EAAKkT,mBAAmBzf,GAC5B2gB,IAAUpU,EAAKnT,QAAQkR,IACnBtK,IAAKA,EACL2gB,MAAOA,KAEXpU,EAAKM,WAAWpL,OAAOkf,GACV,WAATf,GAA8B,UAATA,GACrBrT,EAAKM,WAAWiW,QAEJ,WAATlD,GACPrT,EAAKwJ,oBAGb2J,UAAW,WACP,GAAIE,GAAO,SAAUtL,EAAW1iB,KAAKiF,QAAQyd,QAQ7C,OAPIA,MAAa,IAETsL,EADmB,gBAAZtL,GACAA,EAEAA,EAASsL,MAAQA,GAGzBA,GAEXW,QAAS,SAAUvgB,GAAV,GACD2gB,GAQAf,EACAlkB,EARA6Q,EAAO3a,IACPoO,aAAe1S,IAAMoY,KAAKqd,iBAC1BpC,EAAQ3gB,GAERA,EAAM3L,EAAE2L,GACR2gB,EAAQpU,EAAKkT,mBAAmBzf,IAEhC4f,EAAOrT,EAAKmT,YAEhBnT,EAAKsW,YACDlC,IACA3gB,EAAMuM,EAAKtJ,MAAM/D,SAAS,IAAM5R,GAAMgN,KAAK,OAAS,IAAMqmB,EAAM/jB,IAAM,KACtE2P,EAAKqU,mBAAmBD,GACX,UAATf,EACArT,EAAKyW,mBAAmBrC,GACR,WAATf,EACPrT,EAAK0W,oBAAoBjjB,EAAK2gB,GACd,WAATf,GACPvrB,EAAE2L,GAAKd,SAAS4K,IAAWsO,KAAK,WAAA,GACxBna,GAAO5J,EAAEzC,MACT8K,EAASkD,EAAY2M,EAAKhQ,SAASgQ,EAAK8S,UAAUphB,GAEtD,IADA0iB,EAAQpU,EAAKkT,mBAAmBxhB,GAC5B0iB,KAAWA,EAAMrM,UAAYqM,EAAMrM,SAAS5X,EAAO3C,SAAW2C,EAAO3C,MAErE,MADAwS,GAAK8T,SAASpiB,IACP,IAInBvC,EAAY6Q,EAAK+U,SAAW/U,EAAK+U,SAAStoB,QAAUuT,EAAKwT,eACrDrkB,IACK9J,KAAK2vB,0BACN3vB,KAAK2vB,wBAA0BllB,GAAMzK,KAAKsxB,iBAAkBtxB,OAEhE8J,EAAUO,GAAGC,GAAQC,GAAI,kBAAmBvK,KAAK2vB,yBAC5C3vB,KAAK4vB,0BACN5vB,KAAK4vB,wBAA0BnlB,GAAMzK,KAAKuxB,iBAAkBvxB,OAEhE8J,EAAUO,GAAGC,GAAQC,GAAI,kBAAmBvK,KAAK4vB,4BAI7D2B,iBAAkB,SAAU5tB,GACxBA,EAAEmS,iBACFnS,EAAEirB,kBACF5uB,KAAKwxB,WAETF,iBAAkB,SAAU3tB,GAAV,GAaV8tB,GAZA9W,EAAO3a,KACP4W,EAAc+D,EAAK1V,QAAQ2R,YAC3BmY,EAAQpU,EAAK+H,SAASzd,QAAQ8pB,MAC9BjlB,EAAY6Q,EAAK+U,SAAW/U,EAAK+U,SAAStoB,QAAUuT,EAAKwT,cAC7DxqB,GAAEmS,iBACFnS,EAAEirB,kBACEjU,EAAKnT,QAAQ,UACTsC,UAAWA,EACXilB,MAAOA,MAIX0C,EAAe9W,EAAK3G,QAAQ1M,MAAM7E,EAAEkY,EAAKzX,WAAW8L,UACxD2L,EAAKsW,YACDra,IACA+D,EAAKhE,YAAYgE,EAAK3G,QAAQ1K,GAAGmoB,GAAcnkB,WAAW3D,OAAO0O,IAAShd,SAC1Eia,GAAWqF,EAAKrJ,OAAO,MAG/B8f,mBAAoB,SAAUrC,GAAV,GAC4KjkB,GAAQd,EAAsBpC,EAAKzN,EAAQ22B,EAAMY,EAAYC,EAAYC,EAAkDlpB,EA8BnS6K,EA6BhBzJ,EA3DA6Q,EAAO3a,KAAMuR,EAAO,QAAU7V,GAAMgN,KAAK,OAAS,KAAOqmB,EAAM/jB,IAAM,8BAAgC2P,EAAKoL,UAAY,iBAAmB,IAAM,wCAA0DmJ,KAAqEvkB,EAAUqD,EAAY2M,EAAKhQ,SAAgB+X,EAAW/H,EAAK1V,QAAQyd,SAAU/mB,EAAW+mB,EAAS/mB,SAAUsJ,EAAUkF,GAAcuY,GAAYA,EAASjhB,UAAakvB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,iBAE1e,IADA5rB,EAAUA,MACNtJ,EAKA,UAJWA,KAAagN,KACpBhN,EAAW8F,OAAOowB,SAASl2B,IAE/B4V,GAAQ7V,GAAMC,SAASA,EAAUg1B,GAAU5B,GACtCnnB,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDkD,EAASH,EAAQ/C,GACbkD,EAAOd,UACP4nB,EAAcvc,GAAWvK,EAAOd,QAAS,QACrC4nB,IACA5nB,EAAU4nB,QAKtB,KAAKhqB,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDkD,EAASH,EAAQ/C,GACZkD,EAAOd,QAqBDc,EAAOd,UACd4nB,EAAcvc,GAAWvK,EAAOd,QAAS,QACrC4nB,IACA5nB,EAAU4nB,KAvBdrgB,GAAQ,yCAA2CzG,EAAO3C,MAAQ,MAAQ2C,EAAOuf,OAASvf,EAAO3C,OAAS,IAAM,iBAC1G4mB,EAAMrM,WAAYqM,EAAMrM,SAAS5X,EAAO3C,SAAW2C,EAAO3C,OASxDoL,GACAmd,WACApoB,MAAO,GAEXwoB,EAAOp1B,GAAMC,SAASgf,EAAKoW,UAAUjmB,EAAQyI,GAAQod,GACjDpd,EAAMjL,MAAQ,IACdwoB,EAAOrmB,GAAMqmB,EAAMvd,EAAMmd,UAE7Bnf,GAAQ,6BAA+Buf,EAAK/B,GAAS,WAhBrDG,EAAOt1B,MACHuO,MAAO2C,EAAO3C,MACdgK,OAAQrH,EAAOqH,OACfgd,OAAQrkB,EAAOqkB,OACfxwB,OAAQmM,EAAOnM,SAEnB4S,GAAQ,QAAU7V,GAAMgN,KAAK,iBAAmB,KAAOoC,EAAO3C,MAAQ,iCAoBlF6B,IACIG,GAAcH,KACVA,EAAQvO,MAAQ0O,GAAcH,EAAQvO,QACtCi2B,EAAa1nB,EAAQvO,KAAKokB,OAC1B8R,EAAa3nB,EAAQvO,KAAK6jB,QAE1BtV,EAAQtB,OACRA,EAAOsB,EAAQtB,OAKtBiS,EAAKoL,WAsCNxU,GAAQ,eACRoJ,EAAK+U,SAAW/U,EAAK4J,KAAKnpB,OAAO,aAAeM,GAAM80B,GAAK,oBAAsB90B,GAAM80B,GAAK,oCAAsC90B,GAAM80B,GAAK,2DAAkE90B,GAAM80B,GAAK,kCAAoC7V,EAAKmX,eAC/P/1B,KAAM,SACNN,KAAMi2B,EACNhpB,KAAMA,KACJzD,EAAQolB,OAAS,QAAU1P,EAAKmX,eAClC/1B,KAAM,aACNN,KAAMk2B,EACNjpB,KAAMA,IACL,SAAW6I,EAAO,UACvBzH,EAAY6Q,EAAKwT,eAAiBxT,EAAK+U,SAAStoB,QAAQwC,KAAK,wBA/C7D2H,GAAQ,+CACRA,GAAQoJ,EAAKmX,eACT/1B,KAAM,SACNN,KAAMi2B,EACNhpB,KAAMA,IACLiS,EAAKmX,eACN/1B,KAAM,aACNN,KAAMk2B,EACNjpB,KAAMA,IAEV6I,GAAQ,qBACRzH,EAAY6Q,EAAKwT,eAAiB1rB,EAAE8O,GAAMhI,SAASoR,EAAKc,SAASnS,GAAG,GAAGyoB,YAAY5tB,IAC/E6tB,OAAO,EACPlP,WAAW,EACXiI,WAAW,EACXV,MAAO,OACP1e,SAAS,EACTokB,MAAO,SAAUpsB,GACb,GAAIA,EAAEsuB,cAAe,CAEjB,GADAtuB,EAAEyY,OAAOhV,QAAQwO,QACb+E,EAAKnT,QAAQ,UACTsC,UAAWA,EACXilB,MAAOA,IAGX,MADAprB,GAAEmS,iBACF,CAEJ,IAAI2b,GAAe9W,EAAK3G,QAAQ1M,MAAM7E,EAAEkY,EAAKzX,WAAW8L,SACxD2L,GAAKsW,YACDtW,EAAK1V,QAAQ2R,cACb+D,EAAKhE,YAAYgE,EAAK3G,QAAQ1K,GAAGmoB,GAAcnkB,WAAW3D,OAAO0O,IAAShd,SAC1Eia,GAAWqF,EAAKrJ,OAAO,OAIpCrM,KAcP0V,EAAK+H,SAAW/H,EAAKwT,eAAec,eAChCC,OAAQA,EACRH,MAAOA,EACPmD,gBAAgB,EAChBnlB,OAAQ4N,IACT7G,KAAK,iBACJ6G,EAAKoL,WACLjc,EAAUF,KAAK,0CAA0CoF,OAAO,iBAAiB4S,SAAS,WAAW3iB,KAAK,iBAAiB2iB,SAAS,WAAWxX,MAAM,WACjJ3H,EAAEzC,MAAMmR,OAAO7D,SAAS,SAASlD,UAGzCuQ,EAAKwX,mBACLxX,EAAKnT,QAAQgR,IACT1O,UAAWA,EACXilB,MAAOA,KAGfoD,iBAAkB,WACTnyB,KAAK+lB,UAGN/lB,KAAKukB,KAAK2L,SAASlwB,KAAK0vB,SAAU1vB,KAAKoyB,gBAFvCpyB,KAAKmuB,eAAera,KAAK,eAAeue,SAASC,QAKzDjB,oBAAqB,SAAUjjB,EAAK2gB,GAChC,GAAiBjkB,GAAQuB,EAAMrC,EAA3B2Q,EAAO3a,KAA6BkvB,IACpCvU,GAAKlR,gBACL2E,EAAMA,EAAItF,IAAI6R,EAAKyU,YAAYhhB,KAEnCA,EAAId,SAAS,yCAAyCkZ,KAAK,WAGvD,GAFAna,EAAO5J,EAAEzC,MACT8K,EAASkD,EAAY2M,EAAKhQ,SAASgQ,EAAK8S,UAAUphB,IAC7CvB,EAAOd,UAAWc,EAAO3C,OAAW4mB,EAAMrM,WAAYqM,EAAMrM,SAAS5X,EAAO3C,QAS1E,GAAI2C,EAAOd,UACdA,EAAUqL,GAAWvK,EAAOd,QAAS,SACxB,CACTqC,EAAKmF,OACL,IAAIkgB,GAAYC,EAAYjpB,CACxByB,IAAcH,KACVA,EAAQvO,MAAQ0O,GAAcH,EAAQvO,QACtCi2B,EAAa1nB,EAAQvO,KAAKokB,OAC1B8R,EAAa3nB,EAAQvO,KAAK6jB,QAE1BtV,EAAQtB,OACRA,EAAOsB,EAAQtB,OAGvBjG,EAAEkY,EAAKmX,eACH/1B,KAAM,SACNN,KAAMi2B,EACNhpB,KAAMA,IACLiS,EAAKmX,eACN/1B,KAAM,aACNN,KAAMk2B,EACNjpB,KAAMA,KACNa,SAAS8C,QA9BjB6iB,GAAOt1B,MACHuO,MAAO2C,EAAO3C,MACdgK,OAAQrH,EAAOqH,OACfgd,OAAQrkB,EAAOqkB,OACfxwB,OAAQmM,EAAOnM,SAEnB0N,EAAK3D,KAAKhN,GAAMgN,KAAK,iBAAkBoC,EAAO3C,OAC9CkE,EAAKmF,UA2BbmJ,EAAKwT,eAAiB/f,EACtBuM,EAAK+H,SAAW,GAAIhnB,IAAMyb,GAAGob,SAASnkB,EAAIwT,SAAS,oBAC/C7U,OAAQ4N,EACRuU,OAAQA,EACRH,MAAOA,EACPmD,gBAAgB,IAEhB9jB,EAAIjU,OAAS,IACb6a,GAAgB5G,EAAI,GAAIA,EAAI,IAC5BuM,EAAKiP,+BAETjP,EAAKnT,QAAQgR,IACT1O,UAAWsE,EACX2gB,MAAOA,KAGfkC,UAAW,SAAUlP,GACjB,GAAkDgN,GAA9CpU,EAAO3a,KAAM8J,EAAY6Q,EAAKwT,cAClC,IAAIrkB,EAAW,CAEX,GADAilB,EAAQpU,EAAKkT,mBAAmB/jB,GAC5BiY,GAAUpH,EAAKnT,QAAQ,UACnBsC,UAAWA,EACXilB,MAAOA,IAEX,MAEJpU,GAAKwJ,mBACLxJ,EAAKM,WAAWuX,cAAczD,GAE1BpU,EAAK8X,YADgB,UAArB9X,EAAKmT,YACYhkB,EAEA6Q,EAAKtJ,MAAMzH,KAAK,IAAMlO,GAAMgN,KAAK,OAAS,IAAMqmB,EAAM/jB,IAAM,QAIzFwmB,QAAS,WAAA,GACD1nB,GAAY9J,KAAKmuB,eACjBY,EAAQ/uB,KAAK6tB,mBAAmB/jB,GAChC4oB,EAAWjwB,EAAEkwB,UACjB,OAAK7oB,IAAc9J,KAAK0iB,UAGnB1iB,KAAK0iB,SAAS0L,OAASpuB,KAAKwH,QAAQiR,IACjC3O,UAAWA,EACXilB,MAAOA,IAEJ2D,EAASE,SAASC,UAEtB7yB,KAAKib,WAAWiW,OARZwB,EAASI,UAAUD,WAUlCJ,YAAa,SAAUrkB,GAAV,GAC8C2kB,GAASC,EAAQC,EAuBhEC,EACAC,EAxBJxY,EAAO3a,KAAM+uB,EAAQpU,EAAKkT,mBAAmBzf,GAAgCglB,EAAahlB,EAAIF,SAAS,oBAAqBmlB,EAAQjlB,EAAIF,SAAS,QACjJ6gB,KACIpU,EAAKlR,gBACLspB,EAAUtwB,GAAG4wB,EAAQ1Y,EAAKgK,qBAAuBhK,EAAK+J,mBAAmBqK,IACzEpU,EAAKyU,YAAYhhB,EAAIlT,QAAQo4B,YAAYP,IAE7CpY,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAU4E,EAAIrJ,SAE3BiuB,EAASvwB,GAAG4wB,EAAQ1Y,EAAKiI,eAAiBjI,EAAKgI,aAAaoM,IAC5D3gB,EAAIklB,YAAYN,GAChBrY,EAAKnT,QAAQ,cACTwL,KAAMggB,EACNlf,KAAMib,EACNyB,GAAIrZ,KAEJ4b,GAAWA,EAAQ54B,QACnBwgB,EAAKnT,QAAQ,cACTwL,KAAM+f,EACNjf,KAAMib,EACNyB,GAAIrZ,KAGR+b,EAAkBF,EAClBG,IAAiB1C,SAAU1B,IAC3BgE,GAAWA,EAAQ54B,SACnB+4B,EAAkBF,EAAOlqB,IAAIiqB,GAC7BI,EAAYv5B,MAAO62B,SAAU1B,KAEjCpU,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAU0pB,EAAgBnuB,MAC1B+O,KAAMqf,KAGVC,GAAczY,EAAK1V,QAAQmd,YAC3BzH,EAAK4Y,OAAOP,EAAOlqB,IAAIiqB,IAEvBA,GACA/d,GAAgBge,EAAO,GAAID,EAAQ,IAEvCE,EAAUD,EAAO7hB,OACb8hB,EAAQ/kB,SAAS,iBAAmB+kB,EAAQ7gB,GAAG,aAC/C4gB,EAAOppB,KAAK,6BAA6Bqc,YAAY,cAAcrE,SAAS,kBAIxF4R,aAAc,SAAUpQ,EAAUhV,GAApB,GAKNzS,GACA4V,EACAkiB,EANA9Y,EAAO3a,IACX,OAAK2a,GAAKoL,WAGNpqB,EAAWD,GAAMC,SAAS,qIAC1B4V,EAAO9O,EAAE9G,EAASynB,IAAW7Z,SAASoR,EAAK+Y,KAAKtsB,SAChDqsB,EAAc9Y,EAAKqV,aAAe,GAAIt0B,IAAMynB,OAAOhM,GAAGwc,YAAYpiB,GAClE+N,OAAQ8D,EAASC,aACjBuQ,eAAgB,sFAChB7D,MAAO,WACH/vB,KAAKwb,WAETxR,QAAS,SAAUrG,GACf,GAAIqP,GAAOvQ,EAAEkB,EAAEsS,eAAejH,QACzBgE,GAAK9E,SAAS,0BACfyM,EAAKqW,WAAW5iB,IAGxBylB,MAAOlZ,EAAKmZ,2BAEhBL,EAAYnB,KAAKlkB,IACV,GAnBI3M,OAAOsyB,QAAQ3Q,EAASiH,QAqBvCyE,cAAe,SAAU1gB,GACrB,GAAIuM,GAAO3a,KAAM0iB,EAAW/H,EAAK1V,QAAQyd,SAAUY,EAAeZ,KAAa,SAAeA,KAAa/Z,GAASgS,EAAK1V,QAAQme,SAASV,SAASY,aAAeZ,EAASY,YAI3K,OAHInZ,IAAcuY,UAAoBA,GAASsL,OAASrlB,UAAiB2a,KAAiB3a,IAAU2a,KAAiB,IACjHA,EAAe3I,EAAK1V,QAAQme,SAASV,SAASY,cAE9CA,KAAiB,GAAyB,MAAhBA,UACfA,KAAiBvJ,KACxBuJ,EAAeA,EAAa3I,EAAKkT,mBAAmBzf,KAEjDuM,EAAK6Y,cACRjQ,cAAeb,EAASa,eAAiB5I,EAAK1V,QAAQme,SAASV,SAASa,cACxEF,aAAcX,EAASW,cAAgB1I,EAAK1V,QAAQme,SAASV,SAASW,aACtEgH,MAAO/G,KAAiB,EAAO3I,EAAK1V,QAAQme,SAASV,SAASY,aAAeA,GAC9ElV,KAIXokB,cAAe,WACXxyB,KAAKib,WAAWuX,iBAEpBwB,YAAa,WACT,GAAIrZ,GAAO3a,MACN2a,EAAK+H,UAAY/H,EAAK+H,SAAS0L,QAAUzT,EAAK+H,YAAc/H,EAAKnT,QAAQyR,KAC1E0B,EAAKM,WAAWiW,QAGxB+C,OAAQ,WAAA,GACa3sB,GAmBTynB,EAAsCjvB,EAAgBwR,EAA4DlD,EAA8D/B,EAnBpLsO,EAAO3a,KAAaib,EAAaN,EAAKM,WAAY+S,EAAOrT,EAAKmT,YAAaoG,EAAWvZ,EAAK1V,QAAQyd,SAASwR,UAAY,GAAIlW,EAAW/C,EAAW+C,WAAY0V,EAAOzY,EAAWyY,YAChL/Y,EAAK+H,UAAY/H,EAAK+H,SAAS0L,QAAUzT,EAAK+H,YAClC,UAARsL,GACArT,EAAKsW,YAET3pB,EAAQ2T,EAAWzL,QAAQkkB,EAAK,IACF,UAA1BQ,EAAS/0B,gBACTmI,GAASosB,EAAKv5B,OACV6jB,IAAa/C,EAAWhW,QAAQkvB,cAAgBnW,GAAY0V,EAAKv5B,SACjEmN,GAAS,IAGbA,EAAQ,IAEJA,EADA2T,EAAWsE,OAAStE,EAAWmZ,cACtBnZ,EAAWsE,OAAS,GAAKvB,EAE1B,GAGZ+Q,EAAQ9T,EAAWoZ,OAAO/sB,MAAYxH,EAAKivB,EAAM/jB,IAAKsG,EAAQqJ,EAAKlR,cAAgBkR,EAAKxE,YAAcwE,EAAKrJ,MAAOlD,EAAMkD,EAAM1H,KAAK,MAAQlO,GAAMgN,KAAK,OAAS,IAAM5I,EAAK,KAAMuM,EAAO+B,EAAId,SAAS,2CAA2ChE,GAAGqR,EAAK2Z,0BAA0BlmB,IACxQ,WAAT4f,GAAqB5f,EAAIjU,OACzBwgB,EAAKgU,QAAQvgB,GACG,UAAT4f,EACPrT,EAAKgU,QAAQI,GACN1iB,EAAKlS,QACZwgB,EAAK8T,SAASpiB,GAEY,UAA1B6nB,EAAS/0B,eAA6Bwb,EAAKlR,gBAC3CkR,EAAKlR,cAAc,GAAG+L,UAAYmF,EAAKjR,QAAQ,GAAG8L,UAAYmF,EAAKrJ,MAAM,GAAGvL,gBAIxFuuB,0BAA2B,SAAUxqB,GACjC,GAAiBgB,GAA6ClD,EAAKzN,EAA/DwgB,EAAO3a,KAAc2K,EAAUqD,EAAY2M,EAAKhQ,SAAuBokB,EAAQpU,EAAKkT,mBAAmB/jB,EAC3G,KAAKlC,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IAEjD,GADAkD,EAASH,EAAQ/C;AACbmnB,KAAWA,EAAMrM,UAAYqM,EAAMrM,SAAS5X,EAAO3C,UAAY2C,EAAOd,SAAWc,EAAO3C,OAAS2C,EAAOC,UAAW,EACnH,MAAOnD,EAGf,WAEJiZ,SAAU,WACN,GAA2G/W,GAAvG6Q,EAAO3a,KAAMyb,EAAUd,EAAKc,QAAS4G,EAAU1H,EAAK1V,QAAQod,QAASK,EAAW/H,EAAK1V,QAAQyd,QAC7FL,KACAvY,EAAY6Q,EAAKc,QAAQ7R,KAAK,mBACzBE,EAAU3P,SACN2d,GAAWuK,KACZA,QAAiBA,KAAY1Z,GAAS0Z,EAAU1H,EAAK4Z,aAAalS,GAAS7X,QAAQ6P,GAAoB,OACvGgI,EAAU5X,GAAM/O,GAAMC,SAAS0mB,GAAU1H,IAE7C7Q,EAAYrH,EAAE,2CAA2C8O,KAAK8Q,OAAakO,UAAU9U,GACrFd,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAUM,EAAU/E,UAGjC2d,GAAYA,EAAS7iB,UAAW,GAChCiK,EAAUO,GAAGC,GAAQC,GAAI,cAAe,SAAU5G,GAC9CA,EAAEmS,iBACF6E,EAAKsZ,WACN5pB,GAAGC,GAAQC,GAAI,yBAA0B,SAAU5G,GAClDA,EAAEmS,iBACF6E,EAAK6X,kBACNnoB,GAAGC,GAAQC,GAAI,uBAAwB,SAAU5G,GAChDA,EAAEmS,iBACF6E,EAAKqZ,gBAGblqB,EAAUO,GAAGC,GAAQC,GAAI,gBAAiB,SAAU5G,GAChDA,EAAEmS,iBACF6E,EAAK6Z,gBAET1qB,EAAUO,GAAGC,GAAQC,GAAI,cAAe,SAAU5G,GAC9CA,EAAEmS,iBACF6E,EAAK8Z,gBAIjBF,aAAc,SAAUxqB,GACpB,GAAiBnC,GAAKzN,EAAlBwgB,EAAO3a,KAAmBuR,EAAO,EACrC,IAAIrH,GAAQH,GACR,IAAKnC,EAAM,EAAGzN,EAAS4P,EAAS5P,OAAQyN,EAAMzN,EAAQyN,IAClD2J,GAAQoJ,EAAKmX,cAAc/nB,EAASnC,GAG5C,OAAO2J,IAEXugB,cAAe,SAAU9nB,GACrB,GAMkD0qB,GAN9C/4B,EAAWqO,EAAQrO,UAAY4e,GAAmBtQ,QAAqBD,KAAYrB,GAASqB,EAAUA,EAAQjO,MAAQiO,EAAQvO,KAAMiY,EAAY8L,GAAgBvV,GAAeuV,GAAgBvV,GAAayJ,UAAY,WAAazJ,GAAe,IAAIO,QAAQ,MAAO,IAAKvF,GACxQyO,UAAWA,EACXjY,KAAMwO,EACNwV,WAAY,GACZ/W,KAAM,GACNgX,UAAW,IACZ0D,EAAWpjB,KAAKiF,QAAQme,SAASrZ,QACxC,MAAKE,GAAiBE,GAAcH,IAAYA,EAAQrO,UACpD,KAAUg5B,OAAM,6CA4BpB,OA1BIxqB,IAAcH,IACdA,EAAU7F,IAAO,KAAU6F,GACvBA,EAAQ0J,WAAa3M,GAAQ9B,EAAQyO,UAAW1J,EAAQ0J,UAAUhX,MAAM,MAAQ,EAChFsN,EAAQ0J,WAAa,IAAMzO,EAAQyO,UAC5B1J,EAAQ0J,YAAczY,IAC7B+O,EAAQ0J,UAAYzO,EAAQyO,WAEZ,SAAhBzJ,GAA0BE,GAAcH,EAAQvO,QAChDuO,EAAU7F,IAAO,KAAU6F,GAC3BA,EAAQvO,KAAOuO,EAAQvO,KAAKmkB,MAE5B5V,EAAQtB,OACJyB,GAAcH,EAAQtB,QACtBsB,EAAQtB,KAAOF,EAAoBwB,EAAQtB,aAEpCsB,GAAQtB,OAASC,KACxB+rB,EAAsB1qB,EAAQtB,KAAKksB,MAAM,iBACrCF,GAAuB3tB,GAAQ2tB,EAAoB,GAAI1qB,EAAQ0J,UAAUhX,MAAM,MAAQ,IACvFsN,EAAQ0J,WAAa,IAAMghB,EAAoB,MAI3DzvB,EAAUd,IAAO,EAAMc,EAASua,GAAgBvV,IAAgBxO,KAAM2nB,EAASnZ,IAAgBD,IAE/F/E,EAAUd,IAAO,EAAMc,EAASua,GAAgBvV,IAAgBxO,KAAM2nB,EAASnZ,KAE5EvO,GAAMC,SAASA,GAAUsJ,IAEpC4vB,YAAa,WACT,QAAS70B,KAAK4kB,kBAAoB5kB,KAAK6kB,qBAAuB7kB,KAAKilB,QAAUjlB,KAAKilB,OAAO9qB,OAAS,GAAK6F,KAAKyb,QAAQ7R,KAAK,kBAAkBzP,OAAS,GAExJymB,WAAY,WACR,GAAIjG,GAAO3a,IACP2a,GAAKwK,uBACLxK,EAAKrJ,MAAMxI,IAAI6R,EAAKxE,aAAawF,IAAIrR,GAAQC,GAAIoQ,EAAKwK,wBAEtDxK,EAAKwK,uBAAyB,SAAUxhB,GACpC,GAAIyD,GAAU3E,EAAEzC,MAAOwlB,EAAQpe,EAAQuJ,QAAQ,KAC3CvJ,GAAQ8G,SAAS,gBACjByM,EAAKma,cAActP,GAEnB7K,EAAKoa,YAAYvP,GAErB7hB,EAAEmS,iBACFnS,EAAEirB,mBAGNjU,EAAKqa,YACLra,EAAKxE,YAAY9L,GAAGC,GAAQC,GAAI,6DAA8DoQ,EAAKwK,wBAEnGxK,EAAKrJ,MAAMjH,GAAGC,GAAQC,GAAI,6DAA8DoQ,EAAKwK,wBAEjGxK,EAAKsa,oBAETA,iBAAkB,WACd,GAAIta,GAAO3a,KAAMyb,EAAUd,EAAKc,QAASyG,EAAYvH,EAAK1V,QAAQid,UAAWgT,EAAa3c,GAAc,IAAM7c,GAAMgN,KAAK,SAAW,IAAKiB,EAASgR,EAAKjR,QAAU,wBAA0BwrB,EAAa,8BAAgCA,CACpOhT,IAAaA,EAAUiT,WAAY,IAC9B1Z,EAAQ8S,IAAI,yBAAyB,IACtC9rB,EAAE,qBAAqBmf,SAAS,qBAAqB2O,UAAU9U,GAE/Dd,EAAKuH,WACLvH,EAAKuH,UAAU1G,UAEnBb,EAAKuH,UAAY,GAAI/K,IAAGie,UAAU3Z,EAAStX,MAAW+d,GAClD6I,UAAWpQ,EAAK8J,mBAChB4Q,eAAgB,yBAChBpa,WAAYN,EAAKM,WACjBqa,kBAAmB3rB,EACnBA,OAAQA,EACR4rB,UAAW5a,EAAK1V,QAAQ8d,YACxBoI,OAAQ,SAAUxnB,GACVgX,EAAKnT,QAAQ,SAAW0F,OAAQvJ,EAAEuJ,UAClCvJ,EAAEmS,uBAMtB0f,iBAAkB,SAAU7rB,EAAQ0C,GAAlB,GAIVsO,GACAnR,EACAisB,EACAC,EACA/qB,EACAgC,EACAnQ,EACKoL,CAVT,IAAK5H,KAAKyJ,cAAV,CAUA,IAPIkR,EAAO3a,KACPwJ,EAAWmR,EAAKrJ,MAAMxI,IAAI6R,EAAKxE,aAC/Bsf,EAAchzB,EAAEkH,EAAQH,EAAS,IACjCksB,EAAiBjzB,EAAEkH,EAAQH,EAAS,IACpCmB,EAAU0B,EAAOI,EAAckO,EAAKhQ,SAASxQ,OAAS,EACtDwS,EAAmBN,EAAOsO,EAAKhQ,QAAQxQ,OAASwQ,EAAU,EAC1DnO,KACKoL,EAAM,EAAGA,EAAM6tB,EAAYt7B,OAAQyN,GAAO+C,EAC/C/Q,GAAK2B,MAAMiB,EAAQi5B,EAAYz0B,MAAM4G,EAAKA,EAAM+C,IAChD/Q,GAAK2B,MAAMiB,EAAQk5B,EAAenuB,OAAO,EAAGoF,GAEhD,OAAOnQ,KAEXykB,YAAa,WAAA,GACQ0U,GAAOtpB,EAkBhB7C,EAIAG,EAtBJgR,EAAO3a,KAAmB41B,KAAgBlN,EAAW/N,EAAKqa,YAAa5S,EAAazH,EAAK1V,QAAQmd,UACjGA,KACIzH,EAAKyH,YACLzH,EAAKyH,WAAW5G,UAEpB4G,EAAa1mB,GAAMyb,GAAG0e,WAAWC,aAAa1T,GAC9CuT,EAAQvT,EAAW6L,SACnB5hB,EAAO+V,EAAW/V,KACdsO,EAAKgM,gBACLiP,EAAUA,EAAUz7B,QAAU,kBAE9BwgB,EAAK1V,QAAQid,WAAavH,EAAKka,iBAC/Be,EAAUA,EAAUz7B,QAAU,mCAElCy7B,EAAYA,EAAU97B,KAAK,KACT,KAAd87B,IACAA,EAAY,QAAUA,EAAY,KAElCpsB,EAAWmR,EAAKrJ,MAChBoX,IACAlf,EAAWA,EAASV,IAAI6R,EAAKxE,cAE7BxM,EAAS,KAAO0C,EAAO8L,GAA0B,WAAayd,GAClEjb,EAAKyH,WAAa,GAAI1mB,IAAMyb,GAAG0e,WAAWrsB,GACtCG,OAAQA,EACRosB,MAAM,EACN9H,SAAU0H,EACVxK,OAAQ,WACJxQ,EAAKnT,QAAQsR,KAEjBkd,YAAatN,GAAYiN,GAAStpB,EAClC4pB,cAAe,SAAUjiB,GAAV,GAIP+e,GACAv2B,EACKoL,EAASzN,CALlB,KAAIkS,GAASqc,EAAb,CAKA,IADIlsB,EAASiG,IACJmF,EAAM,EAAGzN,EAAS6Z,EAAM7Z,OAAQyN,EAAMzN,EAAQyN,IACnDmrB,EAAUpY,EAAKyU,YAAYpb,EAAMpM,IAC7Bb,GAAQgsB,EAAQ,GAAI/e,GAAS,IAC7BxX,EAASA,EAAOsM,IAAIiqB,GAG5B,OAAOv2B,KAEX05B,gBAAiB,WACb,MAAOvb,GAAK6a,iBAAiB7rB,EAAQ0C,MAGzCsO,EAAK1V,QAAQ2R,aACbpN,EAASa,GAAG,UAAYE,GAAI,SAAU5G,GAAV,GACpBT,GAAUyX,EAAKzX,UACf6J,EAASpJ,EAAEoJ,MACf,IAAIpJ,EAAEwyB,UAAYve,GAAKwe,UAAY3zB,EAAEsE,QAAQgG,EAAQvD,QAAmBtG,EAAQkP,GAAG,2BAA6BlP,EAAQ8L,SAASoD,GAAG,uDAAwD,CAOxL,GANAzO,EAAEmS,iBACFnS,EAAEirB,kBACF1rB,EAAUmJ,EAAOnJ,EAAUA,EAAQ8L,SAC/B0Z,IAAarc,IACbnJ,EAAUA,EAAQ4F,IAAI6R,EAAKyU,YAAYlsB,KAEvCyyB,EACA,GAAKhyB,EAAE+Y,SAGH,GAAIxZ,EAAQgL,SAASoL,IAGjB,MAFApW,GAAQ+iB,YAAY3M,IACpBqB,EAAKnT,QAAQsR,IACb,MALJ6B,GAAKyH,WAAWiU,YASpB1b,GAAKyH,WAAWiU,OAEpB1b,GAAKyH,WAAWlqB,MAAMgL,QAM1Cge,WAAY,WAAA,GAIAoV,GAHJrxB,EAAUjF,KAAKiF,QACfmd,EAAand,EAAQmd,UACrBA,IAAcnd,EAAQud,YAClB8T,EAAOt2B,KACNiF,EAAQ2R,aACT0f,EAAKhlB,MAAMxI,IAAIwtB,EAAKngB,aAAazN,KAAK,WAAY,GAAG2B,GAAG,YAAcE,GAAK,WAAaA,GAAI,iBAAkB,SAAU5G,GAChHA,EAAEoJ,SAAWpJ,EAAEsS,eACftS,EAAE4yB,6BAEPlsB,GAAG,YAAcE,GAAI6N,GAAS,IAAMC,GAAS5N,GAAMuL,GAAYsgB,IAEtEA,EAAKxS,YAAcrZ,GAAM6rB,EAAKE,cAAeF,GAC7CA,EAAKvS,qBAAuB,WACpBuS,EAAKG,eACLH,EAAKG,cAAct9B,IAAIm9B,EAAKI,UAAU9gB,QAAQ2d,UAGtD+C,EAAKlb,KAAK,SAAUkb,EAAKvS,sBACzBuS,EAAK7a,QAAQpR,GAAG,UAAWisB,EAAKxS,aAChCwS,EAAKtS,iBAAmBvZ,GAAM6rB,EAAKzS,UAAWyS,GAC9CA,EAAK7a,QAAQpR,GAAG,QAASisB,EAAKtS,oBAGtCwS,cAAe,SAAU7yB,GACjBA,YAAawC,QAAOwwB,QAAWhzB,EAAE+Y,UAAW/Y,EAAEizB,SAAYn0B,EAAEkB,EAAEoJ,QAAQqF,GAAG,mCAAqC3Q,OAAOo1B,cAAgBp1B,GAAAA,OAAOo1B,gBAA6BrzB,SAASszB,WAAatzB,SAASszB,UAAUC,cAAct7B,OAG/NuE,KAAKy2B,gBACNz2B,KAAKy2B,cAAgBh0B,EAAE,gBAAgBsG,KACnC8E,SAAU,QACVwZ,IAAK,MACLpmB,KAAM,MACN+1B,QAAS,EACTr0B,MAAO,EACPC,OAAQ,IACT2G,SAASvJ,KAAKyb,UAErBzb,KAAKy2B,cAAct9B,IAAI6G,KAAK02B,UAAU9gB,QAAQ2d,WAElDmD,OAAQ,WAAA,GASAj7B,GAQIe,EACAy6B,EACAC,EACAC,EAyBAC,EA5CJd,EAAOt2B,KACPq3B,EAAWf,EAAK/C,SAChB+D,EAAY,KACZ9U,EAAY8T,EAAKrxB,QAAQud,UACzB+U,GAAc,CAyDlB,OAxDI90B,GAAE0H,cAAcqY,IAAcA,EAAU8U,YACxCA,EAAY9U,EAAU8U,WAEtB77B,EAAO,GACP47B,EAASl9B,SACLk9B,EAAS/tB,GAAG,GAAG8I,GAAG,QAClBilB,EAAWA,EAASztB,KAAK,0BAEzB2tB,GACAF,EAAS1tB,OAAO,YAEhBnN,KACAy6B,EAAcj3B,KAAK2K,QAAQxQ,OAC3B+8B,EAAaZ,EAAKtB,aAAevoB,EAAc6pB,EAAK3rB,SAASxQ,OAC7Dg9B,GAAe,EACnB10B,EAAE+jB,KAAK6Q,EAAU,SAAUzvB,EAAKyE,GAAf,GAET+Z,GACArW,EACA0d,EAcA+J,CAjBJnrB,GAAO5J,EAAE4J,GACL+Z,EAAK/Z,EAAKsE,QAAQ,MAClBZ,EAAWqW,EAAG9e,QACdmmB,EAAYphB,EAAK/E,QACjBiwB,IACA9J,GAAaphB,EAAKyE,QAAQ,WAAW3W,QAErC+8B,GAAcC,IACdA,EAAe10B,EAAEmrB,SAAS0I,EAAKngB,YAAY,GAAI9J,EAAK,KAEpDiqB,EAAK5U,WAAayV,IAClB1J,GAAa6I,EAAK5U,WAEtB+L,EAAY0J,EAAe1J,EAAYA,EAAYyJ,EAC/CD,EAAcxJ,IACdwJ,EAAcxJ,GAEd+J,EAAWnrB,EAAK5Q,OACfe,EAAOuT,KACRvT,EAAOuT,OAEXvT,EAAOuT,GAAU0d,GAAa+J,IAE9BJ,EAAa56B,EAAOrC,OACxBqC,EAASiG,EAAE+jB,KAAKhqB,EAAQ,SAAUoL,EAAKzO,GAC/BA,IACAqD,EAAOoL,GAAOzO,EAAI6H,MAAMi2B,GACpBG,EAAaxvB,IACbwvB,EAAaxvB,MAIzBnF,EAAE+jB,KAAKhqB,EAAOwE,MAAMo2B,GAAa,SAAUxvB,EAAKzO,GAExCsC,GADAtC,EACQA,EAAIW,KAAKw9B,GAAa,OAEtB,UAIb77B,GAEXooB,UAAW,SAAUlgB,GACjB,GAAI2N,EACAtR,MAAKy2B,eAAiB9yB,GAAKA,EAAEoJ,SAAW/M,KAAKy2B,cAAc,KAEvDnlB,EADAtR,KAAKiF,QAAQ2R,YACLnU,EAAEzC,KAAKkD,WAAWyN,QAAQ,SAE1B3Q,KAAKsR,MAEjBgE,GAAWhE,GAAO,IAElBtR,KAAKy2B,gBACLz2B,KAAKy2B,cAAc5mB,SACnB7P,KAAKy2B,cAAgB,OAG7BnV,kBAAmB,WACf,GAAImW,GAAMz3B,KAAK03B,mBACXD,KACAz3B,KAAKwkB,uBAAyB/Z,GAAMzK,KAAK03B,kBAAmB13B,MAC5DyC,EAAEhB,QAAQ4I,GAAG,SAAUrK,KAAKwkB,0BAGpCkT,kBAAmB,WACf,GAAIpoB,GAAOtP,KAAK2K,QAASgtB,EAAcl2B,OAAOm2B,WAAa,EAAIn2B,OAAOm2B,WAAaC,OAAOl1B,KAC1F,OAAO3C,MAAK83B,sBAAsBxoB,EAAMqoB,IAE5CG,sBAAuB,SAAUxoB,EAAMqoB,GAAhB,GAEV19B,GACD0uB,EACAoP,EAHJN,GAAM,CACV,KAASx9B,EAAI,EAAGA,EAAIqV,EAAKnV,OAAQF,IACzB0uB,EAAMrZ,EAAKrV,GACX89B,EAAWpP,EAAIqP,eACfD,IAAa98B,GAA0B,OAAb88B,IAC1BN,GAAM,EACFM,EAAWJ,EACX33B,KAAKi4B,WAAWtP,GAEhB3oB,KAAKk4B,WAAWvP,KAGnBA,EAAI5d,QAAU4d,EAAIhe,UACnB8sB,EAAMz3B,KAAK83B,sBAAsBnP,EAAIhe,QAASgtB,IAAgBF,EAGtE,OAAOA,IAEXrI,YAAa,SAAUhhB,GAAV,GAMLkD,GACAhK,EANA6O,EAAcnW,KAAKmW,WAEvB,OADA/H,GAAM3L,EAAE2L,GACH+H,GAGD7E,EAAQlD,EAAIuC,QAAQ3Q,KAAKsR,MAAMxI,IAAI9I,KAAKmW,cACxC7O,EAAQgK,EAAM1H,KAAK,aAAatC,MAAM8G,GAC1CkD,EAAQA,EAAM,KAAOtR,KAAKsR,MAAM,GAAK6E,EAAcnW,KAAKsR,MACjDA,EAAM1H,KAAK,aAAaN,GAAGhC,IALvB8G,GAOf+pB,eAAgB,WACZ,GAAIxd,GAAO3a,IACX2a,GAAKyH,WAAWiU,QAChB1b,EAAKnT,QAAQsR,KAEjBya,OAAQ,SAAUvf,GACd,GAAI2G,GAAO3a,KAAMoiB,EAAazH,EAAKyH,UAEnC,OADApO,GAAQ2G,EAAKrJ,MAAMxI,IAAI6R,EAAKxE,aAAavM,KAAKoK,GAC1CA,EAAM7Z,QACDioB,EAAWnd,QAAQgpB,WACpB7L,EAAWiU,QACXriB,EAAQA,EAAM3Y,SAEdsf,EAAKqa,cACLhhB,EAAQA,EAAMlL,IAAIkL,EAAM1T,IAAI,WACxB,MAAOqa,GAAKyU,YAAYpvB,UAGhCoiB,EAAWlqB,MAAM8b,GACjB,GAEGoO,EAAWlqB,SAEtBkgC,mBAAoB,SAAUl1B,EAASiO,GAAnB,GAWRrG,GAVJutB,EAAW51B,EAAES,GAAS4Q,KAAK,WAC/BrR,GAAES,GAAS+iB,YAAY5M,IAASif,WAAW,oBAAoB3nB,QAAQ,SAAS2nB,WAAW,yBACvFD,GACAA,EAAWA,EAAS7tB,QAAQxK,KAAK0mB,QAAS,IAC1CjkB,EAAES,GAASwF,KAAK,KAAM2vB,IAEtB51B,EAAES,GAASo1B,WAAW,MAE1BnnB,EAAK2C,KAAK,WAAY3C,EAAKzI,KAAK,OAAOA,KAAK,KAAM1I,KAAK0mB,SAAS9E,SAASvI,IAAS1I,QAAQ,SAASjI,KAAK,wBAAyB1I,KAAK0mB,SACjIvV,EAAKR,QAAQ,MAAMzC,SAAS,mBAAsBiD,EAAKjD,SAAS,YAOjEiD,EAAKzI,KAAK,mBAAoB1I,KAAK0mB,UAN/B5b,EAAS9K,KAAK2K,QAAQ3K,KAAKytB,UAAUtc,IACrCrG,IACAutB,EAAWvtB,EAAOM,iBAAiBtL,IAEvCqR,EAAKzI,KAAK,mBAAoB2vB,EAAW,IAAMr4B,KAAK0mB,UAIxD1mB,KAAKu4B,SAAWpnB,GAEpBqnB,eAAgB,WAAA,GAMRpqB,GACAqqB,EACAC,EACAC,EACAC,EAGQ7oB,EAZR7M,EAAUlD,KAAKu4B,SACfvW,EAAahiB,KAAKiF,QAAQ+c,UACzB9e,IAAY8e,IAGb5T,EAAMlL,EAAQ8L,SACdypB,EAAiBrqB,EAAIuC,QAAQ,SAAS3B,SACtC0pB,EAAsBD,EAAermB,GAAG,gDACxCumB,EAAcF,EAAermB,GAAG,qEAChCwmB,EAAsBn2B,EAAEzC,KAAK0J,SAASE,KAAK,+BAA+BivB,UAAU39B,OAAO,GAC3Fy9B,IACI3W,EAAWC,SACPlS,EAAW5O,KAAKvI,IAAImO,GAAQqH,EAAI,GAAIpO,KAAKmmB,OAAO/X,EAAIY,WAAY,GACpEhP,KAAK84B,iBAAmB94B,KAAKmiB,kBAAkBrE,UAAU/N,GACzD/P,KAAKmiB,kBAAkBlE,eAAe7P,IAEtCpO,KAAK+4B,UAAU/4B,KAAKovB,YAAYhhB,GAAK,GAAIwqB,IAG7C54B,KAAKyJ,gBACLzJ,KAAKyJ,cAAc,GAAG+L,UAAYojB,EAAoBpjB,WAErDkjB,GACD14B,KAAK+4B,UAAU71B,EAAQ,GAAI01B,KAGnC11B,QAAS,SAAUiO,GACf,MAAOnR,MAAK2W,YAAYxF,GAAM,IAElCwF,YAAa,SAAUxF,EAAM6nB,GACzB,GAAI91B,GAAUlD,KAAKu4B,QAWnB,OAVApnB,GAAO1O,EAAE0O,GACLA,EAAKhX,SACA+I,GAAWA,EAAQ,KAAOiO,EAAK,KAChCnR,KAAKo4B,mBAAmBl1B,EAASiO,GACjCnR,KAAKw4B,iBACAQ,GACDh5B,KAAKwH,QAAQoS,IAAYxS,QAAS+J,MAIvCnR,KAAKu4B,UAEhBU,eAAgB,WACRj5B,KAAKu4B,WACLv4B,KAAKu4B,SAAStS,YAAY5M,IAC1BrZ,KAAKu4B,SAAW,OAGxBQ,UAAW,SAAU3xB,EAAS0C,GAAnB,GAYCwH,GAXJ4nB,EAAqB9xB,EAAQ+xB,QAAQh6B,cACrCi6B,EAAsC,OAAvBF,GAAsD,OAAvBA,EAC9C9a,EAAgBhX,EAAQgyB,EAAe,aAAe,aACtDC,EAAmBjyB,EAAQgyB,EAAe,cAAgB,gBAC1Djb,EAAkBrU,EAAUsvB,EAAe,aAAe,aAC1DE,EAAqBxvB,EAAUsvB,EAAe,cAAgB,gBAC9DG,EAAiBnb,EAAgBib,EACjC78B,EAAS,EACTuqB,EAAe,EACfE,EAAoB,CACpBzM,KAAS4e,IACL9nB,EAAQ7O,EAAE2E,GAASuJ,QAAQ,SAAS,GACpC2B,GAAQC,KACRwU,EAAezV,EAAMkoB,WACdlnB,GAAQ8U,UACfH,EAAoB3V,EAAMkoB,WAAa99B,GAAM8a,QAAQqF,cAG7DsC,EAAkBhd,KAAKs4B,IAAItb,EAAkB4I,EAAeE,GAExDzqB,EADA2hB,EAAkBC,EACTA,EACFmb,EAAiBpb,EAAkBmb,EACtCD,GAAoBC,EACXC,EAAiBD,EAEjBlb,EAGJD,EAEb3hB,EAAS2E,KAAKs4B,IAAIj9B,EAASuqB,GAAgBE,EAC3Cnd,EAAUsvB,EAAe,aAAe,aAAe58B,GAE3DwkB,aAAc,WAAA,GAKN0Y,GACAC,EACAjN,EANA/R,EAAO3a,IACN2a,GAAK1V,QAAQ2R,cAGd8iB,EAAa/e,EAAKrJ,MAAMxI,IAAI6R,EAAKxE,aACjCwjB,EAAehf,EAAKhN,MAAMqB,SAASlG,IAAIrG,EAAE,SAAUkY,EAAKtE,eACxDqW,EAASgN,EACT/e,EAAK1V,QAAQ+c,aACb0K,EAASA,EAAO5jB,IAAI6wB,GACpBA,EAAajxB,KAAKoR,QAEtB9Z,KAAK0jB,mBAAqBgJ,EAC1BA,EAAO/Q,IAAI,YAAcpR,GAAK,SAAWA,GAAK,YAAcA,GAAK,WAAaA,IAC9EovB,EAAatvB,GAAG,UAAYE,GAAIE,GAAMkQ,EAAKif,gBAAiBjf,IAAO/Q,KAAK,YAAYlB,KAAK,eACzFgxB,EAAWhxB,KAAKoR,GAAUthB,GAAKI,IAAI8gC,EAAWhxB,KAAKoR,KAAa,EAAG,IAAIzP,GAAG,YAAcE,GAAK,WAAaA,GAAI,iBAAkB,SAAU5G,GAClIA,EAAEoJ,SAAWpJ,EAAEsS,eACftS,EAAE4yB,6BAGV7J,EAAOriB,GAAG3O,GAAM8a,QAAQC,MAAQ,aAAelM,GAAK,YAAcA,GAAI6N,GAAS,IAAMC,GAAS5N,GAAMuL,GAAY2E,IAAOtQ,GAAG,QAAUE,GAAIE,GAAMkQ,EAAKkf,YAAalf,IAAOtQ,GAAG,WAAaE,GAAIE,GAAMkQ,EAAKmf,WAAYnf,IAAOtQ,GAAG,UAAYE,GAAIE,GAAMkQ,EAAKof,cAAepf,MAE1Qif,gBAAiB,SAAUj2B,GACnBA,EAAEq2B,QAAUr2B,EAAEwyB,SAAWve,GAAKqiB,OAC9Bj6B,KAAKkD,UAAU0G,KAAK,yCAAyCQ,QAC7DzG,EAAE4yB,6BAGV2D,aAAc,SAAU5oB,GACpBtR,KAAK0jB,mBAAmBhb,KAAKoR,OAC7BxI,EAAM5I,KAAKoR,GAAU,IAEzB+f,YAAa,SAAUl2B,GAAV,GAILT,GACAoO,CAJA5V,IAAM8a,QAAQC,QAGdvT,EAAUlD,KAAKkD,UACfoO,EAAQ7O,EAAEkB,EAAEsS,eACZ/S,GAAWA,EAAQkP,GAAG,YACtBlP,EAAQ0e,SAASvI,IAEjBrZ,KAAK2W,YAAYrF,EAAM1H,KAAK0O,KAEhCtY,KAAKk6B,aAAa5oB,KAEtBwoB,WAAY,WACR,GAAI52B,GAAUlD,KAAKkD,SACfA,IACAA,EAAQ+iB,YAAY5M,KAG5B0gB,cAAe,SAAUp2B,GAAV,GAaPw2B,GAZAj3B,EAAUlD,KAAKkD,UACfk3B,EAAoBp6B,KAAKmiB,mBAAqBniB,KAAKmiB,kBAAkB3D,WACrEzR,EAAStK,EAAEkB,EAAEoJ,QACbstB,GAAa12B,EAAE22B,uBAAyBvtB,EAAOqF,GAAG,6BACtD,OAAIgoB,IACAz2B,EAAEmS,iBACF,IAEJ5S,EAAUA,EAAUA,EAAUT,EAAEzC,KAAKmW,aAAarN,IAAI9I,KAAKsR,OAAO1H,KAAK0O,IAClEpV,EAAQ/I,SAGTggC,GAAU,EACVE,GAAa12B,EAAEwyB,SAAWve,GAAK2iB,KAC/BJ,EAAUn6B,KAAKw6B,QAAQt3B,IAEvBm3B,GAAa12B,EAAEwyB,SAAWve,GAAKqiB,OAC/BE,EAAUn6B,KAAKy6B,UAAUv3B,IAEzBm3B,GAAa12B,EAAEwyB,UAAY3b,GAAQ5C,GAAK8iB,KAAO9iB,GAAK+iB,SACpDR,EAAUn6B,KAAK46B,WAAW13B,EAASS,EAAEq2B,SAErCK,GAAa12B,EAAEwyB,UAAY3b,GAAQ5C,GAAK+iB,MAAQ/iB,GAAK8iB,QACrDP,EAAUn6B,KAAK66B,UAAU33B,EAASS,EAAEq2B,SAEpCK,GAAa12B,EAAEwyB,SAAWve,GAAKkjB,WAC/BX,EAAUn6B,KAAK+6B,mBAEfV,GAAa12B,EAAEwyB,SAAWve,GAAKojB,SAC/Bb,EAAUn6B,KAAKi7B,iBAEft3B,EAAEwyB,SAAWve,GAAKsjB,OAASv3B,EAAEwyB,SAAWve,GAAKujB,KAC7ChB,EAAUn6B,KAAKo7B,gBAAgBl4B,EAASS,EAAEsS,cAAelJ,IAEzDpJ,EAAEwyB,SAAWve,GAAKyjB,MAClBlB,EAAUn6B,KAAKs7B,cAAcp4B,EAASS,EAAEsS,gBAExCtS,EAAEwyB,SAAWve,GAAK2jB,MAClBpB,EAAUn6B,KAAKw7B,cAAct4B,EAASS,EAAEsS,cAAetS,EAAE83B,WAEzDtB,IACAx2B,EAAEmS,iBACFnS,EAAEirB,oBAlCN1rB,IAqCJ23B,UAAW,SAAU33B,EAAS82B,GAAnB,GACH7oB,GAAM7J,EACN8G,EAAMlL,EAAQ8L,SACdlF,EAAYsE,EAAIY,QAepB,OAdIgrB,GACAh6B,KAAK07B,YAAYttB,IAEjB9G,EAAQwC,EAAUF,KAAKwO,IAAQ9Q,MAAM8G,GACrC+C,EAAOnR,KAAK27B,oBAAoB7xB,EAAW5G,EAASoE,GAC/C6J,EAAK,KACNrH,EAAY9J,KAAK47B,qBAAqB9xB,GACtCqH,EAAOnR,KAAK27B,oBAAoB7xB,EAAW5G,EAASoE,GAChD6J,EAAK,KAAOjO,EAAQ,IACpBoS,GAAWxL,EAAUkF,UAAU,IAGvChP,KAAK2W,YAAYxF,KAEd,GAEXypB,WAAY,SAAU13B,EAAS82B,GAAnB,GACJ7oB,GAAM7J,EACN8G,EAAMlL,EAAQ8L,SACdlF,EAAYsE,EAAIY,QAepB,OAdIgrB,GACAh6B,KAAK67B,UAAUztB,IAEf9G,EAAQwC,EAAUF,KAAKwO,IAAQ9Q,MAAM8G,GACrC+C,EAAOnR,KAAK87B,oBAAoBhyB,EAAW5G,EAASoE,GAC/C6J,EAAK,KACNrH,EAAY9J,KAAK47B,qBAAqB9xB,GAAW,GACjDqH,EAAOnR,KAAK87B,oBAAoBhyB,EAAW5G,EAASoE,GAChD6J,EAAK,KAAOjO,EAAQ,IACpBoS,GAAWxL,EAAUkF,UAAU,IAGvChP,KAAK2W,YAAYxF,KAEd,GAEXqpB,QAAS,SAAUt3B,GAAV,GACD4G,GAAY5G,EAAQ8L,SAASA,SAC7BmC,EAAOnR,KAAK+7B,kBAAkBjyB,EAAW5G,EAS7C,OARKiO,GAAK,KACNrH,EAAY9J,KAAKg8B,mBAAmBlyB,GAAW,GAC/CqH,EAAOnR,KAAK+7B,kBAAkBjyB,EAAW5G,GACrCiO,EAAK,IACLmE,GAAWxL,EAAUkF,UAAU,IAGvChP,KAAK2W,YAAYxF,IACV,GAEXspB,UAAW,SAAUv3B,GAAV,GACH4G,GAAY5G,EAAQ8L,SAASA,SAC7BmC,EAAOnR,KAAKi8B,kBAAkBnyB,EAAW5G,EAS7C,OARKiO,GAAK,KACNrH,EAAY9J,KAAKg8B,mBAAmBlyB,GACpCqH,EAAOnR,KAAKi8B,kBAAkBnyB,EAAW5G,GACrCiO,EAAK,IACLmE,GAAWxL,EAAUkF,UAAU,IAGvChP,KAAK2W,YAAYxF,IACV,GAEX4pB,gBAAiB,WACb,QAAK/6B,KAAKiF,QAAQwd,WAGlBziB,KAAKib,WAAWsE,KAAKvf,KAAKib,WAAWsE,OAAS,IACvC,IAEX0b,cAAe,WACX,QAAKj7B,KAAKiF,QAAQwd,WAGlBziB,KAAKib,WAAWsE,KAAKvf,KAAKib,WAAWsE,OAAS,IACvC,IAEXic,cAAe,SAAUt4B,EAASqT,EAAcklB,GAAjC,GAEPpvB,GADA6vB,EAAWl8B,KAAKiF,QAAQyd,UAAgC,UAApB1iB,KAAK8tB,WAE7C,UAAKoO,GAAYh5B,EAAQkP,GAAG,SAG5B/F,EAAO5J,EAAE6U,MAAiB3G,QAAQ,gBAC9BtE,EAAK,IAAMA,EAAK,KAAOnJ,EAAQ,KAC/BA,EAAUmJ,GAEdA,EAAOrM,KAAKm8B,SAASj5B,EAASqT,EAAcklB,KACxCpvB,EAAKlS,SACL6F,KAAKo8B,eAAel5B,EAASmJ,EAAMA,EAAKsE,QAAQ,WACzC,KAIf2qB,cAAe,SAAUp4B,EAASqT,GAAnB,GAaHkb,GAZJ4K,EAAS/kB,KACT4kB,EAA+B,UAApBl8B,KAAK8tB,WACpB,OAAK/W,IAAS7T,IAOVg5B,EACAl8B,KAAKquB,WAAU,IAEXoD,EAAehvB,EAAES,GAAS8L,SAAS1H,QACnC+0B,GACAA,EAAO7N,OAEXxuB,KAAKixB,WAAU,GACXQ,GAAgB,GAChBzxB,KAAK2W,YAAY3W,KAAKgU,QAAQ1K,GAAGmoB,GAAcnkB,SAAS+K,IAAShd,UAGrEiX,GAAQC,MAAQD,GAAQE,QAAU,GAClChP,SAASqC,KAAK+P,QAElBN,GAAWiB,GAAc,IAClB,KAtBCrT,EAAQqrB,IAAI8N,GAAQliC,SACpBmb,GAAWiB,GAAc,IAClB,IAsBnB+lB,eAAgB,SAAUp5B,EAASwf,GAC/B,GAAItU,GAAMlL,EAAQ8L,QAClB,OAAIZ,GAAIgE,GAAG,oBACPhE,EAAIxE,KAAK,iBAAiBQ,SACnB,KAENsY,IAAYtU,EAAIgE,GAAG,oBACpBhE,EAAIxE,KAAK,iBAAiBQ,SACnB,IAIfgxB,gBAAiB,SAAUl4B,EAASqT,EAAcxJ,GAAjC,GAaTwvB,GAZA7Z,EAAW1iB,KAAKiF,QAAQyd,UAAY1iB,KAAKiF,QAAQyd,SAAS7C,UAAW,EACrE/V,EAAYiD,EAAO4D,QAAQ,kBAI/B,OAHK5D,GAAOqF,GAAG,UAAa3P,EAAEmrB,SAAS1qB,EAAQ,GAAI6J,EAAO,MACtD7J,EAAU4G,GAEV5G,EAAQkP,GAAG,OACXlP,EAAQ0G,KAAK,WAAWQ,SACjB,KAEPpK,KAAKs8B,eAAep5B,EAASwf,KAG7B6Z,EAAYr5B,EAAQ0G,KAAK,yBACzB2yB,EAAU,KAAOr5B,EAAQgL,SAAS,gBAAkBhL,EAAQgL,SAAS,oBACrEquB,EAAU3mB,SACH,MAEP8M,GAAa3V,EAAOqF,GAAG,iCAClBtI,EAAU,KACXA,EAAY5G,GAEhBlD,KAAKo8B,eAAetyB,GAAW,EAAOyM,IAC/B,KAIfulB,oBAAqB,SAAUxqB,EAAOpO,EAASs5B,GAA1B,GAGTrvB,GACA4C,EAGQa,EANZ7C,EAAQ7K,EAAQu5B,QAAQvkB,GAC5B,OAAKnK,GAAM5T,SACHgT,EAAOmE,EAAM1H,KAAKwO,IAClBrI,EAAW5C,EAAK7F,MAAMpE,EAAQ8L,UAC9Be,OAeDhC,EAAM1S,QAdD6H,EAAQgL,SAAS,aACb0C,KACJd,GAAqBrD,EAAczM,KAAK2K,SAAS,IAAKqG,EAAkB7D,EAAK7D,GAAG,GAAGgE,WAAWjS,SAAUuV,EAAY,EAAG,GACnHA,EAAW4rB,GACJ5rB,EAAW4rB,GAAe,GAE9Bt5B,GAEPA,EAAQ8L,SAASd,SAAS,gBACnBf,EAAKjS,OAAOoS,SAAS4K,IAAW7c,QAEpC8R,EAAK7D,GAAGkzB,GAAelvB,SAAS4K,IAAW7c,SAK9DsgC,oBAAqB,SAAUrqB,EAAOpO,EAASs5B,GAA1B,GAGTrvB,GACA4C,EAGQa,EACAjG,EAPZoD,EAAQ7K,EAAQ4N,QAAQoH,GAC5B,OAAKnK,GAAM5T,SACHgT,EAAOmE,EAAM1H,KAAKwO,IAClBrI,EAAW5C,EAAK7F,MAAMpE,EAAQ8L,UAC9Be,OAgBDhC,EAAM1S,QAfD6H,EAAQgL,SAAS,aACb0C,KACAjG,EAAU8B,EAAczM,KAAK2K,SACjCmF,GAAqBnF,EAAQA,EAAQxQ,OAAS,IAAK6W,EAAkB7D,EAAK7D,GAAG,GAAGgE,WAAWpS,QAAS0V,EAAY,EAAG,GAC/GA,EAAW4rB,GACJ5rB,EAAW4rB,GAAe,GAE9Bt5B,GAEPA,EAAQ8L,SAASd,SAAS,gBACnBf,EAAKjS,OAAOoS,SAAS4K,IAAWhd,OAEpCiS,EAAK7D,GAAGkzB,GAAelvB,SAAS4K,IAAWhd,QAK9DwhC,kBAAmB,SAAUprB,EAAOpO,GAAjB,GAKXy5B,GAJAr1B,EAAQpE,EAAQwF,KAAK,aACzB,OAAKpB,IAGDq1B,EAAqBlwB,EAAczM,KAAK2K,SAASxQ,OACjDwiC,IAAuBrrB,EAAMX,QAAQ,OAAOzC,SAAS,yBAAyB,GACvE5G,EAAQq1B,EAEZr1B,GANIrM,GAQf8gC,kBAAmB,SAAUjyB,EAAW5G,GAArB,GACX6K,GACAK,EAAMlL,EAAQ8L,SACd7B,EAAOrD,EAAUwD,SAAS8K,IAC1BrI,EAAW5C,EAAK7F,MAAM8G,GACtB9G,EAAQtH,KAAK08B,kBAAkB5yB,EAAW5G,EAC9C,IAAIoE,GAASpE,EAAQgL,SAAS,YAE1B,MADAH,GAAQwC,EAAmBrN,GACpB6K,EAAMzE,GAAGyE,EAAM5T,OAAS,EAGnC,IADAmN,EAAQ8G,EAAId,SAAS4K,IAAW5Q,MAAMpE,GAClCkL,EAAIF,SAAS,gBACb,MAAOiC,GAAcrG,GAAWR,GAAGhC,EAEvC,IAAIyI,OAEA,GADA3B,EAAMtE,EAAUF,KAAK,kBAChBwE,EAAI,GACL,MAAO+B,GAAcrG,GAAWR,GAAGhC,OAGvC8G,GAAmB,IAAb2B,EAAiBtN,IAAM0K,EAAK7D,GAAGyG,EAAW,EAGpD,OADAhC,GAAQK,EAAId,SAAS4K,IAEVnK,EAAMzE,GADbyE,EAAM5T,OAASmN,EACCA,EAEJ,IAEpB20B,kBAAmB,SAAUnyB,EAAW5G,GAArB,GACX6K,GACAK,EAAMlL,EAAQ8L,SACd7B,EAAOrD,EAAUwD,SAAS8K,IAC1BrI,EAAW5C,EAAK7F,MAAM8G,GACtB9G,EAAQtH,KAAK08B,kBAAkB5yB,EAAW5G,EAC9C,OAAI6M,QAAkBzI,IAAUrM,GAAaiI,EAAQgL,SAAS,YACnD8C,EAAkB9N,GAASoG,GAAG,IAEzChC,EAAQA,EAAQmI,SAASnI,EAAO,IAAM8G,EAAId,SAAS4K,IAAW5Q,MAAMpE,GAEhEkL,EAAMjB,EAAK7D,GADXyG,MACc,EAEAA,EAAW7M,EAAQ,GAAG0J,SAExCmB,EAAQK,EAAId,SAAS4K,IAEVnK,EAAMzE,GADbyE,EAAM5T,OAASmN,EACCA,EAEJ,KAEpB00B,mBAAoB,SAAUlyB,EAAW8yB,GAArB,GACZtrB,GAAQxH,EAAUkF,SAClB7U,EAAS6F,KAAK0jB,mBAAmBvpB,OACjC0iC,EAAO17B,KAAKC,MAAMjH,EAAS,GAC3BmN,EAAQP,GAAQuK,EAAM,GAAItR,KAAK0jB,mBAQnC,OAPIkZ,KACAC,OAEJv1B,GAASu1B,GACLv1B,GAAS,GAAKA,EAAQnN,KACtBmX,EAAQtR,KAAK0jB,mBAAmBpa,GAAGhC,IAEhCgK,EAAM1H,KAAKgzB,EAAK,QAAU,UAErChB,qBAAsB,SAAU9xB,EAAW5I,GAArB,GAKdoQ,GACAhK,EALAnN,EAAS6F,KAAK0jB,mBAAmBvpB,MACrC,OAAIA,IAAU,EACH2P,GAEPwH,EAAQxH,EAAUkF,SAClB1H,EAAQP,GAAQuK,EAAM,GAAItR,KAAK0jB,oBACnCpc,GAASpG,EAAQ,MACbA,GAAmB,GAAToG,GAAcA,GAASnN,GAGhC+G,IAAmB,GAAToG,GAAcA,EAAQ,GAC1BwC,EAEJ9J,KAAK0jB,mBAAmBpa,GAAGhC,GAAOsC,KAAK,gBALnCE,IAOfqyB,SAAU,SAAUj5B,EAASqT,EAAcumB,GAAjC,GACFC,IAAY,EACZ5rB,EAAO2rB,EAAO55B,EAAQ4N,QAAQoH,GAAY,UAAYhV,EAAQu5B,QAAQ,iBAY1E,OAXKtrB,GAAKhX,SACNgX,EAAOjO,EAAQ8L,SACXhP,KAAKmW,cACL4mB,EAAYD,GAAQvmB,GAAgBvW,KAAKmW,YAAY,KAAO2mB,GAAQvmB,GAAgBvW,KAAKsR,MAAM,GAC/FH,EAAOnR,KAAKovB,YAAYje,IAExB4rB,IACA5rB,EAAOA,EAAK2rB,EAAO,UAAY,WAAW,6DAE9C3rB,EAAOA,EAAK7D,SAAS4K,IAAa4kB,EAAO,QAAU,YAEhD3rB,GAEXirB,eAAgB,SAAUl5B,EAASiO,EAAMG,GACrC,GAAsKirB,GAAuFS,EAAzPriB,EAAO3a,KAAMq8B,EAAS55B,EAAE6U,MAAkB0W,EAAOrT,EAAKmT,YAAamP,EAAO3qB,GAAQC,KAAM2qB,EAAQD,GAAQ3qB,GAAQE,QAAU,EAAG2qB,EAAgBxiB,EAAKwT,eAA2BzL,EAAW/H,EAAK1V,QAAQyd,UAAY/H,EAAK1V,QAAQyd,SAAS7C,UAAW,CAOtP,IANAvO,EAAQ7O,EAAE6O,GAEN0rB,EADQ,UAARhP,EACW9qB,EAAQgL,SAAS,eAEjBhL,EAAQ8L,SAASd,SAAS,mBAErCyM,EAAK+H,SAAU,CAWf,GAVIjgB,EAAEmrB,SAASuP,EAAc,GAAId,EAAO,MAChC/pB,GAAQ8qB,OAASF,EACjBb,EAAO7N,OAAOrD,SAASkS,eAAe,SAEtChB,EAAO7N,OACHyO,GACAZ,EAAO7N,UAId7T,EAAK+H,SAEN,MADApN,IAAWhE,GACX,CAEJ,KAAIqJ,EAAK+H,SAAS0L,MAiBd,MARIzT,GAAKhE,YADG,UAARqX,EACiBmP,EAEAA,EAAc7vB,WAAW3D,OAAOuO,IAAW7c,SAEhEkhC,EAAYY,EAAcvzB,KAAK,yBAAyB,GACpD2yB,GACAA,EAAU3mB,QAEd,CAhBY,WAARoY,EACArT,EAAK0T,aAEL1T,EAAK6W,UACLwL,GAAW,GAenB7rB,GACAwJ,EAAKhE,YAAYxF,GAEjB+rB,GACA15B,SAASqC,KAAK+P,QAElBN,GAAWhE,GAAO,GACboR,KAGAsa,IAAa7rB,GAAQA,KACV,UAAR6c,EACArT,EAAK8T,SAAS9T,EAAKzX,WAEnByX,EAAKgU,QAAQhU,EAAKzX,UAAU8L,YAIxC4X,SAAU,WACN,GAAIjM,GAAO3a,KAAMsR,EAAQqJ,EAAKrJ,MAAO1O,EAAS+X,EAAK1V,QAAQrC,OAAQ6Y,EAAUd,EAAKvT,OAC7EqU,GAAQrJ,GAAG,SACZqJ,EAAUA,EAAQP,KAAK,UAAUlM,UAErC2L,EAAKc,QAAUA,EAAQmG,SAAS,mBAC5Bhf,IACA+X,EAAKc,QAAQ1S,IAAI8Q,GAAQjX,GACzB0O,EAAMvI,IAAI8Q,GAAQ,SAEtBc,EAAK2iB,eAETA,YAAa,WAAA,GAKD/rB,GAJJtM,EAAUjF,KAAKiF,QACf0V,EAAO3a,IACXA,MAAK+lB,UAAY9gB,EAAQke,UAAW,GAAQznB,GAAM8a,QAAQqS,UAA+B,UAAnB5jB,EAAQke,QAAyC,WAAnBle,EAAQke,OACxGnjB,KAAK+lB,YACDxU,EAAOvR,KAAKyb,QAAQmG,SAAS,iBAAiB1G,KAAK,aAAexf,GAAM80B,GAAK,uBAAyB90B,GAAM80B,GAAK,oBAA2B90B,GAAM80B,GAAK,+BAA+BxhB,SAC1LhP,KAAKukB,KAAO7oB,GAAMynB,OAAOhM,GAAGomB,KAAKriB,KAAK3J,GACtCvR,KAAK0zB,KAAO1zB,KAAKukB,KAAKmP,OACtB1zB,KAAK8zB,yBAA2BrxB,EAAEe,SAASskB,iBAAiB5Z,SAAS,YAAe8jB,OAAO,IACvFwL,MAAO,gBACP3vB,SAAU,gBACV4vB,OAAQ,cAERx4B,EAAQrC,QACR5C,KAAKukB,KAAKnd,QAAQ4H,SAASjG,IAAI8Q,GAAQ5U,EAAQrC,QAEnD5C,KAAKoyB,eAAiB,QACtBpyB,KAAK0zB,KAAKtY,KAAK,OAAQ,WACfT,EAAKqa,cACLra,EAAK0S,qBACL1S,EAAKiP,8BACLjP,EAAKkP,2BACLlP,EAAKmP,0BACLnP,EAAK8U,+BAKrBhP,OAAQ,WACJ,GAAqCpP,GAAjCsJ,EAAO3a,KAAMsR,EAAQqJ,EAAKrJ,KAC9BD,GAAQC,EAAM1H,KAAK,UACdyH,EAAMlX,SACPkX,EAAQ5O,EAAE,YAAY8G,SAAS+H,IAEnCqJ,EAAKtJ,MAAQA,EAAM3I,KAAK,OAAQ,aAEpCg1B,YAAa,WAAA,GACQzU,GAAQ3X,EA8BjB2T,EAkBIsK,EAhDR5U,EAAO3a,KAAqBiF,EAAU0V,EAAK1V,QAAS+c,EAAa/c,EAAQ+c,WAAY2b,EAAmB3b,KAAe,GAAQA,EAAWC,UAAYtH,EAAKwH,kBAAmBtG,GAAangB,GAAM8a,QAAQwF,qBAAuB2hB,EAAmBjiC,GAAM8a,QAAQqF,YAAc,CAC/QmG,KACAiH,EAAStO,EAAKc,QAAQnO,SAAS,kBAC1B2b,EAAO,KACRA,EAASxmB,EAAE,iCAAiCqQ,aAAa6H,EAAKrJ,QAElE2X,EAAOlgB,IAAIyR,GAAQ,eAAiB,gBAAiBwH,EAAWC,QAAUpG,EAAY,EAAIA,GAC1FvK,EAAQ7O,EAAE,yBACNgY,IACAnJ,EAAM5I,KAAK,cAAe,GAE9B4I,EAAM3O,MAAMgY,EAAKrJ,MAAM,GAAGvO,MAAMJ,OAChC2O,EAAMlW,OAAOuf,EAAKhN,OAClBsb,EAAOzX,QAAQpW,OAAOqH,EAAE,wDAAwDrH,OAAOkW,IACvFqJ,EAAKjR,QAAUiR,EAAKrJ,MAAMtC,SACtB2L,EAAKjR,QAAQ0I,GAAG,sDAChBuI,EAAKjR,QAAUiR,EAAKjR,QAAQsF,UAE3B2L,EAAKjR,QAAQ0I,GAAG,iDACjBuI,EAAKjR,QAAUiR,EAAKrJ,MAAM4J,KAAK,oDAAoDlM,UAEnF2uB,IACAhjB,EAAKwH,kBAAoB,GAAIzH,IAAkBC,EAAKjR,SAChDuR,WAAYN,EAAKM,WACjBI,WAAY,WACR,MAAOV,GAAKijB,wBAIxBjjB,EAAKqK,YAAciE,EAAO3b,SAAS,uBAAuBxE,IAAI6R,EAAKjR,SAC/Dub,EAAStK,EAAKc,QAAQ7R,KAAK,kBAC3Bqb,EAAO9qB,SACPwgB,EAAKqK,YAAcrK,EAAKqK,YAAYlc,IAAImc,EAAO3X,SAAS,yBAExD0U,EAAWC,QACXtH,EAAKjR,QAAQE,KAAK,+BAA+BuR,OAAO,SAAW5Q,IAAI6Q,KAAK,SAAW7Q,GAAI,WACvFoQ,EAAKqK,YAAYvP,WAAWzV,KAAKyV,YAC7BkF,EAAKlR,gBACLkR,EAAKlR,cAAc,GAAG+L,UAAYxV,KAAKwV,cAI/CmF,EAAKjR,QAAQyR,OAAO,SAAW5Q,IAAI6Q,KAAK,SAAW7Q,GAAI,SAAU5G,GAC7DgX,EAAKqK,YAAYmF,IAAIxmB,EAAEsS,eAAeR,WAAWzV,KAAKyV,YAClDkF,EAAKlR,eAAiB9F,EAAEsS,eAAiB0E,EAAKjR,QAAQ,KACtDiR,EAAKlR,cAAc,GAAG+L,UAAYxV,KAAKwV,aAG3C+Z,EAAgB5U,EAAKjR,QAAQoK,KAAK,sBAClCyb,GACAA,EAAc/T,UAElB+T,EAAgB7zB,GAAM6zB,cAAc5U,EAAKjR,SACrC6lB,GAAiBA,EAAcsO,UAC/BljB,EAAK4U,cAAgBA,EACrBA,EAAcsO,QAAQziB,KAAK,SAAU,SAAUzX,GAC3CgX,EAAKqK,YAAYvP,YAAY9R,EAAEyY,OAAOhd,GAClCub,EAAKlR,eACLkR,EAAKlR,cAAc+L,WAAW7R,EAAEyY,OAAOG,KAG/C5B,EAAK9E,IAAIqD,GAAW,SAAUvV,GAC1BA,EAAEyY,OAAOX,QAAQmG,SAAS,yBAM9Ckc,wBAAyB,WAAA,GAGbC,GAFJpjB,EAAO3a,IACP2a,GAAK1V,QAAQ4d,YACTkb,EAAmBpjB,EAAKrJ,MAAMtC,SAAS1B,SAAS,IAAMiM,IACtDwkB,EAAiB5jC,SACjBwgB,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAUu0B,EAAiBh5B,SAExCg5B,EAAiBluB,UAEhB8K,EAAKM,YAAeN,EAAKM,WAAWyY,OAAOv5B,SAC5C4jC,EAAmBt7B,EAAEkY,EAAKoK,uBAAuBxX,YAAYoN,EAAKrJ,OAClEqJ,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAUu0B,EAAiBh5B,MAC3B+O,gBAMpBkqB,iBAAkB,SAAUvoB,GACxB,GAAmJwoB,GAA/ItjB,EAAO3a,KAAMk+B,EAAiB,0BAA2BC,EAAY,eAAiBD,EAAiB,WAAYpb,EAAYnI,EAAKmI,SACpInI,GAAK1V,QAAQ+c,YAAcrH,EAAKc,QAAQrJ,GAAG,cAC3C6rB,EAAWtjB,EAAKrJ,MAAMtC,SAAS1B,SAAS,IAAM4wB,GAC9CvjB,EAAKyK,wBAA0B3a,GAAMkQ,EAAKqjB,iBAAkBrjB,GACvDA,EAAKM,YAAeN,EAAKM,WAAWyY,OAAOv5B,OAarC8jC,EAAS,KAChBA,EAASpuB,SACLiT,GACAA,EAAU3H,OAAO,SAAUR,EAAKyK,2BAf/B6Y,EAAS,KACVA,EAAWx7B,EAAE07B,GAAW50B,SAASoR,EAAKrJ,MAAMtC,UACxC8T,GACAA,EAAU1H,KAAK,SAAUT,EAAKyK,0BAGlCzK,EAAKhN,QACLswB,EAASt7B,MAAMgY,EAAKhN,MAAMhL,SACrBvJ,MAAMyuB,WAAWpS,EAAY,MAC9BkF,EAAKjR,QAAQ+L,WAAWA,KASpCkF,EAAKiP,8BACDjP,EAAKtE,cAA8C,IAA9BsE,EAAKrJ,MAAM,GAAGge,cACnC3U,EAAKrJ,MAAM,GAAGvO,MAAMJ,MAAQ,SAIxCinB,4BAA6B,WACzB,GAAI5pB,KAAKiF,QAAQ+c,YAAchiB,KAAKqW,aAAc,CAC9C,GAAqb+nB,GAAjbhoB,EAAcpW,KAAK2N,MAAMqB,SAAU8X,EAAa1Q,EAAYpH,SAAUqvB,EAAer+B,KAAKyb,QAAQ,GAAG6T,YAAapiB,EAASlN,KAAK0hB,UAAW7F,EAAYngB,GAAM8a,QAAQqF,YAAavM,EAAOtP,KAAKqW,aAAazM,KAAK,2DAA4D00B,EAAgBloB,EAAYxM,KAAK,qDAAsDjH,EAAQ0M,EAAaC,GAAOivB,EAAqBlvB,EAAaivB,EACjapxB,GAAS,IACTvK,GAAS6U,GAAWxX,KAAKqW,aAAazM,KAAK,wBAA0BsD,GAErEvK,GAAS07B,IACT17B,EAAQ07B,EAAe,EAAIxiB,GAE/B7b,KAAKqW,aAAavN,IAAI9I,KAAKyJ,eAAe9G,MAAMA,GAChDmkB,EAAW,GAAG/jB,MAAMJ,MAAQmkB,EAAW9X,SAASrM,QAAUA,EAAQ,EAAI,KACtEyT,EAAYtN,IAAI9I,KAAKsR,OAAO3O,MAAM47B,GAC9Bv+B,KAAKmiB,oBACLkc,GAAgBxiB,GAEpB7b,KAAK0J,QAAQ,GAAG3G,MAAMJ,MAAQ07B,EAAe17B,EAAQ,EAAI,KACrD3C,KAAKklB,cAAgBllB,KAAKklB,aAAa/qB,SACvC6F,KAAKklB,aAAaviB,MAAMA,GACxBy7B,EAAap+B,KAAKilB,OAAOrb,KAAK,uBAC9Bw0B,EAAW,GAAGr7B,MAAMJ,MAAQmkB,EAAW,GAAGwI,YAAc,KACxD8O,EAAW9wB,WAAWjS,QAAQsH,MAAM47B,MAIhDzd,kBAAmB,WAAA,GAgBP0d,GAfJ7jB,EAAO3a,KAAMiF,EAAU0V,EAAK1V,QAASrC,EAAS+X,EAAKc,QAAQyB,cAAe+L,EAAStO,EAAKc,QAAQnO,SAAS,kBAAmBuO,EAAYngB,GAAM8a,QAAQqF,WACtJ5W,GAAQ+c,YAAcrH,EAAKc,QAAQrJ,GAAG,cACtCxP,GAAU8U,GAAYuR,GAClBtO,EAAKgJ,QACL/gB,GAAU8U,GAAYiD,EAAKgJ,MAAMvc,UAEjCnC,EAAQid,YACRtf,GAAU8U,GAAYiD,EAAKc,QAAQnO,SAAS,wBAE5CrI,EAAQod,UACRzf,GAAU8U,GAAYiD,EAAKc,QAAQnO,SAAS,qBAE5CqN,EAAKiK,iBACLhiB,GAAU8U,GAAYiD,EAAKc,QAAQnO,SAAS,oBAE5CkxB,EAAkB,SAAUvwB,GAC5B,GAAIwwB,GAAeC,CACnB,SAAIzwB,EAAG,GAAGlL,MAAMH,SAGZ67B,EAAgBxwB,EAAGrL,SAEvBqL,EAAGrL,OAAO,QACV87B,EAAYzwB,EAAGrL,SACX67B,GAAiBC,GACjBzwB,EAAGrL,OAAO,KACH,IAEXqL,EAAGrL,OAAO,KACH,KAEP47B,EAAgB7jB,EAAKc,WACjB7Y,EAAqB,EAAZiZ,GACLlB,EAAKlR,gBACLoS,EAAYlB,EAAKrJ,MAAM,GAAGxL,YAAc6U,EAAKrJ,MAAMtC,SAAS,GAAGsgB,YAAczT,EAAY,EACzFlB,EAAKlR,cAAc7G,OAAOA,EAASiZ,IAEvClB,EAAKjR,QAAQ9G,OAAOA,IAEpB+X,EAAKjR,QAAQ9G,OAAmB,EAAZiZ,EAAgB,MAKpD+hB,kBAAmB,WAAA,GAUXe,GATAhkB,EAAO3a,KAAM4+B,EAAajkB,EAAKwL,OAAOxL,EAAKtJ,OAAOlX,OAAQ4iB,EAAYpC,EAAKkkB,UAC/E,OAAmB,KAAfD,EACO7hB,GAENpC,EAAKkkB,aACNlkB,EAAKkkB,WAAa9hB,EAAYrF,GAAYiD,EAAKrJ,OAASstB,EACxDjkB,EAAKmkB,KAAO/hB,EACZpC,EAAKokB,UAAY,GAEjBJ,EAAmBjnB,GAAYiD,EAAKrJ,OAASstB,EAC7C7hB,IAAc4hB,IACdhkB,EAAKokB,YACLpkB,EAAKmkB,MAAQH,EACbhkB,EAAKkkB,WAAalkB,EAAKmkB,KAAOnkB,EAAKokB,WAEhChiB,IAEXyD,YAAa,WACT,GAAyCiC,GAArC9H,EAAO3a,KAAMiF,EAAU0V,EAAK1V,QAAmBgW,EAAahW,EAAQgW,UACxEA,GAAa/Q,GAAQ+Q,IAAgBnH,KAAMmH,GAAeA,EACtD9Q,GAAc8Q,KACd9W,GAAO8W,GACH3J,MAAOqJ,EAAKrJ,MACZ4d,OAAQvU,EAAKhQ,UAEjB8X,EAAWxd,EAAQwd,SACftY,GAAcsY,IAAaA,EAASzE,WAAa/iB,IACjDggB,EAAW+C,SAAWyE,EAASzE,WAGnCrD,EAAKM,YAAcN,EAAKG,gBACxBH,EAAKM,WAAWE,OAAOrC,GAAQ6B,EAAKG,iBAAiBK,OAAOnD,GAAU2C,EAAKyJ,kBAAkBjJ,OAAOlD,GAAO0C,EAAK0J,gBAEhH1J,EAAKG,gBAAkBrQ,GAAMkQ,EAAKI,QAASJ,GAC3CA,EAAKyJ,iBAAmB3Z,GAAMkQ,EAAKqkB,cAAerkB,GAClDA,EAAK0J,cAAgB5Z,GAAMkQ,EAAKskB,OAAQtkB,IAE5CA,EAAKM,WAAa7D,GAAWvX,OAAOob,GAAYG,KAAKtC,GAAQ6B,EAAKG,iBAAiBM,KAAKpD,GAAU2C,EAAKyJ,kBAAkBhJ,KAAKnD,GAAO0C,EAAK0J,gBAE9I4a,OAAQ,WACJj/B,KAAKk/B,WAAU,IAEnBF,cAAe,WACXh/B,KAAKk/B,WAAU,IAEnB9O,aAAc,SAAUzsB,GAAV,GACsHw7B,GAAY9yB,EAAMvB,EAAuC4G,EAAyE0Q,EAAYgd,EAAeC,EAAYC,EAAenlC,EA8BhTg5B,EA9BJxY,EAAO3a,KAAMqR,EAAQsJ,EAAKtJ,MAAO0d,EAAQprB,EAAEorB,MAAO3gB,EAAMuM,EAAKtJ,MAAMzH,KAAK,MAAQlO,GAAMgN,KAAK,OAAS,IAAMqmB,EAAM/jB,IAAM,KAAgCqoB,EAAQjlB,EAAIF,SAAS,SAAetG,EAAM+S,EAAKwL,OAAO9U,GAAO/J,MAAM8G,GAAMsa,EAAW/N,EAAKlR,aAInP,IAHIif,IACAyW,EAAaxkB,EAAKyU,YAAYhhB,IAE9BA,EAAItF,IAAIq2B,GAAY7xB,SAAS,gBAAgBnT,SAAWwgB,EAAK1V,QAAQ0d,YACrEvU,EAAItF,IAAIq2B,GAAY7xB,SAAS,yCAAyCkZ,KAAK,WACvEna,EAAO5J,EAAEzC,MACT8K,EAASkD,EAAY2M,EAAKhQ,SAASgQ,EAAK8S,UAAUphB,IAC9CvB,EAAO3C,QAAUxE,EAAEwE,QACdkE,EAAK6B,SAAS,eAIf7B,EAAKuV,SAAS,iBAHdjH,EAAK2V,aAAajkB,EAAMvB,EAAQikB,GAChCtsB,EAAE,2BAA2B8tB,UAAUlkB,WAMhD,KAAK+B,EAAIF,SAAS,mBAAoB,CAiCzC,IAhCAkxB,EAAgB38B,IAAIqG,IAAIsF,GACpBsa,IACAhX,GAAO2hB,EAAQ1Y,EAAKgK,qBAAuBhK,EAAK+J,mBAAmBqK,GACnEqQ,EAAgBA,EAAct2B,IAAIq2B,GAClCA,EAAW7L,YAAY5hB,IAE3BiJ,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAU41B,EAAcr6B,SAErC2M,GAAO2hB,EAAQ1Y,EAAKiI,eAAiBjI,EAAKgI,aAAaoM,GACvD3gB,EAAIklB,YAAY5hB,GAChBA,EAAMiJ,EAAKwL,OAAO9U,GAAO/H,GAAG1B,GACxBurB,IAAiB1C,SAAU1B,IAC3BrG,IACAta,EAAMA,EAAItF,IAAIq2B,GACdA,EAAaxkB,EAAKyU,YAAY1d,GAAK,GACnCsD,GAAgBtD,EAAI,GAAIytB,GACxBztB,EAAMA,EAAI5I,IAAIq2B,GACdhM,EAAYv5B,MAAO62B,SAAU1B,KAEjCpU,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAUkI,EAAI3M,MACd+O,KAAMqf,KAGd/Q,EAAazH,EAAK1V,QAAQmd,WACtBA,GAAchU,EAAIF,SAAS,qBAC3ByM,EAAK4Y,OAAO7hB,GAEhB4tB,EAAgBF,EAAc9xB,SAAS,yCACvC+xB,EAAa3tB,EAAIpE,SAAS,yCACrB1F,EAAM,EAAGzN,EAASwgB,EAAKhQ,QAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACtDkD,EAAS6P,EAAKhQ,QAAQ/C,GACtByE,EAAOgzB,EAAW/1B,GAAG1B,GACjBwa,GAAckd,EAAch2B,GAAG1B,GAAKsG,SAAS,qBAC7C7B,EAAKuV,SAAS,oBAEd9W,EAAO3C,QAAUxE,EAAEwE,OACnB1F,EAAE,2BAA2B8tB,UAAUlkB,EAG/CsO,GAAKnT,QAAQ,cACTwL,KAAMtB,EACNoC,KAAMib,EACNyB,GAAIrZ,OAIhBuJ,UAAW,WACP,GAAiBjF,GAAbd,EAAO3a,KAAeyiB,EAAW9H,EAAK1V,QAAQwd,QAC9CA,KACAhH,EAAUd,EAAKc,QAAQnO,SAAS,oBAC3BmO,EAAQthB,SACTshB,EAAUhZ,EAAE,4CAA4C8G,SAASoR,EAAKc,UAEtEd,EAAKgJ,OACLhJ,EAAKgJ,MAAMnI,UAGXb,EAAKgJ,MADe,gBAAblB,IAAyBA,YAAoB/mB,IAAMyb,GAAGooB,MAChD9c,EAEA,GAAI/mB,IAAMyb,GAAGooB,MAAM9jB,EAAStX,MAAWse,GAAYxH,WAAYN,EAAKM,cAErFN,EAAKgJ,MAAMvI,KAAK,aAAc,SAAUzX,GAChCgX,EAAKnT,QAAQ,QAAU+X,KAAM5b,EAAE2D,SAC/B3D,EAAEmS,qBAKlB6L,QAAS,WAAA,GACgIyc,GAIzH1sB,EAsCA9D,EA1CR+M,EAAO3a,KAAMkU,EAAayG,EAAKM,WAAW/G,aAAc3C,EAAO,GAAIqT,EAAiBjK,EAAKiK,eAAgB3f,EAAU0V,EAAK1V,QAAqBggB,EAAStK,EAAKsK,QAAUtK,EAAKc,QAAQ7R,KAAK,iBACvLgb,IACArT,EAAO9O,EAAEkY,EAAK6kB,YAAY5a,EAAe1Q,KACrC+Q,EAAO9qB,QACHuX,EAAMH,EACVoJ,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAUyb,EAAOlgB,SAE9BkgB,EAAOqO,YAAY5hB,GACnBuT,EAAStK,EAAKsK,OAASvT,GAGnBuT,EAAStK,EAAKsK,OADdhgB,EAAQ+c,WACe/c,EAAQwd,SAAWlR,EAAKuB,aAAa6H,EAAKc,QAAQnO,SAAS,qBAAuBiE,EAAKhI,SAASoR,EAAKc,SAErGlK,EAAKuB,aAAa6H,EAAKtJ,OAGtDsJ,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAUyb,EAAOrb,KAAK,4CAA4C7E,MAClE+O,KAAMxT,GAAIqa,EAAKhQ,QAAS,SAAUge,GAC9B,OACI7d,OAAQ6d,EACRlD,UAAWvR,EAAWyU,EAAIxgB,cAKnC8c,IAAWtK,EAAKsK,SACvBtK,EAAKsK,OAASA,GAEdA,EAAO9qB,SACH8K,EAAQ+c,aACRoc,EAAanZ,EAAOvc,KAAK,eAAgB4E,SAAS,uBAClDqN,EAAKqK,YAAcviB,EAAEkY,EAAKqK,YAAYrb,OAAO,WACzC,OAAQlH,EAAEzC,MAAMoS,GAAG,yBACpBjG,WAAWrD,IAAIs1B,IAElBzjB,EAAK6O,cACLvE,EAAOrb,KAAK,SAASb,IAAI,QAAS4R,EAAK6O,cAEvC4U,IACIxwB,EAAS+M,EAAKjR,QAAQ+L,aACtBxQ,EAAQ+c,cAAe,GAAQ/c,EAAQ+c,WAAWC,UAClDrU,EAAS+M,EAAKc,QAAQ7R,KAAK,8BAA8B6L,cAE7D2oB,EAAW3oB,WAAW7H,KAG1B+M,EAAKlR,gBACLkR,EAAK8kB,4BACL9kB,EAAKiP,8BACLjP,EAAK8U,4BAGb+P,YAAa,SAAUE,GACnB,GAAI/kB,GAAO3a,KAAMuR,EAAO,GAAIsK,EAAangB,GAAM8a,QAAQqS,SAAuC,EAA5BntB,GAAM8a,QAAQqF,WAChF,OAAIlB,GAAK1V,QAAQ+c,YACbzQ,EAAO9O,EAAE,qEAAuEgY,GAAQ,mBAAqB,IAAM,WAAailB,EAAY,gCAC5I/kB,EAAKglB,YAAYpuB,EAAK3H,KAAK,UAC3B2H,EAAKxI,IAAIyR,GAAQ,eAAiB,gBAAiBqB,GAC5CtK,GAEJ,gCAAkCmuB,EAAY,YAEzDE,YAAa,WAAA,GACQC,GAA2C/0B,EAAiEg1B,EAAavd,EAAUD,EAAYvU,EA0BnJnG,EAASzN,EAEVkS,EA5BRsO,EAAO3a,KAAY2K,EAAUqD,EAAY2M,EAAKhQ,SAAkB1F,EAAU0V,EAAK1V,QAAS+d,EAAa/d,EAAQ+d,WAAsD+c,EAAwB9zB,GAAK0O,EAAKhQ,QAAS,SAAUqI,GACpN,MAAOA,GAAKrI,UAAY1P,IACzBd,OAAS,EAAGyuB,EAAW5oB,KAAK+lB,UAAWia,EAAe,SAAUr8B,GAC/DgX,EAAKnT,QAAQqR,IACT1Q,MAAOxE,EAAEwE,MACT2B,UAAWnG,EAAEmG,aAElBm2B,EAAgB,SAAU74B,GACzBkO,GAAWlO,EAAQuJ,QAAQ,UAAU,IACtCuvB,EAAc,SAAUv8B,GACnBgX,EAAKnT,QAAQ,QAAU3N,KAAM8J,EAAE9J,QAC/B8J,EAAEmS,kBAEPqqB,EAAgB,SAAUx8B,GACrBgX,EAAKnT,QAAQ,UACTmC,OAAQhG,EAAEgG,OACVxB,MAAOxE,EAAEwE,SAEbxE,EAAEmS,kBAEP6P,EAAW1gB,EAAQ0gB,QAC1B,IAAI3C,EAKA,IAJyB,iBAAdA,KACPA,MAEJjV,EAAQoC,EAAcwK,EAAKhN,OAClB/F,EAAM,EAAGzN,EAAS4T,EAAM5T,OAAQyN,EAAMzN,EAAQyN,IACnDkD,EAASH,EAAQ/C,GACbyE,EAAO0B,EAAMzE,GAAG1B,GACfkD,EAAOd,UAAYc,EAAO3C,QAASkE,EAAK3D,KAAK,QAAUhN,GAAM80B,GAAK,WACnEqP,EAAOxzB,EAAKyH,KAAK,mBACb+rB,GACAA,EAAKrkB,UAET+G,EAAWzX,EAAOyX,YAAa,GAASS,EAAWT,YAAa,GAAStd,EAAQsd,YAAa,GAAQpe,MAAWc,EAAQsd,UAAY6d,SAAUt1B,EAAOyX,cAAgB6d,UACtK9d,KAAard,EAAQqd,YAAcxX,EAAOwX,cAAe,GAASU,EAAWV,cAAe,IAAQne,IAASogB,KAAM5J,EAAK4J,MAAQtf,EAAQqd,WAAYxX,EAAOwX,YACvJxX,EAAOwX,YAAcxX,EAAOwX,WAAWrH,aACvCqH,EAAW+d,aAAc,EACzB/d,EAAWge,YAAcx1B,EAAOwX,WAAWrH,YAE3CqH,IACAA,EAAWnQ,OAASrH,EAAOqH,QAE/B2tB,GACI7kB,WAAYN,EAAKM,WACjBtc,OAAQmM,EAAOnM,OACfgM,QAASqY,EAAWrY,QACpB4X,SAAUA,EACVD,WAAYA,EACZc,SAAUJ,EAAWI,SACrBmd,MAAO5lB,EACPslB,cAAeA,EACf77B,KAAM47B,EACNzb,KAAM5J,EAAK4J,KACX1qB,KAAMqmC,EACNM,UAAWL,EACXx2B,OAAQif,EAAW,yBAA2B,GAC9Cnc,eAAgBszB,GAAyBj1B,EAAOmgB,YAAa,GAASxe,EAAc9B,GAASxQ,OAAS,GAEtGwrB,IACAma,EAAYna,SAAWA,GAE3BtZ,EAAKo0B,gBAAgBX,KAKrCY,aAAc,WACV,MAAO1gC,MAAK2N,MAAM/D,KAAK,MAAMD,OAAO,WAChC,GAAIkJ,GAAKpQ,EAAEzC,KACX,QAAQ6S,EAAG3E,SAAS,kBAAoB2E,EAAG3E,SAAS,uBAG5DyyB,YAAa,WAAA,GAC6Cla,GAAY1Y,EAAO1B,EAoB5DzE,EAASzN,EAWNymC,EACA37B,EAhCZ0V,EAAO3a,KAAM2K,EAAUqD,EAAY2M,EAAKhQ,SAAmCk2B,EAAa,SAAUl9B,GAC9FgX,EAAKnT,QAAQoR,IACTzQ,MAAOxE,EAAEwE,MACT2B,UAAWnG,EAAEmG,aAElBm2B,EAAgB,SAAU74B,GACzBkO,GAAWlO,EAAQuJ,QAAQ,UAAU,IACtCwvB,EAAgB,SAAUx8B,GACrBgX,EAAKnT,QAAQ,UACTmC,OAAQhG,EAAEgG,OACVxB,MAAOxE,EAAEwE,SAEbxE,EAAEmS,kBAEPwM,EAAa3H,EAAK1V,QAAQqd,UAIjC,IAHIA,SAAqBA,GAAW0L,MAAQrlB,IAAU2Z,EAAW0L,KAAKxe,QAAQ,cAC1E8S,GAAa,GAEbA,IAAe3H,EAAK1V,QAAQ+d,WAE5B,IADAjV,EAAQoC,EAAcwK,EAAKhN,OAClB/F,EAAM,EAAGzN,EAAS4T,EAAM5T,OAAQyN,EAAMzN,EAAQyN,IACnDyE,EAAO0B,EAAMzE,GAAG1B,GACZ+C,EAAQ/C,GAAK0a,cAAe,GAAU3X,EAAQ/C,GAAKoC,UAAYW,EAAQ/C,GAAKO,QAASkE,EAAK3D,KAAK,QAAUhN,GAAM80B,GAAK,WACpH/J,EAAapa,EAAKyH,KAAK,mBACnB2S,GACAA,EAAWjL,UAEfiL,EAAapa,EAAKyH,KAAK,yBACnB2S,GACAA,EAAWjL,UAEXolB,EAAmBj2B,EAAQ/C,GAAK0a,WAChCrd,EAAUd,MAAWme,EAAYse,GACjC3lB,WAAYN,EAAKM,WACjBtc,OAAQgM,EAAQ/C,GAAKjJ,OACrBwT,OAAQxH,EAAQ/C,GAAKuK,OACrB8tB,cAAeA,EACf5V,MAAO1f,EAAQ/C,GAAKyiB,OAAS1f,EAAQ/C,GAAKO,MAC1C/D,KAAMy8B,EACNtc,KAAM5J,EAAK4J,KACX4G,OAAQgV,IAERS,GAAoBA,EAAiBxd,WACrCne,EAAQme,SAAWjf,IAAO,KAAUme,EAAWc,SAAUwd,EAAiBxd,WAE1Ewd,GAAoBA,EAAiB3lB,aACrChW,EAAQo7B,aAAc,EACtBp7B,EAAQq7B,YAAcM,EAAiB3lB,YAEvC2lB,GAAoBA,EAAiBjL,MACrCtpB,EAAKy0B,sBAAsB77B,GAE3BoH,EAAK00B,gBAAgB97B,KAMzC+7B,WAAY,WAAA,GAKJrQ,GACAhL,EACAhb,EAAqC2X,EAAsC2e,EAA8Cd,EASpHlmC,EACDinC,EAAmBvY,EAAkBwY,EAA+CC,EAA0BvuB,EAAiB1K,EAM3Hk5B,EAKAje,EA3BRzI,EAAO3a,IACX,IAAK2a,EAAKyR,gBAcV,IAVIzG,EAAWhL,EAAK1V,QAAQ0gB,SACxBhb,EAAUqD,EAAY2M,EAAKhQ,SAAU2X,EAAa3H,EAAK1V,QAAQqd,WAAY2e,EAAYtmB,EAAKhN,MAAM/D,KAAK,iBAAkBu2B,EAAgB,SAAUx8B,GAC3IgX,EAAKnT,QAAQ,UACTmC,OAAQhG,EAAEgG,OACVxB,MAAOxE,EAAEwE,SAEbxE,EAAEmS,kBAGd9V,KAAKshC,cAActhC,KAAKib,WAAWuK,QAAQrrB,QAClCF,EAAI,EAAGA,EAAI0Q,EAAQxQ,OAAQF,IAMhC,GALuB0uB,EAAMhe,EAAQ1Q,GAAIknC,EAAYxmB,EAAK1V,QAAQqd,WAAW6e,UAAWC,GAAmB,EAAOvuB,EAAKpQ,EAAE,SAAU0F,EAAQwgB,EAAIxgB,MAC3IwgB,EAAI5d,QACJ8H,EAAGhI,OAEPo2B,EAAU7lC,OAAOyX,GACb1K,GAASwgB,EAAIrG,cAAe,EAAO,CAUnC,GATI+e,EAAc1Y,EAAIrG,YAAcqG,EAAIrG,WAAWjW,SACnD60B,EAAoBvmB,EAAK1V,QAAQgW,WAC7BimB,YAA6B9pB,MAC7B8pB,EAAoBvmB,EAAK1V,QAAQgW,WAAWhW,SAE5Cme,EAAWjf,IAAO,KAAUme,EAAWc,UACvCuF,EAAIrG,YACJne,IAAO,EAAMif,EAAUuF,EAAIrG,WAAWc,UAEtCie,EAAYlM,WAAY,EAAO,CAC/BtiB,EAAGtB,KAAK,SACR,UAEA8vB,EAAYpmB,aACZimB,EAAoBG,EAAYpmB,WAChCmmB,GAAmB,GAEnBzY,EAAIrG,YAAcqG,EAAIrG,WAAW6e,YACjCA,EAAYxY,EAAIrG,WAAW6e,WAE/BxQ,GACI7lB,OAAQ6d,EACR1N,WAAYN,EAAKM,WACjBimB,kBAAmBA,EACnBE,iBAAkBA,EAClBj5B,MAAOA,EACPib,SAAUA,EACVzkB,OAAQgqB,EAAIhqB,OACZhD,SAAU0lC,EAAY1lC,SACtB4lC,MAAOF,EAAYE,MACnBC,WAAYH,EAAYG,WACxBC,mBAAoBJ,EAAYI,mBAChCC,UAAWL,EAAYK,UACvBC,cAAeN,EAAYM,cAC3BC,SAAUP,EAAYO,SACtBT,UAAWA,EACXU,cAAeR,EAAYQ,cAC3B1W,OAAQgV,GAERxa,IACAgL,EAAShL,SAAWA,GAExBljB,EAAE,WAAWiG,KAAKhN,GAAMgN,KAAK,SAAUP,GAAOoB,SAASsJ,GAAIivB,gBAAgBnR,OAE3E9d,GAAGtB,KAAK,WAIpBwwB,UAAW,WAAA,GAC+Cj3B,GAAQk3B,EAAgB31B,EAMtE0B,EACKnG,EAASzN,EAPlBwgB,EAAO3a,KAAM2K,EAAUqD,EAAY2M,EAAKhQ,SAAwC4X,EAAW5H,EAAK1V,QAAQsd,SAAU2d,EAAc,SAAUv8B,GAClIgX,EAAKnT,QAAQ,QAAU3N,KAAM8J,EAAE9J,QAC/B8J,EAAEmS,iBAGd,IAAIyM,EAAU,CAEV,IADIxU,EAAQoC,EAAcwK,EAAKhN,OACtB/F,EAAM,EAAGzN,EAAS4T,EAAM5T,OAAQyN,EAAMzN,EAAQyN,IACnDkD,EAASH,EAAQ/C,GACbkD,EAAOyX,YAAa,IAAUzX,EAAOd,SAAWc,EAAO3C,QACvDkE,EAAO0B,EAAMzE,GAAG1B,GAChBo6B,EAAiB31B,EAAKyH,KAAK,qBACvBkuB,GACAA,EAAexmB,UAEnBnP,EAAK3D,KAAK,QAAUhN,GAAM80B,GAAK,QAAS1lB,EAAO3C,OAAO85B,kBAAkB99B,MAAWoe,EAAUzX,EAAOyX,UAChGtH,WAAYN,EAAKM,WACjB8a,MAAM,EACNpsB,OAAQ,yBACRwhB,OAAQ+U,KAIpBnyB,GAAQ,OAGhBwS,SAAU,SAAU5V,GAAV,GAC+BC,GAAmCssB,EAqBhEgL,EArBJvnB,EAAO3a,KAAMsR,EAAQqJ,EAAKrJ,MAAgBhC,EAAOgC,EAAM1H,KAAK,OAAoBqR,EAAaN,EAAK1V,QAAQgW,UAoB9G,IAnBAtQ,EAAUA,EAAQxQ,OAASwQ,EAAUrK,GAAIgR,EAAM1H,KAAK,MAAO,SAAUiJ,EAAIjL,GACrEiL,EAAKpQ,EAAEoQ,EACP,IAAI0P,GAAW1P,EAAGnK,KAAKhN,GAAMgN,KAAK,aAAc4Z,EAAazP,EAAGnK,KAAKhN,GAAMgN,KAAK,eAAgBy5B,EAAOtvB,EAAGnK,KAAKhN,GAAMgN,KAAK,SAAUwZ,EAAYrP,EAAGnK,KAAKhN,GAAMgN,KAAK,cAAeP,EAAQ0K,EAAGnK,KAAKhN,GAAMgN,KAAK,UAAW2hB,EAAQxX,EAAGnK,KAAKhN,GAAMgN,KAAK,UAAWm3B,EAAOhtB,EAAGnK,KAAKhN,GAAMgN,KAAK,QAIxR,OAHKP,KACDA,EAAQ0K,EAAGpX,OAAO+O,QAAQ,gBAAiB,MAG3CrC,MAAOA,EACPg6B,KAAMA,EACN9X,MAAOA,EACP9H,SAAuB,UAAbA,EACVD,WAA2B,UAAfA,EACZJ,UAAyB,UAAdA,EACX2d,KAAMA,EACNlkC,SAAUkX,EAAGnK,KAAKhN,GAAMgN,KAAK,aAC7B/F,MAAO2M,EAAKhG,GAAG1B,GAAKmB,IAAI,YAGhC6B,IAAY+P,EAAKrJ,MAAM1H,KAAK,YAAYzP,OAAS,KAAO8gB,IAAeA,EAAWyK,YAC9E/K,EAAK1V,QAAQ+c,WAAY,CAIzB,GAHIkgB,EAAiBv3B,EACrBusB,EAAazqB,EAAc9B,GAC3BA,EAAUgC,EAAiBhC,GACvBusB,EAAW/8B,OAAS,GAAwB,IAAnBwQ,EAAQxQ,OACjC,KAAUw6B,OAAM,iDAEpBjiB,GAAqBiI,EAAKvT,QAAQwC,KAAK,oBAAqBs4B,GAC5Dv3B,EAAUusB,EAAWxoB,OAAO/D,GAEhCgQ,EAAKhQ,QAAUD,EAAiBC,EAASC,IAE7C8W,QAAS,WACL,GAAI8D,GAAQxlB,KAAKib,WAAWuK,OAC5B,OAAOA,GAAQA,EAAMrrB,OAAS,GAElCioC,MAAO,SAAUzf,EAAahY,EAAS03B,EAAKC,GACxC,GAAuF16B,GAA8BjM,EAG9GmP,EAAQq3B,EAHXxnB,EAAO3a,KAAM2wB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAwB12B,EAASwQ,EAAQxQ,OAAkBoZ,GACvHmd,WACApoB,MAAO,GACM2J,EAAa0I,EAAKgM,cAAejT,KAAgBxG,EAASyN,EAAK+G,SACpF,KAAKiB,EAAa,CAqBd,IApBAA,EAAc,MACV0f,GACA3uB,EAAU9Z,KAAK,SAEfqY,GACAyB,EAAU9Z,KAAK;AAEf8Z,EAAUvZ,SACVwoB,GAAe,WAAajP,EAAU5Z,KAAK,KAAO,KAElDK,IACAwoB,GAAe,IAAMjnB,GAAMgN,KAAK,OAAS,OAAShN,GAAM6mC,KAAK,MAAO5R,EAAS90B,WAAa,MAE9F8mB,GAAe,eACXzV,EAAS,IAAMo1B,IACf3f,GAAeta,EAAW6E,IAE1B+E,IACA0Q,GAAe,gGAEd/a,EAAM,EAAGA,EAAMzN,EAAQyN,IACxBkD,EAASH,EAAQ/C,GACjBjM,EAAWmP,EAAOnP,SAClBwmC,QAAcxmC,GACdgnB,GAAe,MAAQna,EAAoBsC,EAAOrC,YAAc,oBAChEka,GAAehI,EAAKoW,UAAUjmB,EAAQyI,GACtCoP,GAAe,OAEnBA,IAAe,QAGnB,MADAA,GAAcjnB,GAAMC,SAASgnB,EAAagO,GACtCpd,EAAMjL,MAAQ,EACPmC,GAAMkY,EAAapP,EAAMmd,SAE7B/N,GAEX6f,gBAAiB,SAAU13B,GACvB,GAAI6P,GAAO3a,KAAM2wB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAmBl1B,EAAWmP,EAAO23B,eAAgBN,QAAcxmC,GAAUF,EAAOqP,EAAOuf,OAASvf,EAAO3C,OAAS,EAMxL,OALIg6B,KAASpoB,GACTte,EAAOC,GAAMC,SAASA,EAAUg1B,OACzBwR,IAASx5B,KAChBlN,EAAOE,GAEJF,GAEXs1B,UAAW,SAAUjmB,EAAQyI,GACzB,GAAoL3L,GAAKzN,EAArLwgB,EAAO3a,KAAM2wB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAmBl1B,EAAWmP,EAAOnP,SAAUE,EAAY80B,EAAS90B,UAAWsM,EAAQ2C,EAAO3C,MAAOoJ,EAAO,GAAiBY,EAASrH,EAAOqH,OAAQgwB,QAAcxmC,GAAUuX,EAAepI,EAAOnM,MACvQ,IAAImM,EAAOd,QAAS,CAChB,GAAIE,GAAQY,EAAOd,SAAU,CACzB,IAAKpC,EAAM,EAAGzN,EAAS2Q,EAAOd,QAAQ7P,OAAQyN,EAAMzN,EAAQyN,IACxD2J,GAAQoJ,EAAKmX,cAAchnB,EAAOd,QAAQpC,GAE9C,OAAO2J,GAAK/G,QAAQ6P,GAAoB,OAE5C,MAAOM,GAAKmX,cAAchnB,EAAOd,SAASQ,QAAQ6P,GAAoB,OAgC1E,MA9BI8nB,KAASpoB,IACTxG,EAAMmd,QAAQ,OAASnd,EAAMjL,OAAS3M,EACtC4V,GAAQ,cAAgBgC,EAAMjL,MAAQ,IAAMzM,EAAY,KACxD0X,EAAMjL,SACC65B,IAASx5B,GAChB4I,GAAQ5V,EACDuX,GAAgBA,EAAa/Y,QAAUgQ,GAAc+I,EAAa,KAAO,SAAWA,GAAa,IAAM/K,GAC9GoJ,GAAQ,WAAa7V,GAAMgnC,UAAU3vB,EAAgBG,IAAe1I,QAAQ6P,GAAoB,OAAS,IACzG9I,GAAQ,cACHof,EAAS/0B,eACV2V,GAAQ1V,EAAY,KAExB0V,GAAQpJ,EAAQ,KAChBoJ,GAAQ,0BAERA,GAAQzG,EAAOF,QAAU,KAAO,KAC5BuH,IACAZ,GAAQ,iBAAmBY,EAAO3H,QAAQ4P,GAAc,QAAU,MAElEjS,GACAA,EAAQzM,GAAM6mC,KAAKp6B,EAAOtM,GAC1B0V,GAAQpJ,EAAQ,aAAiBA,GAEjCoJ,GAAQ,KAERY,IACAZ,GAAQ,KAEZA,GAAQ,KAELA,GAEXwP,WAAY,WACR,GAAIpG,GAAO3a,KAAMiF,EAAU0V,EAAK1V,QAASgW,EAAaN,EAAKM,WAAY/N,EAAS+N,EAAWuK,QAASP,EAAStK,EAAKsK,QAAUtK,EAAKc,QAAQ7R,KAAK,kBAAmBsK,EAAa+G,EAAWwK,YAAakd,EAAc30B,EAAY2M,EAAKhQ,SAAUi4B,EAAgB50B,EAAYvB,EAAckO,EAAKhQ,UAAWA,EAAU1F,EAAQ+c,WAAahU,EAAYrB,EAAiBgO,EAAKhQ,UAAYg4B,CACtX,IAAI19B,EAAQ+c,YAAc4gB,EAAczoC,OAAQ,CAC5C,GAAI8K,EAAQ0d,aAAe1d,EAAQ2d,eAC/B,KAAU+R,OAAM,+DAEpBha,GAAKgI,YAAchI,EAAKynB,MAAMn9B,EAAQ0d,YAAahY,GAAS,GAAO,GACnEgQ,EAAKiI,eAAiBjI,EAAKynB,MAAMn9B,EAAQ2d,gBAAkB3d,EAAQ0d,YAAahY,GAAS,GAAM,GAC/FgQ,EAAK+J,kBAAoB/J,EAAKynB,MAAMn9B,EAAQ0d,YAAaigB,GACzDjoB,EAAKgK,qBAAuBhK,EAAKynB,MAAMn9B,EAAQ2d,gBAAkB3d,EAAQ0d,YAAaigB,GAAe,OAErGjoB,GAAKgI,YAAchI,EAAKynB,MAAMn9B,EAAQ0d,YAAahY,GACnDgQ,EAAKiI,eAAiBjI,EAAKynB,MAAMn9B,EAAQ2d,gBAAkB3d,EAAQ0d,YAAahY,GAAS,EAEzFgQ,GAAKgM,gBACLhM,EAAKsI,eAAiBtI,EAAKkoB,YAAY59B,EAAQge,gBAAkB,MAEjEtI,EAAK8G,SAAW1J,GAAc7D,KAAgB6D,GAAc7D,KAAgB+Q,EAAO9qB,QAAU8R,GAAK02B,EAAa,SAAU73B,GACrH,MAAOA,GAAO8Z,iBACfzqB,UACHwgB,EAAKiK,eAAiBjK,EAAKmoB,YAAYH,EAAazuB,EAAY,iBAAkB,sBAElFhH,GAAUjB,GAAK02B,EAAa,SAAU73B,GAClC,MAAOA,GAAO+Z,sBACf1qB,SACH+Z,EAAazR,EAAEnC,IAAI4M,EAAQ,SAAU61B,GACjC,MAAOA,GAAE7uB,aAEbyG,EAAKkK,oBAAsBlK,EAAKmoB,YAAYn4B,EAASuJ,EAAY,sBAAuB,iBAAkB0uB,EAAczoC,QACpH8K,EAAQ+c,YAAc4gB,EAAczoC,SACpCwgB,EAAKmK,0BAA4BnK,EAAKmoB,YAAYF,EAAe1uB,EAAY,sBAAuB,oBAGxGyG,EAAK1V,QAAQ4d,YACblI,EAAKoK,kBAAoBpK,EAAKqoB,mBAGtCA,eAAgB,WAAA,GAURrnC,GAEAwmC,EACArR,EAZArV,EAAU,6BACVwnB,EAAkB,sDAClBC,EAA+BljC,KAAKiF,QAAQ+c,aAAehiB,KAAKyb,QAAQ,GAAG1Y,MAAMH,OAAS,0CAA4C,GACtI2Q,GACAmd,WACApoB,MAAO,GAEPqoB,EAAWluB,EAAE0B,UAAWzI,GAAMk1B,SAAU5wB,KAAKiF,QAAQ4rB,kBACrDh1B,EAAY80B,EAAS90B,UAErB0V,EAAO,EAoBX,OAhBI5V,GADAqE,KAAKiF,QAAQ4d,UAAUlnB,SACZqE,KAAKiF,QAAQ4d,UAAUlnB,SAEvBD,GAAMyW,OAAO8wB,EAAiBjjC,KAAKiF,QAAQme,SAASP,UAAWqgB,GAE9Ef,QAAcxmC,GACD,aAATwmC,GACA5uB,EAAMmd,QAAQ,OAASnd,EAAMjL,OAAS3M,EACtC4V,GAAQ,cAAgBgC,EAAMjL,MAAQ,IAAMzM,EAAY,KACxD0X,EAAMjL,SACU,WAAT65B,IACP5wB,GAAQ5V,GAEZm1B,EAAOp1B,GAAMC,SAASD,GAAMyW,OAAOsJ,EAASlC,GAAgBhI,GAAOof,GAC/Dpd,EAAMjL,MAAQ,IACdwoB,EAAOruB,EAAEgI,MAAMqmB,EAAMvd,EAAMmd,UAExBI,GAEXgS,YAAa,SAAUn4B,EAASuJ,EAAYivB,EAAcC,EAAUd,GAChE,GAAkI16B,GAAKzN,EAAQwB,EAAUwmC,EAA8Hr3B,EAAnR6P,EAAO3a,KAAM2wB,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAmBh1B,EAAY80B,EAAS90B,UAAW0V,EAAO,GAAiCmf,KAAcpoB,EAAQ,EAAG+6B,KAAYn2B,EAASyN,EAAK+G,UAAW4hB,EAAY3oB,EAAKM,WAAWsoB,iBAAiBrvB,EAQ1Q,KAPA3C,GAAQ,cAAgB6xB,EAAW,KAC/Bl2B,EAAS,IAAMo1B,IACf/wB,GAAQlJ,EAAW6E,IAEnByN,EAAKgM,gBACLpV,GAAQ,4CAEP3J,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDkD,EAASH,EAAQ/C,GACjBjM,EAAWmP,EAAOq4B,GAClBhB,QAAcxmC,GACd4V,GAAQ,MAAQ/I,EAAoBsC,EAAOK,kBAAoB,IAC3DxP,GACIwmC,IAASpoB,KACTspB,EAAQC,EAAUx4B,EAAO3C,OAAShE,MAAWwsB,GAAY90B,UAAWA,EAAY,KAAQiP,EAAO3C,MAAQ,UACvGxM,EAAWD,GAAMC,SAASA,EAAU0nC,IAExC3S,EAAQ,OAASpoB,GAAS3M,EAC1B4V,GAAQ,cAAgBjJ,EAAQ,IAAMzM,EAAY,KAClDyM,KAEAiJ,GAAQ,SAEZA,GAAQ,OAIZ,OAFAA,IAAQ,QACRA,EAAO7V,GAAMC,SAAS4V,EAAMof,GACxBroB,EAAQ,EACDmC,GAAM8G,EAAMmf,GAEhBnf,GAEXsxB,YAAa,SAAUlnC,GACnB,GAAIgf,GAAO3a,KAAMuR,EAAO,GAAIof,EAAWxsB,MAAWzI,GAAMk1B,SAAUjW,EAAK1V,QAAQ4rB,kBAAmBh1B,EAAY80B,EAAS90B,UAAW2nC,KAA8BC,EAAwB,EAAGv2B,EAASyN,EAAK+G,UAAWzK,EAAUjL,EAAegC,EAAY2M,EAAKhQ,UAAUxQ,OAAQgoC,QAAcxmC,EAe9R,OAdA4V,IAAQ,4BACJrE,EAAS,IACTqE,GAAQlJ,EAAW6E,IAEvBqE,GAAQ,+DAAiE0F,EAAU,aAAeA,EAAU,IAAM,IAAM,IACpHkrB,IAASpoB,IACTypB,EAAwB,OAASC,GAAyB9nC,EAC1D4V,GAAQ,cAAgBkyB,EAAwB,IAAM5nC,EAAY,KAClE4nC,KAEAlyB,GAAQ5V,EAEZ4V,GAAQ,aACRA,EAAO7V,GAAMC,SAAS4V,EAAMof,GACxB8S,EAAwB,EACjBh5B,GAAM8G,EAAMiyB,GAEhBjyB,GAEXoV,YAAa,WACT,GAAIhM,GAAO3a,IACX,OAAuC,QAAhC2a,EAAK1V,QAAQge,iBAA4BtI,EAAKyF,QAAQzH,SAAmBxe,QAEpFiyB,cAAe,WAAA,GACP9J,GAAatiB,KAAKiF,QAAQqd,WAC1BohB,EAAephB,SAAqBA,GAAW0L,MAAQrlB,IAAU2Z,EAAW0L,KAAKxe,QAAQ,WACzF7E,EAAU3K,KAAK2K,QACfg5B,EAA0BlhC,EAAEwJ,KAAKtB,EAAS,SAAUge,GACpD,MAAOA,GAAIrG,cAAe,GAK9B,OAHI3X,GAAQxQ,QAAUwpC,EAAwBxpC,QAAUwQ,EAAQxQ,SAC5DupC,GAAe,GAEZA,GAEXviB,SAAU,WACN,GAAIxG,GAAO3a,IACX,IAAI2a,EAAK1V,QAAQ+c,YAAcrH,EAAKgM,eAAiBla,EAAckO,EAAKhQ,SAASxQ,OAC7E,KAAUw6B,OAAM,kEAEpBha,GAAKrJ,MAAMjH,GAAGC,GAAQC,GAAI,iEAAkE,SAAU5G,GAClG,GAAgHigC,GAAiD9vB,EAA7J+vB,EAASphC,EAAEzC,MAAO8jC,EAAYD,EAAO31B,SAAS,cAAe61B,EAAYF,EAAOlzB,QAAQ,mBAA+BsS,EAAiBtI,EAAKsI,eAAsBhR,EAAa0I,EAAKgM,aA4BzL,OA3BAkd,GAAOG,YAAY,cAAeF,GAAWE,YAAY,eAAgBF,GACzEF,EAAYG,EAAU5yB,OAClBc,IAAe2xB,EAAU11B,SAAS,kBAClC4F,EAAO6G,EAAK8V,SAASsT,GACrBH,EAAYnhC,EAAEwgB,EAAenP,IAAO8N,SAASmiB,EAAU71B,SAAS,SAAW,QAAU,IAAIX,YAAYw2B,GACrGppB,EAAK4L,QAAQ,UAAW,WACpB,OACI/c,SAAUo6B,EAAU7+B,MACpB+O,OAAS2c,SAAU3c,OAG3B6G,EAAKnT,QAAQmR,IACTorB,UAAWA,EACXH,UAAWA,EACX9vB,KAAMA,EACNmwB,WAAYL,EAAUh6B,KAAK,qBAGnC+Q,EAAKnT,QAAQs8B,EAAY3qB,GAAeC,IACpC2qB,UAAWA,EACXH,UAAWA,IAEfA,EAAUM,OAAOJ,GACbnpB,EAAK4d,UACL5d,EAAK4d,SAAS7vB,KAAK,gBAAiBo7B,GAExCngC,EAAEmS,kBACK,KAGf2a,SAAU,SAAUrK,GAEhB,GADAA,EAAK3jB,EAAE2jB,GAAI,IACNA,EACD,MAAO,KAEX,IAAyHqG,GAAG0X,EAAxHh3B,EAAOnN,KAAKqR,MAAM/D,WAAY82B,EAAe,6CAA8Cx8B,EAAMwe,EAAGie,eAExG,KADAF,EAAav8B,EACR6kB,EAAI,EAAGA,EAAI7kB,EAAK6kB,IACb2X,EAAa5iC,KAAK2L,EAAKsf,GAAG/Y,YAC1BywB,GAGR,OAAOnkC,MAAKulB,MAAM4e,IAEtBtI,UAAW,SAAUzV,GACjB3jB,EAAE2jB,GAAIxc,KAAK,oBAAoBQ,SAEnCsxB,YAAa,SAAUtV,GACnB3jB,EAAE2jB,GAAIxc,KAAK,sBAAsBQ,SAErCk6B,mBAAoB,SAAU35B,EAASiC,GAAnB,GACChF,GAAKiL,EAAIpX,EAAiBtB,EAA2CgO,EAK9Eb,EALJqT,EAAO3a,KAAqBuR,EAAO,GAAYvE,EAAQgB,EAAY2M,EAAKhQ,QAC5E,KAAK/C,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjDiL,EAAKlI,EAAQ/C,GAAKkD,QAAUH,EAAQ/C,GACpCnM,EAAOkf,EAAK6nB,gBAAgB3vB,GAC5B1K,EAAQ,GACJb,EAAQP,GAAQ8L,EAAI7F,GACnB6F,EAAG7I,SA4BJuH,GAAQ,kBAAsB/I,EAAoBqK,EAAGzH,kBACjDwB,IAAYjC,EAAQ/C,GAAKmJ,UACzBQ,GAAQ,aAAgB3E,EAAU,KAElCtF,OACAiK,GAAQ7V,GAAMgN,KAAK,SAAW,KAAQpB,EAAQ,KAElDiK,GAAQ,IAAM9V,EAAO,UAlCjBoX,EAAG1K,QACHA,EAAQzM,GAAMgN,KAAK,SAAW,KAAQmK,EAAG1K,MAAQ,MAErDoJ,GAAQ,uCAA6CpJ,EACrDoJ,GAAQ,wBACJ3E,IAAYjC,EAAQ/C,GAAKmJ,UACzBQ,GAAQ,aAAgB3E,EAAU,KAElCjC,EAAQ/C,GAAKmJ,QAAU,IACvBQ,GAAQ,aAAe5G,EAAQ/C,GAAKmJ,QAAU3B,EAAuByD,EAAGlI,UAAY,KACpF4G,GAAQ7V,GAAMgN,KAAK,WAAa,KAAQiC,EAAQ/C,GAAKmJ,QAAU,KAE/D8B,EAAGwX,QACH9Y,GAAQ7V,GAAMgN,KAAK,SAAW,KAAOmK,EAAGwX,MAAM7f,QAAQ,IAAK,UAAUA,QAAQ,KAAM,KAAQ,MAE3FqI,EAAGqP,YAAcjnB,IACjBsW,GAAQ7V,GAAMgN,KAAK,aAAe,KAAQmK,EAAGqP,UAAY,MAEzDrP,EAAGqB,YAAcrB,EAAGqB,WAAW/Z,SAC/BoX,GAAQ7V,GAAMgN,KAAK,cAAgB,KAAQmK,EAAGqB,WAAa,KAE3D5M,OACAiK,GAAQ7V,GAAMgN,KAAK,SAAW,KAAQpB,EAAQ,KAElDiK,GAAQ/I,EAAoBqK,EAAGzH,kBAC/BmG,GAAQ,IAAM9V,EAAO,QAY7B,OAAO8V,IAEXgzB,2BAA4B,WACxB,GAA4B38B,GAA6GzN,EAA+C2P,EAAWiH,EAASyzB,EAAxM75B,EAAU3K,KAAK2K,QAAcuH,EAAWlS,KAAKsR,MAAM1H,KAAK,YAAa0F,EAAO4C,EAAStI,KAAK,0CAAmDstB,EAAaz0B,IAAKgiC,EAAkB,EAAgCC,EAAY,CACjO,KAAK98B,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IACjD,GAAI+C,EAAQ/C,GAAKkH,OACb,GAAI7D,EAAUN,EAAQ/C,IAAO,CAMzB,IALAmJ,EAAU,EACNpG,EAAQ/C,GAAK+C,UACboG,EAAU/C,EAAYrD,EAAQ/C,GAAK+C,SAASxQ,OAASiV,EAAuBzE,EAAQ/C,GAAK+C,UAE7FoG,EAAUA,GAAW,EAChByzB,EAAU,EAAGA,EAAUzzB,EAASyzB,IACjCtN,EAAaA,EAAWpuB,IAAIwG,EAAKhG,GAAG1B,EAAM88B,EAAYF,EAAUC,GAEpEC,IAAa3zB,EAAU,MAEvB0zB,IAIZ36B,GAAYrH,EAAE,6CAA+CgY,GAAQ,mBAAqB,IAAM,6CAChGvI,EAASyyB,SACT76B,EAAUF,KAAK,YAAYxO,OAAO87B,GAClChlB,EAASY,aAAa9S,KAAKsR,MAAM1H,KAAK,UACtC5J,KAAKyJ,cAAgBK,EAAUgJ,aAAa9S,KAAK0J,SACjD1J,KAAKmW,YAAcrM,EAAUwD,SAAS,UAE1CmyB,0BAA2B,WAAA,GAMnB73B,GAAKzN,EALLwgB,EAAO3a,KACPilB,EAAStK,EAAKsK,OACdlX,EAAQkX,EAAOrb,KAAK,yBACpB0F,EAAO2V,EAAOrb,KAAK,0CACnB2H,EAAO9O,EAAE,yHAETyK,EAASyN,EAAK+G,UACdkjB,EAAcniC,IAAKy0B,EAAaz0B,GAEpC,KADAmiC,EAAcA,EAAY97B,IAAIiF,EAAMpE,OAAO,kBACtC/B,EAAM,EAAGzN,EAAS6T,EAAYvB,EAAckO,EAAKhQ,UAAUxQ,OAAQyN,EAAMzN,EAAQyN,IAClFg9B,EAAcA,EAAY97B,IAAIiF,EAAMzE,GAAG1B,EAAMsF,GAGjD,KADAgqB,EAAaA,EAAWpuB,IAAIwG,EAAK3F,OAAO,iBACnC/B,EAAM,EAAGzN,EAAS6R,EAAegC,EAAYiC,EAAqB0K,EAAKhQ,WAAWxQ,OAAQyN,EAAMzN,EAAQyN,IACzGsvB,EAAaA,EAAWpuB,IAAIwG,EAAKhG,GAAG1B,EAAMsF,GAE9C03B,GAAYr7B,SAASgI,EAAK3H,KAAK,OAC/BstB,EAAW3tB,SAASgI,EAAK3H,KAAK,aAC9B+Q,EAAKuK,aAAe3T,EAAKgf,UAAUtL,IAEvC4f,0BAA2B,SAAU/6B,GAAV,GACkBlC,GAAK2J,EAAMpX,EAAkBisB,EAAI0e,EAAUxzB,EAA0JjF,EAU9N0E,EAKKyzB,EAOJ/X,EAwBTnkB,EA9CJqS,EAAO3a,KAAM2K,EAAU3K,KAAK2K,QAAoFwC,KAAWs3B,EAAkB,EAAGn1B,EAAO7M,IAAKsiC,EAAepqB,EAAKyR,gBAAiB4Y,EAAmB,EAAGC,EAAcxiC,IAAWyiC,EAAmB,EAAGn3B,EAAQtL,IAAtNyP,EACjDyI,EAAKhN,MAAM1O,OAAO2K,KAAK,0CADyDqf,EAElFtO,EAAKhN,MAAM/D,KAAK,2DAF0Eu7B,EAGjFxqB,EAAKhN,MAAM/D,KAAK,iBAAiBA,KAAK,2CACpD86B,EAAY,CAChB,KAAK98B,EAAM,EAAGzN,EAASwQ,EAAQxQ,OAAQyN,EAAMzN,EAAQyN,IAAO,CACxD,GAAI+C,EAAQ/C,GAAKkH,OAAQ,CAGrB,GAFAzC,EAAO4c,EAAO3f,GAAG1B,GACjBs9B,EAAmBl3B,EAAYrD,EAAQ/C,GAAK+C,aAAexQ,OACvD8Q,EAAUN,EAAQ/C,IAAO,CAMzB,IALImJ,EAAU,KACVpG,EAAQ/C,GAAK+C,UACboG,EAAUm0B,EAAmB91B,EAAuBzE,EAAQ/C,GAAK+C,UAErEoG,EAAUA,GAAW,EACZyzB,EAAU,EAAGA,EAAUzzB,EAASyzB,IACrCl1B,EAAOA,EAAKxG,IAAIoJ,EAAS5I,GAAG1B,EAAM88B,EAAYF,EAAUC,GAE5DC,IAAa3zB,EAAU,EAI3B,IAFAjB,GAAqBnF,EAAQ/C,IAAOoJ,EAAkB3E,GAAOc,EAAM,EAAG,GACtE+3B,EAAmBA,GAAoB,EAC9BzY,EAAI,EAAGA,EAAIyY,EAAkBzY,IAClCwY,EAAcA,EAAYn8B,IAAIq8B,EAAgB77B,GAAG07B,EAAmBvY,GAExEuY,IAAoBE,EAEpBv6B,EAAQ/C,GAAK+C,UACb85B,GAAmBr1B,EAAuBzE,EAAQ/C,GAAK+C,UAEtDM,EAAUN,EAAQ/C,KACnB68B,IAGR,GAAIt3B,EAAKhT,OAAQ,CAQb,IAPAoX,EAAO,8DAAgEkJ,GAAQ,mBAAqB,IAAM,sBAC1GlJ,GAAYhJ,MAAM4E,EAAKhT,OAAS,GAAGL,KAAK,aACxCyX,IAASwzB,EAAe,8BAAgC,IAAM,yBAC9DzzB,EAAQ7O,EAAE8O,GACVW,EAAWZ,EAAM1H,KAAK,YACtBsI,EAAS9W,OAAOuf,EAAKhN,MAAM1O,OAAO2K,KAAK,mBAAmBd,IAAIwG,IAC9D8W,EAAK9U,EAAM1H,KAAK,+BACXhC,EAAM,EAAGzN,EAASgT,EAAKhT,OAAQyN,EAAMzN,EAAQyN,IAC9CmG,EAAQ7B,EAASiB,EAAKvF,IACtBwe,EAAG9c,GAAG1B,GAAKxM,OAAOuf,EAAKhN,MAAM/D,KAAK,SAAWhC,EAAM,mBAAmBkB,IAAIiF,GAU9E,OARIzF,GAAQqH,EAAgB3P,KAAK2N,OAC7BR,EAAKhT,OAASmO,GACdoH,EAAmB4B,EAAOhJ,EAAQ6E,EAAKhT,QAE3C2qC,EAAWxzB,EAAM1H,KAAK,iBACtBk7B,EAAS1pC,OAAOuf,EAAKhN,MAAM/D,KAAK,+BAA+Bd,IAAIm8B,IACnEjlC,KAAKqW,aAAe/E,EAAMif,UAAUzmB,GACpC9J,KAAK2N,MAAM/D,KAAK,iBAAiBiG,UAC1B,EAEX,OAAO,GAEXyU,wBAAyB,WACrB,GAAI9a,GAAWxJ,KAAKqW,aAAavN,IAAI9I,KAAKyJ,eAAeX,IAAI9I,KAAKklB,aAClExpB,IAAM8f,QAAQhS,GACdA,EAASmS,IAAIpR,IAAIsF,SACjB7P,KAAKqW,aAAerW,KAAKyJ,cAAgBzJ,KAAKklB,aAAe,KAC7DllB,KAAKoiB,WAAa,MAEtBzB,OAAQ,WAAA,GAC6H/Y,GAA2Gwe,EAiBhOjZ,EAkBJi4B,EAKAC,EA2CJC,EACAC,EApFA5qB,EAAO3a,KAAM2K,EAAUgQ,EAAKhQ,QAASsH,EAAa0I,EAAKgM,eAAiBhc,EAAQxQ,OAAQ4qC,EAAepqB,EAAKyR,gBAAsB7a,EAAO,GAAI5D,EAAQgN,EAAKrJ,MAAM1H,KAAK,UAAW47B,EAAW7qB,EAAKvT,QAAQwC,KAAK,eAAezP,OAAS,CAczO,IAbKwT,EAAMxT,SACPwT,EAAQlL,EAAE,YAAYqQ,aAAa6H,EAAKtJ,QAExCsJ,EAAKtE,cAAgBsE,EAAKhN,OAC1ByY,EAAKzL,EAAKhN,MAAM/D,KAAK,iCAAiC2H,KAAK,IAC3D6U,EAAGvW,SACHuW,EAAK3jB,IACLkY,EAAK2J,2BAEL8B,EAAKzL,EAAKvT,QAAQwC,KADX47B,EACgB,4CAEA,qBAEtBpf,EAAGjsB,SACJisB,EAAKzY,EAAML,WAAWjS,SACjB+qB,EAAGjsB,QAAQ,CAOZ,IANIgT,IACIP,QAAS,EACTmB,SACAzG,MAAO,IAEfqT,EAAK8qB,gBAAgBt4B,EAAMxC,GACtB/C,EAAM,EAAGA,EAAMuF,EAAKhT,OAAQyN,IAC7B2J,GAAQ,OACJU,IACAV,GAAQ,wDAEZA,GAAQoJ,EAAK2pB,mBAAmBn3B,EAAKvF,GAAKmG,MAAOZ,EAAKvF,GAAKgF,SAC3D2E,GAAQ,OAEZ6U,GAAK3jB,EAAE8O,GAGXwzB,IACIK,EAAY3iC,EAAE,SAClB2iC,EAAUxjB,SAAS,iBACf3P,GAAcmU,EAAGxc,KAAK,qBAAqBzP,SAC3CirC,EAAU/yB,QAAQ,wDAElBgzB,GAAqB1qB,EAAKhN,OAASA,GAAO/D,KAAK,iBAC/Cy7B,EAAkBlrC,SAClBuB,GAAM8f,QAAQ6pB,GACdA,EAAkBx1B,UAEtBlC,EAAMvS,OAAOgqC,IAEZhf,EAAG9Y,WAAWnT,OAOR8X,IAAemU,EAAGxc,KAAK,qBAAqB,IACnDwc,EAAG/T,QAAQ,yDAPXd,EAAO,GACHU,IACAV,GAAQ,wDAEZA,GAAQoJ,EAAK2pB,mBAAmB35B,GAChCyb,EAAG7U,KAAKA,IAIZ6U,EAAG1d,KAAK,OAAQ,OAAOkB,KAAK,MAAMgY,SAAS,YACtCjH,EAAK1V,QAAQ+c,YACdrU,EAAMiU,SAAS,iBAEnBwE,EAAGxc,KAAK,UAAUiG,SAASue,MAAMmC,UAAU5iB,GACvCgN,EAAKhN,OACLgN,EAAK8I,4BAETzjB,KAAKumB,QAAQ,UAAW,WACpB,OAAS/c,SAAUmE,EAAM/D,KAAK,MAAM7E,SAExC/E,KAAKumB,QAAQ,UAAW,WACpB,OACI/c,SAAUmE,EAAM/D,KAAK,MAAM7E,MAC3B+O,KAAMxT,GAAIqK,EAAS,SAAUge,GACzB,OAAS7d,OAAQ6d,QAI7BhO,EAAKhN,MAAQA,EAAMjF,KAAK,OAAQ,YAChCiS,EAAKonB,YACLpnB,EAAKgmB,cACLhmB,EAAKqmB,aACLrmB,EAAK+iB,cACL/iB,EAAK+qB,cACL/qB,EAAKilB,cAED2F,EAAmBvlC,KAAKiF,QAAQ+c,YAAcvV,EAAczM,KAAK2K,SAASxQ,OAC1EorC,IACAD,EAAa3qB,EAAKkqB,0BAA0BlqB,EAAKhN,MAAMgD,QAAQ,mBAC/DgK,EAAK4pB,6BACL5pB,EAAKlR,cAAc2R,KAAK,iBAAmB7Q,GAAK,cAAgBA,GAAIE,GAAMkQ,EAAKoB,aAAcpB,KAEjGA,EAAKyS,yBACLzS,EAAK2S,0BACL3S,EAAK2N,aACL3N,EAAKoP,aACLpP,EAAKgQ,eACLhQ,EAAK2mB,cAAc3mB,EAAK+G,WACpB6jB,IACID,GACA3qB,EAAKmP,0BAETnP,EAAKiP,+BAELjP,EAAKuH,WACLvH,EAAKsa,oBAGb0Q,qBAAsB,SAAUh7B,EAASwC,GAAnB,GAGVrC,GAFJtO,EAASiG,GACb,IAAI0K,EAAKhT,QAAUwQ,EAAQ,GAAI,CAE3B,IADIG,EAASH,EAAQ,GACdG,EAAOH,SAAWG,EAAOH,QAAQxQ,QACpC2Q,EAASA,EAAOH,QAAQ,GACxBwC,EAAOA,EAAKxD,OAAO,iBAEvBnN,GAASA,EAAOsM,IAAIqE,GAExB,MAAO3Q,IAEX8wB,wBAAyB,WAAA,GAGblH,GAEAjZ,EAJJwN,EAAO3a,KAAM2K,EAAUgQ,EAAKhQ,YAAesH,EAAa0I,EAAKgM,eAAiBhc,EAAQxQ,MACrF8X,IAAe0I,EAAK+G,YACjB0E,EAAKzL,EAAKhN,MAAM/D,KAAK,sCACzBe,EAAUgC,EAAiBhC,GACvBwC,EAAOwN,EAAKgrB,qBAAqBh7B,EAASyb,GAC1CzL,EAAKqa,cACL5O,EAAKzL,EAAKtE,aAAazM,KAAK,2CAC5Be,EAAU8B,EAAckO,EAAKhQ,SAC7BwC,EAAOA,EAAKrE,IAAI6R,EAAKgrB,qBAAqBh7B,EAASyb,KAEvDjZ,EAAKqZ,KAAK,WACN,GAAIhY,GAAM/L,EAAEzC,MAAM4J,KAAK,KACvB4E,GAAIyX,YAAY,WAChBzX,EAAIlF,GAAG,GAAGsY,SAAS,eAI/B6jB,gBAAiB,SAAUt4B,EAAMxC,EAAS+F,EAAYk1B,GAArC,GAIJh+B,GACDyE,EAJJ+B,EAAMw3B,GAAaz4B,EAAKA,EAAKhT,OAAS,GACtC0rC,EAAW14B,EAAKiB,EAAI9G,MAAQ,GAC5Bw+B,EAAe,CACnB,KAASl+B,EAAM,EAAGA,EAAM+C,EAAQxQ,OAAQyN,IAChCyE,GACAvB,OAAQH,EAAQ/C,GAChBmJ,QAAS,GAEb3C,EAAIL,MAAMnU,KAAKyS,GACX1B,EAAQ/C,GAAK+C,SAAWA,EAAQ/C,GAAK+C,QAAQxQ,SACxC0rC,IACDA,GACIj5B,QAAS,EACTmB,SACAzG,MAAO6F,EAAKhT,QAEhBgT,EAAKvT,KAAKisC,IAEdx5B,EAAK0E,QAAUpG,EAAQ/C,GAAK+C,QAAQxQ,OACpC6F,KAAKylC,gBAAgBt4B,EAAMxC,EAAQ/C,GAAK+C,QAAS0B,EAAMw5B,GACvDC,GAAgBz5B,EAAK0E,QAAU,EAC/B3C,EAAIxB,QAAUO,EAAKhT,OAASiU,EAAI9G,MAGpCoJ,KACAA,EAAWK,SAAW+0B,IAG9B/pB,aAAc,SAAUpY,GAAV,GAIN+F,GAIA8L,EAAiCgH,CAPjC7Y,GAAE+Y,UAGFhT,EAAU1J,KAAK0J,QACf1J,KAAKiF,QAAQ+c,WAAWC,UACxBvY,EAAU1J,KAAKmiB,kBAAkBzG,mBAEjClG,EAAY9L,EAAQ8L,YAAagH,EAAQ9gB,GAAMihB,YAAYhZ,GAC3D6Y,IACA7Y,EAAEmS,iBACFpM,EAAQ8L,UAAUA,GAAagH,MAGvCwY,UAAW,WACP,MAA4B,OAArBh1B,KAAKqW,cAEhB0vB,kBAAmB,WACf,GAAIz0B,GAAQtR,KAAK2N,MAAMqB,SAASlG,IAAI9I,KAAKsR,MACrCtR,MAAKg1B,YACLhjB,EAAcV,EAAOpB,EAAmBF,EAAwBhQ,KAAK2K,UAAW3K,KAAK2mB,cAAe,GAEpG3U,EAAcV,EAAOpB,EAAmBlE,EAAehM,KAAK2K,UAAW3K,KAAK2mB,cAAe,IAGnG+e,YAAa,SAAUp0B,GACnBA,EAAQA,GAAStR,KAAK2N,MAAMqB,SAASlG,IAAI9I,KAAKsR,OAC9CtR,KAAK2/B,YAAYruB,EAAOtR,KAAKg1B,cAEjCgR,kBAAmB,SAAU10B,GACrBtR,KAAKg1B,cACL1jB,EAAQA,GAAStR,KAAKqW,aAAazM,KAAK,SAASd,IAAI9I,KAAKmW,aAC1DnE,EAAcV,EAAOpB,EAAmBD,EAAqBjQ,KAAK2K,UAAW3K,KAAK2mB,cAAe3mB,KAAK0hB,aAG9Gie,YAAa,SAAUruB,EAAOxC,GACtBA,EACAkD,EAAcV,EAAOpB,EAAmBF,EAAwBhQ,KAAK2K,UAAW3K,KAAK2mB,cAAe,GAEpG3U,EAAcV,EAAOpB,EAAmBlE,EAAehM,KAAK2K,UAAW3K,KAAK2mB,cAAe3mB,KAAK0hB,YAGxGukB,aAAc,SAAUC,GACpB,GAAIA,GAAUA,EAAOC,OAAQ,CACzB,GAAiBh+B,GAAOyC,EAApB+P,EAAO3a,IACXkmC,GAASA,EAAOC,SAChBv7B,IAAY+P,EAAKrJ,MAAM1H,KAAK,YAAYzP,OAAS,KAAOwgB,EAAKM,aAAeN,EAAKM,WAAWyK,WAC5F,KAAKvd,IAAS+9B,GACVvrB,EAAKhQ,QAAQ/Q,MACTuO,MAAOA,EACPyC,QAASA,EACTQ,kBAAoBtL,GAAIpE,GAAM2P,SAGtCsP,GAAKgG,SACLhG,EAAKoG,eAGbqlB,UAAW,SAAUtyB,EAAMuyB,GACvB,GAA4Bz+B,GAAqFzN,EAA7GwgB,EAAO3a,KAAMuR,EAAO,GAASoR,EAAc0jB,EAAU1jB,YAAaC,EAAiByjB,EAAUzjB,cACjG,KAAKhb,EAAM,EAAGzN,EAAS2Z,EAAK3Z,OAAQyN,EAAMzN,EAAQyN,IAE1C2J,GADA3J,EAAM,EACEgb,EAAe9O,EAAKlM,IAEpB+a,EAAY7O,EAAKlM,IAE7B+S,EAAK4K,MAAM3rB,KAAKka,EAAKlM,GAEzB,OAAO2J,IAEX+0B,cAAe,SAAU9gB,EAAOvO,EAASpG,EAAO01B,EAAoBF,EAAWG,GAAhE,GACiB5+B,GAAKzN,EAmBzBssC,EACKhhB,EApBT9K,EAAO3a,KAAMuR,EAAO,GAAiBpJ,EAAQqd,EAAMrd,MAAO2C,EAASmB,GAAK+B,EAAY2M,EAAKhQ,SAAU,SAAUG,GACzG,MAAOA,GAAO3C,OAASA,IACxB,OAAUxM,EAAWmP,EAAO47B,oBAAqBjrC,GAAQqP,EAAOuf,OAASliB,GAAS,KAAO8K,EAAiBuS,EAAMttB,MAAO4S,EAAOqH,OAAQrH,EAAOnM,OAAQmM,EAAOF,SAAU+7B,EAAiBhsB,EAAKisB,kCAAqC1yB,EAAa/P,MAAWwiC,EAAgBnhB,EAAMtR,YAAa2yB,EAAa1iC,OACxSgE,MAAOqd,EAAMrd,MACbjQ,MAAOstB,EAAMttB,MACbgc,WAAYA,GACbsR,EAAMtR,WAAWsR,EAAMrd,QAAS0c,EAAsBwhB,EAAUxhB,oBAAqBiiB,EAAathB,EAAMxR,KAK/G,IAJIrY,IACAF,QAAcE,KAAaoe,GAAWpe,EAASkrC,GAAcnrC,GAAMC,SAASA,GAAUkrC,IAE1Ft1B,GAAQg1B,EAAmBtvB,EAASpG,EAAOpV,GACvC+pB,EAAMzR,aACN,IAAKnM,EAAM,EAAGzN,EAAS2sC,EAAW3sC,OAAQyN,EAAMzN,EAAQyN,IACpD2J,GAAQoJ,EAAK2rB,cAAcQ,EAAWl/B,GAAM4+B,EAAcvvB,EAAUA,EAAU,EAAGpG,EAAQ,EAAG01B,EAAoBF,EAAWG,OAG/Hj1B,IAAQoJ,EAAKyrB,UAAUU,EAAYT,EAEvC,IAAIxhB,EAAqB,CACjB4hB,IACJ,KAAShhB,IAAavR,GAClBuyB,EAAWhhB,GAAathB,MAAW+P,EAAWuR,IAC1CD,OACIrd,MAAOqd,EAAMrd,MACbjQ,MAAOstB,EAAMttB,QAIzBqZ,IAAQsT,EAAoB4hB,GAEhC,MAAOl1B,IAEXujB,cAAe,SAAUtP,GAAV,GAEP3U,GAAOqR,EAAoC6kB,EAAmCC,EAAkCp5B,EAAQq5B,EAAoBr/B,EAAKzN,EAAQisB,EAazJ8gB,CACJ,KAfA1hB,EAAQ/iB,EAAE+iB,GACCtD,EAAYliB,KAAKiF,QAAQid,UAAW6kB,EAAa7kB,EAAU6kB,WAAYC,EAAcD,EAAa,EAAI,EAAWE,EAAexkC,IACvIzC,KAAKg1B,cACAxP,EAAM7U,QAAQ,OAAOzC,SAAS,yBAI/B+4B,EAAejnC,KAAKqR,MAAM/D,SAAS,SAAWkY,EAAMle,QAAU,KAAKm1B,QAAQ,OAH3EwK,EAAezhB,EAAMiX,QAAQ,MAC7BjX,EAAQxlB,KAAKmW,YAAYvM,KAAK,gBAAkB4b,EAAMle,QAAU,OAKxEuJ,EAAQ2U,EAAM5b,KAAK,iBAAiBzP,OACpCqrB,EAAM5b,KAAK,iBAAiBgY,SAAS,cAAcqE,YAAY,gBAC/DT,EAAM5b,KAAK,kCAAoClB,KAAK,iBAAiB,GACrE8c,EAAQA,EAAMiX,QAAQ,MAClByK,KACCt/B,EAAM,EAAGzN,EAASqrB,EAAMrrB,OAAQyN,EAAMzN,IACvCisB,EAAKZ,EAAMlc,GAAG1B,GACdgG,EAASwY,EAAGxc,KAAK,iBAAiBzP,OAC9BisB,EAAGlY,SAAS,kBACZ84B,IACO5gB,EAAGlY,SAAS,mBACnB84B,MAEAp5B,GAAUiD,GAASuV,EAAGlY,SAAS,mBAAqB84B,EAAc,IARvBp/B,IAW3Cq/B,EAAa9sC,QACb+sC,EAAOttC,KAAKqtC,EAAar/B,IAE7Bs/B,EAAOttC,KAAKwsB,EAAG,GAEnB3jB,GAAEykC,GAAQr8B,QAEdkqB,YAAa,SAAUvP,GACnBA,EAAQ/iB,EAAE+iB,EACV,IAAiE3U,GAAOuV,EAAIxY,EAA4BhG,EAAKzN,EAAzGwgB,EAAO3a,KAAM+mC,EAAapsB,EAAK1V,QAAQid,UAAU6kB,WAA+BE,EAAexkC,IAAkB0kC,KAAwBC,EAAc,CAa3J,KAZIpnC,KAAKg1B,cACAxP,EAAM7U,QAAQ,OAAOzC,SAAS,yBAI/B+4B,EAAejnC,KAAKqR,MAAM/D,SAAS,SAAWkY,EAAMle,QAAU,KAAKm1B,QAAQ,OAH3EwK,EAAezhB,EAAMiX,QAAQ,MAC7BjX,EAAQxlB,KAAKmW,YAAYvM,KAAK,gBAAkB4b,EAAMle,QAAU,OAKxEuJ,EAAQ2U,EAAM5b,KAAK,iBAAiBzP,OACpCqrB,EAAM5b,KAAK,eAAegY,SAAS,gBAAgBqE,YAAY,cAC/DT,EAAM5b,KAAK,mCAAqClB,KAAK,iBAAiB,GACtE8c,EAAQA,EAAMiX,QAAQ,MACjB70B,EAAM,EAAGzN,EAASqrB,EAAMrrB,OAAQyN,EAAMzN,IACvCisB,EAAKZ,EAAMlc,GAAG1B,GACdgG,EAASwY,EAAGxc,KAAK,iBAAiBzP,SAC9ByT,GAAUiD,IAHiCjJ,IAM3CgG,GAAUiD,EAAQ,GAAMuV,EAAGlY,SAAS,kBACpCkY,EAAGkB,OACH2f,EAAa39B,GAAG1B,GAAK0f,OACjBlB,EAAGlY,SAAS,mBAAqBkY,EAAGxc,KAAK,WAAWsE,SAAS,iBAC7DyM,EAAKoa,YAAY3O,GAEjBA,EAAGlY,SAAS,iBAAmBkY,EAAGxc,KAAK,WAAWsE,SAAS,kBAC3DkY,EAAGjV,OAAOmW,OACV2f,EAAa39B,GAAG1B,EAAM,GAAG0f,SAG7BlB,EAAGlY,SAAS,oBACR64B,GACAI,EAAkBvtC,KAAKwsB,EAAGhU,GAAG,aAEjCg1B,KAEAhhB,EAAGlY,SAAS,oBACR64B,GACA3gB,EAAG8d,OAAOiD,EAAkBE,OAEb,GAAfD,GACAhhB,EAAGkB,OACH2f,EAAa39B,GAAG1B,GAAK0f,QAErB8f,MAKhB9F,cAAe,SAAUp0B,GACrB,GAAIyN,GAAO3a,KAAM8J,EAAY6Q,EAAKqa,YAAcra,EAAKtE,aAAazM,KAAK,SAAW+Q,EAAKhN,MAAOs3B,EAAcn7B,EAAUF,KAAK,mBAAmBA,KAAK,mBAAmBzP,OAAQA,EAAS2P,EAAUF,KAAK,YAAYA,KAAK,mBAAmBzP,OAAQgT,EAAOrD,EAAUwD,SAAS,kBAAkB3D,OAAO,WAC7R,OAAQlH,EAAEzC,MAAMsN,SAAS,YAAYnT,QAEzC+S,GAAS/S,GACTsI,EAAM8F,MAAM2E,EAAS/S,EAAS,GAAGL,KAAK,8DAA8Dy2B,UAAUzmB,EAAUwD,SAAS,0BAC7HqN,EAAKvT,QAAQgL,GAAG,aAChBjF,EAAKvD,KAAK,mBAAmBiB,QAE1BqC,EAAS/S,GAChB2P,EAAUF,KAAK,MAAM4c,KAAK,WACtB/jB,EAAEzC,MAAM4J,KAAK,mBAAmBD,OAAO,OAASuD,EAAS,SAAgBA,EAAS,KAAK2C,WAG3F3C,EAAS+3B,GACTxiC,EAAM8F,MAAM2E,EAAS+3B,EAAc,GAAGnrC,KAAK,8DAA8Dy2B,UAAUzmB,EAAUF,KAAK,mBAG1I09B,eAAgB,SAAUxzB,EAAMyzB,GAQ5B,MAPIzzB,IAAQyzB,IAEJzzB,EADAA,EAAKC,aACE/T,KAAKsnC,eAAexzB,EAAKE,MAAM,GAAIuzB,GAEnCzzB,EAAKE,MAAM,IAGnBF,GAEXuZ,mBAAoB,WAChB,GAAiBX,GAAb/R,EAAO3a,IACN2a,GAAKqa,cAGVtI,EAASjqB,EAAE,4CAA6CkY,EAAKc,SAAS3S,IAAI6R,EAAKhN,MAAMqB,UAAUlG,IAAI6R,EAAKrJ,OACxGqJ,EAAK6O,aAAehV,GAAWkY,EAAOpjB,GAAG,IACzCojB,EAAO/pB,MAAMgY,EAAK6O,cAClBkD,EAASjqB,EAAE,8CAA+CkY,EAAKc,SAAS3S,IAAI6R,EAAKtE,aAAazM,KAAK,WAAWd,IAAI6R,EAAKxE,aACvHuW,EAAO/pB,MAAM6R,GAAWkY,EAAOpjB,GAAG,OAEtC2uB,WAAY,SAAUntB,GAAV,GACSuB,GAAMqgB,EAAQ9kB,EAAK0H,EAAMC,EAAU1B,EAAqB25B,EAAiBrtC,EAAyNyZ,EA+B/S9J,EA/BA6Q,EAAO3a,KAAmD2C,EAAQ,EAA4BsiB,EAAStK,EAAKsK,QAAUtK,EAAKc,QAAQ7R,KAAK,kBAAmBe,EAAUgQ,EAAKhQ,QAASkiB,EAAgBlS,EAAKtE,aAAelG,EAAcwK,EAAKtE,aAAazM,KAAK,iBAAiBD,OAAOmC,GAAe3R,OAAS,CAYhT,IAVI2Q,EADiB,gBAAVA,GACEH,EAAQG,GACVX,GAAcW,GACZmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,KAASlI,IACjB,GAEMmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,GAAK7K,QAAU2C,IACvB,GAEFA,GAAWG,EAAUH,GAA1B,CAGA,GAAIA,EAAOH,SAAWG,EAAOH,QAAQxQ,OAAQ,CAIzC,IAHA0T,EAAWU,EAAsBzD,EAAQH,GACzCe,EAAoBZ,GAAQ,GAC5BwI,EAAkB9J,EAAS/G,EAAE,eAAgBkY,EAAKtE,cAAesE,EAAKhN,MAAO,UAAYE,EAASO,IAAM,QAASP,EAASxB,MAAM,GAC3HzE,EAAM,EAAGA,EAAMkD,EAAOH,QAAQxQ,OAAQyN,IACvC5H,KAAKi4B,WAAWntB,EAAOH,QAAQ/C,GAGnC,OADA+S,GAAKnT,QAAQuR,IAAcjO,OAAQA,IACnC,EA4BJ,GA1BA8I,EAAc7M,GAAQ+D,EAAQkB,EAAegC,EAAYrD,KACzDe,EAAoBZ,GAAQ,GAC5B6P,EAAK8sB,sBAAsB38B,GAAQ,GACnC6P,EAAKoG,aACLpG,EAAK+qB,cACL/qB,EAAKqrB,oBACDl8B,EAAY6Q,EAAKhN,MACrB65B,EAAkB5zB,EACd+G,EAAKtE,cAAgBwW,EAAgBjZ,EACrC9J,EAAY6Q,EAAKtE,aAAazM,KAAK,gBAEnC49B,GAAmB3a,EAEvBxgB,EAAO8D,EAAcrG,GAAWH,OAAOmC,GAAexC,GAAGk+B,GACzDn7B,EAAK,GAAGtJ,MAAMgJ,QAAU,OACxBuH,EAAkB9J,EAAS/G,EAAE,eAAgBkY,EAAKtE,cAAesE,EAAKhN,MAAO,uBAAwBiG,GAAa,GAC9GqR,EAAO,KACPtK,EAAK+qB,YAAYzgB,EAAOrb,KAAK,+BAC7B+Q,EAAKqrB,kBAAkB/gB,EAAOrb,KAAK,iCACnC0J,EAAkB2R,EAAOrb,KAAK,yBAA0BgK,GAAa,IAErE+G,EAAKxE,aAAe0W,EAAgBjZ,EACpCD,EAAgBgH,EAAKxE,YAAYvM,KAAK,aAAcgK,GAEpDD,EAAgBgH,EAAKtJ,MAAM/D,WAAYsG,EAAciZ,GAErDlS,EAAKxE,YACLwE,EAAK0S,qBACL1S,EAAKiP,8BACLjP,EAAKkP,2BACLlP,EAAKmP,0BACLnP,EAAK8U,8BACF,CAEH,IADAngB,EAAOqL,EAAKhN,MAAM1O,OAAO2K,KAAK,OACzBhC,EAAM,EAAGzN,EAASmV,EAAKnV,OAAQyN,EAAMzN,EAAQyN,GAAO,EAAG,CAExD,GADA2H,EAAWD,EAAK1H,GAAK7E,MAAMJ,OACvB4M,GAAYA,EAASC,QAAQ,SAE1B,CACH7M,EAAQ,CACR,OAHAA,GAAS8M,SAASF,EAAU,IAMpCmd,EAASjqB,EAAE,0DAA2DkY,EAAKc,SAAS3S,IAAI6R,EAAKrJ,OAC7FqJ,EAAK6O,aAAe,KAChB7mB,IACA+pB,EAAOlG,KAAK,WACRxmB,KAAK+C,MAAMJ,MAAQA,EAAQ,OAE/BgY,EAAK6O,aAAe7mB,GAEpB2P,GAAQC,MAA2B,GAAnBD,GAAQE,UACxBka,EAAO3jB,IAAI,UAAW,gBACtB0J,WAAW,WACPia,EAAO3jB,IAAI,UAAW,UACvB,IAGX4R,EAAK2S,0BACL3S,EAAKnT,QAAQuR,IAAcjO,OAAQA,MAEvC28B,sBAAuB,SAAU38B,EAAQa,GAAlB,GAEf/D,GAEAoH,EACAnB,EACAxB,EACA0E,EANApG,EAAU3K,KAAK2K,QAEfY,KAKAm8B,EAAY/7B,EAAU,SAAUlT,GAChC,MAAOuT,GAAevT,EAAEkS,SAASxQ,QAAU1B,EAAEsS,QAC7C,SAAUtS,GACV,OAAQuT,EAAevT,EAAEkS,SAASxQ,SAAW1B,EAAEsS,OAEnD,IAAIS,EAAcV,EAAQH,EAASY,IAAYA,EAAQpR,OACnD,IAAKyN,EAAM2D,EAAQpR,OAAS,EAAGyN,GAAO,EAAGA,IACrCoH,EAASzD,EAAQ3D,GACjBiG,EAAWM,EAAea,EAAQrE,GAClC0B,EAAO7C,EAAS/G,EAAE,eAAgBzC,KAAKqW,cAAerW,KAAK2N,MAAO,UAAYE,EAASO,IAAM,kDAAkD9E,GAAGuE,EAASxB,MACvJq7B,EAAU14B,KACVtD,EAAoBsD,EAAQrD,GAC5BU,EAAK,GAAGtJ,MAAMgJ,QAAUJ,EAAU,GAAK,QAEvCU,EAAK1C,OAAO,IAAMjO,GAAMgN,KAAK,WAAa,KAAKvO,SAC/C4W,EAAUtB,SAASpD,EAAK3D,KAAKhN,GAAMgN,KAAK,YAAa,IACrD2D,EAAK,GAAG0E,QAAUA,EAAU3B,EAAuBJ,EAAOrE,UAAY,IAKtFutB,WAAY,SAAUptB,GAAV,GACSlD,GAAKzN,EAAQkS,EAAMqgB,EAAQ/pB,EAAO6kC,EAAiB35B,EAAU0B,EAAUD,EAAsMsE,EA+B1R9J,EA/BA6Q,EAAO3a,KAAmF2K,EAAUgQ,EAAKhQ,QAASsa,EAAStK,EAAKsK,QAAUtK,EAAKc,QAAQ7R,KAAK,kBAAmB+yB,EAAqBhiB,EAAKtE,aAAelG,EAAcwK,EAAKtE,aAAazM,KAAK,iBAAiBzP,OAAS,CAY3R,IAVI2Q,EADiB,gBAAVA,GACEH,EAAQG,GACVX,GAAcW,GACZmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,KAASlI,IACjB,GAEMmB,GAAKkD,EAAYxE,GAAU,SAAUqI,GAC1C,MAAOA,GAAK7K,QAAU2C,IACvB,GAEFA,IAAUG,EAAUH,GAAzB,CAGA,GAAIA,EAAOH,SAAWG,EAAOH,QAAQxQ,OAAQ,CAIzC,IAHA0T,EAAWM,EAAerD,EAAQH,GAClCe,EAAoBZ,GAAQ,GAC5BwI,EAAkB9J,EAAS/G,EAAE,eAAgBkY,EAAKtE,cAAesE,EAAKhN,MAAO,UAAYE,EAASO,IAAM,QAASP,EAASxB,MAAM,GAC3HzE,EAAM,EAAGA,EAAMkD,EAAOH,QAAQxQ,OAAQyN,IACvC5H,KAAKk4B,WAAWptB,EAAOH,QAAQ/C,GAGnC,OADA+S,GAAKnT,QAAQwR,IAAclO,OAAQA,IACnC,EA4BJ,GA1BA8I,EAAc7M,GAAQ+D,EAAQkD,EAAYrD,IAC1Ce,EAAoBZ,GAAQ,GAC5B6P,EAAK8sB,sBAAsB38B,GAAQ,GACnC6P,EAAKoG,aACLpG,EAAK+qB,cACL/qB,EAAKqrB,oBACDl8B,EAAY6Q,EAAKhN,MACrB65B,EAAkB5zB,EACd+G,EAAKtE,cAAgBsmB,EAAqB/oB,EAC1C9J,EAAY6Q,EAAKtE,aAAazM,KAAK,gBAEnC49B,GAAmB7K,EAEvBtwB,EAAO8D,EAAcrG,GAAWR,GAAGk+B,GACnCn7B,EAAK,GAAGtJ,MAAMgJ,QAAU,GACxBuH,EAAkB9J,EAAS/G,EAAE,eAAgBkY,EAAKtE,cAAesE,EAAKhN,MAAO,uBAAwBiG,GAAa,GAC9GqR,EAAO,KACPtK,EAAK+qB,YAAYzgB,EAAOrb,KAAK,+BAC7B+Q,EAAKqrB,kBAAkB/gB,EAAOrb,KAAK,iCACnC0J,EAAkB2R,EAAOrb,KAAK,yBAA0BgK,GAAa,IAErE+G,EAAKxE,aAAewmB,EAAqB/oB,EACzCO,EAAgBwG,EAAKxE,YAAYvM,KAAK,aAAcgK,GAEpDO,EAAgBwG,EAAKtJ,MAAM/D,WAAYsG,EAAc+oB,GAErDhiB,EAAKxE,YACLwE,EAAK0S,qBACL1S,EAAKiP,8BACLjP,EAAKkP,2BACLlP,EAAKmP,8BAGL,IADA4C,EAASjqB,EAAE,0DAA2DkY,EAAKc,SAAS3S,IAAI6R,EAAKrJ,OACxFxG,EAAOnI,MAEL,CAGH,IAFAA,EAAQ,EACR2M,EAAOqL,EAAKhN,MAAM1O,OAAO2K,KAAK,OACzBhC,EAAM,EAAGzN,EAASmV,EAAKnV,OAAQyN,EAAMzN,EAAQyN,GAAO,EAAG,CAExD,GADA2H,EAAWD,EAAK1H,GAAK7E,MAAMJ,MACvB4M,EAASC,QAAQ,QAAW,CAC5B7M,EAAQ,CACR,OAEJA,GAAS8M,SAASF,EAAU,IAEhCoL,EAAK6O,aAAe,KAChB7mB,IACA+pB,EAAOlG,KAAK,WACRxmB,KAAK+C,MAAMJ,MAAQA,EAAQ,OAE/BgY,EAAK6O,aAAe7mB,OAjBxB+pB,GAAO/pB,MAAM,GAqBrBgY,GAAK2S,0BACL3S,EAAKnT,QAAQwR,IAAclO,OAAQA,MAEvCo0B,UAAW,SAAUgF,GACjB,GAAI98B,GAAUpH,KAAKoH,OACfpH,MAAKyJ,cACLrC,EAAUpH,KAAKyb,QACRzb,KAAKoH,QAAQgL,GAAG,SACvBhL,EAAUpH,KAAKoH,QAAQ4H,SAChBhP,KAAK0J,SAAW1J,KAAK0J,QAAQvP,SACpCiN,EAAUpH,KAAK0J,SAEnBhO,GAAMyb,GAAG2H,SAAS1X,EAAS88B,IAE/ByD,QAAS,SAAUtrC,EAAMurC,GACrB5nC,KAAK6pB,2BACL7pB,KAAK8pB,0BACD9pB,KAAK0J,UACL1J,KAAKg+B,mBACLh+B,KAAK8gB,qBAEL9gB,KAAKmiB,oBAAsBylB,GAAS5nC,KAAK6+B,cACrC+I,IACA5nC,KAAK6+B,WAAa,MAEtB7+B,KAAKmiB,kBAAkBpD,qBAG/B8oB,iBAAkB,WACd,GAAIxL,GAAS/kB,IACb,SAAK+kB,IAGEr8B,KAAKsR,MAAM,KAAO+qB,GAAU55B,EAAEmrB,SAAS5tB,KAAKsR,MAAM,GAAI+qB,IAAWr8B,KAAKg1B,cAAgBh1B,KAAKmW,YAAY,KAAOkmB,GAAU55B,EAAEmrB,SAAS5tB,KAAKmW,YAAY,GAAIkmB,MAEnKthB,QAAS,SAAUpX,GACf,GAAwF8tB,GAApF9W,EAAO3a,KAAM8T,EAAO6G,EAAKM,WAAWyY,OAAQ9c,EAAc+D,EAAK1V,QAAQ2R,YAA2B1T,EAAUT,EAAEkY,EAAKzX,WAAY4kC,GAAoB,EAAO56B,GAAUyN,EAAKM,WAAWuK,aAAerrB,OAAQ8c,EAAU/J,EAASgD,EAAmBlE,EAAe2O,EAAKhQ,UAAUxQ,MAC/QwJ,IAAkB,eAAbA,EAAEokC,QAA2BptB,EAAK+H,WAGvC/e,GAAkB,WAAbA,EAAEokC,QAAuBptB,EAAK+H,UAAY/H,EAAK+H,SAASzd,QAAQ8pB,OAAShoB,GAAQ4T,EAAK+H,SAASzd,QAAQ8pB,MAAOprB,EAAEqQ,WACrH2G,EAAK+H,SAASzd,QAAQ8pB,MAAM5T,OAAOrC,GAAQ6B,EAAKwV,qBAEpDxsB,EAAIA,MACAgX,EAAKnT,QAAQ,eACTugC,OAAQpkC,EAAEokC,QAAU,SACpBzgC,MAAO3D,EAAE2D,MACT0M,MAAOrQ,EAAEqQ,UAIjB2G,EAAK6I,cAAc,WACf5M,IAAgB+D,EAAKktB,oBAAsBltB,EAAKwT,gBAAkBxT,EAAKwT,eAAera,KAAK,kBAC3Fg0B,EAAoB5kC,EAAQkP,GAAG,MAC/Bqf,EAAetwB,KAAKvI,IAAI+hB,EAAK8S,UAAUvqB,GAAU,IAErDyX,EAAKwJ,mBACLxJ,EAAKukB,WAAU,GACfvkB,EAAKuN,oBACLvN,EAAK4K,SACA5K,EAAKhQ,QAAQxQ,SACdwgB,EAAKsrB,aAAatrB,EAAK2sB,eAAexzB,EAAK,GAAI5G,IAC/C+J,EAAU/J,EAASyN,EAAKhQ,QAAQxQ,QAEpCwgB,EAAK8G,OAASvU,EAAS,GAAKyN,EAAK8G,OAC7B9G,EAAK8G,SACL9G,EAAKoG,aACLpG,EAAK+qB,cACL/qB,EAAKqrB,oBACLrrB,EAAK2mB,cAAcp0B,GACnByN,EAAK8G,OAASvU,EAAS,GAE3ByN,EAAKqtB,eAAel0B,EAAMmD,EAAS/J,GACnCyN,EAAKstB,qBAAqBn0B,EAAMmD,EAAS/J,GACzCyN,EAAKgH,UACLhH,EAAKmjB,0BACLnjB,EAAKmG,oBACLnG,EAAKqjB,iBAAiBrjB,EAAKjR,SAAWiR,EAAKjR,QAAQ+L,cAC/CkF,EAAKxE,cACDwE,EAAK1V,QAAQ+c,WAAWC,QACxBtH,EAAKjR,QAAQE,KAAK,+BAA+BpC,QAAQ,UAClDmT,EAAK4U,cACZ5U,EAAK4U,cAAcsO,QAAQr2B,QAAQ,WAEnCmT,EAAKc,QAAQ5F,IAAI,SAAU,SAAUlS,GACjCA,EAAEirB,oBAENjU,EAAKjR,QAAQlC,QAAQ,YAG7BmT,EAAKutB,gBAAgBzW,EAAcqW,GAC/BntB,EAAK4U,eACL5U,EAAK4U,cAAc4Y,iBAEnBxtB,EAAKyH,YACLzH,EAAKyH,WAAWgmB,mBAEpBztB,EAAK0tB,mBAAmB,WACpB1tB,EAAK6I,cAAc,aAEvB7I,EAAKnT,QAAQ0R,OAEjBgvB,gBAAiB,SAAUzW,EAAcqW,GAAxB,GAQL/3B,GAMA3B,EAKAsf,CAlBJ+D,KAAiBx2B,GAAaw2B,EAAe,IAGjDzxB,KAAKi5B,iBACD6O,EACA9nC,KAAK2W,YAAY3W,KAAK2N,MAAM/D,KAAK,yBAAyBN,GAAGmoB,KAEzD1hB,EAAW,EACX/P,KAAK84B,iBACL/oB,EAAW/P,KAAKmiB,kBAAkBtU,SAAS7N,KAAK84B,kBAEhDrH,EAAe,EAEfrjB,EAAM3L,IACNzC,KAAKmW,cACL/H,EAAMpO,KAAKmW,YAAYvM,KAAK,aAAaN,GAAGyG,IAEhD3B,EAAMA,EAAItF,IAAI9I,KAAKqR,MAAM/D,WAAWhE,GAAGyG,IACnC2d,EAAKtf,EAAIxE,KAAK,iDAAiDN,GAAGmoB,GACtEzxB,KAAK2W,YAAY+W,IAEjB1tB,KAAKu4B,UACLjjB,GAAWtV,KAAKu4B,SAAS5nB,QAAQ,SAAS,IAAI,KAGtD6S,cAAe,SAAU8kB,GACrB5sC,GAAMyb,GAAG+I,gBAAgBtF,GAAG4I,cAAc3I,KAAK7a,KAAMsoC,GACzC,YAARA,GACAtoC,KAAKuoC,sBAETvoC,KAAKwoC,mBAAmBF,GACxBtoC,KAAKyoC,yBAAyBH,IAElCC,oBAAqB,WACjB,GAAI5tB,GAAO3a,IACP2a,GAAKgM,gBACLhM,EAAK4L,QAAQ,UAAW,WACpB,OAAS/c,SAAUmR,EAAKtJ,MAAM/D,SAAS,oBAE3CqN,EAAKtJ,MAAMzH,KAAK,kBAAkB4H,UAG1Cg3B,mBAAoB,SAAUF,GAC1B,GAAI3tB,GAAO3a,KAAM8J,EAAY6Q,EAAKtJ,KAC9BsJ,GAAKlR,gBACLK,EAAY6Q,EAAKxE,YAAYvM,KAAK,UAElC+Q,EAAK8G,QACL9G,EAAK4L,QAAQ+hB,EAAK,WACd,OACI9+B,SAAUM,EAAUwD,SAAS,mBAC7BwG,KAAMrR,EAAEnC,IAAIuT,EAAU8G,EAAKM,WAAWyY,QAAS,SAAUjD,GACrD,OAASA,SAAUA,SAMvCgY,yBAA0B,SAAUH,GAChC,GAAI3tB,GAAO3a,KAAM8J,EAAY6Q,EAAKtJ,KAC9BsJ,GAAKlR,gBACLK,EAAY6Q,EAAKvT,SAEjBuT,EAAK8G,QAAU9G,EAAKkK,qBACpBlK,EAAK4L,QAAQ+hB,EAAK,WACd,OACI9+B,SAAUM,EAAUF,KAAK,mBACzBkK,KAAMrR,EAAEnC,IAAI2T,EAAa0G,EAAKM,WAAWyY,QAAS,SAAUjD,GACxD,OAASA,SAAUA,SAMvCuX,eAAgB,SAAUl0B,EAAMmD,EAAS/J,GACrC,GAAiBtF,GAAKzN,EAAlBwgB,EAAO3a,KAAmBuR,EAAO,GAAImX,EAAiC,MAAtB/N,EAAKlR,cAAuB48B,GACxE1jB,YAAahI,EAAKgI,YAClBC,eAAgBjI,EAAKiI,eACrBiC,oBAAqBlK,EAAKkK,oBAGlC,IADA5N,EAAUyR,EAAWzR,EAAU/G,EAAmBD,EAAqB0K,EAAKhQ,UAAUxQ,OAAS8c,EAC3F/J,EAAS,EAQT,IAPA+J,EAAUyR,EAAWzR,EAAU/J,EAAS+J,EACpC0D,EAAKsI,gBACLhM,IAEA0D,EAAKkK,sBACLlK,EAAKisB,8BAAgCjsB,EAAKM,WAAW/G,cAEpDtM,EAAM,EAAGzN,EAAS2Z,EAAK3Z,OAAQyN,EAAMzN,EAAQyN,IAC9C2J,GAAQoJ,EAAK2rB,cAAcxyB,EAAKlM,GAAMqP,EAAS,EAAGyR,EAAWxR,GAA+BF,GAAiBqvB,EAAW3d,OAG5HnX,IAAQoJ,EAAKyrB,UAAUtyB,EAAMuyB,EAEjC1rB,GAAKtJ,MAAQD,EAAcuJ,EAAKtJ,MAAOsJ,EAAKrJ,MAAOC,EAAMvR,KAAKiF,QAAQ0gB,WAE1EsiB,qBAAsB,SAAUn0B,EAAMmD,EAAS/J,GAAzB,GACHtF,GAAKzN,EAMZmX,EANJC,EAAO,GAAiB80B,GACpB1jB,YAAa3iB,KAAK0kB,kBAClB9B,eAAgB5iB,KAAK2kB,qBACrBE,oBAAqB7kB,KAAK8kB,0BAElC,IAAI9kB,KAAKyJ,cAAe,CAEpB,GADI6H,EAAQtR,KAAKmW,YACbjJ,EAAS,EAET,IADA+J,GAAoBjL,EAAegC,EAAYrB,EAAiB3M,KAAK2K,WAAWxQ,OAC3EyN,EAAM,EAAGzN,EAAS2Z,EAAK3Z,OAAQyN,EAAMzN,EAAQyN,IAC9C2J,GAAQvR,KAAKsmC,cAAcxyB,EAAKlM,GAAMqP,EAAS,EAAGD,GAAiBqvB,OAGvE90B,GAAOvR,KAAKomC,UAAUtyB,EAAMuyB,EAEhCj1B,GAAcE,EAAMhE,SAAS,SAAUgE,EAAOC,EAAMvR,KAAKiF,QAAQ0gB,UACjE3lB,KAAK6pB,6BAGb2F,kBAAmB,SAAU9a,EAAQC,GAAlB,GACkC/M,GAazCuN,EACAC,EACAxS,EAfJuK,EAAOuH,EAAO,GAAGvH,KAAMhT,EAASgT,EAAKhT,OAAauuC,EAAQ/zB,EAAO,GAAGxH,KAAMw7B,EAAaj0B,EAAO5L,IAAI6L,GAASi0B,EAAmBD,EAAWxuC,OAAQ0uC,IACrJ,KAAKjhC,EAAM,EAAGA,EAAMzN,GACXuuC,EAAM9gC,GADaA,IAIpBuF,EAAKvF,GAAK7E,MAAMH,SAChBuK,EAAKvF,GAAK7E,MAAMH,OAAS8lC,EAAM9gC,GAAK7E,MAAMH,OAAS,GAG3D,KAAKgF,EAAM,EAAGA,EAAMzN,GACXuuC,EAAM9gC,GADaA,IAIpBuN,EAAgBhI,EAAKvF,GAAK7B,aAC1BqP,EAAgBszB,EAAM9gC,GAAK7B,aAC3BnD,EAAS,EACTuS,EAAgBC,EAChBxS,EAASuS,EACFA,EAAgBC,IACvBxS,EAASwS,GAEbyzB,EAAQjvC,KAAKgJ,EAEjB,KAAKgF,EAAM,EAAGA,EAAMghC,EAAkBhhC,IAClC+gC,EAAW/gC,GAAK7E,MAAMgJ,QAAU,MAEpC,KAAKnE,EAAM,EAAGA,EAAMzN,EAAQyN,IACpBihC,EAAQjhC,KACRuF,EAAKvF,GAAK7E,MAAMH,OAAS8lC,EAAM9gC,GAAK7E,MAAMH,OAASimC,EAAQjhC,GAAO,EAAI,KAG9E,KAAKA,EAAM,EAAGA,EAAMghC,EAAkBhhC,IAClC+gC,EAAW/gC,GAAK7E,MAAMgJ,QAAU,KAIxCrQ,IAAMotC,YACNptC,GAAMotC,WAAW3kC,OAAO8b,GAAKpI,WAE7Bnc,GAAMqtC,WACNrtC,GAAMqtC,SAAS5kC,OAAO8b,GAAKpI,WAC3BoI,GAAKpI,UAAUmxB,uBAAyB,SAAUlqB,GAyB9C,QAASgU,KACDmW,GAAYC,IAAiBjuC,GAC7BggB,EAAWpF,IAAI,SAAUszB,GACzBluB,EAAWsE,KAAK2pB,KAEhB5S,EAAKvb,UACLouB,KAGR,QAASA,KACLC,EAAK7/B,SAAS/F,SAASqC,KACvB,IAAIZ,GAAUxC,EAAE0B,UAAWmyB,EAAKrxB,QAAQ+a,KACpCqpB,cAAc,EACdvqB,SAAU,SAAUrmB,GAChBqmB,EAASiD,QACLxC,KAAM9mB,EAAE8mB,KACR+pB,WAAY7wC,EAAE8wC,QACdzqB,SAAU,GAAMrmB,EAAE8wC,QAAU9wC,EAAE27B,WAAa,EAC3CA,WAAY37B,EAAE27B,eAI1B14B,IAAMwG,QAAQsnC,QAAQC,EAAOxkC,GAASykC,OAAO,WACzCN,EAAKv5B,WACN9L,KAAK,SAAUyhB,GACdhpB,EAAOs2B,QAAQtN,KAChBmkB,KAAK,SAAUC,GACdptC,EAAOo2B,OAAOgX,KAGtB,QAASC,KAAT,GACQN,GAAUtuB,EAAWsE,OACrB6U,EAAa6U,EAAWhuB,EAAWmZ,aAAe,CACtDvuB,GAAKzK,OAAO0uC,EAASlgC,KAAK,OACtB2/B,EAAUnV,EACVnZ,EAAWsE,KAAKgqB,EAAU,IAE1BtuB,EAAWE,OAAO,SAAU0uB,GAC5B/W,KA/D4B,GAuBhCjtB,GACAqjC,EAvBA5S,EAAOt2B,KACPxD,EAAS,GAAIiG,GAAEkwB,SACf1X,EAAaqb,EAAKrb,WAClBguB,EAAW3S,EAAKrxB,QAAQ+a,IAAIipB,SAC5Ba,EAAWxT,EAAK7a,QAAQ7R,KAAK,yBAC7Bw/B,EAAO3mC,EAAE,SAASsG,KAClB8E,SAAU,WACV5M,UACAomB,WAEAoiB,EAAQnT,EAAK7a,QAAQguB,QAAQ1gC,KAC7BnG,OAAQ,OACRD,MAAO,SACR4G,SAAS6/B,EA0DZ,OAzDAK,GAAM7/B,KAAK,mBAAmBb,KAC1BnG,OAAQ,OACRD,MAAO,OACPmZ,SAAU,YAEd2tB,EAAM7/B,KAAK,sDAAsDiG,SACjE45B,EAAM7/B,KAAK,kBAAkBb,KAAMwhB,aAAc,IACjDvqB,KAAK+pC,iBAAiBjrB,GAClBjZ,EAAO4jC,EAAM7/B,KAAK,yBAAyB4H,QAC3C03B,EAAejuB,EAAWsE,OA0C1B0pB,GACAhuB,EAAWG,KAAK,SAAUyuB,GAC1B5uB,EAAWsE,KAAK,IAEhBsqB,IAEGrtC,EAAOq2B,WAElB5S,GAAKpI,UAAUmyB,SAAW,SAAUlrB,GAWhC,QAASgU,KACDmW,GAAYC,IAAiBjuC,GAC7BggB,EAAWE,OAAO,SAAU8uB,GAC5BhvB,EAAWpF,IAAI,SAAU,WACrBrZ,EAAOs2B,QAAQ9uB,KAEnBiX,EAAWsE,KAAK2pB,IAEhB1sC,EAAOs2B,QAAQ9uB,GAGvB,QAASimC,KACL3T,EAAK4T,gBAAiBvnC,MAAO2zB,EAAK7a,QAAQ9Y,UAAawnC,WAAY7T,EAAKrxB,QAAQ+a,IAAImqB,aAAcC,KAAK,SAAU5kB,GAAV,GAC/F+jB,GAAUtuB,EAAWsE,OACrB6U,EAAa6U,EAAWhuB,EAAWmZ,aAAe,EAClDiW,GACA9qB,KAAMiG,EACN8jB,WAAYC,EACZzqB,SAAUyqB,EAAUnV,EACpBA,WAAYA,EAEhBtV,GAASiD,OAAOsoB,GAChBrmC,EAAI5I,OAAOivC,EAAK9qB,MACZgqB,EAAUnV,EACVnZ,EAAWsE,KAAKgqB,EAAU,GAE1BzW,MAEL6W,KAAK,SAAUC,GACdptC,EAAOo2B,OAAOgX,KAxCA,GAKlBptC,GACAye,EACAguB,EAEAjlC,EACAklC,EATA5S,EAAOt2B,IACX,OAAIs2B,GAAKrxB,QAAQ+a,IAAIsqB,WAA2C,QAA9BhU,EAAKrxB,QAAQ+a,IAAIsqB,UACxChU,EAAK0S,uBAAuBlqB,IAEnCtiB,EAAS,GAAIiG,GAAEkwB,SACf1X,EAAaqb,EAAKrb,WAClBguB,EAAW3S,EAAKrxB,QAAQ+a,IAAIipB,SAChCjpC,KAAK+pC,iBAAiBjrB,GAClB9a,EAAM,GAAItI,IAAMwG,QAAQqoC,MACxBrB,EAAejuB,EAAWsE,OAiC1B0pB,GACAhuB,EAAWG,KAAK,SAAU6uB,GAC1BhvB,EAAWsE,KAAK,IAEhB0qB,IAEGztC,EAAOq2B,YAElB5S,GAAKpI,UAAUkyB,iBAAmB,SAAUrX,GAAV,GAQ1B8X,GAPAC,EAAUhoC,EAAE,uEAChBgoC,GAAQp4B,QAAQrS,KAAKyb,QAAQguB,QAAQ1gC,KACjC8E,SAAU,WACVwZ,IAAK,EACLpmB,KAAM,KAEVjB,KAAKyb,QAAQrgB,OAAOqvC,GAChBD,EAAK/nC,EAAE,wCAA0C8G,SAASkhC,GAASC,kBACnEvI,KAAM,QACNwI,WAAY,GACZhyC,IAAK,EACLC,IAAK,EACLV,MAAO,IACR4b,KAAK,oBACR4e,EAAS5T,SAAS,SAAUnb,GACxB6mC,EAAGtyC,MAAMyL,EAAEmb,YACZ4qB,OAAO,WACNhuC,GAAM8f,QAAQivB,GACdA,EAAQ56B,aA6HpBsH,GAAGyzB,OAAO3qB,IACV9I,GAAGyzB,OAAOlwB,KACZjZ,OAAO/F,MAAMyK,QACR1E,OAAO/F,OACE,kBAAV1D,SAAwBA,OAAOqK,IAAMrK,OAAS,SAAUsK,EAAIC,EAAIC,IACrEA,GAAMD","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        function isUnicodeLetter(ch) {\n            return RX_UNICODE_LETTER.test(ch);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort,\n                isUnicodeLetter: isUnicodeLetter\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n        var RX_UNICODE_LETTER = new RegExp('[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]');\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, math = Math, PROGRESS = 'progress', ERROR = 'error', DATA_CELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', EDIT = 'edit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', FOCUSED = 'k-state-focused', SELECTED = 'k-state-selected', NORECORDSCLASS = 'k-grid-norecords', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', NAVIGATE = 'navigate', CLICK = 'click', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '<a class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass# #=imageClass#\"></span>#=text#</a>', isRtl = false, browser = kendo.support.browser, isIE7 = browser.msie && browser.version == 7, isIE8 = browser.msie && browser.version == 8;\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                if (kendo.support.kineticScrollNeeded) {\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            wrapper.scrollLeft(wrapper.scrollLeft() - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemIndex = math.max(firstItemIndex + math.floor(height / rowHeight), 0);\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart + 1;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = this._scrollTop || container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = (firstItemIndex - rangeStart) * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = firstItemIndex;\n                    that._scrollTop = itemHeight;\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource;\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (dataSource.inRange(skip, take)) {\n                    dataSource.range(skip, take);\n                } else {\n                    if (!delayLoading) {\n                        kendo.ui.progress(that.wrapper.parent(), true);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                kendo.ui.progress(that.wrapper.parent(), true);\n                            }\n                            dataSource.range(skip, take);\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function () {\n                var that = this, html = '', maxHeight = 250000, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = dataSource.total() * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                wrapperElement.scrollTop = that._scrollTop;\n            },\n            refresh: function () {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                kendo.ui.progress(that.wrapper.parent(), false);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar();\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (rangeStart && !that._fetching) {\n                    that._rangeStart = dataSource.skip();\n                    if (dataSource.page() === 1) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    result += attr + '=\"' + attributes[attr] + '\"';\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                imageClass: 'k-i-add',\n                className: 'k-grid-add',\n                iconClass: 'k-icon'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                imageClass: 'k-i-cancel',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon'\n            },\n            save: {\n                text: 'Save changes',\n                imageClass: 'k-i-update',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon'\n            },\n            destroy: {\n                text: 'Delete',\n                imageClass: 'k-i-delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon'\n            },\n            edit: {\n                text: 'Edit',\n                imageClass: 'k-i-edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon'\n            },\n            update: {\n                text: 'Update',\n                imageClass: 'k-i-update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon'\n            },\n            canceledit: {\n                text: 'Cancel',\n                imageClass: 'k-i-cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon'\n            },\n            excel: {\n                text: 'Export to Excel',\n                imageClass: 'k-i-excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                imageClass: 'k-i-pdf',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden);\n                }\n                var uid = kendo.guid();\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            var method = visible ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row).append(t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = source.locked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && target.locked == locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index += before ? -1 : 1;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('colSpan')) {\n                        offset += parentCell[0].colSpan;\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/((.*)?display)(.*)?:([^;]*)/i, '$1:none');\n                if (style === attr.style) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n            if (browser.msie && browser.version == 8) {\n                table.css('display', 'inline-table');\n                window.setTimeout(function () {\n                    table.css('display', '');\n                }, 1);\n            }\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns(that.options.columns);\n                that._dataSource();\n                that._tbody();\n                that._pageable();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                COLUMNMENUINIT,\n                EDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                NAVIGATE,\n                'page',\n                'sort',\n                'filter',\n                'group'\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(0);\n                    } else {\n                        that.content.scrollLeft(0);\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                editable: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text\n                    },\n                    noRecords: NORECORDS\n                }\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                this._navigatableTables = null;\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                that.pager = null;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = dataSource.filter();\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return !tr.hasClass('k-grouping-row') && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                if (isIE7) {\n                    table.attr('cellspacing', 0);\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var groups = this._groups();\n                var left;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                if (!isRtl) {\n                    left = th[0].offsetWidth;\n                    var cells = leafDataCells(th.closest('thead')).filter(':visible');\n                    for (var idx = 0; idx < cells.length; idx++) {\n                        if (cells[idx] == th[0]) {\n                            break;\n                        }\n                        left += cells[idx].offsetWidth;\n                    }\n                    if (groups > 0) {\n                        left += outerWidth(container.find('.k-group-cell:first')) * groups;\n                    }\n                    if (that._hasDetails()) {\n                        left += outerWidth(container.find('.k-hierarchy-cell:first'));\n                    }\n                } else {\n                    left = th.position().left;\n                    if (scrollable) {\n                        var headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked'), ieCorrection = browser.msie ? headerWrap.scrollLeft() : 0, webkitCorrection = browser.webkit ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft() : 0, firefoxCorrection = browser.mozilla ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - (headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft()) : 0;\n                        left -= webkitCorrection - firefoxCorrection + ieCorrection;\n                    }\n                }\n                resizeHandle.css({\n                    top: th.position().top,\n                    left: left - indicatorWidth,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(th.data('index'));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, indicatorWidth = that.options.columnResizeHandleWidth, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'th', function (e) {\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    function getPageZoomStyle() {\n                        var docZoom = parseFloat($(document.documentElement).css('zoom'));\n                        if (isNaN(docZoom)) {\n                            docZoom = 1;\n                        }\n                        var bodyZoom = parseFloat($(document.body).css('zoom'));\n                        if (isNaN(bodyZoom)) {\n                            bodyZoom = 1;\n                        }\n                        return docZoom * bodyZoom;\n                    }\n                    var clientX = e.clientX / getPageZoomStyle(), winScrollLeft = $(window).scrollLeft(), position = th.offset().left + (!isRtl ? this.offsetWidth : 0);\n                    if (clientX + winScrollLeft > position - indicatorWidth && clientX + winScrollLeft < position + indicatorWidth) {\n                        that._createResizeHandle(th.closest('div'), th);\n                    } else if (that.resizeHandle) {\n                        that.resizeHandle.hide();\n                    } else {\n                        cursor(that.wrapper, '');\n                    }\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._hideResizeHandle();\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        th.addClass('k-column-active');\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: outerHeight(handle.data('th')) + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            columnStart = e.x.location;\n                            columnWidth = outerWidth(th);\n                            gridWidth = isLocked ? outerWidth(contentTable.children('tbody')) : outerWidth(that.tbody);\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                            } else if (currentWidth > 10) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = outerWidth(th), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                            }\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    var header = that.wrapper.children('.k-grid-header');\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        dragstart: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling').bind('scroll' + NS + 'scrolling', function (e) {\n                                if (that.virtualScrollable) {\n                                    that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(this.scrollLeft);\n                                } else {\n                                    that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                                }\n                            });\n                        },\n                        dragend: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling');\n                        },\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            var title = target.attr(kendo.attr('title'));\n                            if (title) {\n                                title = kendo.htmlEncode(title);\n                            }\n                            return $('<div class=\"k-header k-drag-clue\" />').css({\n                                width: target.width(),\n                                paddingLeft: target.css('paddingLeft'),\n                                paddingRight: target.css('paddingRight'),\n                                lineHeight: target.height() + 'px',\n                                paddingTop: target.css('paddingTop'),\n                                paddingBottom: target.css('paddingBottom')\n                            }).html(title || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-denied\" />');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    var targetParentContainerIndex = function (columns, sourceIndex, targetIndex) {\n                        var column = columns[sourceIndex];\n                        var target = columns[targetIndex];\n                        var parent = columnParent(column, that.columns);\n                        columns = parent ? parent.columns : that.columns;\n                        return inArray(target, columns);\n                    };\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                var ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups());\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.thead, that.lockedHeader.find('thead'), this._groups());\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before);\n                        if (target) {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(source, visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    if (isLocked) {\n                        colDest = that.lockedTable.find('colgroup');\n                        headerCol = that.lockedHeader.find('colgroup');\n                        footerCol = $(that.lockedFooter).find('>table>colgroup');\n                    } else {\n                        colDest = that.tbody.prev();\n                        headerCol = that.thead.prev();\n                        footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, before, visibleSources.length);\n                if (that.options.scrollable) {\n                    reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, before, visibleSources.length);\n                }\n                if (footer && footer.length) {\n                    reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, before, visibleSources.length);\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, contentDiv, scrollLeft, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)';\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                    if (!isLocked) {\n                        contentDiv = contentTable.parent();\n                        scrollLeft = contentDiv.scrollLeft();\n                    }\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(outerWidth(th), outerWidth(contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)), outerWidth(footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)))) + 1;\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                if (scrollLeft) {\n                    contentDiv.scrollLeft(scrollLeft);\n                }\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length;\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _editable: function () {\n                var that = this, selectable = that.selectable && that.selectable.options.multiple, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            }\n                        }\n                    };\n                if (editable) {\n                    this.wrapper.addClass('k-editable');\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                var td = $(this), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                    return;\n                                }\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        if (selectable) {\n                                            $(activeElement()).blur();\n                                        }\n                                        that.closeCell();\n                                        that.editCell(td);\n                                    }\n                                } else {\n                                    that.editCell(td);\n                                }\n                            }).on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function () {\n                                that.timer = setTimeout(handler, 1);\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that.cellIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field) {\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content.height() - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._actionSheet) {\n                    that._actionSheet.destroy();\n                    that._actionSheet = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, id, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                id = cell.closest('tr').attr(kendo.attr('uid'));\n                model = that.dataSource.getByUid(id);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that.cellIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (cell.hasClass('k-dirty-cell')) {\n                    $('<span class=\"k-dirty\"/>').prependTo(cell);\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof kendo.data.ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[that.cellIndex(cell)];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this, html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form' + (that._isMobile ? ' k-mobile-list' : '') + '\"><div class=\"k-edit-form-container\">', column, command, fields = [], idx, length, tmpl, updateText, cancelText, tempCommand, columns = leafColumns(that.columns), attr, editable = that.options.editable, template = editable.template, options = isPlainObject(editable) ? editable.window : {}, settings = extend({}, kendo.Template, that.options.templateSettings);\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (!column.command) {\n                            html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>';\n                            if ((!model.editable || model.editable(column.field)) && column.field) {\n                                fields.push({\n                                    field: column.field,\n                                    format: column.format,\n                                    editor: column.editor,\n                                    values: column.values\n                                });\n                                html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                            } else {\n                                var state = {\n                                    storage: {},\n                                    count: 0\n                                };\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                if (state.count > 0) {\n                                    tmpl = proxy(tmpl, state.storage);\n                                }\n                                html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (command.text && isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</div></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'use-native-scrolling=\"true\" data-' + kendo.ns + 'init-widgets=\"false\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + (options.title || 'Edit') + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    }) + '</div>' + html + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                if (that._isMobile) {\n                    container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                        $(this).next().children('input').click();\n                    });\n                }\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                if (!this._isMobile) {\n                    this._editContainer.data('kendoWindow').center().open();\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this, column, cell, command, fields = [];\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that.cellIndex(cell)];\n                    if (!column.command && column.field && (!model.editable || model.editable(column.field))) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, attr;\n                            if (isPlainObject(command)) {\n                                if (command.text && isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that.editable = new kendo.ui.Editable(row.addClass('k-grid-edit-row'), {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var container = this._editContainer;\n                var model = this._modelForContainer(container);\n                var deferred = $.Deferred();\n                if (!container || !this.editable) {\n                    return deferred.resolve().promise();\n                }\n                if (!this.editable.end() || this.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    return deferred.reject().promise();\n                }\n                return this.dataSource.sync();\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    row.replaceWith(newRow);\n                    that.trigger('itemChange', {\n                        item: newRow,\n                        data: model,\n                        ns: ui\n                    });\n                    if (related && related.length) {\n                        that.trigger('itemChange', {\n                            item: related,\n                            data: model,\n                            ns: ui\n                        });\n                    }\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && that.options.selectable) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-i-expand').addClass('k-i-collapse');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var template = kendo.template('<ul>' + '<li class=\"km-actionsheet-title\">#:title#</li>' + '<li><a href=\"\\\\#\" class=\"k-button k-grid-delete\">#:confirmDelete#</a></li>' + '</ul>');\n                var html = $(template(messages)).appendTo(that.view.element);\n                var actionSheet = that._actionSheet = new kendo.mobile.ui.ActionSheet(html, {\n                    cancel: messages.cancelDelete,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var item = $(e.currentTarget).parent();\n                        if (!item.hasClass('km-actionsheet-cancel')) {\n                            that._removeRow(row);\n                        }\n                    },\n                    popup: that._actionSheetPopupOptions\n                });\n                actionSheet.open(row);\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== STRING && confirmation !== false) {\n                    confirmation = that.options.messages.editable.confirmation;\n                }\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                this.dataSource.cancelChanges();\n            },\n            saveChanges: function () {\n                var that = this;\n                if ((that.editable && that.editable.end() || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAt.toLowerCase() == 'bottom') {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    var model = dataSource.insert(index, {}), id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-header k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '';\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        html += that._createButton(commands[idx]);\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        imageClass: '',\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit' && isPlainObject(command.text)) {\n                        command = extend(true, {}, command);\n                        command.text = command.text.edit;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), group = element.closest('tr');\n                        if (element.hasClass('k-i-collapse')) {\n                            that.collapseGroup(group);\n                        } else {\n                            that.expandGroup(group);\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that.groupable.destroy();\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable,\n                        change: function (e) {\n                            if (that.trigger('group', { groups: e.groups })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }));\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        }\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            current.removeClass(SELECTED);\n                                            that.trigger(CHANGE);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                that.selectable.value(current);\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            getTSV: function () {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                that.selectable.clear();\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (!selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            return that._relatedRow(this);\n                        }));\n                    }\n                    selectable.value(items);\n                    return;\n                }\n                return selectable.value();\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(FOCUSED).removeAttr('aria-describedby').closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._cellId).addClass(FOCUSED).closest('table').attr('aria-activedescendant', this._cellId);\n                if (!next.closest('tr').hasClass('k-grouping-row') && !next.hasClass('k-header')) {\n                    var column = this.columns[this.cellIndex(next)];\n                    if (column) {\n                        headerId = column.headerAttributes.id;\n                    }\n                    next.attr('aria-describedby', headerId + ' ' + this._cellId);\n                } else {\n                    next.attr('aria-describedby', this._cellId);\n                }\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').addBack().last()[0];\n                if (isInContent) {\n                    if (scrollable.virtual) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        this._updateCurrentAttr(current, next);\n                        this._scrollCurrent();\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                if (kendo.support.touch) {\n                    return;\n                }\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    this._setCurrent(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                current = current ? current : $(this.lockedTable).add(this.table).find(FIRSTNAVITEM);\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        container = this._horizontalContainer(container);\n                        next = this._prevHorizontalCell(container, current, index);\n                        if (next[0] !== current[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        container = this._horizontalContainer(container, true);\n                        next = this._nextHorizontalCell(container, current, index);\n                        if (next[0] !== current[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current) {\n                var container = current.parent().parent();\n                var next = this._prevVerticalCell(container, current);\n                if (!next[0]) {\n                    container = this._verticalContainer(container, true);\n                    next = this._prevVerticalCell(container, current);\n                    if (next[0]) {\n                        focusTable(container.parent(), true);\n                    }\n                }\n                this._setCurrent(next);\n                return true;\n            },\n            _moveDown: function (current) {\n                var container = current.parent().parent();\n                var next = this._nextVerticalCell(container, current);\n                if (!next[0]) {\n                    container = this._verticalContainer(container);\n                    next = this._nextVerticalCell(container, current);\n                    if (next[0]) {\n                        focusTable(container.parent(), true);\n                    }\n                }\n                this._setCurrent(next);\n                return true;\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th')) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && row.is('.k-master-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable && this.options.editable.update !== false;\n                var container = target.closest('[role=gridcell]');\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    current.find('.k-link').click();\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children().first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = row.children(DATA_CELL).index(current);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).eq(index);\n                }\n                if (rowIndex == -1) {\n                    row = container.find('.k-filter-row');\n                    if (!row[0]) {\n                        return leafDataCells(container).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? 'thead' : 'tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, oldIE = isIE && browser.version < 9, editContainer = that._editContainer, focusable, editable = that.options.editable && that.options.editable.update !== false, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        if (browser.opera || oldIE) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                if (oldIE) {\n                    document.body.focus();\n                }\n                focusTable(table, true);\n                if (!editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    if (mode == 'incell') {\n                        that.editCell(that.current());\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = kendo.mobile.ui.Pane.wrap(html);\n                    this.view = this.pane.view();\n                    this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                        align: 'bottom center',\n                        position: 'bottom center',\n                        effect: 'slideIn:up'\n                    };\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    }\n                    this._editAnimation = 'slide';\n                    this.view.bind('show', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual && !that.virtualScrollable, scrollbar = !kendo.support.kineticScrollNeeded || hasVirtualScroll ? kendo.support.scrollbar() : 0;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    if (isIE7) {\n                        table.attr('cellspacing', 0);\n                    }\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    if (that.content.is('.k-virtual-scrollable-wrap, .km-scroll-container')) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (hasVirtualScroll) {\n                        that.virtualScrollable = new VirtualScrollable(that.content, {\n                            dataSource: that.dataSource,\n                            itemHeight: function () {\n                                return that._averageRowHeight();\n                            }\n                        });\n                    }\n                    that.scrollables = header.children('.k-grid-header-wrap').add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            that.scrollables.scrollLeft(this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                    } else {\n                        that.content.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                that.scrollables.scrollLeft(-e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        that.angular('cleanup', function () {\n                            return { elements: noRecordsElement.get() };\n                        });\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        noRecordsElement = $(that.noRecordsTemplate({})).insertAfter(that.table);\n                        that.angular('compile', function () {\n                            return {\n                                elements: noRecordsElement.get(),\n                                data: [{}]\n                            };\n                        });\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (!isNaN(parseFloat(scrollLeft, 10))) {\n                                that.content.scrollLeft(scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += outerWidth(this.lockedHeader.find('.k-group-cell:first')) * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 2 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height = that.wrapper.innerHeight(), header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    height -= outerHeight(header);\n                    if (that.pager) {\n                        height -= outerHeight(that.pager.element);\n                    }\n                    if (options.groupable) {\n                        height -= outerHeight(that.wrapper.children('.k-grouping-header'));\n                    }\n                    if (options.toolbar) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-toolbar'));\n                    }\n                    if (that.footerTemplate) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-footer'));\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = outerHeight(that.table) / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that.cellIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                                $('<span class=\"k-dirty\"/>').prependTo(cell);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if (selectable && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                        if (column.field === e.field) {\n                            $('<span class=\"k-dirty\"/>').prependTo(cell);\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, wrapper, pageable = that.options.pageable;\n                if (pageable) {\n                    wrapper = that.wrapper.children('div.k-grid-pager');\n                    if (!wrapper.length) {\n                        wrapper = $('<div class=\"k-pager-wrap k-grid-pager\"/>').appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        that.pager = new kendo.ui.Pager(wrapper, extend({}, pageable, { dataSource: that.dataSource }));\n                    }\n                    that.pager.bind('pageChange', function (e) {\n                        if (that.trigger('page', { page: e.index })) {\n                            e.preventDefault();\n                        }\n                    });\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = $(that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).toArray()).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = that.content.scrollLeft();\n                        if (options.scrollable !== true && options.scrollable.virtual) {\n                            offset = that.wrapper.find('.k-virtual-scrollable-wrap').scrollLeft();\n                        }\n                        footerWrap.scrollLeft(offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        }\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        }\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                pane: that.pane,\n                                sort: sortHandler,\n                                filtering: filterHandler,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                lockedColumns: !hasMultiColumnHeaders && column.lockable !== false && lockedColumns(columns).length > 0\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return this.thead.find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        }\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                pane: that.pane,\n                                change: filterHandler\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row'), filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        }\n                    };\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators,\n                            change: filterHandler\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        }\n                    };\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)',\n                                change: sortHandler\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                that.columns = normalizeColumns(columns, encoded);\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups();\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    if (hasDetails) {\n                        className.push('k-master-row');\n                    }\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\"><a class=\"k-icon k-i-expand\" href=\"\\\\#\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes) + ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            html += that._createButton(column.command[idx]);\n                        }\n                        return html.replace(templateHashRegExp, '\\\\#');\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), columns = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs;\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse', function (e) {\n                    var button = $(this), expanding = button.hasClass('k-i-expand'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails();\n                    button.toggleClass('k-i-expand', !expanding).toggleClass('k-i-collapse', expanding);\n                    detailRow = masterRow.next();\n                    if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                        data = that.dataItem(masterRow);\n                        detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                        that.angular('compile', function () {\n                            return {\n                                elements: detailRow.get(),\n                                data: [{ dataItem: data }]\n                            };\n                        });\n                        that.trigger(DETAILINIT, {\n                            masterRow: masterRow,\n                            detailRow: detailRow,\n                            data: data,\n                            detailCell: detailRow.find('.k-detail-cell')\n                        });\n                    }\n                    that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                        masterRow: masterRow,\n                        detailRow: detailRow\n                    });\n                    detailRow.toggle(expanding);\n                    if (that._current) {\n                        that._current.attr('aria-expanded', expanding);\n                    }\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr) {\n                $(tr).find('> td .k-i-expand').click();\n            },\n            collapseRow: function (tr) {\n                $(tr).find('> td .k-i-collapse').click();\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, leafs = leafColumns(that.columns), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (!th.command) {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        html += ' aria-haspopup=\\'true\\'';\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            html += kendo.attr('title') + '=\"' + th.title.replace('\"', '&quot;').replace(/'/g, '\\'') + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    } else {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup /><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan = null;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\" />' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th').get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find('th').get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._updateCols();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                }\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _retrieveFirstColumn: function (columns, rows) {\n                var result = $();\n                if (rows.length && columns[0]) {\n                    var column = columns[0];\n                    while (column.columns && column.columns.length) {\n                        column = column.columns[0];\n                        rows = rows.filter(':not(:first())');\n                    }\n                    result = result.add(rows);\n                }\n                return result;\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    var rows = that._retrieveFirstColumn(columns, tr);\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.options.scrollable.virtual) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    e.preventDefault();\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (idx % 2) {\n                        html += altRowTemplate(data[idx]);\n                    } else {\n                        html += rowTemplate(data[idx]);\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, template = column.groupHeaderTemplate, text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), footerDefaults = that._groupAggregatesDefaultObject || {}, aggregates = extend({}, footerDefaults, group.aggregates), headerData = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        aggregates: aggregates\n                    }, group.aggregates[group.field]), groupFooterTemplate = templates.groupFooterTemplate, groupItems = group.items;\n                if (template) {\n                    text = typeof template === FUNCTION ? template(headerData) : kendo.template(template)(headerData);\n                }\n                html += groupHeaderBuilder(colspan, level, text);\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan);\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n                if (groupFooterTemplate) {\n                    var footerData = {};\n                    for (var aggregate in aggregates) {\n                        footerData[aggregate] = extend({}, aggregates[aggregate], {\n                            group: {\n                                field: group.field,\n                                value: group.value\n                            }\n                        });\n                    }\n                    html += groupFooterTemplate(footerData);\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                group = $(group);\n                var level, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-collapse').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[idx]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-expand').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            tr.toggle(footersVisibility.pop());\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                    }\n                    if (browser.msie && browser.version == 8) {\n                        tables.css('display', 'inline-table');\n                        setTimeout(function () {\n                            tables.css('display', 'table');\n                        }, 1);\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var columns = this.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.showColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, true);\n                }\n                if (that.lockedTable && lockedColumnsCount > columnIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                if (this.lockedContent) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                kendo.ui.progress(element, toggle);\n            },\n            _resize: function (size, force) {\n                this._syncLockedContentHeight();\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length;\n                if (e && e.action === 'itemchange' && that.editable) {\n                    return;\n                }\n                if (e && e.action === 'remove' && that.editable && that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                    that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n                }\n                e = e || {};\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                that._angularItems('cleanup');\n                if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                    isCurrentInHeader = current.is('th');\n                    currentIndex = Math.max(that.cellIndex(current), 0);\n                }\n                that._destroyEditable();\n                that._progress(false);\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    that._updateHeader(groups);\n                    that._group = groups > 0;\n                }\n                that._renderContent(data, colspan, groups);\n                that._renderLockedContent(data, colspan, groups);\n                that._footer();\n                that._renderNoRecordsContent();\n                that._setContentHeight();\n                that._setContentWidth(that.content && that.content.scrollLeft());\n                if (that.lockedTable) {\n                    if (that.options.scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                that._restoreCurrent(currentIndex, isCurrentInHeader);\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    if (this._rowVirtualIndex) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    this._setCurrent(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup') {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate\n                    };\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    this._syncLockedContentHeight();\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF_autoPageBreak = function (progress) {\n                var grid = this;\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                var origBody = grid.wrapper.find('.k-grid-content tbody');\n                var cont = $('<div>').css({\n                    position: 'absolute',\n                    left: -10000,\n                    top: -10000\n                });\n                var clone = grid.wrapper.clone().css({\n                    height: 'auto',\n                    width: 'auto'\n                }).appendTo(cont);\n                clone.find('.k-grid-content').css({\n                    height: 'auto',\n                    width: 'auto',\n                    overflow: 'visible'\n                });\n                clone.find('.k-grid-pager, .k-grid-toolbar, .k-grouping-header').remove();\n                clone.find('.k-grid-header').css({ paddingRight: 0 });\n                this._initPDFProgress(progress);\n                var body = clone.find('.k-grid-content tbody').empty();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.one('change', draw);\n                        dataSource.page(startingPage);\n                    } else {\n                        grid.refresh();\n                        draw();\n                    }\n                }\n                function draw() {\n                    cont.appendTo(document.body);\n                    var options = $.extend({}, grid.options.pdf, {\n                        _destructive: true,\n                        progress: function (p) {\n                            progress.notify({\n                                page: p.page,\n                                pageNumber: p.pageNum,\n                                progress: 0.5 + p.pageNum / p.totalPages / 2,\n                                totalPages: p.totalPages\n                            });\n                        }\n                    });\n                    kendo.drawing.drawDOM(clone, options).always(function () {\n                        cont.remove();\n                    }).then(function (group) {\n                        result.resolve(group);\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                function renderPage() {\n                    var pageNum = dataSource.page();\n                    var totalPages = allPages ? dataSource.totalPages() : 1;\n                    body.append(origBody.find('tr'));\n                    if (pageNum < totalPages) {\n                        dataSource.page(pageNum + 1);\n                    } else {\n                        dataSource.unbind('change', renderPage);\n                        resolve();\n                    }\n                }\n                if (allPages) {\n                    dataSource.bind('change', renderPage);\n                    dataSource.page(1);\n                } else {\n                    renderPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._drawPDF = function (progress) {\n                var grid = this;\n                if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != 'auto') {\n                    return grid._drawPDF_autoPageBreak(progress);\n                }\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'/></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            var msie = browser.msie || browser.edge;\n            if (direct === true) {\n                table = $(table);\n                var scrollTop, scrollLeft;\n                scrollTop = table.parent().scrollTop();\n                scrollLeft = table.parent().scrollLeft();\n                if (msie) {\n                    try {\n                        table[0].setActive();\n                    } catch (e) {\n                        table[0].focus();\n                    }\n                } else {\n                    table[0].focus();\n                }\n                table.parent().scrollTop(scrollTop).scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), currentTable = currentTarget.closest('table')[0];\n            if (kendo.support.touch) {\n                return;\n            }\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if ($(e.target).is('a.k-i-collapse, a.k-i-expand')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if (!(isIE8 && $(kendo._activeElement()).hasClass('k-widget'))) {\n                        if (!isInputElement(kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    }\n                });\n            }\n            if (isHeader) {\n                e.preventDefault();\n            }\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupRowBuilder(colspan, level, text) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}