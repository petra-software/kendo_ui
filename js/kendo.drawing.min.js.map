{"version":3,"sources":["kendo.drawing.js"],"names":["f","define","$","createPromise","Deferred","promiseAll","promises","when","apply","kendo","drawing","util","deepExtend","window","jQuery","amd","a1","a2","a3","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","text","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","textContent","appendChild","body","String","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","append","first","second","arabicToRoman","n","values","roman","shift","literals","defined","UNDEFINED","definitionId","defId","deg","radians","DEG_TO_RAD","encodeUTF8","input","c","output","fromCharCode","encodeBase64","chr1","chr2","chr3","enc1","enc2","enc3","enc4","utfInput","isNaN","KEY_STR","charAt","eventCoordinates","e","x","location","y","pageX","clientX","pageY","clientY","eventElement","touch","initialTouch","target","isTransparent","color","last","array","limitValue","min","max","Math","mergeSort","a","cmp","merge","b","r","ai","bi","slice","m","left","right","floor","rad","degrees","pow","p","round","precision","power","valueOrDefault","defaultValue","bindEvents","element","events","eventName","eventNames","idx","trim","split","addEventListener","elementOffset","getBoundingClientRect","documentElement","top","pageYOffset","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","elementStyles","styles","field","result","getComputedStyle","stylesArray","Array","isArray","getPixels","elementSize","size$1","parseInt","unbindEvents","name","removeEventListener","setAccessor","geometryChange","getAccessor","defineAccessors","fn","fields","capitalized","toUpperCase","substring","toMatrix","transformation","matrix","transform","Transformation","ellipseExtremeAngles","center","rx","ry","extremeX","extremeY","atan2","d","geometryAccessor","fieldName","_observerField","defineGeometryAccessors","names","close","tolerance","PRECISION","abs","closeOrLess","lineIntersection","p0","p1","p2","p3","s1x","s2x","s1y","s2y","nx","ny","s","t","Point","elipseAngle","start","end","swipe","alpha","endAngle","calculateAngle","cx","cy","cos","sin","normalizeArcParameters","parameters","cx1","cy1","sqrt","x21","y21","rx2","ry2","k","yk2","l","x1","y1","x2","y2","largeArc","pow$1","startAngle","bboxStartAngle","angle","pointAccessor","create","definePointAccessors","isOutOfEndPoint","endPoint","controlPoint","point","rotatedPoint","transformCopy","rotate","calculateCurveAt","points","t1","toCubicPolynomial","numberSign","solveQuadraticEquation","squareRoot","solveCubicEquation","q","Q","b3a","y3","z1","z2","ComplexNumber","nthRoot","add","multiplyConstant","negate","multiply","isReal","real","hasRootsInRange","rootField","range","intersection","polynomial","roots","curveIntersectionsCount","bbox","rayIntersection","intersectsRay","count","bottomRight","lineIntersectionsCount","intersects","minX","maxX","minY","maxY","inRange","arrayLimits","arr","MAX_NUM","MIN_NUM","elementsBoundingBox","elements","applyTransform","boundingBox","elementBoundingBox","visible","rawBBox","Rect","union","elementsClippedBoundingBox","clippedBBox","translateToPoint","transofrm","origin","alignStart","rect","align","axis","sizeField","alignElements","alignment","clone","vAlign","stackElements","stackAxis","otherAxis","previousBBox","createStackElements","stack","vStack","getStacks","maxSize","stacks","stackSize","addElementToStack","wrapElements","startElement","elementIdx","wrap","vWrap","fit","rectSize","scale","transform$$1","optionsAccessor","set","defineOptionsAccessors","swing","position","PI","linear","easeOutElastic","time","diff","asin","toLineParamaters","isVertical","insertPosition","splice","reflectionPoint","scaleCopy","translate","quadraticToCubicControlPoints","scaledPoint","controlOut","translateWith","third","controlIn","parseParameters","replace","SPLIT_REGEX","match","number","parseFloat","renderAttr","renderAllAttr","attrs","renderStyle","isDefinition","type","nodeType","baseUrl","base","getElementsByTagName","href","hashIndex","indexOf","url","support","browser","msie","refUrl","id","alignToScreen","ctm","getScreenCTM","decodeEntities","_element","innerHTML","innerText","exportGroup","group","exportRoot","svg","root","RootNode","rootGroup","getOrigin","Group","children","load","SVG_NS","render","destroy","renderPath","ctx","path","segment","anchor","prevSeg","prevOut","segments","moveTo","bezierCurveTo","lineTo","closed","closePath","zIndexComparer","_zIndex","addGradientStops","gradient","stops","stop","parseColor","opacity","addColorStop","offset","toCssRgba","exportImage","surfaceOptions","container","surface","promise","defaults","cors","getSize","display","Surface$3","suspendTracking","draw","image","then","exportSVG","raw","resolve","slice$1","thing","prototype","call","addClass","el","cls","classList","className","removeClass","remove","reduce","word","setCSS","Object","keys","forEach","closest","selector","test","matches","getXY","drawDOM","doOne","pos","setTransform","nodeInfo","_clipbox","_matrix","Matrix","unit","_stackingContext","_avoidLinks","avoidLinks","renderElement","makeTemplate","template$$1","template","data","div","firstElementChild","handlePageBreaks","callback","forceBreak","pageWidth","pageHeight","margin","doPageBreak","next","whenImagesAreActuallyLoaded","pages","page","splitElement","copy","makePage","insertBefore","pageNum","totalPages","cacheImages","keepTogether","adjust","tag","tagName","getAttribute","bottomPadding","bottomBorder","saveAdjust","isFirst","fall","tableLayout","getPropertyValue","firstChild","nextSibling","breakAtElement","fallsOnMargin","splitText","firstInParent","table","colgroup","thead","grid","gridHead","querySelector","repeatHeaders","doc","createRange","setStartBefore","setEndBefore","extractContents","preventBulletOnListItem","boxSizing","padding","bottom","overflow","clear","pageClassName","available","node","len","nextnode","selectNodeContents","findEOP","setEnd","endOffset","li","setAttribute","ownerDocument","_destructive","cloneNodes","querySelectorAll","tfoot","ol","index","paddingLeft","paddingRight","beforePageBreak","setTimeout","reject","Error","pdf","defineFont","getFontFaces","forcePageBreak","hasPaperSize","paperSize","paperOptions","getPaperOptions","def","hasMargin","multiPage","_ignoreMargin","progress","canceled","cancel","doStylesheet","ss","rules","cssRules","ex","addRules","findFonts","rule","font","src","splitProperty","getFontURL","styleSheet","family","bold","italic","addRule","styleSheets","hasOwnProperty","obj","getCounter","getAllCounters","getPrototypeOf","reverse","incCounter","inc","_root","resetCounter","val","doCounters","updateCounters","counterIncrement","counterReset","parseColor$1","css","toRGB","pending","img","images","complete","onload","onerror","IMAGE_CACHE","urls","dive","parseBackgroundImage","bg","Image","crossOrigin","alphaNumeral","pushNodeInfo","decoration","toLowerCase","createsStackingContext","popNodeInfo","updateClipbox","intersect","emptyClipbox","cb","prop","pseudoElt","defa","webkit","mozilla","opera","arguments","pleaseSetPropertyValue","important","setProperty","getBorder","side","saveStyle","func","prev","getBorderRadius","sanitizeRadius","getContentBox","innerBox","wt","wr","wb","wl","getTransform","exec","radiansToDegrees","parseAngle","num","shape","setClipping","clipPath","clip","addArcToPath","Arc$2","curvePoints","curveTo","adjustBorderRadiusForBox","rTL","rTR","rBR","rBL","tl_x","tl_y","tr_x","tr_y","br_x","br_y","bl_x","bl_y","tl","tr","br","bl","elementRoundBox","bt","bb","pt","pr","pb","pl","roundBox","rTL0","rTR0","rBR0","rBL0","tmp","Path","fill","stroke","radiusX","radiusY","formatCounter","evalPseudoElementContent","content","displayCounter","separator","getCssText","_renderWithPseudoElements","pseudo","kind","place","psel","KENDO_PSEUDO_ELEMENT","fake","saveClass","_renderElement","adjustBoxes","boxes","tableBorderLeft","tableBorderTop","tableBox","firstCell","firstCellBox","rows","cells","drawEdge","Wtop","Wleft","Wright","rl","rr","drawRoundCorner","ri","anticlockwise","edge","drawBackground","background","_pdfLink","backgroundColor","backgroundImage","drawOneBackground","backgroundRepeat","backgroundPosition","backgroundOrigin","backgroundSize","drawBackgroundImage","img_width","img_height","renderBG","rewX","rewY","repeatX","aspect_ratio","orgBox","Image$1","gradientRenderer","drawBullet","_drawBullet","bullet","listStylePosition","textAlign","elementIndex","listStyleType","fontSize","lineHeight","fontFamily","disc","circle","square","drawOneBox","isLast","inv","shouldDrawLeft","shouldDrawRight","dir","innerbox","version","currentStyle","getClientRects","clipit","isFormField","maybeRenderWidget","renderContents","pxlen","scaledAngle","implicit","to","atan","tan","percent","fromRect","LinearGradient","userSpace","console","log","widget","visual","wrap$$1","attr","widgetInstance","exportDOMVisual","exportVisual","renderImage","zIndexSort","sa","sb","za","zb","pa","getSelectedOption","selectedOptions","selectedIndex","renderCheckbox","checked","Circle","Circle$2","renderFormField","option","whiteSpace","multiple","floats","positioned","floating","toDataURL","renderText","actuallyGetRangeBoundingRect","rectangles","chrome","Infinity","prevLineBottom","doChunk","found","cc","code","indent","origStart","substr","search","setStart","isJustified","columnCount","findEOL","eol","estimateLineLength","startOffset","drawText","getFontHeight","TextRect","decorate","line","ypos","underline","lineThrough","overline","align$$1","textOverflow","saveTextOverflow","hasDecoration","selectNode","groupInStackingContext","zIndex","main","_dom_zIndex","insert","invert","visibility","mmul","multiplyCopy","b1","c1","d1","e1","f1","b2","c2","d2","e2","f2","kendoDrawing","kendoDrawingUtil","kendoUtil","ObserversMixin","toString","OptionsStore","Size","Element$1","PI_DIV_2","GRADIENT","Paintable","IDENTITY_MATRIX_HASH","Measurable","DEFAULT_STROKE","MAX_INTERVAL","pop","unshift","ElementsArray","GeometryElementsArray","Segment","DEFAULT_STROKE$1","Arc","MultiPath","DEFAULT_FONT","DEFAULT_FILL","Text","Traversable","Layout","Rect$2","StopsArray","GradientStop","Gradient","RadialGradient","easingFunctions","now","Animation","AnimationFactory","ShapeMap","SEGMENT_REGEX","MOVE","CLOSE","PathParser","SurfaceFactory","Surface","BaseNode","NODE_MAP","NONE","renderSVG","testFragment","testContainer","hasParser","renderSVG$1","TRANSFORM","DefinitionMap","Node","GradientStopNode","GradientNode","LinearGradientNode","RadialGradientNode","ClipNode","DefinitionNode","Surface$1","GroupNode","DASH_ARRAYS","SOLID","BUTT","ATTRIBUTE_MAP","SPACE","PathNode","ArcNode","CircleNode","RectNode","ImageNode","TextNode","MultiPathNode","geometry","NODE_MAP$2","Node$2","GroupNode$2","FRAME_DELAY","RootNode$2","QuadRoot","QuadNode","ROOT_SIZE","LEVEL_STEP","MAX_LEVEL","ShapesQuadTree","PathNode$2","ArcNode$2","CircleNode$2","RectNode$2","ImageNode$2","TextNode$2","MultiPathNode$2","canvas","proto","method","this$1","observers","_observers","addObserver","removeObserver","trigger","methodName","event","observer","_suspended","optionsChange","suspend","resume","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","Number","MAX_VALUE","prefix","member","_wrap","part","_set","composite","parentObj","_clear","wrapped","ref","g","h","det","equals","other","toArray","scaleX","scaleY","IDENTITY","originPoint","ZERO","move","distanceTo","dx","dy","digits","doRound","arg0","arg1","arguments$1","minPoint","maxPoint","defineProperties","setOrigin","setSize","topLeft","topRight","bottomLeft","fromPoints","expand","expandCopy","containsPoint","_isOnPath","rectOuter","rectInner","rect1","rect2","_optionsChange","_initOptions","parentTransform","parentMatrix","parent","currentTransform","elementTransform","elementMatrix","combinedMatrix","_clippedBBox","transformedPoint","_hasFill","_containsPoint","_hasStroke","radius","setCenter","setRadius","getCenter","pointAt","_pointAt","currentPointX","currentPointY","currentPoint","extremeAngles","inCircle","pointDistance","newFill","strokeWidth","matrixHash","_bboxCache","_matrixHash","_bbox","_geometry","radian","nextAngle","interval","_arcInterval","intervalAngle","subIntervalsCount","ceil","subIntervalAngle","currentAngle","_intervalCurvePoints","cp1","cp2","currentAngleX","currentAngleY","oldStart","p1Derivative","_derivativeAt","p2Derivative","inAngleRange","distance","angleRad","pointRadius","startPoint","arcParameters","_splice","_change","_add","_remove","howMany","concat","_clearObserver","_setObserver","cNumber","addConstant","rad$$1","nthR","bboxTo","toSegment","segmentAnchor","toSegmentAnchor","_curveBoundingBox","_lineBoundingBox","extremesX","_curveExtremesFor","extremesY","xLimits","yLimits","extremes","_curveExtremes","x3","x4","t2","_intersectionsTo","intersectionsCount","_isOnCurveTo","endSegment","p4","rotation","rotatedPoints","_isOnLineTo","_isOnPathTo","isOnPath","lineJoin","lastSegment","arc","_addArcSegments","arcTo","previous","pathWidth","segmentBox","fromArc","toPath","paths","metrics","_rect","childrenField","traverse","child","childrenChange","action","items","_reparent","insertAt","removeAt","newParent","alignContent","justifyContent","alignItems","spacing","orientation","lineSpacing","_fieldMap","_initMap","fieldMap","groupsSizeField","groupAxis","groupsAxis","reflow","groups","groupsSize","ref$1","groupOrigin","elementOrigin","groupStart","elementStart","groupBox","groupIdx","scaledStart","scaledSize","newStart","_initGroups","lineSize","bboxes","_newGroup","addGroup","_addToGroup","arg","_createStops","_userSpace","addStop","removeStop","_radius","_fallbackFill","fallbackFill","Date","getTime","setup","step","play","easing","finish","duration","delay","abort","loop","wallTime","easingPosition","_stopped","animationFrame","_items","register","isRelative","v","lastControlIn","previousCommand","cubicControlPoints","parse","multiPath","params","command","order","preferred","logToConsole","navigator","userAgent","Observable","_click","_handler","_mouseenter","_mouseleave","_mousemove","_visual","bind","_enableTracking","unbind","eventTarget","domNode","_kendoNode","parentElement","srcElement","currentSize","_resize","resize","force","_suspendedTracking","resumeTracking","originalEvent","_elementOffset","paddingTop","_surfacePoint","coord","childNodes","observe","removeSelf","invalidate","DOMParser","namespaceURI","parser","chartDoc","parseFromString","importedDoc","adoptNode","definitions","clearDefinitions","childNode","createDefinitions","attachTo","domElement","setElement","nodes","childElement","renderChildren","updateDefinition","allAttr","allCss","removeAttr","removeAttribute","mapTransform","renderTransform","transformChange","mapStyle","cursor","renderOpacity","hasDefinitions","definition","definitionChange","renderDefinitions","mapDefinitions","renderOffset","loadStops","stopNode","mapCoordinates","renderCoordinates","mapSpace","definitionMap","addDefinitions","removeDefinitions","createDefinition","item","addDefinition","mapItem","removeDefinition","defs","_template","_rootElement","click","mouseover","mouseout","mousemove","viewBox","_offset","implementation","hasFeature","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","fill.opacity","stroke.color","stroke.width","stroke.opacity","renderData","mapFill","mapStroke","printPath","currentType","segmentType","printPoints","segmentStart","segmentEnd","renderLinecap","dashType","renderDashType","renderStroke","dashArray","lineCap","renderFill","mapPosition","mapSource","renderPosition","encode","htmlEncode","renderSource","setY","renderContent","initClip","clearClip","setClip","beginPath","loadElements","setOpacity","globalAlpha","opactity","renderTo","save","restore","getContext","invalidateHandler","_invalidate","throttle","clearRect","shapes","_quadNode","pointShapes","inBounds","nodeRect","nodeBottomRight","inserted","_initChildren","halfWidth","halfHeight","initRoots","rootMap","rootElements","pointShape","sectorRoot","assignZindex","levelWeight","parents","bboxChange","_insertShape","elementsArray","_insert","sectors","getSectors","inRoot","bottomX","bottomY","_mouseTrackHandler","_trackMouse","_searchTree","undefined","resolveDataURL","rootElement","loadingStates","loading","currentShape","_currentShape","renderPoints","setLineDash","setLineCap","setLineJoin","setFill","setStroke","hasFill","setGradientFill","fillStyle","createLinearGradient","createRadialGradient","strokeStyle","lineWidth","mozDash","webkitLineDash","onLoad","onError","state","drawImage","fillText","strokeText","_pdfRect","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","$el","$clone","selected","orig","canvases","canvas$$1","skip_ws","tok_whitespace","read","token","read_stop","tok_length","tok_percent","read_linear_gradient","propName","to1","to2","tok_popen","tok_angle","tok_comma","tok_keyword","tok_pclose","read_url","tok_content","tok","cache1","tok_linear_gradient","tok_url","cache2","cache","looking_at","ret","last$$1","in_paren","in_string","dataviz","Color","NS","utils","outerWidth","_outerWidth","outerHeight","_outerHeight","proxy","TOOLTIP_TEMPLATE","TOOLTIP_CLOSE_TEMPLATE","SurfaceTooltip","_tooltipOptions","popupOptions","appendTo","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","_bindEvents","showOn","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mousemoveHandler","on","_hideClick","getPopup","popup","ui","Popup","off","clearTimeout","_timeout","shared","_tooltipShape","tooltip","_updateContent","isFunction","html","_position","tooltipOffset","_instance","surfaceOffset","show","_show","hide","_current","_showTimeout","preventDefault","_autoHide","_measure","open","_closeButton","prependTo","wrapper","_popupRelatedTarget","relatedTarget","DrawingSurface","Widget","_triggerInstanceHandler","_triggerInstanceEvent","_bindHandler","hideTooltip","_tooltip","showTooltip","plugin"],"mappings":"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","file":"kendo.drawing.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('drawing/util', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        function createPromise() {\n            return $.Deferred();\n        }\n        function promiseAll(promises) {\n            return $.when.apply($, promises);\n        }\n        kendo.drawing.util = kendo.drawing.util || {};\n        kendo.deepExtend(kendo.drawing.util, {\n            createPromise: createPromise,\n            promiseAll: promiseAll\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                measureBox.textContent = text;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (String(text).length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/kendo-drawing', [\n        'drawing/util',\n        'kendo.color',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    (function ($) {\n        window.kendo = window.kendo || {};\n        var kendoDrawing = kendo.drawing;\n        var kendoDrawingUtil = kendoDrawing.util;\n        var Class = kendo.Class;\n        var kendoUtil = kendo.util;\n        var support = kendo.support;\n        var createPromise = kendoDrawingUtil.createPromise;\n        var promiseAll = kendoDrawingUtil.promiseAll;\n        var ObserversMixin = {\n            extend: function (proto) {\n                var this$1 = this;\n                for (var method in this) {\n                    if (method !== 'extend') {\n                        proto[method] = this$1[method];\n                    }\n                }\n            },\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = observers.indexOf(element);\n                if (index !== -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                if (observers && !this._suspended) {\n                    for (var idx = 0; idx < observers.length; idx++) {\n                        var observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                if (e === void 0) {\n                    e = {};\n                }\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = Math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        var literals = {\n            1: 'i',\n            10: 'x',\n            100: 'c',\n            2: 'ii',\n            20: 'xx',\n            200: 'cc',\n            3: 'iii',\n            30: 'xxx',\n            300: 'ccc',\n            4: 'iv',\n            40: 'xl',\n            400: 'cd',\n            5: 'v',\n            50: 'l',\n            500: 'd',\n            6: 'vi',\n            60: 'lx',\n            600: 'dc',\n            7: 'vii',\n            70: 'lxx',\n            700: 'dcc',\n            8: 'viii',\n            80: 'lxxx',\n            800: 'dccc',\n            9: 'ix',\n            90: 'xc',\n            900: 'cm',\n            1000: 'm'\n        };\n        function arabicToRoman(n) {\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        var UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        var defId = 1;\n        function definitionId() {\n            return 'kdef' + defId++;\n        }\n        var DEG_TO_RAD = Math.PI / 180;\n        var MAX_NUM = Number.MAX_VALUE;\n        var MIN_NUM = -Number.MAX_VALUE;\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        var fromCharCode = String.fromCharCode;\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        function encodeBase64(input) {\n            var output = '';\n            var i = 0;\n            var utfInput = encodeUTF8(input);\n            while (i < utfInput.length) {\n                var chr1 = utfInput.charCodeAt(i++);\n                var chr2 = utfInput.charCodeAt(i++);\n                var chr3 = utfInput.charCodeAt(i++);\n                var enc1 = chr1 >> 2;\n                var enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                var enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                var enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function eventCoordinates(e) {\n            if (defined((e.x || {}).location)) {\n                return {\n                    x: e.x.location,\n                    y: e.y.location\n                };\n            }\n            return {\n                x: e.pageX || e.clientX || 0,\n                y: e.pageY || e.clientY || 0\n            };\n        }\n        function eventElement(e) {\n            if (e === void 0) {\n                e = {};\n            }\n            return e.touch ? e.touch.initialTouch : e.target;\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function limitValue(value, min, max) {\n            return Math.max(Math.min(value, max), min);\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function pow(p) {\n            if (p) {\n                return Math.pow(10, p);\n            }\n            return 1;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return Math.round(value * power) / power;\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function bindEvents(element, events) {\n            for (var eventName in events) {\n                var eventNames = eventName.trim().split(' ');\n                for (var idx = 0; idx < eventNames.length; idx++) {\n                    element.addEventListener(eventNames[idx], events[eventName], false);\n                }\n            }\n        }\n        function elementOffset(element) {\n            var box = element.getBoundingClientRect();\n            var documentElement = document.documentElement;\n            return {\n                top: box.top + (window.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),\n                left: box.left + (window.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)\n            };\n        }\n        function elementStyles(element, styles) {\n            var result = {};\n            var style = window.getComputedStyle(element);\n            var stylesArray = Array.isArray(styles) ? styles : [styles];\n            for (var idx = 0; idx < stylesArray.length; idx++) {\n                var field = stylesArray[idx];\n                result[field] = style[field];\n            }\n            return result;\n        }\n        function getPixels(value) {\n            if (isNaN(value)) {\n                return value;\n            }\n            return value + 'px';\n        }\n        function elementSize(element, size) {\n            if (size) {\n                var width = size.width;\n                var height = size.height;\n                if (defined(width)) {\n                    element.style.width = getPixels(width);\n                }\n                if (defined(height)) {\n                    element.style.height = getPixels(height);\n                }\n            } else {\n                var size$1 = elementStyles(element, [\n                    'width',\n                    'height'\n                ]);\n                return {\n                    width: parseInt(size$1.width, 10),\n                    height: parseInt(size$1.height, 10)\n                };\n            }\n        }\n        function unbindEvents(element, events) {\n            if (events === void 0) {\n                events = {};\n            }\n            for (var name in events) {\n                var eventNames = name.trim().split(' ');\n                for (var idx = 0; idx < eventNames.length; idx++) {\n                    element.removeEventListener(eventNames[idx], events[name], false);\n                }\n            }\n        }\n        var util = {\n            append: append,\n            arabicToRoman: arabicToRoman,\n            createPromise: createPromise,\n            defined: defined,\n            definitionId: definitionId,\n            deg: deg,\n            encodeBase64: encodeBase64,\n            eventCoordinates: eventCoordinates,\n            eventElement: eventElement,\n            isTransparent: isTransparent,\n            last: last,\n            limitValue: limitValue,\n            mergeSort: mergeSort,\n            promiseAll: promiseAll,\n            rad: rad,\n            round: round,\n            valueOrDefault: valueOrDefault,\n            bindEvents: bindEvents,\n            elementOffset: elementOffset,\n            elementSize: elementSize,\n            elementStyles: elementStyles,\n            unbindEvents: unbindEvents,\n            DEG_TO_RAD: DEG_TO_RAD,\n            MAX_NUM: MAX_NUM,\n            MIN_NUM: MIN_NUM\n        };\n        var toString = {}.toString;\n        var OptionsStore = Class.extend({\n            init: function (options, prefix) {\n                var this$1 = this;\n                if (prefix === void 0) {\n                    prefix = '';\n                }\n                this.prefix = prefix;\n                for (var field in options) {\n                    var member = options[field];\n                    member = this$1._wrap(member, field);\n                    this$1[field] = member;\n                }\n            },\n            get: function (field) {\n                var parts = field.split('.');\n                var result = this;\n                while (parts.length && result) {\n                    var part = parts.shift();\n                    result = result[part];\n                }\n                return result;\n            },\n            set: function (field, value) {\n                var current = this.get(field);\n                if (current !== value) {\n                    this._set(field, this._wrap(value, field));\n                    this.optionsChange({\n                        field: this.prefix + field,\n                        value: value\n                    });\n                }\n            },\n            _set: function (field, value) {\n                var this$1 = this;\n                var composite = field.indexOf('.') >= 0;\n                var parentObj = this;\n                var fieldName = field;\n                if (composite) {\n                    var parts = fieldName.split('.');\n                    var prefix = this.prefix;\n                    while (parts.length > 1) {\n                        fieldName = parts.shift();\n                        prefix += fieldName + '.';\n                        var obj = parentObj[fieldName];\n                        if (!obj) {\n                            obj = new OptionsStore({}, prefix);\n                            obj.addObserver(this$1);\n                            parentObj[fieldName] = obj;\n                        }\n                        parentObj = obj;\n                    }\n                    fieldName = parts[0];\n                }\n                parentObj._clear(fieldName);\n                parentObj[fieldName] = value;\n            },\n            _clear: function (field) {\n                var current = this[field];\n                if (current && current.removeObserver) {\n                    current.removeObserver(this);\n                }\n            },\n            _wrap: function (object, field) {\n                var type = toString.call(object);\n                var wrapped = object;\n                if (wrapped !== null && defined(wrapped) && type === '[object Object]') {\n                    if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                        wrapped = new OptionsStore(wrapped, this.prefix + field + '.');\n                    }\n                    wrapped.addObserver(this);\n                }\n                return wrapped;\n            }\n        });\n        ObserversMixin.extend(OptionsStore.prototype);\n        function setAccessor(field) {\n            return function (value) {\n                if (this[field] !== value) {\n                    this[field] = value;\n                    this.geometryChange();\n                }\n                return this;\n            };\n        }\n        function getAccessor(field) {\n            return function () {\n                return this[field];\n            };\n        }\n        function defineAccessors(fn, fields) {\n            for (var i = 0; i < fields.length; i++) {\n                var name = fields[i];\n                var capitalized = name.charAt(0).toUpperCase() + name.substring(1, name.length);\n                fn['set' + capitalized] = setAccessor(name);\n                fn['get' + capitalized] = getAccessor(name);\n            }\n        }\n        var Matrix = Class.extend({\n            init: function (a, b, c, d, e, f) {\n                if (a === void 0) {\n                    a = 0;\n                }\n                if (b === void 0) {\n                    b = 0;\n                }\n                if (c === void 0) {\n                    c = 0;\n                }\n                if (d === void 0) {\n                    d = 0;\n                }\n                if (e === void 0) {\n                    e = 0;\n                }\n                if (f === void 0) {\n                    f = 0;\n                }\n                this.a = a;\n                this.b = b;\n                this.c = c;\n                this.d = d;\n                this.e = e;\n                this.f = f;\n            },\n            multiplyCopy: function (matrix) {\n                return new Matrix(this.a * matrix.a + this.c * matrix.b, this.b * matrix.a + this.d * matrix.b, this.a * matrix.c + this.c * matrix.d, this.b * matrix.c + this.d * matrix.d, this.a * matrix.e + this.c * matrix.f + this.e, this.b * matrix.e + this.d * matrix.f + this.f);\n            },\n            invert: function () {\n                var ref = this;\n                var a = ref.a;\n                var b = ref.b;\n                var d = ref.c;\n                var e = ref.d;\n                var g = ref.e;\n                var h = ref.f;\n                var det = a * e - b * d;\n                if (det === 0) {\n                    return null;\n                }\n                return new Matrix(e / det, -b / det, -d / det, a / det, (d * h - e * g) / det, (b * g - a * h) / det);\n            },\n            clone: function () {\n                return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n            },\n            equals: function (other) {\n                if (!other) {\n                    return false;\n                }\n                return this.a === other.a && this.b === other.b && this.c === other.c && this.d === other.d && this.e === other.e && this.f === other.f;\n            },\n            round: function (precision) {\n                this.a = round(this.a, precision);\n                this.b = round(this.b, precision);\n                this.c = round(this.c, precision);\n                this.d = round(this.d, precision);\n                this.e = round(this.e, precision);\n                this.f = round(this.f, precision);\n                return this;\n            },\n            toArray: function (precision) {\n                var result = [\n                    this.a,\n                    this.b,\n                    this.c,\n                    this.d,\n                    this.e,\n                    this.f\n                ];\n                if (defined(precision)) {\n                    for (var i = 0; i < result.length; i++) {\n                        result[i] = round(result[i], precision);\n                    }\n                }\n                return result;\n            },\n            toString: function (precision, separator) {\n                if (separator === void 0) {\n                    separator = ',';\n                }\n                return this.toArray(precision).join(separator);\n            }\n        });\n        Matrix.translate = function (x, y) {\n            return new Matrix(1, 0, 0, 1, x, y);\n        };\n        Matrix.unit = function () {\n            return new Matrix(1, 0, 0, 1, 0, 0);\n        };\n        Matrix.rotate = function (angle, x, y) {\n            var matrix = new Matrix();\n            matrix.a = Math.cos(rad(angle));\n            matrix.b = Math.sin(rad(angle));\n            matrix.c = -matrix.b;\n            matrix.d = matrix.a;\n            matrix.e = x - x * matrix.a + y * matrix.b || 0;\n            matrix.f = y - y * matrix.a - x * matrix.b || 0;\n            return matrix;\n        };\n        Matrix.scale = function (scaleX, scaleY) {\n            return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n        };\n        Matrix.IDENTITY = Matrix.unit();\n        function toMatrix(transformation) {\n            if (transformation && typeof transformation.matrix === 'function') {\n                return transformation.matrix();\n            }\n            return transformation;\n        }\n        var Point = Class.extend({\n            init: function (x, y) {\n                this.x = x || 0;\n                this.y = y || 0;\n            },\n            equals: function (other) {\n                return other && other.x === this.x && other.y === this.y;\n            },\n            clone: function () {\n                return new Point(this.x, this.y);\n            },\n            rotate: function (angle, origin) {\n                var originPoint = Point.create(origin) || Point.ZERO;\n                return this.transform(Matrix.rotate(angle, originPoint.x, originPoint.y));\n            },\n            translate: function (x, y) {\n                this.x += x;\n                this.y += y;\n                this.geometryChange();\n                return this;\n            },\n            translateWith: function (point) {\n                return this.translate(point.x, point.y);\n            },\n            move: function (x, y) {\n                this.x = this.y = 0;\n                return this.translate(x, y);\n            },\n            scale: function (scaleX, scaleY) {\n                if (scaleY === void 0) {\n                    scaleY = scaleX;\n                }\n                this.x *= scaleX;\n                this.y *= scaleY;\n                this.geometryChange();\n                return this;\n            },\n            scaleCopy: function (scaleX, scaleY) {\n                return this.clone().scale(scaleX, scaleY);\n            },\n            transform: function (transformation) {\n                var matrix = toMatrix(transformation);\n                var ref = this;\n                var x = ref.x;\n                var y = ref.y;\n                this.x = matrix.a * x + matrix.c * y + matrix.e;\n                this.y = matrix.b * x + matrix.d * y + matrix.f;\n                this.geometryChange();\n                return this;\n            },\n            transformCopy: function (transformation) {\n                var point = this.clone();\n                if (transformation) {\n                    point.transform(transformation);\n                }\n                return point;\n            },\n            distanceTo: function (point) {\n                var dx = this.x - point.x;\n                var dy = this.y - point.y;\n                return Math.sqrt(dx * dx + dy * dy);\n            },\n            round: function (digits) {\n                this.x = round(this.x, digits);\n                this.y = round(this.y, digits);\n                this.geometryChange();\n                return this;\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var x = doRound ? round(this.x, digits) : this.x;\n                var y = doRound ? round(this.y, digits) : this.y;\n                return [\n                    x,\n                    y\n                ];\n            },\n            toString: function (digits, separator) {\n                if (separator === void 0) {\n                    separator = ' ';\n                }\n                var ref = this;\n                var x = ref.x;\n                var y = ref.y;\n                if (defined(digits)) {\n                    x = round(x, digits);\n                    y = round(y, digits);\n                }\n                return x + separator + y;\n            }\n        });\n        Point.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Point) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Point(arg0[0], arg0[1]);\n                }\n                return new Point(arg0, arg1);\n            }\n        };\n        Point.min = function () {\n            var arguments$1 = arguments;\n            var minX = MAX_NUM;\n            var minY = MAX_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var point = arguments$1[i];\n                minX = Math.min(point.x, minX);\n                minY = Math.min(point.y, minY);\n            }\n            return new Point(minX, minY);\n        };\n        Point.max = function () {\n            var arguments$1 = arguments;\n            var maxX = MIN_NUM;\n            var maxY = MIN_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var point = arguments$1[i];\n                maxX = Math.max(point.x, maxX);\n                maxY = Math.max(point.y, maxY);\n            }\n            return new Point(maxX, maxY);\n        };\n        Point.minPoint = function () {\n            return new Point(MIN_NUM, MIN_NUM);\n        };\n        Point.maxPoint = function () {\n            return new Point(MAX_NUM, MAX_NUM);\n        };\n        if (Object.defineProperties) {\n            Object.defineProperties(Point, {\n                ZERO: {\n                    get: function () {\n                        return new Point(0, 0);\n                    }\n                }\n            });\n        }\n        defineAccessors(Point.prototype, [\n            'x',\n            'y'\n        ]);\n        ObserversMixin.extend(Point.prototype);\n        var Size = Class.extend({\n            init: function (width, height) {\n                this.width = width || 0;\n                this.height = height || 0;\n            },\n            equals: function (other) {\n                return other && other.width === this.width && other.height === this.height;\n            },\n            clone: function () {\n                return new Size(this.width, this.height);\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var width = doRound ? round(this.width, digits) : this.width;\n                var height = doRound ? round(this.height, digits) : this.height;\n                return [\n                    width,\n                    height\n                ];\n            }\n        });\n        Size.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Size) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Size(arg0[0], arg0[1]);\n                }\n                return new Size(arg0, arg1);\n            }\n        };\n        if (Object.defineProperties) {\n            Object.defineProperties(Size, {\n                ZERO: {\n                    get: function () {\n                        return new Size(0, 0);\n                    }\n                }\n            });\n        }\n        defineAccessors(Size.prototype, [\n            'width',\n            'height'\n        ]);\n        ObserversMixin.extend(Size.prototype);\n        var Rect = Class.extend({\n            init: function (origin, size) {\n                if (origin === void 0) {\n                    origin = new Point();\n                }\n                if (size === void 0) {\n                    size = new Size();\n                }\n                this.setOrigin(origin);\n                this.setSize(size);\n            },\n            clone: function () {\n                return new Rect(this.origin.clone(), this.size.clone());\n            },\n            equals: function (other) {\n                return other && other.origin.equals(this.origin) && other.size.equals(this.size);\n            },\n            setOrigin: function (value) {\n                this._observerField('origin', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getOrigin: function () {\n                return this.origin;\n            },\n            setSize: function (value) {\n                this._observerField('size', Size.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getSize: function () {\n                return this.size;\n            },\n            width: function () {\n                return this.size.width;\n            },\n            height: function () {\n                return this.size.height;\n            },\n            topLeft: function () {\n                return this.origin.clone();\n            },\n            bottomRight: function () {\n                return this.origin.clone().translate(this.width(), this.height());\n            },\n            topRight: function () {\n                return this.origin.clone().translate(this.width(), 0);\n            },\n            bottomLeft: function () {\n                return this.origin.clone().translate(0, this.height());\n            },\n            center: function () {\n                return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n            },\n            bbox: function (matrix) {\n                var tl = this.topLeft().transformCopy(matrix);\n                var tr = this.topRight().transformCopy(matrix);\n                var br = this.bottomRight().transformCopy(matrix);\n                var bl = this.bottomLeft().transformCopy(matrix);\n                return Rect.fromPoints(tl, tr, br, bl);\n            },\n            transformCopy: function (m) {\n                return Rect.fromPoints(this.topLeft().transform(m), this.bottomRight().transform(m));\n            },\n            expand: function (x, y) {\n                if (y === void 0) {\n                    y = x;\n                }\n                this.size.width += 2 * x;\n                this.size.height += 2 * y;\n                this.origin.translate(-x, -y);\n                return this;\n            },\n            expandCopy: function (x, y) {\n                return this.clone().expand(x, y);\n            },\n            containsPoint: function (point) {\n                var origin = this.origin;\n                var bottomRight = this.bottomRight();\n                return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n            },\n            _isOnPath: function (point, width) {\n                var rectOuter = this.expandCopy(width, width);\n                var rectInner = this.expandCopy(-width, -width);\n                return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n            }\n        });\n        Rect.fromPoints = function () {\n            var topLeft = Point.min.apply(null, arguments);\n            var bottomRight = Point.max.apply(null, arguments);\n            var size = new Size(bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n            return new Rect(topLeft, size);\n        };\n        Rect.union = function (a, b) {\n            return Rect.fromPoints(Point.min(a.topLeft(), b.topLeft()), Point.max(a.bottomRight(), b.bottomRight()));\n        };\n        Rect.intersect = function (a, b) {\n            var rect1 = {\n                left: a.topLeft().x,\n                top: a.topLeft().y,\n                right: a.bottomRight().x,\n                bottom: a.bottomRight().y\n            };\n            var rect2 = {\n                left: b.topLeft().x,\n                top: b.topLeft().y,\n                right: b.bottomRight().x,\n                bottom: b.bottomRight().y\n            };\n            if (rect1.left <= rect2.right && rect2.left <= rect1.right && rect1.top <= rect2.bottom && rect2.top <= rect1.bottom) {\n                return Rect.fromPoints(new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)), new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom)));\n            }\n        };\n        ObserversMixin.extend(Rect.prototype);\n        var Transformation = Class.extend({\n            init: function (matrix) {\n                if (matrix === void 0) {\n                    matrix = Matrix.unit();\n                }\n                this._matrix = matrix;\n            },\n            clone: function () {\n                return new Transformation(this._matrix.clone());\n            },\n            equals: function (other) {\n                return other && other._matrix.equals(this._matrix);\n            },\n            translate: function (x, y) {\n                this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n                this._optionsChange();\n                return this;\n            },\n            scale: function (scaleX, scaleY, origin) {\n                if (scaleY === void 0) {\n                    scaleY = scaleX;\n                }\n                if (origin === void 0) {\n                    origin = null;\n                }\n                var originPoint = origin;\n                if (originPoint) {\n                    originPoint = Point.create(originPoint);\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));\n                }\n                this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n                if (originPoint) {\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));\n                }\n                this._optionsChange();\n                return this;\n            },\n            rotate: function (angle, origin) {\n                var originPoint = Point.create(origin) || Point.ZERO;\n                this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));\n                this._optionsChange();\n                return this;\n            },\n            multiply: function (transformation) {\n                var matrix = toMatrix(transformation);\n                this._matrix = this._matrix.multiplyCopy(matrix);\n                this._optionsChange();\n                return this;\n            },\n            matrix: function (value) {\n                if (value) {\n                    this._matrix = value;\n                    this._optionsChange();\n                    return this;\n                }\n                return this._matrix;\n            },\n            _optionsChange: function () {\n                this.optionsChange({\n                    field: 'transform',\n                    value: this\n                });\n            }\n        });\n        ObserversMixin.extend(Transformation.prototype);\n        function transform(matrix) {\n            if (matrix === null) {\n                return null;\n            }\n            if (matrix instanceof Transformation) {\n                return matrix;\n            }\n            return new Transformation(matrix);\n        }\n        var Element$1 = Class.extend({\n            init: function (options) {\n                this._initOptions(options);\n            },\n            _initOptions: function (options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                var clip = options.clip;\n                var transform$$1 = options.transform;\n                if (transform$$1) {\n                    options.transform = transform(transform$$1);\n                }\n                if (clip && !clip.id) {\n                    clip.id = definitionId();\n                }\n                this.options = new OptionsStore(options);\n                this.options.addObserver(this);\n            },\n            transform: function (value) {\n                if (defined(value)) {\n                    this.options.set('transform', transform(value));\n                } else {\n                    return this.options.get('transform');\n                }\n            },\n            parentTransform: function () {\n                var element = this;\n                var parentMatrix;\n                while (element.parent) {\n                    element = element.parent;\n                    var transformation = element.transform();\n                    if (transformation) {\n                        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n                    }\n                }\n                if (parentMatrix) {\n                    return transform(parentMatrix);\n                }\n            },\n            currentTransform: function (parentTransform) {\n                if (parentTransform === void 0) {\n                    parentTransform = this.parentTransform();\n                }\n                var elementTransform = this.transform();\n                var elementMatrix = toMatrix(elementTransform);\n                var parentMatrix = toMatrix(parentTransform);\n                var combinedMatrix;\n                if (elementMatrix && parentMatrix) {\n                    combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n                } else {\n                    combinedMatrix = elementMatrix || parentMatrix;\n                }\n                if (combinedMatrix) {\n                    return transform(combinedMatrix);\n                }\n            },\n            visible: function (value) {\n                if (defined(value)) {\n                    this.options.set('visible', value);\n                    return this;\n                }\n                return this.options.get('visible') !== false;\n            },\n            clip: function (value) {\n                var options = this.options;\n                if (defined(value)) {\n                    if (value && !value.id) {\n                        value.id = definitionId();\n                    }\n                    options.set('clip', value);\n                    return this;\n                }\n                return options.get('clip');\n            },\n            opacity: function (value) {\n                if (defined(value)) {\n                    this.options.set('opacity', value);\n                    return this;\n                }\n                return valueOrDefault(this.options.get('opacity'), 1);\n            },\n            clippedBBox: function (transformation) {\n                var bbox = this._clippedBBox(transformation);\n                if (bbox) {\n                    var clip = this.clip();\n                    return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n                }\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var transform$$1 = this.currentTransform(parentTransform);\n                    var transformedPoint = point;\n                    if (transform$$1) {\n                        transformedPoint = point.transformCopy(transform$$1.matrix().invert());\n                    }\n                    return this._hasFill() && this._containsPoint(transformedPoint) || this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint);\n                }\n                return false;\n            },\n            _hasFill: function () {\n                var fill = this.options.fill;\n                return fill && !isTransparent(fill.color);\n            },\n            _hasStroke: function () {\n                var stroke = this.options.stroke;\n                return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n            },\n            _clippedBBox: function (transformation) {\n                return this.bbox(transformation);\n            }\n        });\n        Element$1.prototype.nodeType = 'Element';\n        ObserversMixin.extend(Element$1.prototype);\n        function ellipseExtremeAngles(center, rx, ry, matrix) {\n            var extremeX = 0;\n            var extremeY = 0;\n            if (matrix) {\n                extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);\n                if (matrix.b !== 0) {\n                    extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);\n                }\n            }\n            return {\n                x: extremeX,\n                y: extremeY\n            };\n        }\n        var PI_DIV_2 = Math.PI / 2;\n        var Circle$2 = Class.extend({\n            init: function (center, radius) {\n                if (center === void 0) {\n                    center = new Point();\n                }\n                if (radius === void 0) {\n                    radius = 0;\n                }\n                this.setCenter(center);\n                this.setRadius(radius);\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            equals: function (other) {\n                return other && other.center.equals(this.center) && other.radius === this.radius;\n            },\n            clone: function () {\n                return new Circle$2(this.center.clone(), this.radius);\n            },\n            pointAt: function (angle) {\n                return this._pointAt(rad(angle));\n            },\n            bbox: function (matrix) {\n                var this$1 = this;\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n                var minPoint = Point.maxPoint();\n                var maxPoint = Point.minPoint();\n                for (var i = 0; i < 4; i++) {\n                    var currentPointX = this$1._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPointY = this$1._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _pointAt: function (angle) {\n                var ref = this;\n                var center = ref.center;\n                var radius = ref.radius;\n                return new Point(center.x + radius * Math.cos(angle), center.y + radius * Math.sin(angle));\n            },\n            containsPoint: function (point) {\n                var ref = this;\n                var center = ref.center;\n                var radius = ref.radius;\n                var inCircle = Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2) <= Math.pow(radius, 2);\n                return inCircle;\n            },\n            _isOnPath: function (point, width) {\n                var ref = this;\n                var center = ref.center;\n                var radius = ref.radius;\n                var pointDistance = center.distanceTo(point);\n                return radius - width <= pointDistance && pointDistance <= radius + width;\n            }\n        });\n        defineAccessors(Circle$2.prototype, ['radius']);\n        ObserversMixin.extend(Circle$2.prototype);\n        var GRADIENT = 'Gradient';\n        var Paintable = {\n            extend: function (proto) {\n                proto.fill = this.fill;\n                proto.stroke = this.stroke;\n            },\n            fill: function (color, opacity) {\n                var options = this.options;\n                if (defined(color)) {\n                    if (color && color.nodeType !== GRADIENT) {\n                        var newFill = { color: color };\n                        if (defined(opacity)) {\n                            newFill.opacity = opacity;\n                        }\n                        options.set('fill', newFill);\n                    } else {\n                        options.set('fill', color);\n                    }\n                    return this;\n                }\n                return options.get('fill');\n            },\n            stroke: function (color, width, opacity) {\n                if (defined(color)) {\n                    this.options.set('stroke.color', color);\n                    if (defined(width)) {\n                        this.options.set('stroke.width', width);\n                    }\n                    if (defined(opacity)) {\n                        this.options.set('stroke.opacity', opacity);\n                    }\n                    return this;\n                }\n                return this.options.get('stroke');\n            }\n        };\n        var IDENTITY_MATRIX_HASH = Matrix.IDENTITY.toString();\n        var Measurable = {\n            extend: function (proto) {\n                proto.bbox = this.bbox;\n                proto.geometryChange = this.geometryChange;\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n                var bbox;\n                if (this._bboxCache && this._matrixHash === matrixHash) {\n                    bbox = this._bboxCache.clone();\n                } else {\n                    bbox = this._bbox(combinedMatrix);\n                    this._bboxCache = bbox ? bbox.clone() : null;\n                    this._matrixHash = matrixHash;\n                }\n                var strokeWidth = this.options.get('stroke.width');\n                if (strokeWidth && bbox) {\n                    bbox.expand(strokeWidth / 2);\n                }\n                return bbox;\n            },\n            geometryChange: function () {\n                delete this._bboxCache;\n                this.trigger('geometryChange', { element: this });\n            }\n        };\n        function geometryAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, value);\n                    this.geometryChange();\n                    return this;\n                }\n                return this[fieldName];\n            };\n        }\n        function defineGeometryAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = geometryAccessor(names[i]);\n            }\n        }\n        var DEFAULT_STROKE = '#000';\n        var Circle = Element$1.extend({\n            init: function (geometry, options) {\n                if (geometry === void 0) {\n                    geometry = new Circle$2();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                Element$1.fn.init.call(this, options);\n                this.geometry(geometry);\n                if (!defined(this.options.stroke)) {\n                    this.stroke(DEFAULT_STROKE);\n                }\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        Circle.prototype.nodeType = 'Circle';\n        Paintable.extend(Circle.prototype);\n        Measurable.extend(Circle.prototype);\n        defineGeometryAccessors(Circle.prototype, ['geometry']);\n        var PRECISION = 10;\n        function close(a, b, tolerance) {\n            if (tolerance === void 0) {\n                tolerance = PRECISION;\n            }\n            return round(Math.abs(a - b), tolerance) === 0;\n        }\n        function closeOrLess(a, b, tolerance) {\n            return a < b || close(a, b, tolerance);\n        }\n        function lineIntersection(p0, p1, p2, p3) {\n            var s1x = p1.x - p0.x;\n            var s2x = p3.x - p2.x;\n            var s1y = p1.y - p0.y;\n            var s2y = p3.y - p2.y;\n            var nx = p0.x - p2.x;\n            var ny = p0.y - p2.y;\n            var d = s1x * s2y - s2x * s1y;\n            var s = (s1x * ny - s1y * nx) / d;\n            var t = (s2x * ny - s2y * nx) / d;\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return new Point(p0.x + t * s1x, p0.y + t * s1y);\n            }\n        }\n        var MAX_INTERVAL = 45;\n        var pow$1 = Math.pow;\n        var Arc$2 = Class.extend({\n            init: function (center, options) {\n                if (center === void 0) {\n                    center = new Point();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                this.setCenter(center);\n                this.radiusX = options.radiusX;\n                this.radiusY = options.radiusY || options.radiusX;\n                this.startAngle = options.startAngle;\n                this.endAngle = options.endAngle;\n                this.anticlockwise = options.anticlockwise || false;\n            },\n            clone: function () {\n                return new Arc$2(this.center, {\n                    radiusX: this.radiusX,\n                    radiusY: this.radiusY,\n                    startAngle: this.startAngle,\n                    endAngle: this.endAngle,\n                    anticlockwise: this.anticlockwise\n                });\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            pointAt: function (angle) {\n                var center = this.center;\n                var radian = rad(angle);\n                return new Point(center.x + this.radiusX * Math.cos(radian), center.y + this.radiusY * Math.sin(radian));\n            },\n            curvePoints: function () {\n                var this$1 = this;\n                var startAngle = this.startAngle;\n                var dir = this.anticlockwise ? -1 : 1;\n                var curvePoints = [this.pointAt(startAngle)];\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var subIntervalsCount = Math.ceil(intervalAngle / MAX_INTERVAL);\n                var subIntervalAngle = intervalAngle / subIntervalsCount;\n                var currentAngle = startAngle;\n                for (var i = 1; i <= subIntervalsCount; i++) {\n                    var nextAngle = currentAngle + dir * subIntervalAngle;\n                    var points = this$1._intervalCurvePoints(currentAngle, nextAngle);\n                    curvePoints.push(points.cp1, points.cp2, points.p2);\n                    currentAngle = nextAngle;\n                }\n                return curvePoints;\n            },\n            bbox: function (matrix) {\n                var this$1 = this;\n                var interval = this._arcInterval();\n                var startAngle = interval.startAngle;\n                var endAngle = interval.endAngle;\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n                var extremeX = deg(extremeAngles.x);\n                var extremeY = deg(extremeAngles.y);\n                var endPoint = this.pointAt(endAngle).transformCopy(matrix);\n                var currentAngleX = bboxStartAngle(extremeX, startAngle);\n                var currentAngleY = bboxStartAngle(extremeY, startAngle);\n                var currentPoint = this.pointAt(startAngle).transformCopy(matrix);\n                var minPoint = Point.min(currentPoint, endPoint);\n                var maxPoint = Point.max(currentPoint, endPoint);\n                while (currentAngleX < endAngle || currentAngleY < endAngle) {\n                    var currentPointX = void 0;\n                    if (currentAngleX < endAngle) {\n                        currentPointX = this$1.pointAt(currentAngleX).transformCopy(matrix);\n                        currentAngleX += 90;\n                    }\n                    var currentPointY = void 0;\n                    if (currentAngleY < endAngle) {\n                        currentPointY = this$1.pointAt(currentAngleY).transformCopy(matrix);\n                        currentAngleY += 90;\n                    }\n                    currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _arcInterval: function () {\n                var ref = this;\n                var startAngle = ref.startAngle;\n                var endAngle = ref.endAngle;\n                var anticlockwise = ref.anticlockwise;\n                if (anticlockwise) {\n                    var oldStart = startAngle;\n                    startAngle = endAngle;\n                    endAngle = oldStart;\n                }\n                if (startAngle > endAngle || anticlockwise && startAngle === endAngle) {\n                    endAngle += 360;\n                }\n                return {\n                    startAngle: startAngle,\n                    endAngle: endAngle\n                };\n            },\n            _intervalCurvePoints: function (startAngle, endAngle) {\n                var p1 = this.pointAt(startAngle);\n                var p2 = this.pointAt(endAngle);\n                var p1Derivative = this._derivativeAt(startAngle);\n                var p2Derivative = this._derivativeAt(endAngle);\n                var t = (rad(endAngle) - rad(startAngle)) / 3;\n                var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n                var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n                return {\n                    p1: p1,\n                    cp1: cp1,\n                    cp2: cp2,\n                    p2: p2\n                };\n            },\n            _derivativeAt: function (angle) {\n                var radian = rad(angle);\n                return new Point(-this.radiusX * Math.sin(radian), this.radiusY * Math.cos(radian));\n            },\n            containsPoint: function (point) {\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var ref = this;\n                var center = ref.center;\n                var radiusX = ref.radiusX;\n                var radiusY = ref.radiusY;\n                var distance = center.distanceTo(point);\n                var angleRad = Math.atan2(point.y - center.y, point.x - center.x);\n                var pointRadius = radiusX * radiusY / Math.sqrt(pow$1(radiusX, 2) * pow$1(Math.sin(angleRad), 2) + pow$1(radiusY, 2) * pow$1(Math.cos(angleRad), 2));\n                var startPoint = this.pointAt(this.startAngle).round(PRECISION);\n                var endPoint = this.pointAt(this.endAngle).round(PRECISION);\n                var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n                var containsPoint;\n                if (intervalAngle < 180) {\n                    containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n                } else {\n                    var angle = calculateAngle(center.x, center.y, radiusX, radiusY, point.x, point.y);\n                    if (angle !== 360) {\n                        angle = (360 + angle) % 360;\n                    }\n                    var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                    containsPoint = inAngleRange && closeOrLess(distance, pointRadius) || !inAngleRange && (!intersection || intersection.equals(point));\n                }\n                return containsPoint;\n            },\n            _isOnPath: function (point, width) {\n                var interval = this._arcInterval();\n                var center = this.center;\n                var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                if (angle !== 360) {\n                    angle = (360 + angle) % 360;\n                }\n                var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n            }\n        });\n        Arc$2.fromPoints = function (start, end, rx, ry, largeArc, swipe) {\n            var arcParameters = normalizeArcParameters({\n                x1: start.x,\n                y1: start.y,\n                x2: end.x,\n                y2: end.y,\n                rx: rx,\n                ry: ry,\n                largeArc: largeArc,\n                swipe: swipe\n            });\n            return new Arc$2(arcParameters.center, {\n                startAngle: arcParameters.startAngle,\n                endAngle: arcParameters.endAngle,\n                radiusX: rx,\n                radiusY: ry,\n                anticlockwise: swipe === 0\n            });\n        };\n        defineAccessors(Arc$2.prototype, [\n            'radiusX',\n            'radiusY',\n            'startAngle',\n            'endAngle',\n            'anticlockwise'\n        ]);\n        ObserversMixin.extend(Arc$2.prototype);\n        function elipseAngle(start, end, swipe) {\n            var endAngle = end;\n            if (start > endAngle) {\n                endAngle += 360;\n            }\n            var alpha = Math.abs(endAngle - start);\n            if (!swipe) {\n                alpha = 360 - alpha;\n            }\n            return alpha;\n        }\n        function calculateAngle(cx, cy, rx, ry, x, y) {\n            var cos = round((x - cx) / rx, 3);\n            var sin = round((y - cy) / ry, 3);\n            return round(deg(Math.atan2(sin, cos)));\n        }\n        function normalizeArcParameters(parameters) {\n            var x1 = parameters.x1;\n            var y1 = parameters.y1;\n            var x2 = parameters.x2;\n            var y2 = parameters.y2;\n            var rx = parameters.rx;\n            var ry = parameters.ry;\n            var largeArc = parameters.largeArc;\n            var swipe = parameters.swipe;\n            var cx, cy;\n            var cx1, cy1;\n            var a, b, c, sqrt;\n            if (y1 !== y2) {\n                var x21 = x2 - x1;\n                var y21 = y2 - y1;\n                var rx2 = pow$1(rx, 2), ry2 = pow$1(ry, 2);\n                var k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\n                var yk2 = k - y2;\n                var l = -(x21 * ry2) / (rx2 * y21);\n                a = 1 / rx2 + pow$1(l, 2) / ry2;\n                b = 2 * (l * yk2 / ry2 - x2 / rx2);\n                c = pow$1(x2, 2) / rx2 + pow$1(yk2, 2) / ry2 - 1;\n                sqrt = Math.sqrt(pow$1(b, 2) - 4 * a * c);\n                cx = (-b - sqrt) / (2 * a);\n                cy = k + l * cx;\n                cx1 = (-b + sqrt) / (2 * a);\n                cy1 = k + l * cx1;\n            } else if (x1 !== x2) {\n                b = -2 * y2;\n                c = pow$1((x2 - x1) * ry / (2 * rx), 2) + pow$1(y2, 2) - pow$1(ry, 2);\n                sqrt = Math.sqrt(pow$1(b, 2) - 4 * c);\n                cx = cx1 = (x1 + x2) / 2;\n                cy = (-b - sqrt) / 2;\n                cy1 = (-b + sqrt) / 2;\n            } else {\n                return false;\n            }\n            var start = calculateAngle(cx, cy, rx, ry, x1, y1);\n            var end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            var alpha = elipseAngle(start, end, swipe);\n            if (largeArc && alpha <= 180 || !largeArc && alpha > 180) {\n                cx = cx1;\n                cy = cy1;\n                start = calculateAngle(cx, cy, rx, ry, x1, y1);\n                end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            }\n            return {\n                center: new Point(cx, cy),\n                startAngle: start,\n                endAngle: end\n            };\n        }\n        function bboxStartAngle(angle, start) {\n            var startAngle = angle;\n            while (startAngle < start) {\n                startAngle += 90;\n            }\n            return startAngle;\n        }\n        var push = [].push;\n        var pop = [].pop;\n        var splice = [].splice;\n        var shift = [].shift;\n        var slice = [].slice;\n        var unshift = [].unshift;\n        var ElementsArray = Class.extend({\n            init: function (array) {\n                if (array === void 0) {\n                    array = [];\n                }\n                this.length = 0;\n                this._splice(0, array.length, array);\n            },\n            elements: function (value) {\n                if (value) {\n                    this._splice(0, this.length, value);\n                    this._change();\n                    return this;\n                }\n                return this.slice(0);\n            },\n            push: function () {\n                var elements = arguments;\n                var result = push.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            slice: function () {\n                return slice.call(this);\n            },\n            pop: function () {\n                var length = this.length;\n                var result = pop.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            splice: function (index, howMany) {\n                var elements = slice.call(arguments, 2);\n                var result = this._splice(index, howMany, elements);\n                this._change();\n                return result;\n            },\n            shift: function () {\n                var length = this.length;\n                var result = shift.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            unshift: function () {\n                var elements = arguments;\n                var result = unshift.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            indexOf: function (element) {\n                var this$1 = this;\n                var length = this.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (this$1[idx] === element) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _splice: function (index, howMany, elements) {\n                var result = splice.apply(this, [\n                    index,\n                    howMany\n                ].concat(elements));\n                this._clearObserver(result);\n                this._setObserver(elements);\n                return result;\n            },\n            _add: function (elements) {\n                this._setObserver(elements);\n                this._change();\n            },\n            _remove: function (elements) {\n                this._clearObserver(elements);\n                this._change();\n            },\n            _setObserver: function (elements) {\n                var this$1 = this;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].addObserver(this$1);\n                }\n            },\n            _clearObserver: function (elements) {\n                var this$1 = this;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].removeObserver(this$1);\n                }\n            },\n            _change: function () {\n            }\n        });\n        ObserversMixin.extend(ElementsArray.prototype);\n        var GeometryElementsArray = ElementsArray.extend({\n            _change: function () {\n                this.geometryChange();\n            }\n        });\n        function pointAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, Point.create(value));\n                    this.geometryChange();\n                    return this;\n                }\n                return this[fieldName];\n            };\n        }\n        function definePointAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = pointAccessor(names[i]);\n            }\n        }\n        function isOutOfEndPoint(endPoint, controlPoint, point) {\n            var angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n            var rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n            return rotatedPoint.x < endPoint.x;\n        }\n        function calculateCurveAt(t, field, points) {\n            var t1 = 1 - t;\n            return Math.pow(t1, 3) * points[0][field] + 3 * Math.pow(t1, 2) * t * points[1][field] + 3 * Math.pow(t, 2) * t1 * points[2][field] + Math.pow(t, 3) * points[3][field];\n        }\n        function toCubicPolynomial(points, field) {\n            return [\n                -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n                3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n                3 * (-points[0][field] + points[1][field]),\n                points[0][field]\n            ];\n        }\n        var ComplexNumber = Class.extend({\n            init: function (real, img) {\n                if (real === void 0) {\n                    real = 0;\n                }\n                if (img === void 0) {\n                    img = 0;\n                }\n                this.real = real;\n                this.img = img;\n            },\n            add: function (cNumber) {\n                return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n            },\n            addConstant: function (value) {\n                return new ComplexNumber(this.real + value, this.img);\n            },\n            negate: function () {\n                return new ComplexNumber(-this.real, -this.img);\n            },\n            multiply: function (cNumber) {\n                return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img, this.real * cNumber.img + this.img * cNumber.real);\n            },\n            multiplyConstant: function (value) {\n                return new ComplexNumber(this.real * value, this.img * value);\n            },\n            nthRoot: function (n) {\n                var rad$$1 = Math.atan2(this.img, this.real);\n                var r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));\n                var nthR = Math.pow(r, 1 / n);\n                return new ComplexNumber(nthR * Math.cos(rad$$1 / n), nthR * Math.sin(rad$$1 / n));\n            },\n            equals: function (cNumber) {\n                return this.real === cNumber.real && this.img === cNumber.img;\n            },\n            isReal: function () {\n                return this.img === 0;\n            }\n        });\n        function numberSign(x) {\n            return x < 0 ? -1 : 1;\n        }\n        function solveQuadraticEquation(a, b, c) {\n            var squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n            return [\n                (-b + squareRoot) / (2 * a),\n                (-b - squareRoot) / (2 * a)\n            ];\n        }\n        function solveCubicEquation(a, b, c, d) {\n            if (a === 0) {\n                return solveQuadraticEquation(b, c, d);\n            }\n            var p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n            var q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n            var Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n            var i = new ComplexNumber(0, 1);\n            var b3a = -b / (3 * a);\n            var x1, x2, y1, y2, y3, z1, z2;\n            if (Q < 0) {\n                x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n                x2 = new ComplexNumber(-q / 2, -Math.sqrt(-Q)).nthRoot(3);\n            } else {\n                x1 = -q / 2 + Math.sqrt(Q);\n                x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n                x2 = -q / 2 - Math.sqrt(Q);\n                x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n            }\n            y1 = x1.add(x2);\n            z1 = x1.add(x2).multiplyConstant(-1 / 2);\n            z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n            y2 = z1.add(i.multiply(z2));\n            y3 = z1.add(i.negate().multiply(z2));\n            var result = [];\n            if (y1.isReal()) {\n                result.push(round(y1.real + b3a, PRECISION));\n            }\n            if (y2.isReal()) {\n                result.push(round(y2.real + b3a, PRECISION));\n            }\n            if (y3.isReal()) {\n                result.push(round(y3.real + b3a, PRECISION));\n            }\n            return result;\n        }\n        function hasRootsInRange(points, point, field, rootField, range) {\n            var polynomial = toCubicPolynomial(points, rootField);\n            var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n            var intersection;\n            for (var idx = 0; idx < roots.length; idx++) {\n                if (0 <= roots[idx] && roots[idx] <= 1) {\n                    intersection = calculateCurveAt(roots[idx], field, points);\n                    if (Math.abs(intersection - point[field]) <= range) {\n                        return true;\n                    }\n                }\n            }\n        }\n        function curveIntersectionsCount(points, point, bbox) {\n            var polynomial = toCubicPolynomial(points, 'x');\n            var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n            var rayIntersection, intersectsRay;\n            var count = 0;\n            for (var i = 0; i < roots.length; i++) {\n                rayIntersection = calculateCurveAt(roots[i], 'y', points);\n                intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n                if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        function lineIntersectionsCount(a, b, point) {\n            var intersects;\n            if (a.x !== b.x) {\n                var minX = Math.min(a.x, b.x);\n                var maxX = Math.max(a.x, b.x);\n                var minY = Math.min(a.y, b.y);\n                var maxY = Math.max(a.y, b.y);\n                var inRange = minX <= point.x && point.x < maxX;\n                if (minY === maxY) {\n                    intersects = point.y <= minY && inRange;\n                } else {\n                    intersects = inRange && (maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x) / (maxX - minX) + minY - point.y >= 0;\n                }\n            }\n            return intersects ? 1 : 0;\n        }\n        var Segment = Class.extend({\n            init: function (anchor, controlIn, controlOut) {\n                this.anchor(anchor || new Point());\n                this.controlIn(controlIn);\n                this.controlOut(controlOut);\n            },\n            bboxTo: function (toSegment, matrix) {\n                var segmentAnchor = this.anchor().transformCopy(matrix);\n                var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n                var rect;\n                if (this.controlOut() && toSegment.controlIn()) {\n                    rect = this._curveBoundingBox(segmentAnchor, this.controlOut().transformCopy(matrix), toSegment.controlIn().transformCopy(matrix), toSegmentAnchor);\n                } else {\n                    rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n                }\n                return rect;\n            },\n            _lineBoundingBox: function (p1, p2) {\n                return Rect.fromPoints(p1, p2);\n            },\n            _curveBoundingBox: function (p1, cp1, cp2, p2) {\n                var points = [\n                    p1,\n                    cp1,\n                    cp2,\n                    p2\n                ];\n                var extremesX = this._curveExtremesFor(points, 'x');\n                var extremesY = this._curveExtremesFor(points, 'y');\n                var xLimits = arrayLimits([\n                    extremesX.min,\n                    extremesX.max,\n                    p1.x,\n                    p2.x\n                ]);\n                var yLimits = arrayLimits([\n                    extremesY.min,\n                    extremesY.max,\n                    p1.y,\n                    p2.y\n                ]);\n                return Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n            },\n            _curveExtremesFor: function (points, field) {\n                var extremes = this._curveExtremes(points[0][field], points[1][field], points[2][field], points[3][field]);\n                return {\n                    min: calculateCurveAt(extremes.min, field, points),\n                    max: calculateCurveAt(extremes.max, field, points)\n                };\n            },\n            _curveExtremes: function (x1, x2, x3, x4) {\n                var a = x1 - 3 * x2 + 3 * x3 - x4;\n                var b = -2 * (x1 - 2 * x2 + x3);\n                var c = x1 - x2;\n                var sqrt = Math.sqrt(b * b - 4 * a * c);\n                var t1 = 0;\n                var t2 = 1;\n                if (a === 0) {\n                    if (b !== 0) {\n                        t1 = t2 = -c / b;\n                    }\n                } else if (!isNaN(sqrt)) {\n                    t1 = (-b + sqrt) / (2 * a);\n                    t2 = (-b - sqrt) / (2 * a);\n                }\n                var min = Math.max(Math.min(t1, t2), 0);\n                if (min < 0 || min > 1) {\n                    min = 0;\n                }\n                var max = Math.min(Math.max(t1, t2), 1);\n                if (max > 1 || max < 0) {\n                    max = 1;\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            _intersectionsTo: function (segment, point) {\n                var intersectionsCount;\n                if (this.controlOut() && segment.controlIn()) {\n                    intersectionsCount = curveIntersectionsCount([\n                        this.anchor(),\n                        this.controlOut(),\n                        segment.controlIn(),\n                        segment.anchor()\n                    ], point, this.bboxTo(segment));\n                } else {\n                    intersectionsCount = lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n                }\n                return intersectionsCount;\n            },\n            _isOnCurveTo: function (segment, point, width, endSegment) {\n                var bbox = this.bboxTo(segment).expand(width, width);\n                if (bbox.containsPoint(point)) {\n                    var p1 = this.anchor();\n                    var p2 = this.controlOut();\n                    var p3 = segment.controlIn();\n                    var p4 = segment.anchor();\n                    if (endSegment === 'start' && p1.distanceTo(point) <= width) {\n                        return !isOutOfEndPoint(p1, p2, point);\n                    } else if (endSegment === 'end' && p4.distanceTo(point) <= width) {\n                        return !isOutOfEndPoint(p4, p3, point);\n                    }\n                    var points = [\n                        p1,\n                        p2,\n                        p3,\n                        p4\n                    ];\n                    if (hasRootsInRange(points, point, 'x', 'y', width) || hasRootsInRange(points, point, 'y', 'x', width)) {\n                        return true;\n                    }\n                    var rotation = transform().rotate(45, point);\n                    var rotatedPoints = [\n                        p1.transformCopy(rotation),\n                        p2.transformCopy(rotation),\n                        p3.transformCopy(rotation),\n                        p4.transformCopy(rotation)\n                    ];\n                    return hasRootsInRange(rotatedPoints, point, 'x', 'y', width) || hasRootsInRange(rotatedPoints, point, 'y', 'x', width);\n                }\n            },\n            _isOnLineTo: function (segment, point, width) {\n                var p1 = this.anchor();\n                var p2 = segment.anchor();\n                var angle = deg(Math.atan2(p2.y - p1.y, p2.x - p1.x));\n                var rect = new Rect([\n                    p1.x,\n                    p1.y - width / 2\n                ], [\n                    p1.distanceTo(p2),\n                    width\n                ]);\n                return rect.containsPoint(point.transformCopy(transform().rotate(-angle, p1)));\n            },\n            _isOnPathTo: function (segment, point, width, endSegment) {\n                var isOnPath;\n                if (this.controlOut() && segment.controlIn()) {\n                    isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n                } else {\n                    isOnPath = this._isOnLineTo(segment, point, width);\n                }\n                return isOnPath;\n            }\n        });\n        definePointAccessors(Segment.prototype, [\n            'anchor',\n            'controlIn',\n            'controlOut'\n        ]);\n        ObserversMixin.extend(Segment.prototype);\n        function arrayLimits(arr) {\n            var length = arr.length;\n            var min = MAX_NUM;\n            var max = MIN_NUM;\n            for (var i = 0; i < length; i++) {\n                max = Math.max(max, arr[i]);\n                min = Math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        var Path = Element$1.extend({\n            init: function (options) {\n                Element$1.fn.init.call(this, options);\n                this.segments = new GeometryElementsArray();\n                this.segments.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                    if (!defined(this.options.stroke.lineJoin)) {\n                        this.options.set('stroke.lineJoin', 'miter');\n                    }\n                }\n            },\n            moveTo: function (x, y) {\n                this.suspend();\n                this.segments.elements([]);\n                this.resume();\n                this.lineTo(x, y);\n                return this;\n            },\n            lineTo: function (x, y) {\n                var point = defined(y) ? new Point(x, y) : x;\n                var segment = new Segment(point);\n                this.segments.push(segment);\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var segment = new Segment(point, controlIn);\n                    this.suspend();\n                    lastSegment.controlOut(controlOut);\n                    this.resume();\n                    this.segments.push(segment);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var start = rad(startAngle);\n                    var center = new Point(anchor.x - radiusX * Math.cos(start), anchor.y - radiusY * Math.sin(start));\n                    var arc = new Arc$2(center, {\n                        startAngle: startAngle,\n                        endAngle: endAngle,\n                        radiusX: radiusX,\n                        radiusY: radiusY,\n                        anticlockwise: anticlockwise\n                    });\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var arc = Arc$2.fromPoints(anchor, end, rx, ry, largeArc, swipe);\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            _addArcSegments: function (arc) {\n                var this$1 = this;\n                this.suspend();\n                var curvePoints = arc.curvePoints();\n                for (var i = 1; i < curvePoints.length; i += 3) {\n                    this$1.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                }\n                this.resume();\n                this.geometryChange();\n            },\n            close: function () {\n                this.options.closed = true;\n                this.geometryChange();\n                return this;\n            },\n            rawBBox: function () {\n                return this._bbox();\n            },\n            _containsPoint: function (point) {\n                var segments = this.segments;\n                var length = segments.length;\n                var intersectionsCount = 0;\n                var previous, current;\n                for (var idx = 1; idx < length; idx++) {\n                    previous = segments[idx - 1];\n                    current = segments[idx];\n                    intersectionsCount += previous._intersectionsTo(current, point);\n                }\n                if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n                    intersectionsCount += lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n                }\n                return intersectionsCount % 2 !== 0;\n            },\n            _isOnPath: function (point, width) {\n                var segments = this.segments;\n                var length = segments.length;\n                var pathWidth = width || this.options.stroke.width;\n                if (length > 1) {\n                    if (segments[0]._isOnPathTo(segments[1], point, pathWidth, 'start')) {\n                        return true;\n                    }\n                    for (var idx = 2; idx <= length - 2; idx++) {\n                        if (segments[idx - 1]._isOnPathTo(segments[idx], point, pathWidth)) {\n                            return true;\n                        }\n                    }\n                    if (segments[length - 2]._isOnPathTo(segments[length - 1], point, pathWidth, 'end')) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _bbox: function (matrix) {\n                var segments = this.segments;\n                var length = segments.length;\n                var boundingBox;\n                if (length === 1) {\n                    var anchor = segments[0].anchor().transformCopy(matrix);\n                    boundingBox = new Rect(anchor, Size.ZERO);\n                } else if (length > 0) {\n                    for (var i = 1; i < length; i++) {\n                        var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                        if (boundingBox) {\n                            boundingBox = Rect.union(boundingBox, segmentBox);\n                        } else {\n                            boundingBox = segmentBox;\n                        }\n                    }\n                }\n                return boundingBox;\n            }\n        });\n        Path.fromRect = function (rect, options) {\n            return new Path(options).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n        };\n        Path.fromPoints = function (points, options) {\n            if (points) {\n                var path = new Path(options);\n                for (var i = 0; i < points.length; i++) {\n                    var point = Point.create(points[i]);\n                    if (point) {\n                        if (i === 0) {\n                            path.moveTo(point);\n                        } else {\n                            path.lineTo(point);\n                        }\n                    }\n                }\n                return path;\n            }\n        };\n        Path.fromArc = function (arc, options) {\n            var path = new Path(options);\n            var startAngle = arc.startAngle;\n            var start = arc.pointAt(startAngle);\n            path.moveTo(start.x, start.y);\n            path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n            return path;\n        };\n        Path.prototype.nodeType = 'Path';\n        Paintable.extend(Path.prototype);\n        Measurable.extend(Path.prototype);\n        var DEFAULT_STROKE$1 = '#000';\n        var Arc = Element$1.extend({\n            init: function (geometry, options) {\n                if (geometry === void 0) {\n                    geometry = new Arc$2();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                Element$1.fn.init.call(this, options);\n                this.geometry(geometry);\n                if (!defined(this.options.stroke)) {\n                    this.stroke(DEFAULT_STROKE$1);\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this.geometry().bbox();\n            },\n            toPath: function () {\n                var path = new Path();\n                var curvePoints = this.geometry().curvePoints();\n                if (curvePoints.length > 0) {\n                    path.moveTo(curvePoints[0].x, curvePoints[0].y);\n                    for (var i = 1; i < curvePoints.length; i += 3) {\n                        path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                    }\n                }\n                return path;\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        Arc.prototype.nodeType = 'Arc';\n        Paintable.extend(Arc.prototype);\n        Measurable.extend(Arc.prototype);\n        defineGeometryAccessors(Arc.prototype, ['geometry']);\n        function elementsBoundingBox(elements, applyTransform, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function elementsClippedBoundingBox(elements, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = element.clippedBBox(transformation);\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        var MultiPath = Element$1.extend({\n            init: function (options) {\n                Element$1.fn.init.call(this, options);\n                this.paths = new GeometryElementsArray();\n                this.paths.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            moveTo: function (x, y) {\n                var path = new Path();\n                path.moveTo(x, y);\n                this.paths.push(path);\n                return this;\n            },\n            lineTo: function (x, y) {\n                if (this.paths.length > 0) {\n                    last(this.paths).lineTo(x, y);\n                }\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.paths.length > 0) {\n                    last(this.paths).curveTo(controlOut, controlIn, point);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\n                }\n                return this;\n            },\n            close: function () {\n                if (this.paths.length > 0) {\n                    last(this.paths).close();\n                }\n                return this;\n            },\n            _bbox: function (matrix) {\n                return elementsBoundingBox(this.paths, true, matrix);\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.paths, false);\n            },\n            _containsPoint: function (point) {\n                var paths = this.paths;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._containsPoint(point)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _isOnPath: function (point) {\n                var paths = this.paths;\n                var width = this.options.stroke.width;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._isOnPath(point, width)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n            }\n        });\n        MultiPath.prototype.nodeType = 'MultiPath';\n        Paintable.extend(MultiPath.prototype);\n        Measurable.extend(MultiPath.prototype);\n        var DEFAULT_FONT = '12px sans-serif';\n        var DEFAULT_FILL = '#000';\n        var Text = Element$1.extend({\n            init: function (content, position, options) {\n                if (position === void 0) {\n                    position = new Point();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                Element$1.fn.init.call(this, options);\n                this.content(content);\n                this.position(position);\n                if (!this.options.font) {\n                    this.options.font = DEFAULT_FONT;\n                }\n                if (!defined(this.options.fill)) {\n                    this.fill(DEFAULT_FILL);\n                }\n            },\n            content: function (value) {\n                if (defined(value)) {\n                    this.options.set('content', value);\n                    return this;\n                }\n                return this.options.get('content');\n            },\n            measure: function () {\n                var metrics = kendoUtil.measureText(this.content(), { font: this.options.get('font') });\n                return metrics;\n            },\n            rect: function () {\n                var size = this.measure();\n                var pos = this.position().clone();\n                return new Rect(pos, [\n                    size.width,\n                    size.height\n                ]);\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this.rect().bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this.rect().bbox();\n            },\n            _containsPoint: function (point) {\n                return this.rect().containsPoint(point);\n            }\n        });\n        Text.prototype.nodeType = 'Text';\n        Paintable.extend(Text.prototype);\n        definePointAccessors(Text.prototype, ['position']);\n        var Image$1 = Element$1.extend({\n            init: function (src, rect, options) {\n                if (rect === void 0) {\n                    rect = new Rect();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                Element$1.fn.init.call(this, options);\n                this.src(src);\n                this.rect(rect);\n            },\n            src: function (value) {\n                if (defined(value)) {\n                    this.options.set('src', value);\n                    return this;\n                }\n                return this.options.get('src');\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this._rect.bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this._rect.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._rect.containsPoint(point);\n            },\n            _hasFill: function () {\n                return this.src();\n            }\n        });\n        Image$1.prototype.nodeType = 'Image';\n        defineGeometryAccessors(Image$1.prototype, ['rect']);\n        var Traversable = {\n            extend: function (proto, childrenField) {\n                proto.traverse = function (callback) {\n                    var children = this[childrenField];\n                    for (var i = 0; i < children.length; i++) {\n                        var child = children[i];\n                        if (child.traverse) {\n                            child.traverse(callback);\n                        } else {\n                            callback(child);\n                        }\n                    }\n                    return this;\n                };\n            }\n        };\n        var Group = Element$1.extend({\n            init: function (options) {\n                Element$1.fn.init.call(this, options);\n                this.children = [];\n            },\n            childrenChange: function (action, items, index) {\n                this.trigger('childrenChange', {\n                    action: action,\n                    items: items,\n                    index: index\n                });\n            },\n            append: function () {\n                append(this.children, arguments);\n                this._reparent(arguments, this);\n                this.childrenChange('add', arguments);\n                return this;\n            },\n            insert: function (index, element) {\n                this.children.splice(index, 0, element);\n                element.parent = this;\n                this.childrenChange('add', [element], index);\n                return this;\n            },\n            insertAt: function (element, index) {\n                return this.insert(index, element);\n            },\n            remove: function (element) {\n                var index = this.children.indexOf(element);\n                if (index >= 0) {\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            removeAt: function (index) {\n                if (0 <= index && index < this.children.length) {\n                    var element = this.children[index];\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            clear: function () {\n                var items = this.children;\n                this.children = [];\n                this._reparent(items, null);\n                this.childrenChange('remove', items, 0);\n                return this;\n            },\n            bbox: function (transformation) {\n                return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.children, false);\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n            },\n            currentTransform: function (transformation) {\n                return Element$1.prototype.currentTransform.call(this, transformation) || null;\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var children = this.children;\n                    var transform = this.currentTransform(parentTransform);\n                    for (var idx = 0; idx < children.length; idx++) {\n                        if (children[idx].containsPoint(point, transform)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            },\n            _reparent: function (elements, newParent) {\n                var this$1 = this;\n                for (var i = 0; i < elements.length; i++) {\n                    var child = elements[i];\n                    var parent = child.parent;\n                    if (parent && parent !== this$1 && parent.remove) {\n                        parent.remove(child);\n                    }\n                    child.parent = newParent;\n                }\n            }\n        });\n        Group.prototype.nodeType = 'Group';\n        Traversable.extend(Group.prototype, 'children');\n        function translateToPoint(point, bbox, element) {\n            var transofrm = element.transform() || transform();\n            var matrix = transofrm.matrix();\n            matrix.e += point.x - bbox.origin.x;\n            matrix.f += point.y - bbox.origin.y;\n            transofrm.matrix(matrix);\n            element.transform(transofrm);\n        }\n        function alignStart(size, rect, align, axis, sizeField) {\n            var start;\n            if (align === 'start') {\n                start = rect.origin[axis];\n            } else if (align === 'end') {\n                start = rect.origin[axis] + rect.size[sizeField] - size;\n            } else {\n                start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n            }\n            return start;\n        }\n        var DEFAULT_OPTIONS = {\n            alignContent: 'start',\n            justifyContent: 'start',\n            alignItems: 'start',\n            spacing: 0,\n            orientation: 'horizontal',\n            lineSpacing: 0,\n            wrap: true\n        };\n        var Layout = Group.extend({\n            init: function (rect, options) {\n                Group.fn.init.call(this, $.extend({}, DEFAULT_OPTIONS, options));\n                this._rect = rect;\n                this._fieldMap = {};\n            },\n            rect: function (value) {\n                if (value) {\n                    this._rect = value;\n                    return this;\n                }\n                return this._rect;\n            },\n            _initMap: function () {\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                if (options.orientation === 'horizontal') {\n                    fieldMap.sizeField = 'width';\n                    fieldMap.groupsSizeField = 'height';\n                    fieldMap.groupAxis = 'x';\n                    fieldMap.groupsAxis = 'y';\n                } else {\n                    fieldMap.sizeField = 'height';\n                    fieldMap.groupsSizeField = 'width';\n                    fieldMap.groupAxis = 'y';\n                    fieldMap.groupsAxis = 'x';\n                }\n            },\n            reflow: function () {\n                if (!this._rect || this.children.length === 0) {\n                    return;\n                }\n                this._initMap();\n                if (this.options.transform) {\n                    this.transform(null);\n                }\n                var options = this.options;\n                var rect = this._rect;\n                var ref = this._initGroups();\n                var groups = ref.groups;\n                var groupsSize = ref.groupsSize;\n                var ref$1 = this._fieldMap;\n                var sizeField = ref$1.sizeField;\n                var groupsSizeField = ref$1.groupsSizeField;\n                var groupAxis = ref$1.groupAxis;\n                var groupsAxis = ref$1.groupsAxis;\n                var groupOrigin = new Point();\n                var elementOrigin = new Point();\n                var size = new Size();\n                var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                var elementStart, bbox, element, group, groupBox;\n                for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n                    group = groups[groupIdx];\n                    groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\n                    groupOrigin[groupsAxis] = groupStart;\n                    size[sizeField] = group.size;\n                    size[groupsSizeField] = group.lineSize;\n                    groupBox = new Rect(groupOrigin, size);\n                    for (var idx = 0; idx < group.bboxes.length; idx++) {\n                        element = group.elements[idx];\n                        bbox = group.bboxes[idx];\n                        elementOrigin[groupAxis] = elementStart;\n                        elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n                        translateToPoint(elementOrigin, bbox, element);\n                        elementStart += bbox.size[sizeField] + options.spacing;\n                    }\n                    groupStart += group.lineSize + options.lineSpacing;\n                }\n                if (!options.wrap && group.size > rect.size[sizeField]) {\n                    var scale = rect.size[sizeField] / groupBox.size[sizeField];\n                    var scaledStart = groupBox.topLeft().scale(scale, scale);\n                    var scaledSize = groupBox.size[groupsSizeField] * scale;\n                    var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                    var transform$$1 = transform();\n                    if (groupAxis === 'x') {\n                        transform$$1.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n                    } else {\n                        transform$$1.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n                    }\n                    transform$$1.scale(scale, scale);\n                    this.transform(transform$$1);\n                }\n            },\n            _initGroups: function () {\n                var this$1 = this;\n                var ref = this;\n                var options = ref.options;\n                var children = ref.children;\n                var lineSpacing = options.lineSpacing;\n                var wrap = options.wrap;\n                var spacing = options.spacing;\n                var sizeField = this._fieldMap.sizeField;\n                var group = this._newGroup();\n                var groups = [];\n                var addGroup = function () {\n                    groups.push(group);\n                    groupsSize += group.lineSize + lineSpacing;\n                };\n                var groupsSize = -lineSpacing;\n                for (var idx = 0; idx < children.length; idx++) {\n                    var element = children[idx];\n                    var bbox = children[idx].clippedBBox();\n                    if (element.visible() && bbox) {\n                        if (wrap && group.size + bbox.size[sizeField] + spacing > this$1._rect.size[sizeField]) {\n                            if (group.bboxes.length === 0) {\n                                this$1._addToGroup(group, bbox, element);\n                                addGroup();\n                                group = this$1._newGroup();\n                            } else {\n                                addGroup();\n                                group = this$1._newGroup();\n                                this$1._addToGroup(group, bbox, element);\n                            }\n                        } else {\n                            this$1._addToGroup(group, bbox, element);\n                        }\n                    }\n                }\n                if (group.bboxes.length) {\n                    addGroup();\n                }\n                return {\n                    groups: groups,\n                    groupsSize: groupsSize\n                };\n            },\n            _addToGroup: function (group, bbox, element) {\n                group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n                group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n                group.bboxes.push(bbox);\n                group.elements.push(element);\n            },\n            _newGroup: function () {\n                return {\n                    lineSize: 0,\n                    size: -this.options.spacing,\n                    bboxes: [],\n                    elements: []\n                };\n            }\n        });\n        var Rect$2 = Element$1.extend({\n            init: function (geometry, options) {\n                if (geometry === void 0) {\n                    geometry = new Rect();\n                }\n                if (options === void 0) {\n                    options = {};\n                }\n                Element$1.fn.init.call(this, options);\n                this.geometry(geometry);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._geometry.containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        Rect$2.prototype.nodeType = 'Rect';\n        Paintable.extend(Rect$2.prototype);\n        Measurable.extend(Rect$2.prototype);\n        defineGeometryAccessors(Rect$2.prototype, ['geometry']);\n        function alignElements(elements, rect, alignment, axis, sizeField) {\n            for (var idx = 0; idx < elements.length; idx++) {\n                var bbox = elements[idx].clippedBBox();\n                if (bbox) {\n                    var point = bbox.origin.clone();\n                    point[axis] = alignStart(bbox.size[sizeField], rect, alignment || 'start', axis, sizeField);\n                    translateToPoint(point, bbox, elements[idx]);\n                }\n            }\n        }\n        function align(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'x', 'width');\n        }\n        function vAlign(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'y', 'height');\n        }\n        function stackElements(elements, stackAxis, otherAxis, sizeField) {\n            if (elements.length > 1) {\n                var origin = new Point();\n                var previousBBox = elements[0].bbox;\n                for (var idx = 1; idx < elements.length; idx++) {\n                    var element = elements[idx].element;\n                    var bbox = elements[idx].bbox;\n                    origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\n                    origin[otherAxis] = bbox.origin[otherAxis];\n                    translateToPoint(origin, bbox, element);\n                    bbox.origin[stackAxis] = origin[stackAxis];\n                    previousBBox = bbox;\n                }\n            }\n        }\n        function createStackElements(elements) {\n            var stackElements = [];\n            for (var idx = 0; idx < elements.length; idx++) {\n                var element = elements[idx];\n                var bbox = element.clippedBBox();\n                if (bbox) {\n                    stackElements.push({\n                        element: element,\n                        bbox: bbox\n                    });\n                }\n            }\n            return stackElements;\n        }\n        function stack(elements) {\n            stackElements(createStackElements(elements), 'x', 'y', 'width');\n        }\n        function vStack(elements) {\n            stackElements(createStackElements(elements), 'y', 'x', 'height');\n        }\n        function getStacks(elements, rect, sizeField) {\n            var maxSize = rect.size[sizeField];\n            var stacks = [];\n            var stack = [];\n            var stackSize = 0;\n            var element, bbox;\n            var addElementToStack = function () {\n                stack.push({\n                    element: element,\n                    bbox: bbox\n                });\n            };\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    var size = bbox.size[sizeField];\n                    if (stackSize + size > maxSize) {\n                        if (stack.length) {\n                            stacks.push(stack);\n                            stack = [];\n                            addElementToStack();\n                            stackSize = size;\n                        } else {\n                            addElementToStack();\n                            stacks.push(stack);\n                            stack = [];\n                            stackSize = 0;\n                        }\n                    } else {\n                        addElementToStack();\n                        stackSize += size;\n                    }\n                }\n            }\n            if (stack.length) {\n                stacks.push(stack);\n            }\n            return stacks;\n        }\n        function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n            var stacks = getStacks(elements, rect, sizeField);\n            var origin = rect.origin.clone();\n            var result = [];\n            for (var idx = 0; idx < stacks.length; idx++) {\n                var stack = stacks[idx];\n                var startElement = stack[0];\n                origin[otherAxis] = startElement.bbox.origin[otherAxis];\n                translateToPoint(origin, startElement.bbox, startElement.element);\n                startElement.bbox.origin[axis] = origin[axis];\n                stackElements(stack, axis, otherAxis, sizeField);\n                result.push([]);\n                for (var elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n                    result[idx].push(stack[elementIdx].element);\n                }\n            }\n            return result;\n        }\n        function wrap(elements, rect) {\n            return wrapElements(elements, rect, 'x', 'y', 'width');\n        }\n        function vWrap(elements, rect) {\n            return wrapElements(elements, rect, 'y', 'x', 'height');\n        }\n        function fit(element, rect) {\n            var bbox = element.clippedBBox();\n            if (bbox) {\n                var elementSize = bbox.size;\n                var rectSize = rect.size;\n                if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\n                    var scale = Math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\n                    var transform$$1 = element.transform() || transform();\n                    transform$$1.scale(scale, scale);\n                    element.transform(transform$$1);\n                }\n            }\n        }\n        var StopsArray = ElementsArray.extend({\n            _change: function () {\n                this.optionsChange({ field: 'stops' });\n            }\n        });\n        function optionsAccessor(name) {\n            return function (value) {\n                if (defined(value)) {\n                    this.options.set(name, value);\n                    return this;\n                }\n                return this.options.get(name);\n            };\n        }\n        function defineOptionsAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = optionsAccessor(names[i]);\n            }\n        }\n        var GradientStop = Class.extend({\n            init: function (offset, color, opacity) {\n                this.options = new OptionsStore({\n                    offset: offset,\n                    color: color,\n                    opacity: defined(opacity) ? opacity : 1\n                });\n                this.options.addObserver(this);\n            }\n        });\n        GradientStop.create = function (arg) {\n            if (defined(arg)) {\n                var stop;\n                if (arg instanceof GradientStop) {\n                    stop = arg;\n                } else if (arg.length > 1) {\n                    stop = new GradientStop(arg[0], arg[1], arg[2]);\n                } else {\n                    stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n                }\n                return stop;\n            }\n        };\n        defineOptionsAccessors(GradientStop.prototype, [\n            'offset',\n            'color',\n            'opacity'\n        ]);\n        ObserversMixin.extend(GradientStop.prototype);\n        var Gradient = Class.extend({\n            init: function (options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                this.stops = new StopsArray(this._createStops(options.stops));\n                this.stops.addObserver(this);\n                this._userSpace = options.userSpace;\n                this.id = definitionId();\n            },\n            userSpace: function (value) {\n                if (defined(value)) {\n                    this._userSpace = value;\n                    this.optionsChange();\n                    return this;\n                }\n                return this._userSpace;\n            },\n            _createStops: function (stops) {\n                if (stops === void 0) {\n                    stops = [];\n                }\n                var result = [];\n                for (var idx = 0; idx < stops.length; idx++) {\n                    result.push(GradientStop.create(stops[idx]));\n                }\n                return result;\n            },\n            addStop: function (offset, color, opacity) {\n                this.stops.push(new GradientStop(offset, color, opacity));\n            },\n            removeStop: function (stop) {\n                var index = this.stops.indexOf(stop);\n                if (index >= 0) {\n                    this.stops.splice(index, 1);\n                }\n            }\n        });\n        Gradient.prototype.nodeType = 'Gradient';\n        ObserversMixin.extend(Gradient.prototype);\n        $.extend(Gradient.prototype, {\n            optionsChange: function (e) {\n                this.trigger('optionsChange', {\n                    field: 'gradient' + (e ? '.' + e.field : ''),\n                    value: this\n                });\n            },\n            geometryChange: function () {\n                this.optionsChange();\n            }\n        });\n        var LinearGradient = Gradient.extend({\n            init: function (options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                Gradient.fn.init.call(this, options);\n                this.start(options.start || new Point());\n                this.end(options.end || new Point(1, 0));\n            }\n        });\n        definePointAccessors(LinearGradient.prototype, [\n            'start',\n            'end'\n        ]);\n        var RadialGradient = Gradient.extend({\n            init: function (options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                Gradient.fn.init.call(this, options);\n                this.center(options.center || new Point());\n                this._radius = defined(options.radius) ? options.radius : 1;\n                this._fallbackFill = options.fallbackFill;\n            },\n            radius: function (value) {\n                if (defined(value)) {\n                    this._radius = value;\n                    this.geometryChange();\n                    return this;\n                }\n                return this._radius;\n            },\n            fallbackFill: function (value) {\n                if (defined(value)) {\n                    this._fallbackFill = value;\n                    this.optionsChange();\n                    return this;\n                }\n                return this._fallbackFill;\n            }\n        });\n        definePointAccessors(RadialGradient.prototype, ['center']);\n        function swing(position) {\n            return 0.5 - Math.cos(position * Math.PI) / 2;\n        }\n        function linear(position) {\n            return position;\n        }\n        function easeOutElastic(position, time, start, diff) {\n            var s = 1.70158, p = 0, a = diff;\n            if (position === 0) {\n                return start;\n            }\n            if (position === 1) {\n                return start + diff;\n            }\n            if (!p) {\n                p = 0.5;\n            }\n            if (a < Math.abs(diff)) {\n                a = diff;\n                s = p / 4;\n            } else {\n                s = p / (2 * Math.PI) * Math.asin(diff / a);\n            }\n            return a * Math.pow(2, -10 * position) * Math.sin((Number(position) - s) * (1.1 * Math.PI) / p) + diff + start;\n        }\n        var easingFunctions = {\n            swing: swing,\n            linear: linear,\n            easeOutElastic: easeOutElastic\n        };\n        var now = Date.now || function () {\n            return new Date().getTime();\n        };\n        var Animation = Class.extend({\n            init: function (element, options) {\n                this.options = $.extend({}, this.options, options);\n                this.element = element;\n            },\n            setup: function () {\n            },\n            step: function () {\n            },\n            play: function () {\n                var this$1 = this;\n                var options = this.options;\n                var duration = options.duration;\n                var delay = options.delay;\n                if (delay === void 0) {\n                    delay = 0;\n                }\n                var easing = easingFunctions[options.easing];\n                var start = now() + delay;\n                var finish = start + duration;\n                if (duration === 0) {\n                    this.step(1);\n                    this.abort();\n                } else {\n                    setTimeout(function () {\n                        var loop = function () {\n                            if (this$1._stopped) {\n                                return;\n                            }\n                            var wallTime = now();\n                            var time = limitValue(wallTime - start, 0, duration);\n                            var position = time / duration;\n                            var easingPosition = easing(position, time, 0, 1, duration);\n                            this$1.step(easingPosition);\n                            if (wallTime < finish) {\n                                kendo.animationFrame(loop);\n                            } else {\n                                this$1.abort();\n                            }\n                        };\n                        loop();\n                    }, delay);\n                }\n            },\n            abort: function () {\n                this._stopped = true;\n            },\n            destroy: function () {\n                this.abort();\n            }\n        });\n        Animation.prototype.options = {\n            duration: 500,\n            easing: 'swing'\n        };\n        var AnimationFactory = Class.extend({\n            init: function () {\n                this._items = [];\n            },\n            register: function (name, type) {\n                this._items.push({\n                    name: name,\n                    type: type\n                });\n            },\n            create: function (element, options) {\n                var items = this._items;\n                var match;\n                if (options && options.type) {\n                    var type = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name.toLowerCase() === type) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n            }\n        });\n        AnimationFactory.current = new AnimationFactory();\n        Animation.create = function (type, element, options) {\n            return AnimationFactory.current.create(type, element, options);\n        };\n        var ShapeMap = {\n            l: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 2) {\n                    var point = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        point.translateWith(position);\n                    }\n                    path.lineTo(point.x, point.y);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            c: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 6) {\n                    var controlOut = new Point(parameters[i], parameters[i + 1]);\n                    var controlIn = new Point(parameters[i + 2], parameters[i + 3]);\n                    var point = new Point(parameters[i + 4], parameters[i + 5]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        controlOut.translateWith(position);\n                        point.translateWith(position);\n                    }\n                    path.curveTo(controlOut, controlIn, point);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            v: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.x;\n                toLineParamaters(options.parameters, true, value);\n                this.l(path, options);\n            },\n            h: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.y;\n                toLineParamaters(options.parameters, false, value);\n                this.l(path, options);\n            },\n            a: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 7) {\n                    var radiusX = parameters[i];\n                    var radiusY = parameters[i + 1];\n                    var largeArc = parameters[i + 3];\n                    var swipe = parameters[i + 4];\n                    var endPoint = new Point(parameters[i + 5], parameters[i + 6]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            s: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var lastControlIn;\n                if (previousCommand === 's' || previousCommand === 'c') {\n                    lastControlIn = last(last(path.paths).segments).controlIn();\n                }\n                for (var i = 0; i < parameters.length; i += 4) {\n                    var controlIn = new Point(parameters[i], parameters[i + 1]);\n                    var endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    var controlOut = void 0;\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    if (lastControlIn) {\n                        controlOut = reflectionPoint(lastControlIn, position);\n                    } else {\n                        controlOut = position.clone();\n                    }\n                    lastControlIn = controlIn;\n                    path.curveTo(controlOut, controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            q: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 4) {\n                    var controlPoint = new Point(parameters[i], parameters[i + 1]);\n                    var endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlPoint.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            t: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var controlPoint;\n                if (previousCommand === 'q' || previousCommand === 't') {\n                    var lastSegment = last(last(path.paths).segments);\n                    controlPoint = lastSegment.controlIn().clone().translateWith(position.scaleCopy(-1 / 3)).scale(3 / 2);\n                }\n                for (var i = 0; i < parameters.length; i += 2) {\n                    var endPoint = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    if (controlPoint) {\n                        controlPoint = reflectionPoint(controlPoint, position);\n                    } else {\n                        controlPoint = position.clone();\n                    }\n                    var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            }\n        };\n        function toLineParamaters(parameters, isVertical, value) {\n            var insertPosition = isVertical ? 0 : 1;\n            for (var i = 0; i < parameters.length; i += 2) {\n                parameters.splice(i + insertPosition, 0, value);\n            }\n        }\n        function reflectionPoint(point, center) {\n            if (point && center) {\n                return center.scaleCopy(2).translate(-point.x, -point.y);\n            }\n        }\n        var third = 1 / 3;\n        function quadraticToCubicControlPoints(position, controlPoint, endPoint) {\n            var scaledPoint = controlPoint.clone().scale(2 / 3);\n            return {\n                controlOut: scaledPoint.clone().translateWith(position.scaleCopy(third)),\n                controlIn: scaledPoint.translateWith(endPoint.scaleCopy(third))\n            };\n        }\n        var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi;\n        var SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g;\n        var MOVE = 'm';\n        var CLOSE = 'z';\n        function parseParameters(str) {\n            var parameters = [];\n            str.replace(SPLIT_REGEX, function (match, number) {\n                parameters.push(parseFloat(number));\n            });\n            return parameters;\n        }\n        var PathParser = Class.extend({\n            parse: function (str, options) {\n                var multiPath = new MultiPath(options);\n                var position = new Point();\n                var previousCommand;\n                str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {\n                    var command = element.toLowerCase();\n                    var isRelative = command === element;\n                    var parameters = parseParameters(params.trim());\n                    if (command === MOVE) {\n                        if (isRelative) {\n                            position.x += parameters[0];\n                            position.y += parameters[1];\n                        } else {\n                            position.x = parameters[0];\n                            position.y = parameters[1];\n                        }\n                        multiPath.moveTo(position.x, position.y);\n                        if (parameters.length > 2) {\n                            command = 'l';\n                            parameters.splice(0, 2);\n                        }\n                    }\n                    if (ShapeMap[command]) {\n                        ShapeMap[command](multiPath, {\n                            parameters: parameters,\n                            position: position,\n                            isRelative: isRelative,\n                            previousCommand: previousCommand\n                        });\n                        if (closePath && closePath.toLowerCase() === CLOSE) {\n                            multiPath.close();\n                        }\n                    } else if (command !== MOVE) {\n                        throw new Error('Error while parsing SVG path. Unsupported command: ' + command);\n                    }\n                    previousCommand = command;\n                });\n                return multiPath;\n            }\n        });\n        PathParser.current = new PathParser();\n        Path.parse = function (str, options) {\n            return PathParser.current.parse(str, options);\n        };\n        var SurfaceFactory = Class.extend({\n            init: function () {\n                this._items = [];\n            },\n            register: function (name, type, order) {\n                var items = this._items;\n                var first = items[0];\n                var entry = {\n                    name: name,\n                    type: type,\n                    order: order\n                };\n                if (!first || order < first.order) {\n                    items.unshift(entry);\n                } else {\n                    items.push(entry);\n                }\n            },\n            create: function (element, options) {\n                var items = this._items;\n                var match = items[0];\n                if (options && options.type) {\n                    var preferred = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name === preferred) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n                kendo.logToConsole('Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n' + '- The browser does not support SVG and Canvas. User agent: ' + navigator.userAgent);\n            }\n        });\n        SurfaceFactory.current = new SurfaceFactory();\n        var events = [\n            'click',\n            'mouseenter',\n            'mouseleave',\n            'mousemove',\n            'resize',\n            'tooltipOpen',\n            'tooltipClose'\n        ];\n        var Surface = kendo.Observable.extend({\n            init: function (element, options) {\n                kendo.Observable.fn.init.call(this);\n                this.options = $.extend({}, options);\n                this.element = element;\n                this._click = this._handler('click');\n                this._mouseenter = this._handler('mouseenter');\n                this._mouseleave = this._handler('mouseleave');\n                this._mousemove = this._handler('mousemove');\n                this._visual = new Group();\n                elementSize(element, this.options);\n                this.bind(events, this.options);\n                this._enableTracking();\n            },\n            draw: function (element) {\n                this._visual.children.push(element);\n            },\n            clear: function () {\n                this._visual.children = [];\n            },\n            destroy: function () {\n                this._visual = null;\n                this.unbind();\n            },\n            eventTarget: function (e) {\n                var this$1 = this;\n                var domNode = eventElement(e);\n                var node;\n                while (!node && domNode) {\n                    node = domNode._kendoNode;\n                    if (domNode === this$1.element) {\n                        break;\n                    }\n                    domNode = domNode.parentElement;\n                }\n                if (node) {\n                    return node.srcElement;\n                }\n            },\n            exportVisual: function () {\n                return this._visual;\n            },\n            getSize: function () {\n                return elementSize(this.element);\n            },\n            currentSize: function (size) {\n                if (size) {\n                    this._size = size;\n                } else {\n                    return this._size;\n                }\n            },\n            setSize: function (size) {\n                elementSize(this.element, size);\n                this.currentSize(size);\n                this._resize();\n            },\n            resize: function (force) {\n                var size = this.getSize();\n                var currentSize = this.currentSize();\n                if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                    this.currentSize(size);\n                    this._resize(size, force);\n                    this.trigger('resize', size);\n                }\n            },\n            size: function (value) {\n                if (!value) {\n                    return this.getSize();\n                }\n                this.setSize(value);\n            },\n            suspendTracking: function () {\n                this._suspendedTracking = true;\n            },\n            resumeTracking: function () {\n                this._suspendedTracking = false;\n            },\n            _enableTracking: function () {\n            },\n            _resize: function () {\n            },\n            _handler: function (eventName) {\n                var this$1 = this;\n                return function (e) {\n                    var node = this$1.eventTarget(e);\n                    if (node && !this$1._suspendedTracking) {\n                        this$1.trigger(eventName, {\n                            element: node,\n                            originalEvent: e,\n                            type: eventName\n                        });\n                    }\n                };\n            },\n            _elementOffset: function () {\n                var element = this.element;\n                var ref = elementStyles(element, [\n                    'paddingLeft',\n                    'paddingTop'\n                ]);\n                var paddingLeft = ref.paddingLeft;\n                var paddingTop = ref.paddingTop;\n                var ref$1 = elementOffset(element);\n                var left = ref$1.left;\n                var top = ref$1.top;\n                return {\n                    left: left + parseInt(paddingLeft, 10),\n                    top: top + parseInt(paddingTop, 10)\n                };\n            },\n            _surfacePoint: function (e) {\n                var offset = this._elementOffset();\n                var coord = eventCoordinates(e);\n                var x = coord.x - offset.left;\n                var y = coord.y - offset.top;\n                return new Point(x, y);\n            }\n        });\n        Surface.create = function (element, options) {\n            return SurfaceFactory.current.create(element, options);\n        };\n        Surface.support = {};\n        var BaseNode = Class.extend({\n            init: function (srcElement) {\n                this.childNodes = [];\n                this.parent = null;\n                if (srcElement) {\n                    this.srcElement = srcElement;\n                    this.observe();\n                }\n            },\n            destroy: function () {\n                var this$1 = this;\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    this$1.childNodes[i].destroy();\n                }\n                this.parent = null;\n            },\n            load: function () {\n            },\n            observe: function () {\n                if (this.srcElement) {\n                    this.srcElement.addObserver(this);\n                }\n            },\n            append: function (node) {\n                this.childNodes.push(node);\n                node.parent = this;\n            },\n            insertAt: function (node, pos) {\n                this.childNodes.splice(pos, 0, node);\n                node.parent = this;\n            },\n            remove: function (index, count) {\n                var this$1 = this;\n                var end = index + count;\n                for (var i = index; i < end; i++) {\n                    this$1.childNodes[i].removeSelf();\n                }\n                this.childNodes.splice(index, count);\n            },\n            removeSelf: function () {\n                this.clear();\n                this.destroy();\n            },\n            clear: function () {\n                this.remove(0, this.childNodes.length);\n            },\n            invalidate: function () {\n                if (this.parent) {\n                    this.parent.invalidate();\n                }\n            },\n            geometryChange: function () {\n                this.invalidate();\n            },\n            optionsChange: function () {\n                this.invalidate();\n            },\n            childrenChange: function (e) {\n                if (e.action === 'add') {\n                    this.load(e.items, e.index);\n                } else if (e.action === 'remove') {\n                    this.remove(e.index, e.items.length);\n                }\n                this.invalidate();\n            }\n        });\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        var NODE_MAP = {};\n        var SVG_NS = 'http://www.w3.org/2000/svg';\n        var NONE = 'none';\n        var renderSVG = function (container, svg) {\n            container.innerHTML = svg;\n        };\n        if (typeof document !== 'undefined') {\n            var testFragment = '<svg xmlns=\\'' + SVG_NS + '\\'></svg>';\n            var testContainer = document.createElement('div');\n            var hasParser = typeof DOMParser !== 'undefined';\n            testContainer.innerHTML = testFragment;\n            if (hasParser && testContainer.firstChild.namespaceURI !== SVG_NS) {\n                renderSVG = function (container, svg) {\n                    var parser = new DOMParser();\n                    var chartDoc = parser.parseFromString(svg, 'text/xml');\n                    var importedDoc = document.adoptNode(chartDoc.documentElement);\n                    container.innerHTML = '';\n                    container.appendChild(importedDoc);\n                };\n            }\n        }\n        var renderSVG$1 = renderSVG;\n        var TRANSFORM = 'transform';\n        var DefinitionMap = {\n            clip: 'clip-path',\n            fill: 'fill'\n        };\n        function isDefinition(type, value) {\n            return type === 'clip' || type === 'fill' && (!value || value.nodeType === 'Gradient');\n        }\n        function baseUrl() {\n            var base = document.getElementsByTagName('base')[0];\n            var href = document.location.href;\n            var hashIndex = href.indexOf('#');\n            var url = '';\n            if (base && !support.browser.msie) {\n                if (hashIndex !== -1) {\n                    href = href.substring(0, hashIndex);\n                }\n                url = href;\n            }\n            return url;\n        }\n        function refUrl(id) {\n            return 'url(' + baseUrl() + '#' + id + ')';\n        }\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.definitions = {};\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                this.clearDefinitions();\n                BaseNode.fn.destroy.call(this);\n            },\n            load: function (elements, pos) {\n                var this$1 = this;\n                for (var i = 0; i < elements.length; i++) {\n                    var srcElement = elements[i];\n                    var children = srcElement.children;\n                    var childNode = new NODE_MAP[srcElement.nodeType](srcElement);\n                    if (defined(pos)) {\n                        this$1.insertAt(childNode, pos);\n                    } else {\n                        this$1.append(childNode);\n                    }\n                    childNode.createDefinitions();\n                    if (children && children.length > 0) {\n                        childNode.load(children);\n                    }\n                    var element = this$1.element;\n                    if (element) {\n                        childNode.attachTo(element, pos);\n                    }\n                }\n            },\n            root: function () {\n                var root = this;\n                while (root.parent) {\n                    root = root.parent;\n                }\n                return root;\n            },\n            attachTo: function (domElement, pos) {\n                var container = document.createElement('div');\n                renderSVG$1(container, '<svg xmlns=\\'' + SVG_NS + '\\' version=\\'1.1\\'>' + this.render() + '</svg>');\n                var element = container.firstChild.firstChild;\n                if (element) {\n                    if (defined(pos)) {\n                        domElement.insertBefore(element, domElement.childNodes[pos] || null);\n                    } else {\n                        domElement.appendChild(element);\n                    }\n                    this.setElement(element);\n                }\n            },\n            setElement: function (element) {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                }\n                this.element = element;\n                this.element._kendoNode = this;\n                var nodes = this.childNodes;\n                for (var i = 0; i < nodes.length; i++) {\n                    var childElement = element.childNodes[i];\n                    nodes[i].setElement(childElement);\n                }\n            },\n            clear: function () {\n                this.clearDefinitions();\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    var parentNode = this.element.parentNode;\n                    if (parentNode) {\n                        parentNode.removeChild(this.element);\n                    }\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            template: function () {\n                return this.renderChildren();\n            },\n            render: function () {\n                return this.template();\n            },\n            renderChildren: function () {\n                var nodes = this.childNodes;\n                var output = '';\n                for (var i = 0; i < nodes.length; i++) {\n                    output += nodes[i].render();\n                }\n                return output;\n            },\n            optionsChange: function (e) {\n                var field = e.field;\n                var value = e.value;\n                if (field === 'visible') {\n                    this.css('display', value ? '' : NONE);\n                } else if (DefinitionMap[field] && isDefinition(field, value)) {\n                    this.updateDefinition(field, value);\n                } else if (field === 'opacity') {\n                    this.attr('opacity', value);\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element.setAttribute(name, value);\n                }\n            },\n            allAttr: function (attrs) {\n                var this$1 = this;\n                for (var i = 0; i < attrs.length; i++) {\n                    this$1.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                var this$1 = this;\n                for (var i = 0; i < styles.length; i++) {\n                    this$1.css(styles[i][0], styles[i][1]);\n                }\n            },\n            removeAttr: function (name) {\n                if (this.element) {\n                    this.element.removeAttribute(name);\n                }\n            },\n            mapTransform: function (transform) {\n                var attrs = [];\n                if (transform) {\n                    attrs.push([\n                        TRANSFORM,\n                        'matrix(' + transform.matrix().toString(6) + ')'\n                    ]);\n                }\n                return attrs;\n            },\n            renderTransform: function () {\n                return renderAllAttr(this.mapTransform(this.srcElement.transform()));\n            },\n            transformChange: function (value) {\n                if (value) {\n                    this.allAttr(this.mapTransform(value));\n                } else {\n                    this.removeAttr(TRANSFORM);\n                }\n            },\n            mapStyle: function () {\n                var options = this.srcElement.options;\n                var style = [[\n                        'cursor',\n                        options.cursor\n                    ]];\n                if (options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            renderStyle: function () {\n                return renderAttr('style', renderStyle(this.mapStyle(true)));\n            },\n            renderOpacity: function () {\n                return renderAttr('opacity', this.srcElement.options.opacity);\n            },\n            createDefinitions: function () {\n                var srcElement = this.srcElement;\n                var definitions = this.definitions;\n                if (srcElement) {\n                    var options = srcElement.options;\n                    var hasDefinitions;\n                    for (var field in DefinitionMap) {\n                        var definition = options.get(field);\n                        if (definition && isDefinition(field, definition)) {\n                            definitions[field] = definition;\n                            hasDefinitions = true;\n                        }\n                    }\n                    if (hasDefinitions) {\n                        this.definitionChange({\n                            action: 'add',\n                            definitions: definitions\n                        });\n                    }\n                }\n            },\n            definitionChange: function (e) {\n                if (this.parent) {\n                    this.parent.definitionChange(e);\n                }\n            },\n            updateDefinition: function (type, value) {\n                var definitions = this.definitions;\n                var current = definitions[type];\n                var attr = DefinitionMap[type];\n                var definition = {};\n                if (current) {\n                    definition[type] = current;\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definition\n                    });\n                    delete definitions[type];\n                }\n                if (!value) {\n                    if (current) {\n                        this.removeAttr(attr);\n                    }\n                } else {\n                    definition[type] = value;\n                    this.definitionChange({\n                        action: 'add',\n                        definitions: definition\n                    });\n                    definitions[type] = value;\n                    this.attr(attr, refUrl(value.id));\n                }\n            },\n            clearDefinitions: function () {\n                var definitions = this.definitions;\n                this.definitionChange({\n                    action: 'remove',\n                    definitions: definitions\n                });\n                this.definitions = {};\n            },\n            renderDefinitions: function () {\n                return renderAllAttr(this.mapDefinitions());\n            },\n            mapDefinitions: function () {\n                var definitions = this.definitions;\n                var attrs = [];\n                for (var field in definitions) {\n                    attrs.push([\n                        DefinitionMap[field],\n                        refUrl(definitions[field].id)\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var GradientStopNode = Node.extend({\n            template: function () {\n                return '<stop ' + this.renderOffset() + ' ' + this.renderStyle() + ' />';\n            },\n            renderOffset: function () {\n                return renderAttr('offset', this.srcElement.offset());\n            },\n            mapStyle: function () {\n                var srcElement = this.srcElement;\n                return [\n                    [\n                        'stop-color',\n                        srcElement.color()\n                    ],\n                    [\n                        'stop-opacity',\n                        srcElement.opacity()\n                    ]\n                ];\n            },\n            optionsChange: function (e) {\n                if (e.field === 'offset') {\n                    this.attr(e.field, e.value);\n                } else if (e.field === 'color' || e.field === 'opacity') {\n                    this.css('stop-' + e.field, e.value);\n                }\n            }\n        });\n        var GradientNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                this.id = srcElement.id;\n                this.loadStops();\n            },\n            loadStops: function () {\n                var this$1 = this;\n                var stops = this.srcElement.stops;\n                var element = this.element;\n                for (var idx = 0; idx < stops.length; idx++) {\n                    var stopNode = new GradientStopNode(stops[idx]);\n                    this$1.append(stopNode);\n                    if (element) {\n                        stopNode.attachTo(element);\n                    }\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'gradient.stops') {\n                    BaseNode.prototype.clear.call(this);\n                    this.loadStops();\n                } else if (e.field === 'gradient') {\n                    this.allAttr(this.mapCoordinates());\n                }\n            },\n            renderCoordinates: function () {\n                return renderAllAttr(this.mapCoordinates());\n            },\n            mapSpace: function () {\n                return [\n                    'gradientUnits',\n                    this.srcElement.userSpace() ? 'userSpaceOnUse' : 'objectBoundingBox'\n                ];\n            }\n        });\n        var LinearGradientNode = GradientNode.extend({\n            template: function () {\n                return '<linearGradient id=\\'' + this.id + '\\' ' + this.renderCoordinates() + '>' + this.renderChildren() + '</linearGradient>';\n            },\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var start = srcElement.start();\n                var end = srcElement.end();\n                var attrs = [\n                    [\n                        'x1',\n                        start.x\n                    ],\n                    [\n                        'y1',\n                        start.y\n                    ],\n                    [\n                        'x2',\n                        end.x\n                    ],\n                    [\n                        'y2',\n                        end.y\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RadialGradientNode = GradientNode.extend({\n            template: function () {\n                return '<radialGradient id=\\'' + this.id + '\\' ' + this.renderCoordinates() + '>' + this.renderChildren() + '</radialGradient>';\n            },\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var center = srcElement.center();\n                var radius = srcElement.radius();\n                var attrs = [\n                    [\n                        'cx',\n                        center.x\n                    ],\n                    [\n                        'cy',\n                        center.y\n                    ],\n                    [\n                        'r',\n                        radius\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var ClipNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this);\n                this.srcElement = srcElement;\n                this.id = srcElement.id;\n                this.load([srcElement]);\n            },\n            template: function () {\n                return '<clipPath id=\\'' + this.id + '\\'>' + this.renderChildren() + '</clipPath>';\n            }\n        });\n        var DefinitionNode = Node.extend({\n            init: function () {\n                Node.fn.init.call(this);\n                this.definitionMap = {};\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n            },\n            template: function () {\n                return '<defs>' + this.renderChildren() + '</defs>';\n            },\n            definitionChange: function (e) {\n                var definitions = e.definitions;\n                var action = e.action;\n                if (action === 'add') {\n                    this.addDefinitions(definitions);\n                } else if (action === 'remove') {\n                    this.removeDefinitions(definitions);\n                }\n            },\n            createDefinition: function (type, item) {\n                var nodeType;\n                if (type === 'clip') {\n                    nodeType = ClipNode;\n                } else if (type === 'fill') {\n                    if (item instanceof LinearGradient) {\n                        nodeType = LinearGradientNode;\n                    } else if (item instanceof RadialGradient) {\n                        nodeType = RadialGradientNode;\n                    }\n                }\n                return new nodeType(item);\n            },\n            addDefinitions: function (definitions) {\n                var this$1 = this;\n                for (var field in definitions) {\n                    this$1.addDefinition(field, definitions[field]);\n                }\n            },\n            addDefinition: function (type, srcElement) {\n                var ref = this;\n                var element = ref.element;\n                var definitionMap = ref.definitionMap;\n                var id = srcElement.id;\n                var mapItem = definitionMap[id];\n                if (!mapItem) {\n                    var node = this.createDefinition(type, srcElement);\n                    definitionMap[id] = {\n                        element: node,\n                        count: 1\n                    };\n                    this.append(node);\n                    if (element) {\n                        node.attachTo(this.element);\n                    }\n                } else {\n                    mapItem.count++;\n                }\n            },\n            removeDefinitions: function (definitions) {\n                var this$1 = this;\n                for (var field in definitions) {\n                    this$1.removeDefinition(definitions[field]);\n                }\n            },\n            removeDefinition: function (srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var mapItem = definitionMap[id];\n                if (mapItem) {\n                    mapItem.count--;\n                    if (mapItem.count === 0) {\n                        this.remove(this.childNodes.indexOf(mapItem.element), 1);\n                        delete definitionMap[id];\n                    }\n                }\n            }\n        });\n        var RootNode = Node.extend({\n            init: function (options) {\n                Node.fn.init.call(this);\n                this.options = options;\n                this.defs = new DefinitionNode();\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n                this.defs.attachTo(domElement.firstElementChild);\n            },\n            clear: function () {\n                BaseNode.prototype.clear.call(this);\n            },\n            template: function () {\n                return this.defs.render() + this.renderChildren();\n            },\n            definitionChange: function (e) {\n                this.defs.definitionChange(e);\n            }\n        });\n        function alignToScreen(element) {\n            var ctm;\n            try {\n                ctm = element.getScreenCTM ? element.getScreenCTM() : null;\n            } catch (e) {\n            }\n            if (ctm) {\n                var left = -ctm.e % 1;\n                var top = -ctm.f % 1;\n                var style = element.style;\n                if (left !== 0 || top !== 0) {\n                    style.left = left + 'px';\n                    style.top = top + 'px';\n                }\n            }\n        }\n        var Surface$1 = Surface.extend({\n            init: function (element, options) {\n                Surface.fn.init.call(this, element, options);\n                this._root = new RootNode(this.options);\n                renderSVG$1(this.element, this._template());\n                this._rootElement = this.element.firstElementChild;\n                alignToScreen(this._rootElement);\n                this._root.attachTo(this._rootElement);\n                bindEvents(this.element, {\n                    click: this._click,\n                    mouseover: this._mouseenter,\n                    mouseout: this._mouseleave,\n                    mousemove: this._mousemove\n                });\n                this.resize();\n            },\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this._rootElement = null;\n                    unbindEvents(this.element, {\n                        click: this._click,\n                        mouseover: this._mouseenter,\n                        mouseout: this._mouseleave,\n                        mousemove: this._mousemove\n                    });\n                }\n                Surface.fn.destroy.call(this);\n            },\n            translate: function (offset) {\n                var viewBox = Math.round(offset.x) + ' ' + Math.round(offset.y) + ' ' + this._size.width + ' ' + this._size.height;\n                this._offset = offset;\n                this._rootElement.setAttribute('viewBox', viewBox);\n            },\n            draw: function (element) {\n                Surface.fn.draw.call(this, element);\n                this._root.load([element]);\n            },\n            clear: function () {\n                Surface.fn.clear.call(this);\n                this._root.clear();\n            },\n            svg: function () {\n                return '<?xml version=\\'1.0\\' ?>' + this._template();\n            },\n            exportVisual: function () {\n                var ref = this;\n                var visual = ref._visual;\n                var offset = ref._offset;\n                if (offset) {\n                    var wrap = new Group();\n                    wrap.children.push(visual);\n                    wrap.transform(transform().translate(-offset.x, -offset.y));\n                    visual = wrap;\n                }\n                return visual;\n            },\n            _resize: function () {\n                if (this._offset) {\n                    this.translate(this._offset);\n                }\n            },\n            _template: function () {\n                return '<svg style=\\'width: 100%; height: 100%; overflow: hidden;\\' xmlns=\\'' + SVG_NS + '\\' xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' version=\\'1.1\\'>' + this._root.render() + '</svg>';\n            }\n        });\n        Surface$1.prototype.type = 'svg';\n        if (typeof document !== 'undefined' && document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')) {\n            Surface.support.svg = true;\n            SurfaceFactory.current.register('svg', Surface$1, 10);\n        }\n        var GroupNode = Node.extend({\n            template: function () {\n                return '<g' + (this.renderTransform() + this.renderStyle() + this.renderOpacity() + this.renderDefinitions()) + '>' + this.renderChildren() + '</g>';\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.transformChange(e.value);\n                }\n                Node.fn.optionsChange.call(this, e);\n            }\n        });\n        NODE_MAP.Group = GroupNode;\n        var DASH_ARRAYS = {\n            dot: [\n                1.5,\n                3.5\n            ],\n            dash: [\n                4,\n                3.5\n            ],\n            longdash: [\n                8,\n                3.5\n            ],\n            dashdot: [\n                3.5,\n                3.5,\n                1.5,\n                3.5\n            ],\n            longdashdot: [\n                8,\n                3.5,\n                1.5,\n                3.5\n            ],\n            longdashdotdot: [\n                8,\n                3.5,\n                1.5,\n                3.5,\n                1.5,\n                3.5\n            ]\n        };\n        var SOLID = 'solid';\n        var BUTT = 'butt';\n        var ATTRIBUTE_MAP = {\n            'fill.opacity': 'fill-opacity',\n            'stroke.color': 'stroke',\n            'stroke.width': 'stroke-width',\n            'stroke.opacity': 'stroke-opacity'\n        };\n        var SPACE = ' ';\n        var PathNode = Node.extend({\n            geometryChange: function () {\n                this.attr('d', this.renderData());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                switch (e.field) {\n                case 'fill':\n                    if (e.value) {\n                        this.allAttr(this.mapFill(e.value));\n                    } else {\n                        this.removeAttr('fill');\n                    }\n                    break;\n                case 'fill.color':\n                    this.allAttr(this.mapFill({ color: e.value }));\n                    break;\n                case 'stroke':\n                    if (e.value) {\n                        this.allAttr(this.mapStroke(e.value));\n                    } else {\n                        this.removeAttr('stroke');\n                    }\n                    break;\n                case 'transform':\n                    this.transformChange(e.value);\n                    break;\n                default:\n                    var name = ATTRIBUTE_MAP[e.field];\n                    if (name) {\n                        this.attr(name, e.value);\n                    }\n                    break;\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            content: function () {\n                if (this.element) {\n                    this.element.textContent = this.srcElement.content();\n                }\n            },\n            renderData: function () {\n                return this.printPath(this.srcElement);\n            },\n            printPath: function (path) {\n                var this$1 = this;\n                var segments = path.segments;\n                var length = segments.length;\n                if (length > 0) {\n                    var parts = [];\n                    var output, currentType;\n                    for (var i = 1; i < length; i++) {\n                        var segmentType = this$1.segmentType(segments[i - 1], segments[i]);\n                        if (segmentType !== currentType) {\n                            currentType = segmentType;\n                            parts.push(segmentType);\n                        }\n                        if (segmentType === 'L') {\n                            parts.push(this$1.printPoints(segments[i].anchor()));\n                        } else {\n                            parts.push(this$1.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\n                        }\n                    }\n                    output = 'M' + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\n                    if (path.options.closed) {\n                        output += 'Z';\n                    }\n                    return output;\n                }\n            },\n            printPoints: function () {\n                var points = arguments;\n                var length = points.length;\n                var result = [];\n                for (var i = 0; i < length; i++) {\n                    result.push(points[i].toString(3));\n                }\n                return result.join(' ');\n            },\n            segmentType: function (segmentStart, segmentEnd) {\n                return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L';\n            },\n            mapStroke: function (stroke) {\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color)) {\n                    attrs.push([\n                        'stroke',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'stroke-width',\n                        stroke.width\n                    ]);\n                    attrs.push([\n                        'stroke-linecap',\n                        this.renderLinecap(stroke)\n                    ]);\n                    attrs.push([\n                        'stroke-linejoin',\n                        stroke.lineJoin\n                    ]);\n                    if (defined(stroke.opacity)) {\n                        attrs.push([\n                            'stroke-opacity',\n                            stroke.opacity\n                        ]);\n                    }\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'stroke-dasharray',\n                            this.renderDashType(stroke)\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'stroke',\n                        NONE\n                    ]);\n                }\n                return attrs;\n            },\n            renderStroke: function () {\n                return renderAllAttr(this.mapStroke(this.srcElement.options.stroke));\n            },\n            renderDashType: function (stroke) {\n                var dashType = stroke.dashType;\n                var width = stroke.width;\n                if (width === void 0) {\n                    width = 1;\n                }\n                if (dashType && dashType !== SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType.toLowerCase()];\n                    var result = [];\n                    for (var i = 0; i < dashArray.length; i++) {\n                        result.push(dashArray[i] * width);\n                    }\n                    return result.join(' ');\n                }\n            },\n            renderLinecap: function (stroke) {\n                var dashType = stroke.dashType;\n                var lineCap = stroke.lineCap;\n                return dashType && dashType !== 'solid' ? BUTT : lineCap;\n            },\n            mapFill: function (fill) {\n                var attrs = [];\n                if (!(fill && fill.nodeType === 'Gradient')) {\n                    if (fill && !isTransparent(fill.color)) {\n                        attrs.push([\n                            'fill',\n                            fill.color\n                        ]);\n                        if (defined(fill.opacity)) {\n                            attrs.push([\n                                'fill-opacity',\n                                fill.opacity\n                            ]);\n                        }\n                    } else {\n                        attrs.push([\n                            'fill',\n                            NONE\n                        ]);\n                    }\n                }\n                return attrs;\n            },\n            renderFill: function () {\n                return renderAllAttr(this.mapFill(this.srcElement.options.fill));\n            },\n            template: function () {\n                return '<path ' + this.renderStyle() + ' ' + this.renderOpacity() + ' ' + renderAttr('d', this.renderData()) + '' + this.renderStroke() + this.renderFill() + this.renderDefinitions() + this.renderTransform() + '></path>';\n            }\n        });\n        NODE_MAP.Path = PathNode;\n        var ArcNode = PathNode.extend({\n            renderData: function () {\n                return this.printPath(this.srcElement.toPath());\n            }\n        });\n        NODE_MAP.Arc = ArcNode;\n        var CircleNode = PathNode.extend({\n            geometryChange: function () {\n                var center = this.center();\n                this.attr('cx', center.x);\n                this.attr('cy', center.y);\n                this.attr('r', this.radius());\n                this.invalidate();\n            },\n            center: function () {\n                return this.srcElement.geometry().center;\n            },\n            radius: function () {\n                return this.srcElement.geometry().radius;\n            },\n            template: function () {\n                return '<circle ' + this.renderStyle() + ' ' + this.renderOpacity() + 'cx=\\'' + this.center().x + '\\' cy=\\'' + this.center().y + '\\' r=\\'' + this.radius() + '\\'' + this.renderStroke() + ' ' + this.renderFill() + ' ' + this.renderDefinitions() + this.renderTransform() + ' ></circle>';\n            }\n        });\n        NODE_MAP.Circle = CircleNode;\n        var RectNode = PathNode.extend({\n            geometryChange: function () {\n                var geometry = this.srcElement.geometry();\n                this.attr('x', geometry.origin.x);\n                this.attr('y', geometry.origin.y);\n                this.attr('width', geometry.size.width);\n                this.attr('height', geometry.size.height);\n                this.invalidate();\n            },\n            size: function () {\n                return this.srcElement.geometry().size;\n            },\n            origin: function () {\n                return this.srcElement.geometry().origin;\n            },\n            template: function () {\n                return '<rect ' + this.renderStyle() + ' ' + this.renderOpacity() + ' x=\\'' + this.origin().x + '\\' y=\\'' + this.origin().y + '\\' ' + 'width=\\'' + this.size().width + '\\' height=\\'' + this.size().height + '\\' ' + this.renderStroke() + ' ' + this.renderFill() + ' ' + this.renderDefinitions() + ' ' + this.renderTransform() + ' />';\n            }\n        });\n        NODE_MAP.Rect = RectNode;\n        var ImageNode = PathNode.extend({\n            geometryChange: function () {\n                this.allAttr(this.mapPosition());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.allAttr(this.mapSource());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapPosition: function () {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                return [\n                    [\n                        'x',\n                        tl.x\n                    ],\n                    [\n                        'y',\n                        tl.y\n                    ],\n                    [\n                        'width',\n                        rect.width() + 'px'\n                    ],\n                    [\n                        'height',\n                        rect.height() + 'px'\n                    ]\n                ];\n            },\n            renderPosition: function () {\n                return renderAllAttr(this.mapPosition());\n            },\n            mapSource: function (encode) {\n                var src = this.srcElement.src();\n                if (encode) {\n                    src = kendo.htmlEncode(src);\n                }\n                return [[\n                        'xlink:href',\n                        src\n                    ]];\n            },\n            renderSource: function () {\n                return renderAllAttr(this.mapSource(true));\n            },\n            template: function () {\n                return '<image preserveAspectRatio=\\'none\\' ' + this.renderStyle() + ' ' + this.renderTransform() + ' ' + this.renderOpacity() + this.renderPosition() + ' ' + this.renderSource() + ' ' + this.renderDefinitions() + '>' + '</image>';\n            }\n        });\n        NODE_MAP.Image = ImageNode;\n        function decodeEntities(text) {\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\n                return text;\n            }\n            var element = decodeEntities._element;\n            element.innerHTML = text;\n            return element.textContent || element.innerText;\n        }\n        if (typeof document !== 'undefined') {\n            decodeEntities._element = document.createElement('span');\n        }\n        var TextNode = PathNode.extend({\n            geometryChange: function () {\n                var pos = this.pos();\n                this.attr('x', pos.x);\n                this.attr('y', pos.y);\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font') {\n                    this.attr('style', renderStyle(this.mapStyle()));\n                    this.geometryChange();\n                } else if (e.field === 'content') {\n                    PathNode.fn.content.call(this, this.srcElement.content());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function (encode) {\n                var style = PathNode.fn.mapStyle.call(this, encode);\n                var font = this.srcElement.options.font;\n                if (encode) {\n                    font = kendo.htmlEncode(font);\n                }\n                style.push([\n                    'font',\n                    font\n                ]);\n                return style;\n            },\n            pos: function () {\n                var pos = this.srcElement.position();\n                var size = this.srcElement.measure();\n                return pos.clone().setY(pos.y + size.baseline);\n            },\n            renderContent: function () {\n                var content = this.srcElement.content();\n                content = decodeEntities(content);\n                content = kendo.htmlEncode(content);\n                return content;\n            },\n            template: function () {\n                return '<text ' + this.renderStyle() + ' ' + this.renderOpacity() + ' x=\\'' + this.pos().x + '\\' y=\\'' + this.pos().y + '\\'' + this.renderStroke() + ' ' + this.renderTransform() + ' ' + this.renderDefinitions() + this.renderFill() + '>' + this.renderContent() + '</text>';\n            }\n        });\n        NODE_MAP.Text = TextNode;\n        var MultiPathNode = PathNode.extend({\n            renderData: function () {\n                var this$1 = this;\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [];\n                    for (var i = 0; i < paths.length; i++) {\n                        result.push(this$1.printPath(paths[i]));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        NODE_MAP.MultiPath = MultiPathNode;\n        var geometry = {\n            Circle: Circle$2,\n            Arc: Arc$2,\n            Rect: Rect,\n            Point: Point,\n            Segment: Segment,\n            Matrix: Matrix,\n            Size: Size,\n            toMatrix: toMatrix,\n            Transformation: Transformation,\n            transform: transform\n        };\n        function exportGroup(group) {\n            var root = new RootNode();\n            var bbox = group.clippedBBox();\n            var rootGroup = group;\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new Group();\n                exportRoot.transform(transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                rootGroup = exportRoot;\n            }\n            root.load([rootGroup]);\n            var svg = '<?xml version=\\'1.0\\' ?><svg xmlns=\\'' + SVG_NS + '\\' xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' version=\\'1.1\\'>' + root.render() + '</svg>';\n            root.destroy();\n            return svg;\n        }\n        var svg = {\n            Surface: Surface$1,\n            RootNode: RootNode,\n            Node: Node,\n            GroupNode: GroupNode,\n            ArcNode: ArcNode,\n            CircleNode: CircleNode,\n            RectNode: RectNode,\n            ImageNode: ImageNode,\n            TextNode: TextNode,\n            PathNode: PathNode,\n            MultiPathNode: MultiPathNode,\n            DefinitionNode: DefinitionNode,\n            ClipNode: ClipNode,\n            GradientStopNode: GradientStopNode,\n            LinearGradientNode: LinearGradientNode,\n            RadialGradientNode: RadialGradientNode,\n            exportGroup: exportGroup\n        };\n        var NODE_MAP$2 = {};\n        function renderPath(ctx, path) {\n            var segments = path.segments;\n            if (segments.length === 0) {\n                return;\n            }\n            var segment = segments[0];\n            var anchor = segment.anchor();\n            ctx.moveTo(anchor.x, anchor.y);\n            for (var i = 1; i < segments.length; i++) {\n                segment = segments[i];\n                anchor = segment.anchor();\n                var prevSeg = segments[i - 1];\n                var prevOut = prevSeg.controlOut();\n                var controlIn = segment.controlIn();\n                if (prevOut && controlIn) {\n                    ctx.bezierCurveTo(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                } else {\n                    ctx.lineTo(anchor.x, anchor.y);\n                }\n            }\n            if (path.options.closed) {\n                ctx.closePath();\n            }\n        }\n        var Node$2 = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            initClip: function () {\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    this.clip = clip;\n                    clip.addObserver(this);\n                }\n            },\n            clear: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                this.clearClip();\n                BaseNode.fn.clear.call(this);\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.removeObserver(this);\n                    delete this.clip;\n                }\n            },\n            setClip: function (ctx) {\n                if (this.clip) {\n                    ctx.beginPath();\n                    renderPath(ctx, this.clip);\n                    ctx.clip();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            setTransform: function (ctx) {\n                if (this.srcElement) {\n                    var transform = this.srcElement.transform();\n                    if (transform) {\n                        ctx.transform.apply(ctx, transform.matrix().toArray(6));\n                    }\n                }\n            },\n            loadElements: function (elements, pos, cors) {\n                var this$1 = this;\n                for (var i = 0; i < elements.length; i++) {\n                    var srcElement = elements[i];\n                    var children = srcElement.children;\n                    var childNode = new NODE_MAP$2[srcElement.nodeType](srcElement, cors);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, cors);\n                    }\n                    if (defined(pos)) {\n                        this$1.insertAt(childNode, pos);\n                    } else {\n                        this$1.append(childNode);\n                    }\n                }\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this.invalidate();\n            },\n            setOpacity: function (ctx) {\n                if (this.srcElement) {\n                    var opacity = this.srcElement.opacity();\n                    if (defined(opacity)) {\n                        this.globalAlpha(ctx, opacity);\n                    }\n                }\n            },\n            globalAlpha: function (ctx, value) {\n                var opactity = value;\n                if (opactity && ctx.globalAlpha) {\n                    opactity *= ctx.globalAlpha;\n                }\n                ctx.globalAlpha = opactity;\n            },\n            visible: function () {\n                var src = this.srcElement;\n                return !src || src && src.options.visible !== false;\n            }\n        });\n        var GroupNode$2 = Node$2.extend({\n            renderTo: function (ctx) {\n                if (!this.visible()) {\n                    return;\n                }\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                var childNodes = this.childNodes;\n                for (var i = 0; i < childNodes.length; i++) {\n                    var child = childNodes[i];\n                    if (child.visible()) {\n                        child.renderTo(ctx);\n                    }\n                }\n                ctx.restore();\n            }\n        });\n        Traversable.extend(GroupNode$2.prototype, 'childNodes');\n        NODE_MAP$2.Group = GroupNode$2;\n        var FRAME_DELAY = 1000 / 60;\n        var RootNode$2 = GroupNode$2.extend({\n            init: function (canvas) {\n                GroupNode$2.fn.init.call(this);\n                this.canvas = canvas;\n                this.ctx = canvas.getContext('2d');\n                var invalidateHandler = this._invalidate.bind(this);\n                this.invalidate = kendo.throttle(function () {\n                    kendo.animationFrame(invalidateHandler);\n                }, FRAME_DELAY);\n            },\n            destroy: function () {\n                GroupNode$2.fn.destroy.call(this);\n                this.canvas = null;\n                this.ctx = null;\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this._invalidate();\n            },\n            _invalidate: function () {\n                if (!this.ctx) {\n                    return;\n                }\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.renderTo(this.ctx);\n            }\n        });\n        Traversable.extend(RootNode$2.prototype, 'childNodes');\n        var QuadRoot = Class.extend({\n            init: function () {\n                this.shapes = [];\n            },\n            _add: function (shape, bbox) {\n                this.shapes.push({\n                    bbox: bbox,\n                    shape: shape\n                });\n                shape._quadNode = this;\n            },\n            pointShapes: function (point) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].bbox.containsPoint(point)) {\n                        result.push(shapes[idx].shape);\n                    }\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                this._add(shape, bbox);\n            },\n            remove: function (shape) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].shape === shape) {\n                        shapes.splice(idx, 1);\n                        break;\n                    }\n                }\n            }\n        });\n        var QuadNode = QuadRoot.extend({\n            init: function (rect) {\n                QuadRoot.fn.init.call(this);\n                this.children = [];\n                this.rect = rect;\n            },\n            inBounds: function (rect) {\n                var nodeRect = this.rect;\n                var nodeBottomRight = nodeRect.bottomRight();\n                var bottomRight = rect.bottomRight();\n                var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\n                return inBounds;\n            },\n            pointShapes: function (point) {\n                var children = this.children;\n                var length = children.length;\n                var result = QuadRoot.fn.pointShapes.call(this, point);\n                for (var idx = 0; idx < length; idx++) {\n                    append(result, children[idx].pointShapes(point));\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                var children = this.children;\n                var inserted = false;\n                if (this.inBounds(bbox)) {\n                    if (this.shapes.length < 4) {\n                        this._add(shape, bbox);\n                    } else {\n                        if (!children.length) {\n                            this._initChildren();\n                        }\n                        for (var idx = 0; idx < children.length; idx++) {\n                            if (children[idx].insert(shape, bbox)) {\n                                inserted = true;\n                                break;\n                            }\n                        }\n                        if (!inserted) {\n                            this._add(shape, bbox);\n                        }\n                    }\n                    inserted = true;\n                }\n                return inserted;\n            },\n            _initChildren: function () {\n                var ref = this;\n                var rect = ref.rect;\n                var children = ref.children;\n                var center = rect.center();\n                var halfWidth = rect.width() / 2;\n                var halfHeight = rect.height() / 2;\n                children.push(new QuadNode(new Rect([\n                    rect.origin.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    rect.origin.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])));\n            }\n        });\n        var ROOT_SIZE = 3000;\n        var LEVEL_STEP = 10000;\n        var MAX_LEVEL = 75;\n        var ShapesQuadTree = Class.extend({\n            init: function () {\n                this.initRoots();\n            },\n            initRoots: function () {\n                this.rootMap = {};\n                this.root = new QuadRoot();\n                this.rootElements = [];\n            },\n            clear: function () {\n                var this$1 = this;\n                var rootElements = this.rootElements;\n                for (var idx = 0; idx < rootElements.length; idx++) {\n                    this$1.remove(rootElements[idx]);\n                }\n                this.initRoots();\n            },\n            pointShape: function (point) {\n                var sectorRoot = (this.rootMap[Math.floor(point.x / ROOT_SIZE)] || {})[Math.floor(point.y / ROOT_SIZE)];\n                var result = this.root.pointShapes(point);\n                if (sectorRoot) {\n                    result = result.concat(sectorRoot.pointShapes(point));\n                }\n                this.assignZindex(result);\n                result.sort(zIndexComparer);\n                for (var idx = 0; idx < result.length; idx++) {\n                    if (result[idx].containsPoint(point)) {\n                        return result[idx];\n                    }\n                }\n            },\n            assignZindex: function (elements) {\n                var this$1 = this;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    var element = elements[idx];\n                    var zIndex = 0;\n                    var levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);\n                    var parents = [];\n                    while (element) {\n                        parents.push(element);\n                        element = element.parent;\n                    }\n                    while (parents.length) {\n                        element = parents.pop();\n                        zIndex += ((element.parent ? element.parent.children : this$1.rootElements).indexOf(element) + 1) * levelWeight;\n                        levelWeight /= LEVEL_STEP;\n                    }\n                    elements[idx]._zIndex = zIndex;\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform' || e.field === 'stroke.width') {\n                    this.bboxChange(e.element);\n                }\n            },\n            geometryChange: function (e) {\n                this.bboxChange(e.element);\n            },\n            bboxChange: function (element) {\n                var this$1 = this;\n                if (element.nodeType === 'Group') {\n                    for (var idx = 0; idx < element.children.length; idx++) {\n                        this$1.bboxChange(element.children[idx]);\n                    }\n                } else {\n                    if (element._quadNode) {\n                        element._quadNode.remove(element);\n                    }\n                    this._insertShape(element);\n                }\n            },\n            add: function (elements) {\n                var elementsArray = Array.isArray(elements) ? elements.slice(0) : [elements];\n                append(this.rootElements, elementsArray);\n                this._insert(elementsArray);\n            },\n            childrenChange: function (e) {\n                var this$1 = this;\n                if (e.action === 'remove') {\n                    for (var idx = 0; idx < e.items.length; idx++) {\n                        this$1.remove(e.items[idx]);\n                    }\n                } else {\n                    this._insert(Array.prototype.slice.call(e.items, 0));\n                }\n            },\n            _insert: function (elements) {\n                var this$1 = this;\n                var element;\n                while (elements.length > 0) {\n                    element = elements.pop();\n                    element.addObserver(this$1);\n                    if (element.nodeType === 'Group') {\n                        append(elements, element.children);\n                    } else {\n                        this$1._insertShape(element);\n                    }\n                }\n            },\n            _insertShape: function (shape) {\n                var bbox = shape.bbox();\n                if (bbox) {\n                    var sectors = this.getSectors(bbox);\n                    var x = sectors[0][0];\n                    var y = sectors[1][0];\n                    if (this.inRoot(sectors)) {\n                        this.root.insert(shape, bbox);\n                    } else {\n                        var rootMap = this.rootMap;\n                        if (!rootMap[x]) {\n                            rootMap[x] = {};\n                        }\n                        if (!rootMap[x][y]) {\n                            rootMap[x][y] = new QuadNode(new Rect([\n                                x * ROOT_SIZE,\n                                y * ROOT_SIZE\n                            ], [\n                                ROOT_SIZE,\n                                ROOT_SIZE\n                            ]));\n                        }\n                        rootMap[x][y].insert(shape, bbox);\n                    }\n                }\n            },\n            remove: function (element) {\n                var this$1 = this;\n                element.removeObserver(this);\n                if (element.nodeType === 'Group') {\n                    var children = element.children;\n                    for (var idx = 0; idx < children.length; idx++) {\n                        this$1.remove(children[idx]);\n                    }\n                } else if (element._quadNode) {\n                    element._quadNode.remove(element);\n                    delete element._quadNode;\n                }\n            },\n            inRoot: function (sectors) {\n                return sectors[0].length > 1 || sectors[1].length > 1;\n            },\n            getSectors: function (rect) {\n                var bottomRight = rect.bottomRight();\n                var bottomX = Math.floor(bottomRight.x / ROOT_SIZE);\n                var bottomY = Math.floor(bottomRight.y / ROOT_SIZE);\n                var sectors = [\n                    [],\n                    []\n                ];\n                for (var x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {\n                    sectors[0].push(x);\n                }\n                for (var y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {\n                    sectors[1].push(y);\n                }\n                return sectors;\n            }\n        });\n        function zIndexComparer(x1, x2) {\n            if (x1._zIndex < x2._zIndex) {\n                return 1;\n            }\n            if (x1._zIndex > x2._zIndex) {\n                return -1;\n            }\n            return 0;\n        }\n        var Surface$3 = Surface.extend({\n            init: function (element, options) {\n                Surface.fn.init.call(this, element, options);\n                this.element.innerHTML = this._template(this);\n                var canvas = this.element.firstElementChild;\n                var size = elementSize(element);\n                canvas.width = size.width;\n                canvas.height = size.height;\n                this._rootElement = canvas;\n                this._root = new RootNode$2(canvas);\n                this._mouseTrackHandler = this._trackMouse.bind(this);\n                bindEvents(this.element, {\n                    click: this._mouseTrackHandler,\n                    mousemove: this._mouseTrackHandler\n                });\n            },\n            destroy: function () {\n                Surface.fn.destroy.call(this);\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                }\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n                unbindEvents(this.element, {\n                    click: this._mouseTrackHandler,\n                    mousemove: this._mouseTrackHandler\n                });\n            },\n            draw: function (element) {\n                Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, this.options.cors);\n                if (this._searchTree) {\n                    this._searchTree.add([element]);\n                }\n            },\n            clear: function () {\n                Surface.fn.clear.call(this);\n                this._root.clear();\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                }\n            },\n            eventTarget: function (e) {\n                if (this._searchTree) {\n                    var point = this._surfacePoint(e);\n                    var shape = this._searchTree.pointShape(point);\n                    return shape;\n                }\n            },\n            image: function () {\n                var ref = this;\n                var root = ref._root;\n                var rootElement = ref._rootElement;\n                var loadingStates = [];\n                root.traverse(function (childNode) {\n                    if (childNode.loading) {\n                        loadingStates.push(childNode.loading);\n                    }\n                });\n                var promise = createPromise();\n                var resolveDataURL = function () {\n                    root._invalidate();\n                    try {\n                        var data = rootElement.toDataURL();\n                        promise.resolve(data);\n                    } catch (e) {\n                        promise.reject(e);\n                    }\n                };\n                promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);\n                return promise;\n            },\n            suspendTracking: function () {\n                Surface.fn.suspendTracking.call(this);\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n            },\n            resumeTracking: function () {\n                Surface.fn.resumeTracking.call(this);\n                if (!this._searchTree) {\n                    this._searchTree = new ShapesQuadTree();\n                    var childNodes = this._root.childNodes;\n                    var rootElements = [];\n                    for (var idx = 0; idx < childNodes.length; idx++) {\n                        rootElements.push(childNodes[idx].srcElement);\n                    }\n                    this._searchTree.add(rootElements);\n                }\n            },\n            _resize: function () {\n                this._rootElement.width = this._size.width;\n                this._rootElement.height = this._size.height;\n                this._root.invalidate();\n            },\n            _template: function () {\n                return '<canvas style=\\'width: 100%; height: 100%;\\'></canvas>';\n            },\n            _enableTracking: function () {\n                this._searchTree = new ShapesQuadTree();\n                Surface.fn._enableTracking.call(this);\n            },\n            _trackMouse: function (e) {\n                if (this._suspendedTracking) {\n                    return;\n                }\n                var shape = this.eventTarget(e);\n                if (e.type !== 'click') {\n                    var currentShape = this._currentShape;\n                    if (currentShape && currentShape !== shape) {\n                        this.trigger('mouseleave', {\n                            element: currentShape,\n                            originalEvent: e,\n                            type: 'mouseleave'\n                        });\n                    }\n                    if (shape && currentShape !== shape) {\n                        this.trigger('mouseenter', {\n                            element: shape,\n                            originalEvent: e,\n                            type: 'mouseenter'\n                        });\n                    }\n                    this.trigger('mousemove', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'mousemove'\n                    });\n                    this._currentShape = shape;\n                } else if (shape) {\n                    this.trigger('click', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'click'\n                    });\n                }\n            }\n        });\n        Surface$3.prototype.type = 'canvas';\n        if (typeof document !== 'undefined' && document.createElement('canvas').getContext) {\n            Surface.support.canvas = true;\n            SurfaceFactory.current.register('canvas', Surface$3, 20);\n        }\n        function addGradientStops(gradient, stops) {\n            for (var idx = 0; idx < stops.length; idx++) {\n                var stop = stops[idx];\n                var color = kendo.parseColor(stop.color());\n                color.a *= stop.opacity();\n                gradient.addColorStop(stop.offset(), color.toCssRgba());\n            }\n        }\n        var PathNode$2 = Node$2.extend({\n            renderTo: function (ctx) {\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                this.renderPoints(ctx, this.srcElement);\n                this.setLineDash(ctx);\n                this.setLineCap(ctx);\n                this.setLineJoin(ctx);\n                this.setFill(ctx);\n                this.setStroke(ctx);\n                ctx.restore();\n            },\n            setFill: function (ctx) {\n                var fill = this.srcElement.options.fill;\n                var hasFill = false;\n                if (fill) {\n                    if (fill.nodeType === 'Gradient') {\n                        this.setGradientFill(ctx, fill);\n                        hasFill = true;\n                    } else if (!isTransparent(fill.color)) {\n                        ctx.fillStyle = fill.color;\n                        ctx.save();\n                        this.globalAlpha(ctx, fill.opacity);\n                        ctx.fill();\n                        ctx.restore();\n                        hasFill = true;\n                    }\n                }\n                return hasFill;\n            },\n            setGradientFill: function (ctx, fill) {\n                var bbox = this.srcElement.rawBBox();\n                var gradient;\n                if (fill instanceof LinearGradient) {\n                    var start = fill.start();\n                    var end = fill.end();\n                    gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n                } else if (fill instanceof RadialGradient) {\n                    var center = fill.center();\n                    gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n                }\n                addGradientStops(gradient, fill.stops);\n                ctx.save();\n                if (!fill.userSpace()) {\n                    ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n                }\n                ctx.fillStyle = gradient;\n                ctx.fill();\n                ctx.restore();\n            },\n            setStroke: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n                    ctx.strokeStyle = stroke.color;\n                    ctx.lineWidth = valueOrDefault(stroke.width, 1);\n                    ctx.save();\n                    this.globalAlpha(ctx, stroke.opacity);\n                    ctx.stroke();\n                    ctx.restore();\n                    return true;\n                }\n            },\n            dashType: function () {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.dashType) {\n                    return stroke.dashType.toLowerCase();\n                }\n            },\n            setLineDash: function (ctx) {\n                var dashType = this.dashType();\n                if (dashType && dashType !== SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType];\n                    if (ctx.setLineDash) {\n                        ctx.setLineDash(dashArray);\n                    } else {\n                        ctx.mozDash = dashArray;\n                        ctx.webkitLineDash = dashArray;\n                    }\n                }\n            },\n            setLineCap: function (ctx) {\n                var dashType = this.dashType();\n                var stroke = this.srcElement.options.stroke;\n                if (dashType && dashType !== SOLID) {\n                    ctx.lineCap = BUTT;\n                } else if (stroke && stroke.lineCap) {\n                    ctx.lineCap = stroke.lineCap;\n                }\n            },\n            setLineJoin: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.lineJoin) {\n                    ctx.lineJoin = stroke.lineJoin;\n                }\n            },\n            renderPoints: function (ctx, path) {\n                renderPath(ctx, path);\n            }\n        });\n        NODE_MAP$2.Path = PathNode$2;\n        var ArcNode$2 = PathNode$2.extend({\n            renderPoints: function (ctx) {\n                var path = this.srcElement.toPath();\n                renderPath(ctx, path);\n            }\n        });\n        NODE_MAP$2.Arc = ArcNode$2;\n        var CircleNode$2 = PathNode$2.extend({\n            renderPoints: function (ctx) {\n                var ref = this.srcElement.geometry();\n                var center = ref.center;\n                var radius = ref.radius;\n                ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);\n            }\n        });\n        NODE_MAP$2.Circle = CircleNode$2;\n        var RectNode$2 = PathNode$2.extend({\n            renderPoints: function (ctx) {\n                var ref = this.srcElement.geometry();\n                var origin = ref.origin;\n                var size = ref.size;\n                ctx.rect(origin.x, origin.y, size.width, size.height);\n            }\n        });\n        NODE_MAP$2.Rect = RectNode$2;\n        var ImageNode$2 = PathNode$2.extend({\n            init: function (srcElement, cors) {\n                PathNode$2.fn.init.call(this, srcElement);\n                this.onLoad = this.onLoad.bind(this);\n                this.onError = this.onError.bind(this);\n                this.loading = createPromise();\n                var img = this.img = new Image();\n                if (cors && !/^data:/i.test(srcElement.src())) {\n                    img.crossOrigin = cors;\n                }\n                img.src = srcElement.src();\n                if (img.complete) {\n                    this.onLoad();\n                } else {\n                    img.onload = this.onLoad;\n                    img.onerror = this.onError;\n                }\n            },\n            renderTo: function (ctx) {\n                if (this.loading.state() === 'resolved') {\n                    ctx.save();\n                    this.setTransform(ctx);\n                    this.setClip(ctx);\n                    this.drawImage(ctx);\n                    ctx.restore();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.loading = createPromise();\n                    this.img.src = this.srcElement.src();\n                } else {\n                    PathNode$2.fn.optionsChange.call(this, e);\n                }\n            },\n            onLoad: function () {\n                this.loading.resolve();\n                this.invalidate();\n            },\n            onError: function () {\n                this.loading.reject(new Error('Unable to load image \\'' + this.img.src + '\\'. Check for connectivity and verify CORS headers.'));\n            },\n            drawImage: function (ctx) {\n                var rect = this.srcElement.rect();\n                var topLeft = rect.topLeft();\n                ctx.drawImage(this.img, topLeft.x, topLeft.y, rect.width(), rect.height());\n            }\n        });\n        NODE_MAP$2.Image = ImageNode$2;\n        var TextNode$2 = PathNode$2.extend({\n            renderTo: function (ctx) {\n                var text = this.srcElement;\n                var pos = text.position();\n                var size = text.measure();\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                ctx.font = text.options.font;\n                if (this.setFill(ctx)) {\n                    ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                if (this.setStroke(ctx)) {\n                    this.setLineDash(ctx);\n                    ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                ctx.restore();\n            }\n        });\n        NODE_MAP$2.Text = TextNode$2;\n        var MultiPathNode$2 = PathNode$2.extend({\n            renderPoints: function (ctx) {\n                var paths = this.srcElement.paths;\n                for (var i = 0; i < paths.length; i++) {\n                    renderPath(ctx, paths[i]);\n                }\n            }\n        });\n        NODE_MAP$2.MultiPath = MultiPathNode$2;\n        var canvas = {\n            Surface: Surface$3,\n            RootNode: RootNode$2,\n            Node: Node$2,\n            GroupNode: GroupNode$2,\n            ArcNode: ArcNode$2,\n            CircleNode: CircleNode$2,\n            RectNode: RectNode$2,\n            ImageNode: ImageNode$2,\n            TextNode: TextNode$2,\n            PathNode: PathNode$2,\n            MultiPathNode: MultiPathNode$2\n        };\n        function exportImage(group, options) {\n            var defaults = {\n                width: '800px',\n                height: '600px',\n                cors: 'Anonymous'\n            };\n            var exportRoot = group;\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                exportRoot = new Group();\n                exportRoot.transform(transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                var size = bbox.getSize();\n                defaults.width = size.width + 'px';\n                defaults.height = size.height + 'px';\n            }\n            var surfaceOptions = $.extend(defaults, options);\n            var container = document.createElement('div');\n            var style = container.style;\n            style.display = 'none';\n            style.width = surfaceOptions.width;\n            style.height = surfaceOptions.height;\n            document.body.appendChild(container);\n            var surface = new Surface$3(container, surfaceOptions);\n            surface.suspendTracking();\n            surface.draw(exportRoot);\n            var promise = surface.image();\n            var destroy = function () {\n                surface.destroy();\n                document.body.removeChild(container);\n            };\n            promise.then(destroy, destroy);\n            return promise;\n        }\n        function exportSVG(group, options) {\n            var svg = exportGroup(group);\n            if (!options || !options.raw) {\n                svg = 'data:image/svg+xml;base64,' + encodeBase64(svg);\n            }\n            return createPromise().resolve(svg);\n        }\n        var browser = support.browser;\n        function slice$1(thing) {\n            return Array.prototype.slice.call(thing);\n        }\n        var KENDO_PSEUDO_ELEMENT = 'KENDO-PSEUDO-ELEMENT';\n        var IMAGE_CACHE = {};\n        var nodeInfo = {};\n        nodeInfo._root = nodeInfo;\n        var TextRect = Text.extend({\n            init: function (str, rect, options) {\n                Text.fn.init.call(this, str, rect.getOrigin(), options);\n                this._pdfRect = rect;\n            },\n            rect: function () {\n                return this._pdfRect;\n            },\n            rawBBox: function () {\n                return this._pdfRect;\n            }\n        });\n        function addClass(el, cls) {\n            if (el.classList) {\n                el.classList.add(cls);\n            } else {\n                el.className += ' ' + cls;\n            }\n        }\n        function removeClass(el, cls) {\n            if (el.classList) {\n                el.classList.remove(cls);\n            } else {\n                el.className = el.className.split(/\\s+/).reduce(function (a, word) {\n                    if (word != cls) {\n                        a.push(word);\n                    }\n                    return a;\n                }, []).join(' ');\n            }\n        }\n        function setCSS(el, styles) {\n            Object.keys(styles).forEach(function (key) {\n                el.style[key] = styles[key];\n            });\n        }\n        var matches = typeof Element !== 'undefined' && Element.prototype && function (p) {\n            if (p.matches) {\n                return function (el, selector) {\n                    return el.matches(selector);\n                };\n            }\n            if (p.webkitMatchesSelector) {\n                return function (el, selector) {\n                    return el.webkitMatchesSelector(selector);\n                };\n            }\n            if (p.mozMatchesSelector) {\n                return function (el, selector) {\n                    return el.mozMatchesSelector(selector);\n                };\n            }\n            if (p.msMatchesSelector) {\n                return function (el, selector) {\n                    return el.msMatchesSelector(selector);\n                };\n            }\n            return function (s) {\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n            };\n        }(Element.prototype);\n        function closest(el, selector) {\n            if (el.closest) {\n                return el.closest(selector);\n            }\n            while (el && !/^\\[object (?:HTML)?Document\\]$/.test(String(el))) {\n                if (matches(el, selector)) {\n                    return el;\n                }\n                el = el.parentNode;\n            }\n        }\n        var cloneNodes = function ($) {\n            if ($) {\n                return function cloneNodes(el) {\n                    var clone = el.cloneNode(false);\n                    if (el.nodeType == 1) {\n                        var $el = $(el), $clone = $(clone), i;\n                        var data = $el.data();\n                        for (i in data) {\n                            $clone.data(i, data[i]);\n                        }\n                        if (/^canvas$/i.test(el.tagName)) {\n                            clone.getContext('2d').drawImage(el, 0, 0);\n                        } else if (/^(?:input|select|textarea|option)$/i.test(el.tagName)) {\n                            clone.removeAttribute('id');\n                            clone.removeAttribute('name');\n                            clone.value = el.value;\n                            clone.checked = el.checked;\n                            clone.selected = el.selected;\n                        }\n                        for (i = el.firstChild; i; i = i.nextSibling) {\n                            clone.appendChild(cloneNodes(i));\n                        }\n                    }\n                    return clone;\n                };\n            } else {\n                return function cloneNodes(el) {\n                    var clone = el.cloneNode(true);\n                    var canvases = el.querySelectorAll('canvas');\n                    if (canvases.length) {\n                        slice$1(clone.querySelectorAll('canvas')).forEach(function (canvas$$1, i) {\n                            canvas$$1.getContext('2d').drawImage(canvases[i], 0, 0);\n                        });\n                    }\n                    var orig = el.querySelectorAll('input, select, textarea, option');\n                    slice$1(clone.querySelectorAll('input, select, textarea, option')).forEach(function (el, i) {\n                        el.removeAttribute('id');\n                        el.removeAttribute('name');\n                        el.value = orig[i].value;\n                        el.checked = orig[i].checked;\n                        el.selected = orig[i].selected;\n                    });\n                    return clone;\n                };\n            }\n        }(typeof window !== 'undefined' && window.kendo && window.kendo.jQuery);\n        function getXY(thing) {\n            if (typeof thing == 'number') {\n                return {\n                    x: thing,\n                    y: thing\n                };\n            }\n            if (Array.isArray(thing)) {\n                return {\n                    x: thing[0],\n                    y: thing[1]\n                };\n            }\n            return {\n                x: thing.x,\n                y: thing.y\n            };\n        }\n        function drawDOM(element, options) {\n            if (!options) {\n                options = {};\n            }\n            var promise = createPromise();\n            if (!element) {\n                return promise.reject('No element to export');\n            }\n            if (typeof window.getComputedStyle != 'function') {\n                throw new Error('window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.');\n            }\n            kendo.pdf.defineFont(getFontFaces(element.ownerDocument));\n            var scale = getXY(options.scale || 1);\n            function doOne(element) {\n                var group = new Group();\n                var pos = element.getBoundingClientRect();\n                setTransform(group, [\n                    scale.x,\n                    0,\n                    0,\n                    scale.y,\n                    -pos.left * scale.x,\n                    -pos.top * scale.y\n                ]);\n                nodeInfo._clipbox = false;\n                nodeInfo._matrix = Matrix.unit();\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n                if (options.avoidLinks === true) {\n                    nodeInfo._avoidLinks = 'a';\n                } else {\n                    nodeInfo._avoidLinks = options.avoidLinks;\n                }\n                addClass(element, 'k-pdf-export');\n                renderElement(element, group);\n                removeClass(element, 'k-pdf-export');\n                return group;\n            }\n            cacheImages(element, function () {\n                var forceBreak = options && options.forcePageBreak;\n                var hasPaperSize = options && options.paperSize && options.paperSize != 'auto';\n                var paperOptions = kendo.pdf.getPaperOptions(function (key, def) {\n                    if (key == 'paperSize') {\n                        return hasPaperSize ? options[key] : 'A4';\n                    }\n                    return key in options ? options[key] : def;\n                });\n                var pageWidth = hasPaperSize && paperOptions.paperSize[0];\n                var pageHeight = hasPaperSize && paperOptions.paperSize[1];\n                var margin = options.margin && paperOptions.margin;\n                var hasMargin = Boolean(margin);\n                if (forceBreak || pageHeight) {\n                    if (!margin) {\n                        margin = {\n                            left: 0,\n                            top: 0,\n                            right: 0,\n                            bottom: 0\n                        };\n                    }\n                    if (pageWidth) {\n                        pageWidth /= scale.x;\n                    }\n                    if (pageHeight) {\n                        pageHeight /= scale.y;\n                    }\n                    margin.left /= scale.x;\n                    margin.right /= scale.x;\n                    margin.top /= scale.y;\n                    margin.bottom /= scale.y;\n                    var group = new Group({\n                        pdf: {\n                            multiPage: true,\n                            paperSize: hasPaperSize ? paperOptions.paperSize : 'auto',\n                            _ignoreMargin: hasMargin\n                        }\n                    });\n                    handlePageBreaks(function (x) {\n                        if (options.progress) {\n                            var canceled = false, pageNum = 0;\n                            (function next() {\n                                if (pageNum < x.pages.length) {\n                                    var page = doOne(x.pages[pageNum]);\n                                    group.append(page);\n                                    options.progress({\n                                        page: page,\n                                        pageNum: ++pageNum,\n                                        totalPages: x.pages.length,\n                                        cancel: function () {\n                                            canceled = true;\n                                        }\n                                    });\n                                    if (!canceled) {\n                                        setTimeout(next);\n                                    } else {\n                                        x.container.parentNode.removeChild(x.container);\n                                    }\n                                } else {\n                                    x.container.parentNode.removeChild(x.container);\n                                    promise.resolve(group);\n                                }\n                            }());\n                        } else {\n                            x.pages.forEach(function (page) {\n                                group.append(doOne(page));\n                            });\n                            x.container.parentNode.removeChild(x.container);\n                            promise.resolve(group);\n                        }\n                    }, element, forceBreak, pageWidth ? pageWidth - margin.left - margin.right : null, pageHeight ? pageHeight - margin.top - margin.bottom : null, margin, options);\n                } else {\n                    promise.resolve(doOne(element));\n                }\n            });\n            function makeTemplate(template$$1) {\n                if (template$$1 != null) {\n                    if (typeof template$$1 == 'string') {\n                        template$$1 = kendo.template(template$$1.replace(/^\\s+|\\s+$/g, ''));\n                    }\n                    if (typeof template$$1 == 'function') {\n                        return function (data) {\n                            var el = template$$1(data);\n                            if (el && typeof el == 'string') {\n                                var div = document.createElement('div');\n                                div.innerHTML = el;\n                                el = div.firstElementChild;\n                            }\n                            return el;\n                        };\n                    }\n                    return function () {\n                        return template$$1.cloneNode(true);\n                    };\n                }\n            }\n            function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\n                var template$$1 = makeTemplate(options.template);\n                var doc = element.ownerDocument;\n                var pages = [];\n                var copy = options._destructive ? element : cloneNodes(element);\n                var container = doc.createElement('KENDO-PDF-DOCUMENT');\n                var adjust = 0;\n                slice$1(copy.querySelectorAll('tfoot')).forEach(function (tfoot) {\n                    tfoot.parentNode.appendChild(tfoot);\n                });\n                slice$1(copy.querySelectorAll('ol')).forEach(function (ol) {\n                    slice$1(ol.children).forEach(function (li, index) {\n                        li.setAttribute('kendo-split-index', index);\n                    });\n                });\n                setCSS(container, {\n                    display: 'block',\n                    position: 'absolute',\n                    boxSizing: 'content-box',\n                    left: '-10000px',\n                    top: '-10000px'\n                });\n                if (pageWidth) {\n                    setCSS(container, {\n                        width: pageWidth + 'px',\n                        paddingLeft: margin.left + 'px',\n                        paddingRight: margin.right + 'px'\n                    });\n                    setCSS(copy, { overflow: 'hidden' });\n                }\n                element.parentNode.insertBefore(container, element);\n                container.appendChild(copy);\n                if (options.beforePageBreak) {\n                    setTimeout(function () {\n                        options.beforePageBreak(container, doPageBreak);\n                    }, 15);\n                } else {\n                    setTimeout(doPageBreak, 15);\n                }\n                function doPageBreak() {\n                    if (forceBreak != '-' || pageHeight) {\n                        splitElement(copy);\n                    }\n                    var page = makePage();\n                    copy.parentNode.insertBefore(page, copy);\n                    page.appendChild(copy);\n                    if (template$$1) {\n                        var count = pages.length;\n                        pages.forEach(function (page, i) {\n                            var el = template$$1({\n                                element: page,\n                                pageNum: i + 1,\n                                totalPages: pages.length\n                            });\n                            if (el) {\n                                page.appendChild(el);\n                                cacheImages(el, function () {\n                                    if (--count === 0) {\n                                        next();\n                                    }\n                                });\n                            }\n                        });\n                    } else {\n                        next();\n                    }\n                    function next() {\n                        whenImagesAreActuallyLoaded(pages, function () {\n                            callback({\n                                pages: pages,\n                                container: container\n                            });\n                        });\n                    }\n                }\n                function keepTogether(el) {\n                    if (options.keepTogether && matches(el, options.keepTogether) && el.offsetHeight <= pageHeight - adjust) {\n                        return true;\n                    }\n                    var tag = el.tagName;\n                    if (/^h[1-6]$/i.test(tag) && el.offsetHeight >= pageHeight - adjust) {\n                        return false;\n                    }\n                    return el.getAttribute('data-kendo-chart') || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(el.tagName);\n                }\n                function splitElement(element) {\n                    if (element.tagName == 'TABLE') {\n                        setCSS(element, { tableLayout: 'fixed' });\n                    }\n                    var style = getComputedStyle(element);\n                    var bottomPadding = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var bottomBorder = parseFloat(getPropertyValue(style, 'border-bottom-width'));\n                    var saveAdjust = adjust;\n                    adjust += bottomPadding + bottomBorder;\n                    var isFirst = true;\n                    for (var el = element.firstChild; el; el = el.nextSibling) {\n                        if (el.nodeType == 1) {\n                            isFirst = false;\n                            if (matches(el, forceBreak)) {\n                                breakAtElement(el);\n                                continue;\n                            }\n                            if (!pageHeight) {\n                                splitElement(el);\n                                continue;\n                            }\n                            if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), 'position'))) {\n                                continue;\n                            }\n                            var fall = fallsOnMargin(el);\n                            if (fall == 1) {\n                                breakAtElement(el);\n                            } else if (fall) {\n                                if (keepTogether(el)) {\n                                    breakAtElement(el);\n                                } else {\n                                    splitElement(el);\n                                }\n                            } else {\n                                splitElement(el);\n                            }\n                        } else if (el.nodeType == 3 && pageHeight) {\n                            splitText(el, isFirst);\n                            isFirst = false;\n                        }\n                    }\n                    adjust = saveAdjust;\n                }\n                function firstInParent(el) {\n                    var p = el.parentNode, first = p.firstChild;\n                    if (el === first) {\n                        return true;\n                    }\n                    if (el === p.children[0]) {\n                        if (first.nodeType == 7 || first.nodeType == 8) {\n                            return true;\n                        }\n                        if (first.nodeType == 3) {\n                            return !/\\S/.test(first.data);\n                        }\n                    }\n                    return false;\n                }\n                function breakAtElement(el) {\n                    if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\n                        return breakAtElement(el.parentNode);\n                    }\n                    var table, colgroup, thead, grid, gridHead;\n                    table = closest(el, 'table');\n                    colgroup = table && table.querySelector('colgroup');\n                    if (options.repeatHeaders) {\n                        thead = table && table.querySelector('thead');\n                        grid = closest(el, '.k-grid[data-role=\"grid\"]');\n                        if (grid && grid.querySelector('.k-auto-scrollable')) {\n                            gridHead = grid.querySelector('.k-grid-header');\n                        }\n                    }\n                    var page = makePage();\n                    var range = doc.createRange();\n                    range.setStartBefore(copy);\n                    range.setEndBefore(el);\n                    page.appendChild(range.extractContents());\n                    copy.parentNode.insertBefore(page, copy);\n                    preventBulletOnListItem(el.parentNode);\n                    if (table) {\n                        table = closest(el, 'table');\n                        if (options.repeatHeaders && thead) {\n                            table.insertBefore(thead.cloneNode(true), table.firstChild);\n                        }\n                        if (colgroup) {\n                            table.insertBefore(colgroup.cloneNode(true), table.firstChild);\n                        }\n                    }\n                    if (options.repeatHeaders && gridHead) {\n                        grid = closest(el, '.k-grid[data-role=\"grid\"]');\n                        grid.insertBefore(gridHead.cloneNode(true), grid.firstChild);\n                    }\n                }\n                function makePage() {\n                    var page = doc.createElement('KENDO-PDF-PAGE');\n                    setCSS(page, {\n                        display: 'block',\n                        boxSizing: 'content-box',\n                        width: pageWidth ? pageWidth + 'px' : 'auto',\n                        padding: margin.top + 'px ' + margin.right + 'px ' + margin.bottom + 'px ' + margin.left + 'px',\n                        position: 'relative',\n                        height: pageHeight ? pageHeight + 'px' : 'auto',\n                        overflow: pageHeight || pageWidth ? 'hidden' : 'visible',\n                        clear: 'both'\n                    });\n                    if (options && options.pageClassName) {\n                        page.className = options.pageClassName;\n                    }\n                    pages.push(page);\n                    return page;\n                }\n                function fallsOnMargin(thing) {\n                    var box = thing.getBoundingClientRect();\n                    if (box.width === 0 || box.height === 0) {\n                        return 0;\n                    }\n                    var top = copy.getBoundingClientRect().top;\n                    var available = pageHeight - adjust;\n                    return box.height > available ? 3 : box.top - top > available ? 1 : box.bottom - top > available ? 2 : 0;\n                }\n                function splitText(node, isFirst) {\n                    if (!/\\S/.test(node.data)) {\n                        return;\n                    }\n                    var len = node.data.length;\n                    var range = doc.createRange();\n                    range.selectNodeContents(node);\n                    var fall = fallsOnMargin(range);\n                    if (!fall) {\n                        return;\n                    }\n                    var nextnode = node;\n                    if (fall == 1) {\n                        if (isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            breakAtElement(node);\n                        }\n                    } else {\n                        (function findEOP(min, pos, max) {\n                            range.setEnd(node, pos);\n                            if (min == pos || pos == max) {\n                                return pos;\n                            }\n                            if (fallsOnMargin(range)) {\n                                return findEOP(min, min + pos >> 1, pos);\n                            } else {\n                                return findEOP(pos, pos + max >> 1, max);\n                            }\n                        }(0, len >> 1, len));\n                        if (!/\\S/.test(range.toString()) && isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            nextnode = node.splitText(range.endOffset);\n                            var page = makePage();\n                            range.setStartBefore(copy);\n                            page.appendChild(range.extractContents());\n                            copy.parentNode.insertBefore(page, copy);\n                            preventBulletOnListItem(nextnode.parentNode);\n                        }\n                    }\n                    splitText(nextnode);\n                }\n                function preventBulletOnListItem(el) {\n                    var li = closest(el, 'li');\n                    if (li) {\n                        li.setAttribute('kendo-no-bullet', '1');\n                        preventBulletOnListItem(li.parentNode);\n                    }\n                }\n            }\n            return promise;\n        }\n        drawDOM.getFontFaces = getFontFaces;\n        drawDOM.drawText = function (element) {\n            var group = new Group();\n            nodeInfo._clipbox = false;\n            nodeInfo._matrix = Matrix.unit();\n            nodeInfo._stackingContext = {\n                element: element,\n                group: group\n            };\n            pushNodeInfo(element, getComputedStyle(element), group);\n            if (element.firstChild.nodeType == 3) {\n                renderText(element, element.firstChild, group);\n            } else {\n                _renderElement(element, group);\n            }\n            popNodeInfo();\n            return group;\n        };\n        var parseBackgroundImage = function () {\n            var tok_linear_gradient = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\n            var tok_percent = /^([-0-9.]+%)/;\n            var tok_length = /^([-0-9.]+px)/;\n            var tok_keyword = /^(left|right|top|bottom|to|center)\\W/;\n            var tok_angle = /^([-0-9.]+(deg|grad|rad|turn))/;\n            var tok_whitespace = /^(\\s+)/;\n            var tok_popen = /^(\\()/;\n            var tok_pclose = /^(\\))/;\n            var tok_comma = /^(,)/;\n            var tok_url = /^(url)\\(/;\n            var tok_content = /^(.*?)\\)/;\n            var cache1 = {}, cache2 = {};\n            function parse(input) {\n                var orig = input;\n                if (hasOwnProperty(cache1, orig)) {\n                    return cache1[orig];\n                }\n                function skip_ws() {\n                    var m = tok_whitespace.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                    }\n                }\n                function read(token) {\n                    skip_ws();\n                    var m = token.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                        return m[1];\n                    }\n                }\n                function read_stop() {\n                    var color = kendo.parseColor(input, true);\n                    var length, percent;\n                    if (color) {\n                        var match = /^#[0-9a-f]+/i.exec(input) || /^rgba?\\(.*?\\)/i.exec(input) || /^..*?\\b/.exec(input);\n                        input = input.substr(match[0].length);\n                        color = color.toRGB();\n                        if (!(length = read(tok_length))) {\n                            percent = read(tok_percent);\n                        }\n                        return {\n                            color: color,\n                            length: length,\n                            percent: percent\n                        };\n                    }\n                }\n                function read_linear_gradient(propName) {\n                    var angle;\n                    var to1, to2;\n                    var stops = [];\n                    var reverse = false;\n                    if (read(tok_popen)) {\n                        angle = read(tok_angle);\n                        if (angle) {\n                            angle = parseAngle(angle);\n                            read(tok_comma);\n                        } else {\n                            to1 = read(tok_keyword);\n                            if (to1 == 'to') {\n                                to1 = read(tok_keyword);\n                            } else if (to1 && /^-/.test(propName)) {\n                                reverse = true;\n                            }\n                            to2 = read(tok_keyword);\n                            read(tok_comma);\n                        }\n                        if (/-moz-/.test(propName) && angle == null && to1 == null) {\n                            var x = read(tok_percent), y = read(tok_percent);\n                            reverse = true;\n                            if (x == '0%') {\n                                to1 = 'left';\n                            } else if (x == '100%') {\n                                to1 = 'right';\n                            }\n                            if (y == '0%') {\n                                to2 = 'top';\n                            } else if (y == '100%') {\n                                to2 = 'bottom';\n                            }\n                            read(tok_comma);\n                        }\n                        while (input && !read(tok_pclose)) {\n                            var stop = read_stop();\n                            if (!stop) {\n                                break;\n                            }\n                            stops.push(stop);\n                            read(tok_comma);\n                        }\n                        return {\n                            type: 'linear',\n                            angle: angle,\n                            to: to1 && to2 ? to1 + ' ' + to2 : to1 ? to1 : to2 ? to2 : null,\n                            stops: stops,\n                            reverse: reverse\n                        };\n                    }\n                }\n                function read_url() {\n                    if (read(tok_popen)) {\n                        var url = read(tok_content);\n                        url = url.replace(/^['\"]+|[\"']+$/g, '');\n                        read(tok_pclose);\n                        return {\n                            type: 'url',\n                            url: url\n                        };\n                    }\n                }\n                var tok;\n                if (tok = read(tok_linear_gradient)) {\n                    tok = read_linear_gradient(tok);\n                } else if (tok = read(tok_url)) {\n                    tok = read_url();\n                }\n                return cache1[orig] = tok || { type: 'none' };\n            }\n            return function (input) {\n                if (hasOwnProperty(cache2, input)) {\n                    return cache2[input];\n                }\n                return cache2[input] = splitProperty(input).map(parse);\n            };\n        }();\n        var splitProperty = function () {\n            var cache = {};\n            return function (input, separator) {\n                if (!separator) {\n                    separator = /^\\s*,\\s*/;\n                }\n                var cacheKey = input + separator;\n                if (hasOwnProperty(cache, cacheKey)) {\n                    return cache[cacheKey];\n                }\n                var ret = [];\n                var last$$1 = 0, pos = 0;\n                var in_paren = 0;\n                var in_string = false;\n                var m;\n                function looking_at(rx) {\n                    return m = rx.exec(input.substr(pos));\n                }\n                function trim(str) {\n                    return str.replace(/^\\s+|\\s+$/g, '');\n                }\n                while (pos < input.length) {\n                    if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\n                        in_paren++;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\n                        in_paren--;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\\"\\']/)) {\n                        in_string = m[0];\n                        pos++;\n                    } else if (in_string == '\\'' && looking_at(/^\\\\\\'/)) {\n                        pos += 2;\n                    } else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\n                        pos += 2;\n                    } else if (in_string == '\\'' && looking_at(/^\\'/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (in_string == '\"' && looking_at(/^\\\"/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (looking_at(separator)) {\n                        if (!in_string && !in_paren && pos > last$$1) {\n                            ret.push(trim(input.substring(last$$1, pos)));\n                            last$$1 = pos + m[0].length;\n                        }\n                        pos += m[0].length;\n                    } else {\n                        pos++;\n                    }\n                }\n                if (last$$1 < pos) {\n                    ret.push(trim(input.substring(last$$1, pos)));\n                }\n                return cache[cacheKey] = ret;\n            };\n        }();\n        var getFontURL = function (cache) {\n            return function (el) {\n                var url = cache[el];\n                if (!url) {\n                    var m;\n                    if (m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    } else if (m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    }\n                }\n                return url;\n            };\n        }(Object.create ? Object.create(null) : {});\n        var getFontHeight = function (cache) {\n            return function (font) {\n                var height = cache[font];\n                if (height == null) {\n                    height = cache[font] = kendoUtil.measureText('Mapq', { font: font }).height;\n                }\n                return height;\n            };\n        }(Object.create ? Object.create(null) : {});\n        function getFontFaces(doc) {\n            if (doc == null) {\n                doc = document;\n            }\n            var result = {};\n            for (var i = 0; i < doc.styleSheets.length; ++i) {\n                doStylesheet(doc.styleSheets[i]);\n            }\n            return result;\n            function doStylesheet(ss) {\n                if (ss) {\n                    var rules = null;\n                    try {\n                        rules = ss.cssRules;\n                    } catch (ex) {\n                    }\n                    if (rules) {\n                        addRules(ss, rules);\n                    }\n                }\n            }\n            function findFonts(rule) {\n                var src = getPropertyValue(rule.style, 'src');\n                if (src) {\n                    return splitProperty(src).reduce(function (a, el) {\n                        var font = getFontURL(el);\n                        if (font) {\n                            a.push(font);\n                        }\n                        return a;\n                    }, []);\n                } else {\n                    var font = getFontURL(rule.cssText);\n                    return font ? [font] : [];\n                }\n            }\n            function addRules(styleSheet, rules) {\n                for (var i = 0; i < rules.length; ++i) {\n                    var r = rules[i];\n                    switch (r.type) {\n                    case 3:\n                        doStylesheet(r.styleSheet);\n                        break;\n                    case 5:\n                        var style = r.style;\n                        var family = splitProperty(getPropertyValue(style, 'font-family'));\n                        var bold = /^([56789]00|bold)$/i.test(getPropertyValue(style, 'font-weight'));\n                        var italic = 'italic' == getPropertyValue(style, 'font-style');\n                        var src = findFonts(r);\n                        if (src.length > 0) {\n                            addRule(styleSheet, family, bold, italic, src[0]);\n                        }\n                    }\n                }\n            }\n            function addRule(styleSheet, names, bold, italic, url) {\n                if (!/^data:/i.test(url)) {\n                    if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\n                        url = String(styleSheet.href).replace(/[^\\/]*$/, '') + url;\n                    }\n                }\n                names.forEach(function (name) {\n                    name = name.replace(/^(['\"]?)(.*?)\\1$/, '$2');\n                    if (bold) {\n                        name += '|bold';\n                    }\n                    if (italic) {\n                        name += '|italic';\n                    }\n                    result[name] = url;\n                });\n            }\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function getCounter(name) {\n            name = '_counter_' + name;\n            return nodeInfo[name];\n        }\n        function getAllCounters(name) {\n            var values = [], p = nodeInfo;\n            name = '_counter_' + name;\n            while (p) {\n                if (hasOwnProperty(p, name)) {\n                    values.push(p[name]);\n                }\n                p = Object.getPrototypeOf(p);\n            }\n            return values.reverse();\n        }\n        function incCounter(name, inc) {\n            var p = nodeInfo;\n            name = '_counter_' + name;\n            while (p && !hasOwnProperty(p, name)) {\n                p = Object.getPrototypeOf(p);\n            }\n            if (!p) {\n                p = nodeInfo._root;\n            }\n            p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\n        }\n        function resetCounter(name, val) {\n            name = '_counter_' + name;\n            nodeInfo[name] = val == null ? 0 : val;\n        }\n        function doCounters(a, f, def) {\n            for (var i = 0; i < a.length;) {\n                var name = a[i++];\n                var val = parseFloat(a[i]);\n                if (isNaN(val)) {\n                    f(name, def);\n                } else {\n                    f(name, val);\n                    ++i;\n                }\n            }\n        }\n        function updateCounters(style) {\n            var counterReset = getPropertyValue(style, 'counter-reset');\n            if (counterReset) {\n                doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\n            }\n            var counterIncrement = getPropertyValue(style, 'counter-increment');\n            if (counterIncrement) {\n                doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\n            }\n        }\n        function parseColor$1(str, css) {\n            var color = kendo.parseColor(str, true);\n            if (color) {\n                color = color.toRGB();\n                if (css) {\n                    color = color.toCssRgba();\n                } else if (color.a === 0) {\n                    color = null;\n                }\n            }\n            return color;\n        }\n        function whenImagesAreActuallyLoaded(elements, callback) {\n            var pending = 0;\n            elements.forEach(function (el) {\n                var images = el.querySelectorAll('img');\n                for (var i = 0; i < images.length; ++i) {\n                    var img = images[i];\n                    if (!img.complete) {\n                        pending++;\n                        img.onload = img.onerror = next;\n                    }\n                }\n            });\n            if (!pending) {\n                next();\n            }\n            function next() {\n                if (--pending <= 0) {\n                    callback();\n                }\n            }\n        }\n        function cacheImages(element, callback) {\n            var urls = [];\n            function add(url) {\n                if (!IMAGE_CACHE[url]) {\n                    IMAGE_CACHE[url] = true;\n                    urls.push(url);\n                }\n            }\n            (function dive(element) {\n                if (/^img$/i.test(element.tagName)) {\n                    add(element.src);\n                }\n                parseBackgroundImage(getPropertyValue(getComputedStyle(element), 'background-image')).forEach(function (bg) {\n                    if (bg.type == 'url') {\n                        add(bg.url);\n                    }\n                });\n                if (element.children) {\n                    slice$1(element.children).forEach(dive);\n                }\n            }(element));\n            var count = urls.length;\n            function next() {\n                if (--count <= 0) {\n                    callback();\n                }\n            }\n            if (count === 0) {\n                next();\n            }\n            urls.forEach(function (url) {\n                var img = IMAGE_CACHE[url] = new window.Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                img.src = url;\n                if (img.complete) {\n                    next();\n                } else {\n                    img.onload = next;\n                    img.onerror = function () {\n                        IMAGE_CACHE[url] = null;\n                        next();\n                    };\n                }\n            });\n        }\n        function alphaNumeral(n) {\n            var result = '';\n            do {\n                var r = n % 26;\n                result = String.fromCharCode(97 + r) + result;\n                n = Math.floor(n / 26);\n            } while (n > 0);\n            return result;\n        }\n        function pushNodeInfo(element, style, group) {\n            nodeInfo = Object.create(nodeInfo);\n            nodeInfo[element.tagName.toLowerCase()] = {\n                element: element,\n                style: style\n            };\n            var decoration = getPropertyValue(style, 'text-decoration');\n            if (decoration && decoration != 'none') {\n                var color = getPropertyValue(style, 'color');\n                decoration.split(/\\s+/g).forEach(function (name) {\n                    if (!nodeInfo[name]) {\n                        nodeInfo[name] = color;\n                    }\n                });\n            }\n            if (createsStackingContext(style)) {\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n            }\n        }\n        function popNodeInfo() {\n            nodeInfo = Object.getPrototypeOf(nodeInfo);\n        }\n        function updateClipbox(path) {\n            if (nodeInfo._clipbox != null) {\n                var box = path.bbox(nodeInfo._matrix);\n                if (nodeInfo._clipbox) {\n                    nodeInfo._clipbox = Rect.intersect(nodeInfo._clipbox, box);\n                } else {\n                    nodeInfo._clipbox = box;\n                }\n            }\n        }\n        function emptyClipbox() {\n            var cb = nodeInfo._clipbox;\n            if (cb == null) {\n                return true;\n            }\n            if (cb) {\n                return cb.width() === 0 || cb.height() === 0;\n            }\n        }\n        function createsStackingContext(style) {\n            function prop(name) {\n                return getPropertyValue(style, name);\n            }\n            if (prop('transform') != 'none' || prop('position') != 'static' || prop('z-index') != 'auto' || prop('opacity') < 1) {\n                return true;\n            }\n        }\n        function getComputedStyle(element, pseudoElt) {\n            return window.getComputedStyle(element, pseudoElt || null);\n        }\n        function getPropertyValue(style, prop, defa) {\n            var val = style.getPropertyValue(prop);\n            if (val == null || val === '') {\n                if (browser.webkit) {\n                    val = style.getPropertyValue('-webkit-' + prop);\n                } else if (browser.mozilla) {\n                    val = style.getPropertyValue('-moz-' + prop);\n                } else if (browser.opera) {\n                    val = style.getPropertyValue('-o-' + prop);\n                } else if (browser.msie) {\n                    val = style.getPropertyValue('-ms-' + prop);\n                }\n            }\n            if (arguments.length > 2 && (val == null || val === '')) {\n                return defa;\n            } else {\n                return val;\n            }\n        }\n        function pleaseSetPropertyValue(style, prop, value, important) {\n            style.setProperty(prop, value, important);\n            if (browser.webkit) {\n                style.setProperty('-webkit-' + prop, value, important);\n            } else if (browser.mozilla) {\n                style.setProperty('-moz-' + prop, value, important);\n            } else if (browser.opera) {\n                style.setProperty('-o-' + prop, value, important);\n            } else if (browser.msie) {\n                style.setProperty('-ms-' + prop, value, important);\n                prop = 'ms' + prop.replace(/(^|-)([a-z])/g, function (s, p1, p2) {\n                    return p1 + p2.toUpperCase();\n                });\n                style[prop] = value;\n            }\n        }\n        function getBorder(style, side) {\n            side = 'border-' + side;\n            return {\n                width: parseFloat(getPropertyValue(style, side + '-width')),\n                style: getPropertyValue(style, side + '-style'),\n                color: parseColor$1(getPropertyValue(style, side + '-color'), true)\n            };\n        }\n        function saveStyle(element, func) {\n            var prev = element.style.cssText;\n            var result = func();\n            element.style.cssText = prev;\n            return result;\n        }\n        function getBorderRadius(style, side) {\n            var r = getPropertyValue(style, 'border-' + side + '-radius').split(/\\s+/g).map(parseFloat);\n            if (r.length == 1) {\n                r.push(r[0]);\n            }\n            return sanitizeRadius({\n                x: r[0],\n                y: r[1]\n            });\n        }\n        function getContentBox(element) {\n            var box = element.getBoundingClientRect();\n            box = innerBox(box, 'border-*-width', element);\n            box = innerBox(box, 'padding-*', element);\n            return box;\n        }\n        function innerBox(box, prop, element) {\n            var style, wt, wr, wb, wl;\n            if (typeof prop == 'string') {\n                style = getComputedStyle(element);\n                wt = parseFloat(getPropertyValue(style, prop.replace('*', 'top')));\n                wr = parseFloat(getPropertyValue(style, prop.replace('*', 'right')));\n                wb = parseFloat(getPropertyValue(style, prop.replace('*', 'bottom')));\n                wl = parseFloat(getPropertyValue(style, prop.replace('*', 'left')));\n            } else if (typeof prop == 'number') {\n                wt = wr = wb = wl = prop;\n            }\n            return {\n                top: box.top + wt,\n                right: box.right - wr,\n                bottom: box.bottom - wb,\n                left: box.left + wl,\n                width: box.right - box.left - wr - wl,\n                height: box.bottom - box.top - wb - wt\n            };\n        }\n        function getTransform(style) {\n            var transform$$1 = getPropertyValue(style, 'transform');\n            if (transform$$1 == 'none') {\n                return null;\n            }\n            var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform$$1);\n            if (matrix) {\n                var origin = getPropertyValue(style, 'transform-origin');\n                matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\n                origin = origin.split(/\\s+/g).map(parseFloat);\n                return {\n                    matrix: matrix,\n                    origin: origin\n                };\n            }\n        }\n        function radiansToDegrees(radians) {\n            return 180 * radians / Math.PI % 360;\n        }\n        function parseAngle(angle) {\n            var num = parseFloat(angle);\n            if (/grad$/.test(angle)) {\n                return Math.PI * num / 200;\n            } else if (/rad$/.test(angle)) {\n                return num;\n            } else if (/turn$/.test(angle)) {\n                return Math.PI * num * 2;\n            } else if (/deg$/.test(angle)) {\n                return Math.PI * num / 180;\n            }\n        }\n        function setTransform(shape, m) {\n            m = new Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\n            shape.transform(m);\n            return m;\n        }\n        function setClipping(shape, clipPath) {\n            shape.clip(clipPath);\n        }\n        function addArcToPath(path, x, y, options) {\n            var points = new Arc$2([\n                    x,\n                    y\n                ], options).curvePoints(), i = 1;\n            while (i < points.length) {\n                path.curveTo(points[i++], points[i++], points[i++]);\n            }\n        }\n        function sanitizeRadius(r) {\n            if (r.x <= 0 || r.y <= 0) {\n                r.x = r.y = 0;\n            }\n            return r;\n        }\n        function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\n            var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\n            var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\n            var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\n            var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\n            var f = Math.min(box.width / (tl_x + tr_x), box.height / (tr_y + br_y), box.width / (br_x + bl_x), box.height / (bl_y + tl_y));\n            if (f < 1) {\n                tl_x *= f;\n                tl_y *= f;\n                tr_x *= f;\n                tr_y *= f;\n                br_x *= f;\n                br_y *= f;\n                bl_x *= f;\n                bl_y *= f;\n            }\n            return {\n                tl: {\n                    x: tl_x,\n                    y: tl_y\n                },\n                tr: {\n                    x: tr_x,\n                    y: tr_y\n                },\n                br: {\n                    x: br_x,\n                    y: br_y\n                },\n                bl: {\n                    x: bl_x,\n                    y: bl_y\n                }\n            };\n        }\n        function elementRoundBox(element, box, type) {\n            var style = getComputedStyle(element);\n            var rTL = getBorderRadius(style, 'top-left');\n            var rTR = getBorderRadius(style, 'top-right');\n            var rBL = getBorderRadius(style, 'bottom-left');\n            var rBR = getBorderRadius(style, 'bottom-right');\n            if (type == 'padding' || type == 'content') {\n                var bt = getBorder(style, 'top');\n                var br = getBorder(style, 'right');\n                var bb = getBorder(style, 'bottom');\n                var bl = getBorder(style, 'left');\n                rTL.x -= bl.width;\n                rTL.y -= bt.width;\n                rTR.x -= br.width;\n                rTR.y -= bt.width;\n                rBR.x -= br.width;\n                rBR.y -= bb.width;\n                rBL.x -= bl.width;\n                rBL.y -= bb.width;\n                if (type == 'content') {\n                    var pt = parseFloat(getPropertyValue(style, 'padding-top'));\n                    var pr = parseFloat(getPropertyValue(style, 'padding-right'));\n                    var pb = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var pl = parseFloat(getPropertyValue(style, 'padding-left'));\n                    rTL.x -= pl;\n                    rTL.y -= pt;\n                    rTR.x -= pr;\n                    rTR.y -= pt;\n                    rBR.x -= pr;\n                    rBR.y -= pb;\n                    rBL.x -= pl;\n                    rBL.y -= pb;\n                }\n            }\n            if (typeof type == 'number') {\n                rTL.x -= type;\n                rTL.y -= type;\n                rTR.x -= type;\n                rTR.y -= type;\n                rBR.x -= type;\n                rBR.y -= type;\n                rBL.x -= type;\n                rBL.y -= type;\n            }\n            return roundBox(box, rTL, rTR, rBR, rBL);\n        }\n        function roundBox(box, rTL0, rTR0, rBR0, rBL0) {\n            var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n            var rTL = tmp.tl;\n            var rTR = tmp.tr;\n            var rBR = tmp.br;\n            var rBL = tmp.bl;\n            var path = new Path({\n                fill: null,\n                stroke: null\n            });\n            path.moveTo(box.left, box.top + rTL.y);\n            if (rTL.x) {\n                addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\n                    startAngle: -180,\n                    endAngle: -90,\n                    radiusX: rTL.x,\n                    radiusY: rTL.y\n                });\n            }\n            path.lineTo(box.right - rTR.x, box.top);\n            if (rTR.x) {\n                addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\n                    startAngle: -90,\n                    endAngle: 0,\n                    radiusX: rTR.x,\n                    radiusY: rTR.y\n                });\n            }\n            path.lineTo(box.right, box.bottom - rBR.y);\n            if (rBR.x) {\n                addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\n                    startAngle: 0,\n                    endAngle: 90,\n                    radiusX: rBR.x,\n                    radiusY: rBR.y\n                });\n            }\n            path.lineTo(box.left + rBL.x, box.bottom);\n            if (rBL.x) {\n                addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\n                    startAngle: 90,\n                    endAngle: 180,\n                    radiusX: rBL.x,\n                    radiusY: rBL.y\n                });\n            }\n            return path.close();\n        }\n        function formatCounter(val, style) {\n            var str = String(parseFloat(val));\n            switch (style) {\n            case 'decimal-leading-zero':\n                if (str.length < 2) {\n                    str = '0' + str;\n                }\n                return str;\n            case 'lower-roman':\n                return arabicToRoman(val).toLowerCase();\n            case 'upper-roman':\n                return arabicToRoman(val).toUpperCase();\n            case 'lower-latin':\n            case 'lower-alpha':\n                return alphaNumeral(val - 1);\n            case 'upper-latin':\n            case 'upper-alpha':\n                return alphaNumeral(val - 1).toUpperCase();\n            default:\n                return str;\n            }\n        }\n        function evalPseudoElementContent(element, content) {\n            function displayCounter(name, style, separator) {\n                if (!separator) {\n                    return formatCounter(getCounter(name) || 0, style);\n                }\n                separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, '$2');\n                return getAllCounters(name).map(function (val) {\n                    return formatCounter(val, style);\n                }).join(separator);\n            }\n            var a = splitProperty(content, /^\\s+/);\n            var result = [], m;\n            a.forEach(function (el) {\n                var tmp;\n                if (m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el)) {\n                    result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function (s, p) {\n                        return String.fromCharCode(parseInt(p, 16));\n                    }));\n                } else if (m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[1]));\n                } else if (m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\n                } else if (m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el)) {\n                    result.push(element.getAttribute(m[1]) || '');\n                } else {\n                    result.push(el);\n                }\n            });\n            return result.join('');\n        }\n        function getCssText(style) {\n            if (style.cssText) {\n                return style.cssText;\n            }\n            var result = [];\n            for (var i = 0; i < style.length; ++i) {\n                result.push(style[i] + ': ' + getPropertyValue(style, style[i]));\n            }\n            return result.join(';\\n');\n        }\n        function _renderWithPseudoElements(element, group) {\n            if (element.tagName == KENDO_PSEUDO_ELEMENT) {\n                _renderElement(element, group);\n                return;\n            }\n            var fake = [];\n            function pseudo(kind, place) {\n                var style = getComputedStyle(element, kind);\n                updateCounters(style);\n                if (style.content && style.content != 'normal' && style.content != 'none' && style.width != '0px') {\n                    var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                    psel.style.cssText = getCssText(style);\n                    psel.textContent = evalPseudoElementContent(element, style.content);\n                    element.insertBefore(psel, place);\n                    fake.push(psel);\n                }\n            }\n            pseudo(':before', element.firstChild);\n            pseudo(':after', null);\n            var saveClass = element.className;\n            element.className += ' kendo-pdf-hide-pseudo-elements';\n            _renderElement(element, group);\n            element.className = saveClass;\n            fake.forEach(function (el) {\n                element.removeChild(el);\n            });\n        }\n        function _renderElement(element, group) {\n            var style = getComputedStyle(element);\n            var top = getBorder(style, 'top');\n            var right = getBorder(style, 'right');\n            var bottom = getBorder(style, 'bottom');\n            var left = getBorder(style, 'left');\n            var rTL0 = getBorderRadius(style, 'top-left');\n            var rTR0 = getBorderRadius(style, 'top-right');\n            var rBL0 = getBorderRadius(style, 'bottom-left');\n            var rBR0 = getBorderRadius(style, 'bottom-right');\n            var dir = getPropertyValue(style, 'direction');\n            var backgroundColor = getPropertyValue(style, 'background-color');\n            backgroundColor = parseColor$1(backgroundColor);\n            var backgroundImage = parseBackgroundImage(getPropertyValue(style, 'background-image'));\n            var backgroundRepeat = splitProperty(getPropertyValue(style, 'background-repeat'));\n            var backgroundPosition = splitProperty(getPropertyValue(style, 'background-position'));\n            var backgroundOrigin = splitProperty(getPropertyValue(style, 'background-origin'));\n            var backgroundSize = splitProperty(getPropertyValue(style, 'background-size'));\n            if (browser.msie && browser.version < 10) {\n                backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\n            }\n            var innerbox = innerBox(element.getBoundingClientRect(), 'border-*-width', element);\n            (function () {\n                var clip = getPropertyValue(style, 'clip');\n                var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\n                if (m) {\n                    var a = m[1].split(/[ ,]+/g);\n                    var top = a[0] == 'auto' ? innerbox.top : parseFloat(a[0]) + innerbox.top;\n                    var right = a[1] == 'auto' ? innerbox.right : parseFloat(a[1]) + innerbox.left;\n                    var bottom = a[2] == 'auto' ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\n                    var left = a[3] == 'auto' ? innerbox.left : parseFloat(a[3]) + innerbox.left;\n                    var tmp = new Group();\n                    var clipPath = new Path().moveTo(left, top).lineTo(right, top).lineTo(right, bottom).lineTo(left, bottom).close();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n            }());\n            var boxes, i, cells;\n            var display = getPropertyValue(style, 'display');\n            if (display == 'table-row') {\n                boxes = [];\n                for (i = 0, cells = element.children; i < cells.length; ++i) {\n                    boxes.push(cells[i].getBoundingClientRect());\n                }\n            } else {\n                boxes = element.getClientRects();\n                if (boxes.length == 1) {\n                    boxes = [element.getBoundingClientRect()];\n                }\n            }\n            boxes = adjustBoxes(boxes);\n            for (i = 0; i < boxes.length; ++i) {\n                drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\n            }\n            if (boxes.length > 0 && display == 'list-item' && !element.getAttribute('kendo-no-bullet')) {\n                drawBullet(boxes[0]);\n            }\n            (function () {\n                function clipit() {\n                    var clipPath = elementRoundBox(element, innerbox, 'padding');\n                    var tmp = new Group();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n                if (isFormField(element)) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-x'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-y'))) {\n                    clipit();\n                }\n            }());\n            if (!maybeRenderWidget(element, group)) {\n                renderContents(element, group);\n            }\n            return group;\n            function adjustBoxes(boxes) {\n                if (/^td$/i.test(element.tagName)) {\n                    var table = nodeInfo.table;\n                    if (table && getPropertyValue(table.style, 'border-collapse') == 'collapse') {\n                        var tableBorderLeft = getBorder(table.style, 'left').width;\n                        var tableBorderTop = getBorder(table.style, 'top').width;\n                        if (tableBorderLeft === 0 && tableBorderTop === 0) {\n                            return boxes;\n                        }\n                        var tableBox = table.element.getBoundingClientRect();\n                        var firstCell = table.element.rows[0].cells[0];\n                        var firstCellBox = firstCell.getBoundingClientRect();\n                        if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\n                            return slice$1(boxes).map(function (box) {\n                                return {\n                                    left: box.left + tableBorderLeft,\n                                    top: box.top + tableBorderTop,\n                                    right: box.right + tableBorderLeft,\n                                    bottom: box.bottom + tableBorderTop,\n                                    height: box.height,\n                                    width: box.width\n                                };\n                            });\n                        }\n                    }\n                }\n                return boxes;\n            }\n            function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform$$1) {\n                if (Wtop <= 0) {\n                    return;\n                }\n                var path, edge = new Group();\n                setTransform(edge, transform$$1);\n                group.append(edge);\n                sanitizeRadius(rl);\n                sanitizeRadius(rr);\n                path = new Path({\n                    fill: { color: color },\n                    stroke: null\n                });\n                edge.append(path);\n                path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0).lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0).lineTo(len - Math.max(rr.x, Wright), Wtop).lineTo(Math.max(rl.x, Wleft), Wtop).close();\n                if (rl.x) {\n                    drawRoundCorner(Wleft, rl, [\n                        -1,\n                        0,\n                        0,\n                        1,\n                        rl.x,\n                        0\n                    ]);\n                }\n                if (rr.x) {\n                    drawRoundCorner(Wright, rr, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        len - rr.x,\n                        0\n                    ]);\n                }\n                function drawRoundCorner(Wright, r, transform$$1) {\n                    var angle = Math.PI / 2 * Wright / (Wright + Wtop);\n                    var ri = {\n                        x: r.x - Wright,\n                        y: r.y - Wtop\n                    };\n                    var path = new Path({\n                        fill: { color: color },\n                        stroke: null\n                    }).moveTo(0, 0);\n                    setTransform(path, transform$$1);\n                    addArcToPath(path, 0, r.y, {\n                        startAngle: -90,\n                        endAngle: -radiansToDegrees(angle),\n                        radiusX: r.x,\n                        radiusY: r.y\n                    });\n                    if (ri.x > 0 && ri.y > 0) {\n                        path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\n                        addArcToPath(path, 0, r.y, {\n                            startAngle: -radiansToDegrees(angle),\n                            endAngle: -90,\n                            radiusX: ri.x,\n                            radiusY: ri.y,\n                            anticlockwise: true\n                        });\n                    } else if (ri.x > 0) {\n                        path.lineTo(ri.x, Wtop).lineTo(0, Wtop);\n                    } else {\n                        path.lineTo(ri.x, Wtop).lineTo(ri.x, 0);\n                    }\n                    edge.append(path.close());\n                }\n            }\n            function drawBackground(box) {\n                var background = new Group();\n                setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\n                group.append(background);\n                if (element.tagName == 'A' && element.href && !/^#?$/.test(element.getAttribute('href'))) {\n                    if (!nodeInfo._avoidLinks || !matches(element, nodeInfo._avoidLinks)) {\n                        background._pdfLink = {\n                            url: element.href,\n                            top: box.top,\n                            right: box.right,\n                            bottom: box.bottom,\n                            left: box.left\n                        };\n                    }\n                }\n                if (backgroundColor) {\n                    var path = new Path({\n                        fill: { color: backgroundColor.toCssRgba() },\n                        stroke: null\n                    });\n                    path.moveTo(box.left, box.top).lineTo(box.right, box.top).lineTo(box.right, box.bottom).lineTo(box.left, box.bottom).close();\n                    background.append(path);\n                }\n                for (var i = backgroundImage.length; --i >= 0;) {\n                    drawOneBackground(background, box, backgroundImage[i], backgroundRepeat[i % backgroundRepeat.length], backgroundPosition[i % backgroundPosition.length], backgroundOrigin[i % backgroundOrigin.length], backgroundSize[i % backgroundSize.length]);\n                }\n            }\n            function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\n                if (!background || background == 'none') {\n                    return;\n                }\n                if (background.type == 'url') {\n                    if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\n                        return;\n                    }\n                    var img = IMAGE_CACHE[background.url];\n                    if (img && img.width > 0 && img.height > 0) {\n                        drawBackgroundImage(group, box, img.width, img.height, function (group, rect) {\n                            group.append(new Image$1(background.url, rect));\n                        });\n                    }\n                } else if (background.type == 'linear') {\n                    drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\n                } else {\n                    return;\n                }\n                function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\n                    var aspect_ratio = img_width / img_height, f;\n                    var orgBox = box;\n                    if (backgroundOrigin == 'content-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                        orgBox = innerBox(orgBox, 'padding-*', element);\n                    } else if (backgroundOrigin == 'padding-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                    }\n                    if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\n                        if (backgroundSize == 'contain') {\n                            f = Math.min(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else if (backgroundSize == 'cover') {\n                            f = Math.max(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else {\n                            var size = backgroundSize.split(/\\s+/g);\n                            if (/%$/.test(size[0])) {\n                                img_width = orgBox.width * parseFloat(size[0]) / 100;\n                            } else {\n                                img_width = parseFloat(size[0]);\n                            }\n                            if (size.length == 1 || size[1] == 'auto') {\n                                img_height = img_width / aspect_ratio;\n                            } else if (/%$/.test(size[1])) {\n                                img_height = orgBox.height * parseFloat(size[1]) / 100;\n                            } else {\n                                img_height = parseFloat(size[1]);\n                            }\n                        }\n                    }\n                    var pos = String(backgroundPosition);\n                    switch (pos) {\n                    case 'bottom':\n                        pos = '50% 100%';\n                        break;\n                    case 'top':\n                        pos = '50% 0';\n                        break;\n                    case 'left':\n                        pos = '0 50%';\n                        break;\n                    case 'right':\n                        pos = '100% 50%';\n                        break;\n                    case 'center':\n                        pos = '50% 50%';\n                        break;\n                    }\n                    pos = pos.split(/\\s+/);\n                    if (pos.length == 1) {\n                        pos[1] = '50%';\n                    }\n                    if (/%$/.test(pos[0])) {\n                        pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\n                    } else {\n                        pos[0] = parseFloat(pos[0]);\n                    }\n                    if (/%$/.test(pos[1])) {\n                        pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\n                    } else {\n                        pos[1] = parseFloat(pos[1]);\n                    }\n                    var rect = new Rect([\n                        orgBox.left + pos[0],\n                        orgBox.top + pos[1]\n                    ], [\n                        img_width,\n                        img_height\n                    ]);\n                    function rewX() {\n                        while (rect.origin.x > box.left) {\n                            rect.origin.x -= img_width;\n                        }\n                    }\n                    function rewY() {\n                        while (rect.origin.y > box.top) {\n                            rect.origin.y -= img_height;\n                        }\n                    }\n                    function repeatX() {\n                        while (rect.origin.x < box.right) {\n                            renderBG(group, rect.clone());\n                            rect.origin.x += img_width;\n                        }\n                    }\n                    if (backgroundRepeat == 'no-repeat') {\n                        renderBG(group, rect);\n                    } else if (backgroundRepeat == 'repeat-x') {\n                        rewX();\n                        repeatX();\n                    } else if (backgroundRepeat == 'repeat-y') {\n                        rewY();\n                        while (rect.origin.y < box.bottom) {\n                            renderBG(group, rect.clone());\n                            rect.origin.y += img_height;\n                        }\n                    } else if (backgroundRepeat == 'repeat') {\n                        rewX();\n                        rewY();\n                        var origin = rect.origin.clone();\n                        while (rect.origin.y < box.bottom) {\n                            rect.origin.x = origin.x;\n                            repeatX();\n                            rect.origin.y += img_height;\n                        }\n                    }\n                }\n            }\n            function drawBullet() {\n                var listStyleType = getPropertyValue(style, 'list-style-type');\n                if (listStyleType == 'none') {\n                    return;\n                }\n                var listStylePosition = getPropertyValue(style, 'list-style-position');\n                function _drawBullet(f) {\n                    saveStyle(element, function () {\n                        element.style.position = 'relative';\n                        var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                        bullet.style.position = 'absolute';\n                        bullet.style.boxSizing = 'border-box';\n                        if (listStylePosition == 'outside') {\n                            bullet.style.width = '6em';\n                            bullet.style.left = '-6.8em';\n                            bullet.style.textAlign = 'right';\n                        } else {\n                            bullet.style.left = '0px';\n                        }\n                        f(bullet);\n                        element.insertBefore(bullet, element.firstChild);\n                        renderElement(bullet, group);\n                        element.removeChild(bullet);\n                    });\n                }\n                function elementIndex(f) {\n                    var a = element.parentNode.children;\n                    var k = element.getAttribute('kendo-split-index');\n                    if (k != null) {\n                        return f(k | 0, a.length);\n                    }\n                    for (var i = 0; i < a.length; ++i) {\n                        if (a[i] === element) {\n                            return f(i, a.length);\n                        }\n                    }\n                }\n                switch (listStyleType) {\n                case 'circle':\n                case 'disc':\n                case 'square':\n                    _drawBullet(function (bullet) {\n                        bullet.style.fontSize = '60%';\n                        bullet.style.lineHeight = '200%';\n                        bullet.style.paddingRight = '0.5em';\n                        bullet.style.fontFamily = 'DejaVu Serif';\n                        bullet.innerHTML = {\n                            'disc': '\\u25CF',\n                            'circle': '\\u25EF',\n                            'square': '\\u25A0'\n                        }[listStyleType];\n                    });\n                    break;\n                case 'decimal':\n                case 'decimal-leading-zero':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            ++idx;\n                            if (listStyleType == 'decimal-leading-zero' && idx < 10) {\n                                idx = '0' + idx;\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-roman':\n                case 'upper-roman':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = arabicToRoman(idx + 1);\n                            if (listStyleType == 'upper-roman') {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-latin':\n                case 'lower-alpha':\n                case 'upper-latin':\n                case 'upper-alpha':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = alphaNumeral(idx);\n                            if (/^upper/i.test(listStyleType)) {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                }\n            }\n            function drawOneBox(box, isFirst, isLast) {\n                if (box.width === 0 || box.height === 0) {\n                    return;\n                }\n                drawBackground(box);\n                var shouldDrawLeft = left.width > 0 && (isFirst && dir == 'ltr' || isLast && dir == 'rtl');\n                var shouldDrawRight = right.width > 0 && (isLast && dir == 'ltr' || isFirst && dir == 'rtl');\n                if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\n                    return;\n                }\n                if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\n                    if (top.width == right.width && top.width == bottom.width && top.width == left.width) {\n                        if (shouldDrawLeft && shouldDrawRight) {\n                            box = innerBox(box, top.width / 2);\n                            var path = elementRoundBox(element, box, top.width / 2);\n                            path.options.stroke = {\n                                color: top.color,\n                                width: top.width\n                            };\n                            group.append(path);\n                            return;\n                        }\n                    }\n                }\n                if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\n                    if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\n                        if (top.width > 0) {\n                            group.append(new Path({\n                                stroke: {\n                                    width: top.width,\n                                    color: top.color\n                                }\n                            }).moveTo(box.left, box.top + top.width / 2).lineTo(box.right, box.top + top.width / 2));\n                        }\n                        if (bottom.width > 0) {\n                            group.append(new Path({\n                                stroke: {\n                                    width: bottom.width,\n                                    color: bottom.color\n                                }\n                            }).moveTo(box.left, box.bottom - bottom.width / 2).lineTo(box.right, box.bottom - bottom.width / 2));\n                        }\n                        if (shouldDrawLeft) {\n                            group.append(new Path({\n                                stroke: {\n                                    width: left.width,\n                                    color: left.color\n                                }\n                            }).moveTo(box.left + left.width / 2, box.top).lineTo(box.left + left.width / 2, box.bottom));\n                        }\n                        if (shouldDrawRight) {\n                            group.append(new Path({\n                                stroke: {\n                                    width: right.width,\n                                    color: right.color\n                                }\n                            }).moveTo(box.right - right.width / 2, box.top).lineTo(box.right - right.width / 2, box.bottom));\n                        }\n                        return;\n                    }\n                }\n                var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n                var rTL = tmp.tl;\n                var rTR = tmp.tr;\n                var rBR = tmp.br;\n                var rBL = tmp.bl;\n                drawEdge(top.color, box.width, top.width, left.width, right.width, rTL, rTR, [\n                    1,\n                    0,\n                    0,\n                    1,\n                    box.left,\n                    box.top\n                ]);\n                drawEdge(bottom.color, box.width, bottom.width, right.width, left.width, rBR, rBL, [\n                    -1,\n                    0,\n                    0,\n                    -1,\n                    box.right,\n                    box.bottom\n                ]);\n                function inv(p) {\n                    return {\n                        x: p.y,\n                        y: p.x\n                    };\n                }\n                drawEdge(left.color, box.height, left.width, bottom.width, top.width, inv(rBL), inv(rTL), [\n                    0,\n                    -1,\n                    1,\n                    0,\n                    box.left,\n                    box.bottom\n                ]);\n                drawEdge(right.color, box.height, right.width, top.width, bottom.width, inv(rTR), inv(rBR), [\n                    0,\n                    1,\n                    -1,\n                    0,\n                    box.right,\n                    box.top\n                ]);\n            }\n        }\n        function gradientRenderer(gradient) {\n            return function (group, rect) {\n                var width = rect.width(), height = rect.height();\n                switch (gradient.type) {\n                case 'linear':\n                    var angle = gradient.angle != null ? gradient.angle : Math.PI;\n                    switch (gradient.to) {\n                    case 'top':\n                        angle = 0;\n                        break;\n                    case 'left':\n                        angle = -Math.PI / 2;\n                        break;\n                    case 'bottom':\n                        angle = Math.PI;\n                        break;\n                    case 'right':\n                        angle = Math.PI / 2;\n                        break;\n                    case 'top left':\n                    case 'left top':\n                        angle = -Math.atan2(height, width);\n                        break;\n                    case 'top right':\n                    case 'right top':\n                        angle = Math.atan2(height, width);\n                        break;\n                    case 'bottom left':\n                    case 'left bottom':\n                        angle = Math.PI + Math.atan2(height, width);\n                        break;\n                    case 'bottom right':\n                    case 'right bottom':\n                        angle = Math.PI - Math.atan2(height, width);\n                        break;\n                    }\n                    if (gradient.reverse) {\n                        angle -= Math.PI;\n                    }\n                    angle %= 2 * Math.PI;\n                    if (angle < 0) {\n                        angle += 2 * Math.PI;\n                    }\n                    var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n                    var scaledAngle = Math.atan(width * Math.tan(angle) / height);\n                    var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\n                    var len = Math.abs(sin) + Math.abs(cos);\n                    var x = len / 2 * sin;\n                    var y = len / 2 * cos;\n                    if (angle > Math.PI / 2 && angle <= 3 * Math.PI / 2) {\n                        x = -x;\n                        y = -y;\n                    }\n                    var implicit = [], right = 0;\n                    var stops = gradient.stops.map(function (s, i) {\n                        var offset = s.percent;\n                        if (offset) {\n                            offset = parseFloat(offset) / 100;\n                        } else if (s.length) {\n                            offset = parseFloat(s.length) / pxlen;\n                        } else if (i === 0) {\n                            offset = 0;\n                        } else if (i == gradient.stops.length - 1) {\n                            offset = 1;\n                        }\n                        var stop = {\n                            color: s.color.toCssRgba(),\n                            offset: offset\n                        };\n                        if (offset != null) {\n                            right = offset;\n                            implicit.forEach(function (s, i) {\n                                var stop = s.stop;\n                                stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\n                            });\n                            implicit = [];\n                        } else {\n                            implicit.push({\n                                left: right,\n                                stop: stop\n                            });\n                        }\n                        return stop;\n                    });\n                    var start = [\n                        0.5 - x,\n                        0.5 + y\n                    ];\n                    var end = [\n                        0.5 + x,\n                        0.5 - y\n                    ];\n                    group.append(Path.fromRect(rect).stroke(null).fill(new LinearGradient({\n                        start: start,\n                        end: end,\n                        stops: stops,\n                        userSpace: false\n                    })));\n                    break;\n                case 'radial':\n                    if (window.console && window.console.log) {\n                        window.console.log('Radial gradients are not yet supported in HTML renderer');\n                    }\n                    break;\n                }\n            };\n        }\n        function maybeRenderWidget(element, group) {\n            if (window.kendo && window.kendo.jQuery && element.getAttribute(window.kendo.attr('role'))) {\n                var widget = window.kendo.widgetInstance(window.kendo.jQuery(element));\n                if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\n                    var visual;\n                    if (widget.exportDOMVisual) {\n                        visual = widget.exportDOMVisual();\n                    } else {\n                        visual = widget.exportVisual();\n                    }\n                    if (!visual) {\n                        return false;\n                    }\n                    var wrap$$1 = new Group();\n                    wrap$$1.children.push(visual);\n                    var bbox = element.getBoundingClientRect();\n                    wrap$$1.transform(transform().translate(bbox.left, bbox.top));\n                    group.append(wrap$$1);\n                    return true;\n                }\n            }\n        }\n        function renderImage(element, url, group) {\n            var box = getContentBox(element);\n            var rect = new Rect([\n                box.left,\n                box.top\n            ], [\n                box.width,\n                box.height\n            ]);\n            var image = new Image$1(url, rect);\n            setClipping(image, elementRoundBox(element, box, 'content'));\n            group.append(image);\n        }\n        function zIndexSort(a, b) {\n            var sa = getComputedStyle(a);\n            var sb = getComputedStyle(b);\n            var za = parseFloat(getPropertyValue(sa, 'z-index'));\n            var zb = parseFloat(getPropertyValue(sb, 'z-index'));\n            var pa = getPropertyValue(sa, 'position');\n            var pb = getPropertyValue(sb, 'position');\n            if (isNaN(za) && isNaN(zb)) {\n                if (/static|absolute/.test(pa) && /static|absolute/.test(pb)) {\n                    return 0;\n                }\n                if (pa == 'static') {\n                    return -1;\n                }\n                if (pb == 'static') {\n                    return 1;\n                }\n                return 0;\n            }\n            if (isNaN(za)) {\n                return zb === 0 ? 0 : zb > 0 ? -1 : 1;\n            }\n            if (isNaN(zb)) {\n                return za === 0 ? 0 : za > 0 ? 1 : -1;\n            }\n            return parseFloat(za) - parseFloat(zb);\n        }\n        function isFormField(element) {\n            return /^(?:textarea|select|input)$/i.test(element.tagName);\n        }\n        function getSelectedOption(element) {\n            if (element.selectedOptions && element.selectedOptions.length > 0) {\n                return element.selectedOptions[0];\n            }\n            return element.options[element.selectedIndex];\n        }\n        function renderCheckbox(element, group) {\n            var style = getComputedStyle(element);\n            var color = getPropertyValue(style, 'color');\n            var box = element.getBoundingClientRect();\n            if (element.type == 'checkbox') {\n                group.append(Path.fromRect(new Rect([\n                    box.left + 1,\n                    box.top + 1\n                ], [\n                    box.width - 2,\n                    box.height - 2\n                ])).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new Path().stroke(color, 1.2).moveTo(box.left + 0.22 * box.width, box.top + 0.55 * box.height).lineTo(box.left + 0.45 * box.width, box.top + 0.75 * box.height).lineTo(box.left + 0.78 * box.width, box.top + 0.22 * box.width));\n                }\n            } else {\n                group.append(new Circle(new Circle$2([\n                    (box.left + box.right) / 2,\n                    (box.top + box.bottom) / 2\n                ], Math.min(box.width - 2, box.height - 2) / 2)).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new Circle(new Circle$2([\n                        (box.left + box.right) / 2,\n                        (box.top + box.bottom) / 2\n                    ], Math.min(box.width - 8, box.height - 8) / 2)).fill(color).stroke(null));\n                }\n            }\n        }\n        function renderFormField(element, group) {\n            var tag = element.tagName.toLowerCase();\n            if (tag == 'input' && (element.type == 'checkbox' || element.type == 'radio')) {\n                return renderCheckbox(element, group);\n            }\n            var p = element.parentNode;\n            var doc = element.ownerDocument;\n            var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\n            var option;\n            el.style.cssText = getCssText(getComputedStyle(element));\n            if (tag == 'input') {\n                el.style.whiteSpace = 'pre';\n            }\n            if (tag == 'select' || tag == 'textarea') {\n                el.style.overflow = 'auto';\n            }\n            if (tag == 'select') {\n                if (element.multiple) {\n                    for (var i = 0; i < element.options.length; ++i) {\n                        option = doc.createElement(KENDO_PSEUDO_ELEMENT);\n                        option.style.cssText = getCssText(getComputedStyle(element.options[i]));\n                        option.style.display = 'block';\n                        option.textContent = element.options[i].textContent;\n                        el.appendChild(option);\n                    }\n                } else {\n                    option = getSelectedOption(element);\n                    if (option) {\n                        el.textContent = option.textContent;\n                    }\n                }\n            } else {\n                el.textContent = element.value;\n            }\n            p.insertBefore(el, element);\n            el.scrollLeft = element.scrollLeft;\n            el.scrollTop = element.scrollTop;\n            element.style.display = 'none';\n            renderContents(el, group);\n            element.style.display = '';\n            p.removeChild(el);\n        }\n        function renderContents(element, group) {\n            if (nodeInfo._stackingContext.element === element) {\n                nodeInfo._stackingContext.group = group;\n            }\n            switch (element.tagName.toLowerCase()) {\n            case 'img':\n                renderImage(element, element.src, group);\n                break;\n            case 'canvas':\n                try {\n                    renderImage(element, element.toDataURL('image/png'), group);\n                } catch (ex) {\n                }\n                break;\n            case 'textarea':\n            case 'input':\n            case 'select':\n                renderFormField(element, group);\n                break;\n            default:\n                var children = [], floats = [], positioned = [];\n                for (var i = element.firstChild; i; i = i.nextSibling) {\n                    switch (i.nodeType) {\n                    case 3:\n                        if (/\\S/.test(i.data)) {\n                            renderText(element, i, group);\n                        }\n                        break;\n                    case 1:\n                        var style = getComputedStyle(i);\n                        var floating = getPropertyValue(style, 'float');\n                        var position = getPropertyValue(style, 'position');\n                        if (position != 'static') {\n                            positioned.push(i);\n                        } else if (floating != 'none') {\n                            floats.push(i);\n                        } else {\n                            children.push(i);\n                        }\n                        break;\n                    }\n                }\n                mergeSort(children, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(floats, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(positioned, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n            }\n        }\n        function renderText(element, node, group) {\n            if (emptyClipbox()) {\n                return;\n            }\n            var style = getComputedStyle(element);\n            if (parseFloat(getPropertyValue(style, 'text-indent')) < -500) {\n                return;\n            }\n            var text = node.data;\n            var start = 0;\n            var end = text.search(/\\S\\s*$/) + 1;\n            if (!end) {\n                return;\n            }\n            var fontSize = getPropertyValue(style, 'font-size');\n            var lineHeight = getPropertyValue(style, 'line-height');\n            var font = [\n                getPropertyValue(style, 'font-style'),\n                getPropertyValue(style, 'font-variant'),\n                getPropertyValue(style, 'font-weight'),\n                fontSize,\n                getPropertyValue(style, 'font-family')\n            ].join(' ');\n            fontSize = parseFloat(fontSize);\n            lineHeight = parseFloat(lineHeight);\n            if (fontSize === 0) {\n                return;\n            }\n            var color = getPropertyValue(style, 'color');\n            var range = element.ownerDocument.createRange();\n            var align$$1 = getPropertyValue(style, 'text-align');\n            var isJustified = align$$1 == 'justify';\n            var columnCount = getPropertyValue(style, 'column-count', 1);\n            var whiteSpace = getPropertyValue(style, 'white-space');\n            var textOverflow, saveTextOverflow;\n            if (browser.msie) {\n                textOverflow = style.textOverflow;\n                if (textOverflow == 'ellipsis') {\n                    saveTextOverflow = element.style.textOverflow;\n                    element.style.textOverflow = 'clip';\n                }\n            }\n            var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\n            if (estimateLineLength === 0) {\n                estimateLineLength = 500;\n            }\n            var prevLineBottom = null;\n            var underline = nodeInfo['underline'];\n            var lineThrough = nodeInfo['line-through'];\n            var overline = nodeInfo['overline'];\n            var hasDecoration = underline || lineThrough || overline;\n            while (!doChunk()) {\n            }\n            if (browser.msie && textOverflow == 'ellipsis') {\n                element.style.textOverflow = saveTextOverflow;\n            }\n            if (hasDecoration) {\n                range.selectNode(node);\n                slice$1(range.getClientRects()).forEach(decorate);\n            }\n            return;\n            function actuallyGetRangeBoundingRect(range) {\n                if (browser.msie || browser.chrome) {\n                    var rectangles = range.getClientRects(), box = {\n                            top: Infinity,\n                            right: -Infinity,\n                            bottom: -Infinity,\n                            left: Infinity\n                        };\n                    for (var i = 0; i < rectangles.length; ++i) {\n                        var b = rectangles[i];\n                        if (b.width <= 1 || b.bottom === prevLineBottom) {\n                            continue;\n                        }\n                        box.left = Math.min(b.left, box.left);\n                        box.top = Math.min(b.top, box.top);\n                        box.right = Math.max(b.right, box.right);\n                        box.bottom = Math.max(b.bottom, box.bottom);\n                    }\n                    box.width = box.right - box.left;\n                    box.height = box.bottom - box.top;\n                    return box;\n                }\n                return range.getBoundingClientRect();\n            }\n            function doChunk() {\n                var origStart = start;\n                var box, pos = text.substr(start).search(/\\S/);\n                start += pos;\n                if (pos < 0 || start >= end) {\n                    return true;\n                }\n                range.setStart(node, start);\n                range.setEnd(node, start + 1);\n                box = actuallyGetRangeBoundingRect(range);\n                var found = false;\n                if (isJustified || columnCount > 1) {\n                    pos = text.substr(start).search(/\\s/);\n                    if (pos >= 0) {\n                        range.setEnd(node, start + pos);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom == box.bottom) {\n                            box = r;\n                            found = true;\n                            start += pos;\n                        }\n                    }\n                }\n                if (!found) {\n                    pos = function findEOL(min, eol, max) {\n                        range.setEnd(node, eol);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom != box.bottom && min < eol) {\n                            return findEOL(min, min + eol >> 1, eol);\n                        } else if (r.right != box.right) {\n                            box = r;\n                            if (eol < max) {\n                                return findEOL(eol, eol + max >> 1, max);\n                            } else {\n                                return eol;\n                            }\n                        } else {\n                            return eol;\n                        }\n                    }(start, Math.min(end, start + estimateLineLength), end);\n                    if (pos == start) {\n                        return true;\n                    }\n                    start = pos;\n                    pos = range.toString().search(/\\s+$/);\n                    if (pos === 0) {\n                        return false;\n                    }\n                    if (pos > 0) {\n                        range.setEnd(node, range.startOffset + pos);\n                        box = actuallyGetRangeBoundingRect(range);\n                    }\n                }\n                if (browser.msie) {\n                    box = range.getClientRects()[0];\n                }\n                var str = range.toString();\n                if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\n                    str = str.replace(/\\s+/g, ' ');\n                } else if (/\\t/.test(str)) {\n                    var cc = 0;\n                    for (pos = origStart; pos < range.startOffset; ++pos) {\n                        var code = text.charCodeAt(pos);\n                        if (code == 9) {\n                            cc += 8 - cc % 8;\n                        } else if (code == 10 || code == 13) {\n                            cc = 0;\n                        } else {\n                            cc++;\n                        }\n                    }\n                    while ((pos = str.search('\\t')) >= 0) {\n                        var indent = '        '.substr(0, 8 - (cc + pos) % 8);\n                        str = str.substr(0, pos) + indent + str.substr(pos + 1);\n                    }\n                }\n                if (!found) {\n                    prevLineBottom = box.bottom;\n                }\n                drawText(str, box);\n            }\n            function drawText(str, box) {\n                if (browser.msie && !isNaN(lineHeight)) {\n                    var height = getFontHeight(font);\n                    var top = (box.top + box.bottom - height) / 2;\n                    box = {\n                        top: top,\n                        right: box.right,\n                        bottom: top + height,\n                        left: box.left,\n                        height: height,\n                        width: box.right - box.left\n                    };\n                }\n                var text = new TextRect(str, new Rect([\n                    box.left,\n                    box.top\n                ], [\n                    box.width,\n                    box.height\n                ]), {\n                    font: font,\n                    fill: { color: color }\n                });\n                group.append(text);\n            }\n            function decorate(box) {\n                line(underline, box.bottom);\n                line(lineThrough, box.bottom - box.height / 2.7);\n                line(overline, box.top);\n                function line(color, ypos) {\n                    if (color) {\n                        var width = fontSize / 12;\n                        var path = new Path({\n                            stroke: {\n                                width: width,\n                                color: color\n                            }\n                        });\n                        ypos -= width;\n                        path.moveTo(box.left, ypos).lineTo(box.right, ypos);\n                        group.append(path);\n                    }\n                }\n            }\n        }\n        function groupInStackingContext(element, group, zIndex) {\n            var main;\n            if (zIndex != 'auto') {\n                main = nodeInfo._stackingContext.group;\n                zIndex = parseFloat(zIndex);\n            } else {\n                main = group;\n                zIndex = 0;\n            }\n            var a = main.children;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\n                    break;\n                }\n            }\n            var tmp = new Group();\n            main.insert(i, tmp);\n            tmp._dom_zIndex = zIndex;\n            if (main !== group) {\n                if (nodeInfo._clipbox) {\n                    var m = nodeInfo._matrix.invert();\n                    var r = nodeInfo._clipbox.transformCopy(m);\n                    setClipping(tmp, Path.fromRect(r));\n                }\n            }\n            return tmp;\n        }\n        function renderElement(element, container) {\n            var style = getComputedStyle(element);\n            updateCounters(style);\n            if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\n                return;\n            }\n            if (nodeInfo._clipbox == null) {\n                return;\n            }\n            var opacity = parseFloat(getPropertyValue(style, 'opacity'));\n            var visibility = getPropertyValue(style, 'visibility');\n            var display = getPropertyValue(style, 'display');\n            if (opacity === 0 || visibility == 'hidden' || display == 'none') {\n                return;\n            }\n            var tr = getTransform(style);\n            var group;\n            var zIndex = getPropertyValue(style, 'z-index');\n            if ((tr || opacity < 1) && zIndex == 'auto') {\n                zIndex = 0;\n            }\n            group = groupInStackingContext(element, container, zIndex);\n            if (opacity < 1) {\n                group.opacity(opacity * group.opacity());\n            }\n            pushNodeInfo(element, style, group);\n            if (!tr) {\n                _renderWithPseudoElements(element, group);\n            } else {\n                saveStyle(element, function () {\n                    pleaseSetPropertyValue(element.style, 'transform', 'none', 'important');\n                    pleaseSetPropertyValue(element.style, 'transition', 'none', 'important');\n                    if (getPropertyValue(style, 'position') == 'static') {\n                        pleaseSetPropertyValue(element.style, 'position', 'relative', 'important');\n                    }\n                    var bbox = element.getBoundingClientRect();\n                    var x = bbox.left + tr.origin[0];\n                    var y = bbox.top + tr.origin[1];\n                    var m = [\n                        1,\n                        0,\n                        0,\n                        1,\n                        -x,\n                        -y\n                    ];\n                    m = mmul(m, tr.matrix);\n                    m = mmul(m, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        x,\n                        y\n                    ]);\n                    m = setTransform(group, m);\n                    nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\n                    _renderWithPseudoElements(element, group);\n                });\n            }\n            popNodeInfo();\n        }\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n        var drawing = {\n            svg: svg,\n            canvas: canvas,\n            util: util,\n            PathParser: PathParser,\n            Surface: Surface,\n            BaseNode: BaseNode,\n            SurfaceFactory: SurfaceFactory,\n            OptionsStore: OptionsStore,\n            exportImage: exportImage,\n            exportSVG: exportSVG,\n            QuadNode: QuadNode,\n            ShapesQuadTree: ShapesQuadTree,\n            ObserversMixin: ObserversMixin,\n            Element: Element$1,\n            Circle: Circle,\n            Arc: Arc,\n            Path: Path,\n            MultiPath: MultiPath,\n            Text: Text,\n            Image: Image$1,\n            Group: Group,\n            Layout: Layout,\n            Rect: Rect$2,\n            align: align,\n            vAlign: vAlign,\n            stack: stack,\n            vStack: vStack,\n            wrap: wrap,\n            vWrap: vWrap,\n            fit: fit,\n            LinearGradient: LinearGradient,\n            RadialGradient: RadialGradient,\n            GradientStop: GradientStop,\n            Gradient: Gradient,\n            Animation: Animation,\n            AnimationFactory: AnimationFactory,\n            drawDOM: drawDOM\n        };\n        kendo.deepExtend(kendo, {\n            drawing: drawing,\n            geometry: geometry\n        });\n        kendo.drawing.Segment = kendo.geometry.Segment;\n        kendo.dataviz.drawing = kendo.drawing;\n        kendo.dataviz.geometry = kendo.geometry;\n        kendo.drawing.util.measureText = kendo.util.measureText;\n        kendo.drawing.util.objectKey = kendo.util.objectKey;\n        kendo.drawing.Color = kendo.Color;\n        kendo.util.encodeBase64 = kendo.drawing.util.encodeBase64;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/surface-tooltip', [\n        'kendo.popup',\n        'drawing/kendo-drawing'\n    ], f);\n}(function () {\n    (function ($) {\n        var NS = '.kendo';\n        var kendo = window.kendo;\n        var deepExtend = kendo.deepExtend;\n        var utils = kendo.drawing.util;\n        var defined = utils.defined;\n        var limitValue = utils.limitValue;\n        var eventCoordinates = utils.eventCoordinates;\n        var outerWidth = kendo._outerWidth;\n        var outerHeight = kendo._outerHeight;\n        var proxy = $.proxy;\n        var TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' + '<div class=\"k-tooltip-content\"></div>' + '</div>';\n        var TOOLTIP_CLOSE_TEMPLATE = '<div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\">close</a></div>';\n        var SurfaceTooltip = kendo.Class.extend({\n            init: function (surface, options) {\n                this.element = $(TOOLTIP_TEMPLATE);\n                this.content = this.element.children('.k-tooltip-content');\n                options = options || {};\n                this.options = deepExtend({}, this.options, this._tooltipOptions(options));\n                this.popupOptions = {\n                    appendTo: options.appendTo,\n                    animation: options.animation,\n                    copyAnchorStyles: false,\n                    collision: 'fit fit'\n                };\n                this._openPopupHandler = $.proxy(this._openPopup, this);\n                this.surface = surface;\n                this._bindEvents();\n            },\n            options: {\n                position: 'top',\n                showOn: 'mouseenter',\n                offset: 7,\n                autoHide: true,\n                hideDelay: 0,\n                showAfter: 100\n            },\n            _bindEvents: function () {\n                this._showHandler = proxy(this._showEvent, this);\n                this._surfaceLeaveHandler = proxy(this._surfaceLeave, this);\n                this._mouseleaveHandler = proxy(this._mouseleave, this);\n                this._mousemoveHandler = proxy(this._mousemove, this);\n                this.surface.bind('click', this._showHandler);\n                this.surface.bind('mouseenter', this._showHandler);\n                this.surface.bind('mouseleave', this._mouseleaveHandler);\n                this.surface.bind('mousemove', this._mousemoveHandler);\n                this.surface.element.on('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.on('click' + NS, '.k-tooltip-button', proxy(this._hideClick, this));\n            },\n            getPopup: function () {\n                if (!this.popup) {\n                    this.popup = new kendo.ui.Popup(this.element, this.popupOptions);\n                }\n                return this.popup;\n            },\n            destroy: function () {\n                var popup = this.popup;\n                this.surface.unbind('click', this._showHandler);\n                this.surface.unbind('mouseenter', this._showHandler);\n                this.surface.unbind('mouseleave', this._mouseleaveHandler);\n                this.surface.unbind('mousemove', this._mousemoveHandler);\n                this.surface.element.off('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.off('click' + NS);\n                if (popup) {\n                    popup.destroy();\n                    delete this.popup;\n                }\n                delete this.popupOptions;\n                clearTimeout(this._timeout);\n                delete this.element;\n                delete this.content;\n                delete this.surface;\n            },\n            _tooltipOptions: function (options) {\n                options = options || {};\n                return {\n                    position: options.position,\n                    showOn: options.showOn,\n                    offset: options.offset,\n                    autoHide: options.autoHide,\n                    width: options.width,\n                    height: options.height,\n                    content: options.content,\n                    shared: options.shared,\n                    hideDelay: options.hideDelay,\n                    showAfter: options.showAfter\n                };\n            },\n            _tooltipShape: function (shape) {\n                while (shape && !shape.options.tooltip) {\n                    shape = shape.parent;\n                }\n                return shape;\n            },\n            _updateContent: function (target, shape, options) {\n                var content = options.content;\n                if (kendo.isFunction(content)) {\n                    content = content({\n                        element: shape,\n                        target: target\n                    });\n                }\n                if (content) {\n                    this.content.html(content);\n                    return true;\n                }\n            },\n            _position: function (shape, options, elementSize, event) {\n                var position = options.position;\n                var tooltipOffset = options.offset || 0;\n                var surface = this.surface;\n                var offset = surface._instance._elementOffset();\n                var size = surface.getSize();\n                var surfaceOffset = surface._instance._offset;\n                var bbox = shape.bbox();\n                var width = elementSize.width;\n                var height = elementSize.height;\n                var left = 0, top = 0;\n                bbox.origin.translate(offset.left, offset.top);\n                if (surfaceOffset) {\n                    bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\n                }\n                if (position == 'cursor' && event) {\n                    var coord = eventCoordinates(event);\n                    left = coord.x - width / 2;\n                    top = coord.y - height - tooltipOffset;\n                } else if (position == 'left') {\n                    left = bbox.origin.x - width - tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'right') {\n                    left = bbox.bottomRight().x + tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'bottom') {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.bottomRight().y + tooltipOffset;\n                } else {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.origin.y - height - tooltipOffset;\n                }\n                return {\n                    left: limitValue(left, offset.left, offset.left + size.width),\n                    top: limitValue(top, offset.top, offset.top + size.height)\n                };\n            },\n            show: function (shape, options) {\n                this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\n            },\n            hide: function () {\n                var popup = this.popup;\n                var current = this._current;\n                delete this._current;\n                clearTimeout(this._showTimeout);\n                if (popup && popup.visible() && current && !this.surface.trigger('tooltipClose', {\n                        element: current.shape,\n                        target: current.target,\n                        popup: popup\n                    })) {\n                    popup.close();\n                }\n            },\n            _hideClick: function (e) {\n                e.preventDefault();\n                this.hide();\n            },\n            _show: function (target, shape, options, event, delay) {\n                var current = this._current;\n                clearTimeout(this._timeout);\n                if (current && (current.shape === shape && options.shared || current.target === target)) {\n                    return;\n                }\n                clearTimeout(this._showTimeout);\n                var popup = this.getPopup();\n                if (!this.surface.trigger('tooltipOpen', {\n                        element: shape,\n                        target: target,\n                        popup: popup\n                    }) && this._updateContent(target, shape, options)) {\n                    this._autoHide(options);\n                    var elementSize = this._measure(options);\n                    if (popup.visible()) {\n                        popup.close(true);\n                    }\n                    this._current = {\n                        options: options,\n                        elementSize: elementSize,\n                        shape: shape,\n                        target: target,\n                        position: this._position(options.shared ? shape : target, options, elementSize, event)\n                    };\n                    if (delay) {\n                        this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\n                    } else {\n                        this._openPopup();\n                    }\n                }\n            },\n            _openPopup: function () {\n                var current = this._current;\n                var position = current.position;\n                this.getPopup().open(position.left, position.top);\n            },\n            _autoHide: function (options) {\n                if (options.autoHide && this._closeButton) {\n                    this.element.removeClass('k-tooltip-closable');\n                    this._closeButton.remove();\n                    delete this._closeButton;\n                }\n                if (!options.autoHide && !this._closeButton) {\n                    this.element.addClass('k-tooltip-closable');\n                    this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).prependTo(this.element);\n                }\n            },\n            _showEvent: function (e) {\n                var shape = this._tooltipShape(e.element);\n                if (shape) {\n                    var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\n                    if (options && options.showOn == e.type) {\n                        this._show(e.element, shape, options, e.originalEvent, true);\n                    }\n                }\n            },\n            _measure: function (options) {\n                var popup = this.getPopup();\n                var width, height;\n                this.element.css({\n                    width: 'auto',\n                    height: 'auto'\n                });\n                var visible = popup.visible();\n                if (!visible) {\n                    popup.wrapper.show();\n                }\n                this.element.css({\n                    width: defined(options.width) ? options.width : 'auto',\n                    height: defined(options.height) ? options.height : 'auto'\n                });\n                width = outerWidth(this.element);\n                height = outerHeight(this.element);\n                if (!visible) {\n                    popup.wrapper.hide();\n                }\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            _mouseleave: function (e) {\n                if (this.popup && !this._popupRelatedTarget(e.originalEvent)) {\n                    var tooltip = this;\n                    var current = tooltip._current;\n                    if (current && current.options.autoHide) {\n                        tooltip._timeout = setTimeout(function () {\n                            clearTimeout(tooltip._showTimeout);\n                            tooltip.hide();\n                        }, current.options.hideDelay || 0);\n                    }\n                }\n            },\n            _mousemove: function (e) {\n                var current = this._current;\n                if (current && e.element) {\n                    var options = current.options;\n                    if (options.position == 'cursor') {\n                        var position = this._position(e.element, options, current.elementSize, e.originalEvent);\n                        current.position = position;\n                        this.getPopup().wrapper.css({\n                            left: position.left,\n                            top: position.top\n                        });\n                    }\n                }\n            },\n            _surfaceLeave: function (e) {\n                if (this.popup && !this._popupRelatedTarget(e)) {\n                    clearTimeout(this._showTimeout);\n                    this.hide();\n                }\n            },\n            _popupRelatedTarget: function (e) {\n                return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\n            }\n        });\n        kendo.drawing.SurfaceTooltip = SurfaceTooltip;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/surface', [\n        'drawing/kendo-drawing',\n        'drawing/surface-tooltip'\n    ], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var draw = kendo.drawing;\n        var DrawingSurface = draw.Surface;\n        var Widget = kendo.ui.Widget;\n        var deepExtend = kendo.deepExtend;\n        var proxy = $.proxy;\n        kendo.support.svg = DrawingSurface.support.svg;\n        kendo.support.canvas = DrawingSurface.support.canvas;\n        var Surface = Widget.extend({\n            init: function (element, options) {\n                this.options = deepExtend({}, this.options, options);\n                Widget.fn.init.call(this, element, this.options);\n                this._instance = DrawingSurface.create(this.element[0], options);\n                if (this._instance.translate) {\n                    this.translate = translate;\n                }\n                this._triggerInstanceHandler = proxy(this._triggerInstanceEvent, this);\n                this._bindHandler('click');\n                this._bindHandler('mouseenter');\n                this._bindHandler('mouseleave');\n                this._bindHandler('mousemove');\n                this._enableTracking();\n            },\n            options: {\n                name: 'Surface',\n                tooltip: {}\n            },\n            events: [\n                'click',\n                'mouseenter',\n                'mouseleave',\n                'mousemove',\n                'resize',\n                'tooltipOpen',\n                'tooltipClose'\n            ],\n            _triggerInstanceEvent: function (e) {\n                this.trigger(e.type, e);\n            },\n            _bindHandler: function (event) {\n                this._instance.bind(event, this._triggerInstanceHandler);\n            },\n            draw: function (element) {\n                this._instance.draw(element);\n            },\n            clear: function () {\n                if (this._instance) {\n                    this._instance.clear();\n                }\n                this.hideTooltip();\n            },\n            destroy: function () {\n                if (this._instance) {\n                    this._instance.destroy();\n                    delete this._instance;\n                }\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                    delete this._tooltip;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            exportVisual: function () {\n                return this._instance.exportVisual();\n            },\n            eventTarget: function (e) {\n                return this._instance.eventTarget(e);\n            },\n            showTooltip: function (shape, options) {\n                if (this._tooltip) {\n                    this._tooltip.show(shape, options);\n                }\n            },\n            hideTooltip: function () {\n                if (this._tooltip) {\n                    this._tooltip.hide();\n                }\n            },\n            suspendTracking: function () {\n                this._instance.suspendTracking();\n                this.hideTooltip();\n            },\n            resumeTracking: function () {\n                this._instance.resumeTracking();\n            },\n            getSize: function () {\n                return {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n            },\n            setSize: function (size) {\n                this.element.css({\n                    width: size.width,\n                    height: size.height\n                });\n                this._size = size;\n                this._instance.currentSize(size);\n                this._resize();\n            },\n            _resize: function () {\n                this._instance.currentSize(this._size);\n                this._instance._resize();\n            },\n            _enableTracking: function () {\n                if (kendo.ui.Popup) {\n                    this._tooltip = new draw.SurfaceTooltip(this, this.options.tooltip || {});\n                }\n            }\n        });\n        kendo.ui.plugin(Surface);\n        Surface.create = function (element, options) {\n            return new Surface(element, options);\n        };\n        kendo.drawing.Surface = Surface;\n        function translate(offset) {\n            this._instance.translate(offset);\n        }\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/html', ['drawing/kendo-drawing'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var drawing = kendo.drawing;\n        var drawDOM = drawing.drawDOM;\n        drawing.drawDOM = function (element, options) {\n            return drawDOM($(element)[0], options);\n        };\n        drawing.drawDOM.drawText = drawDOM.drawText;\n        drawing.drawDOM.getFontFaces = drawDOM.getFontFaces;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.drawing', [\n        'drawing/util',\n        'drawing/kendo-drawing',\n        'drawing/surface-tooltip',\n        'drawing/surface',\n        'drawing/html'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'drawing',\n        name: 'Drawing API',\n        category: 'framework',\n        description: 'The Kendo UI low-level drawing API',\n        depends: [\n            'core',\n            'color',\n            'popup'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}